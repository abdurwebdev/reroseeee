var o5=Object.defineProperty;var l5=(s,e,t)=>e in s?o5(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var Ee=(s,e,t)=>l5(s,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();function c5(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var A1={exports:{}},df={},D1={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v3;function f5(){if(v3)return We;v3=1;var s=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),r=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),h=Symbol.iterator;function p($){return $===null||typeof $!="object"?null:($=h&&$[h]||$["@@iterator"],typeof $=="function"?$:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,y={};function v($,K,ce){this.props=$,this.context=K,this.refs=y,this.updater=ce||g}v.prototype.isReactComponent={},v.prototype.setState=function($,K){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,K,"setState")},v.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function w(){}w.prototype=v.prototype;function L($,K,ce){this.props=$,this.context=K,this.refs=y,this.updater=ce||g}var S=L.prototype=new w;S.constructor=L,x(S,v.prototype),S.isPureReactComponent=!0;var j=Array.isArray,E=Object.prototype.hasOwnProperty,M={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function I($,K,ce){var he,xe={},ve=null,ye=null;if(K!=null)for(he in K.ref!==void 0&&(ye=K.ref),K.key!==void 0&&(ve=""+K.key),K)E.call(K,he)&&!N.hasOwnProperty(he)&&(xe[he]=K[he]);var be=arguments.length-2;if(be===1)xe.children=ce;else if(1<be){for(var ze=Array(be),jt=0;jt<be;jt++)ze[jt]=arguments[jt+2];xe.children=ze}if($&&$.defaultProps)for(he in be=$.defaultProps,be)xe[he]===void 0&&(xe[he]=be[he]);return{$$typeof:s,type:$,key:ve,ref:ye,props:xe,_owner:M.current}}function A($,K){return{$$typeof:s,type:$.type,key:K,ref:$.ref,props:$.props,_owner:$._owner}}function D($){return typeof $=="object"&&$!==null&&$.$$typeof===s}function z($){var K={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ce){return K[ce]})}var O=/\/+/g;function Y($,K){return typeof $=="object"&&$!==null&&$.key!=null?z(""+$.key):K.toString(36)}function q($,K,ce,he,xe){var ve=typeof $;(ve==="undefined"||ve==="boolean")&&($=null);var ye=!1;if($===null)ye=!0;else switch(ve){case"string":case"number":ye=!0;break;case"object":switch($.$$typeof){case s:case e:ye=!0}}if(ye)return ye=$,xe=xe(ye),$=he===""?"."+Y(ye,0):he,j(xe)?(ce="",$!=null&&(ce=$.replace(O,"$&/")+"/"),q(xe,K,ce,"",function(jt){return jt})):xe!=null&&(D(xe)&&(xe=A(xe,ce+(!xe.key||ye&&ye.key===xe.key?"":(""+xe.key).replace(O,"$&/")+"/")+$)),K.push(xe)),1;if(ye=0,he=he===""?".":he+":",j($))for(var be=0;be<$.length;be++){ve=$[be];var ze=he+Y(ve,be);ye+=q(ve,K,ce,ze,xe)}else if(ze=p($),typeof ze=="function")for($=ze.call($),be=0;!(ve=$.next()).done;)ve=ve.value,ze=he+Y(ve,be++),ye+=q(ve,K,ce,ze,xe);else if(ve==="object")throw K=String($),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return ye}function Z($,K,ce){if($==null)return $;var he=[],xe=0;return q($,he,"","",function(ve){return K.call(ce,ve,xe++)}),he}function V($){if($._status===-1){var K=$._result;K=K(),K.then(function(ce){($._status===0||$._status===-1)&&($._status=1,$._result=ce)},function(ce){($._status===0||$._status===-1)&&($._status=2,$._result=ce)}),$._status===-1&&($._status=0,$._result=K)}if($._status===1)return $._result.default;throw $._result}var H={current:null},F={transition:null},B={ReactCurrentDispatcher:H,ReactCurrentBatchConfig:F,ReactCurrentOwner:M};function U(){throw Error("act(...) is not supported in production builds of React.")}return We.Children={map:Z,forEach:function($,K,ce){Z($,function(){K.apply(this,arguments)},ce)},count:function($){var K=0;return Z($,function(){K++}),K},toArray:function($){return Z($,function(K){return K})||[]},only:function($){if(!D($))throw Error("React.Children.only expected to receive a single React element child.");return $}},We.Component=v,We.Fragment=t,We.Profiler=i,We.PureComponent=L,We.StrictMode=n,We.Suspense=c,We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,We.act=U,We.cloneElement=function($,K,ce){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var he=x({},$.props),xe=$.key,ve=$.ref,ye=$._owner;if(K!=null){if(K.ref!==void 0&&(ve=K.ref,ye=M.current),K.key!==void 0&&(xe=""+K.key),$.type&&$.type.defaultProps)var be=$.type.defaultProps;for(ze in K)E.call(K,ze)&&!N.hasOwnProperty(ze)&&(he[ze]=K[ze]===void 0&&be!==void 0?be[ze]:K[ze])}var ze=arguments.length-2;if(ze===1)he.children=ce;else if(1<ze){be=Array(ze);for(var jt=0;jt<ze;jt++)be[jt]=arguments[jt+2];he.children=be}return{$$typeof:s,type:$.type,key:xe,ref:ve,props:he,_owner:ye}},We.createContext=function($){return $={$$typeof:a,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:r,_context:$},$.Consumer=$},We.createElement=I,We.createFactory=function($){var K=I.bind(null,$);return K.type=$,K},We.createRef=function(){return{current:null}},We.forwardRef=function($){return{$$typeof:l,render:$}},We.isValidElement=D,We.lazy=function($){return{$$typeof:u,_payload:{_status:-1,_result:$},_init:V}},We.memo=function($,K){return{$$typeof:f,type:$,compare:K===void 0?null:K}},We.startTransition=function($){var K=F.transition;F.transition={};try{$()}finally{F.transition=K}},We.unstable_act=U,We.useCallback=function($,K){return H.current.useCallback($,K)},We.useContext=function($){return H.current.useContext($)},We.useDebugValue=function(){},We.useDeferredValue=function($){return H.current.useDeferredValue($)},We.useEffect=function($,K){return H.current.useEffect($,K)},We.useId=function(){return H.current.useId()},We.useImperativeHandle=function($,K,ce){return H.current.useImperativeHandle($,K,ce)},We.useInsertionEffect=function($,K){return H.current.useInsertionEffect($,K)},We.useLayoutEffect=function($,K){return H.current.useLayoutEffect($,K)},We.useMemo=function($,K){return H.current.useMemo($,K)},We.useReducer=function($,K,ce){return H.current.useReducer($,K,ce)},We.useRef=function($){return H.current.useRef($)},We.useState=function($){return H.current.useState($)},We.useSyncExternalStore=function($,K,ce){return H.current.useSyncExternalStore($,K,ce)},We.useTransition=function(){return H.current.useTransition()},We.version="18.3.1",We}var w3;function rv(){return w3||(w3=1,D1.exports=f5()),D1.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S3;function u5(){if(S3)return df;S3=1;var s=rv(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r={key:!0,ref:!0,__self:!0,__source:!0};function a(l,c,f){var u,h={},p=null,g=null;f!==void 0&&(p=""+f),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(g=c.ref);for(u in c)n.call(c,u)&&!r.hasOwnProperty(u)&&(h[u]=c[u]);if(l&&l.defaultProps)for(u in c=l.defaultProps,c)h[u]===void 0&&(h[u]=c[u]);return{$$typeof:e,type:l,key:p,ref:g,props:h,_owner:i.current}}return df.Fragment=t,df.jsx=a,df.jsxs=a,df}var L3;function d5(){return L3||(L3=1,A1.exports=u5()),A1.exports}var o=d5(),T=rv();const je=c5(T);var Nh={},P1={exports:{}},Zs={},R1={exports:{}},O1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C3;function h5(){return C3||(C3=1,function(s){function e(F,B){var U=F.length;F.push(B);e:for(;0<U;){var $=U-1>>>1,K=F[$];if(0<i(K,B))F[$]=B,F[U]=K,U=$;else break e}}function t(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var B=F[0],U=F.pop();if(U!==B){F[0]=U;e:for(var $=0,K=F.length,ce=K>>>1;$<ce;){var he=2*($+1)-1,xe=F[he],ve=he+1,ye=F[ve];if(0>i(xe,U))ve<K&&0>i(ye,xe)?(F[$]=ye,F[ve]=U,$=ve):(F[$]=xe,F[he]=U,$=he);else if(ve<K&&0>i(ye,U))F[$]=ye,F[ve]=U,$=ve;else break e}}return B}function i(F,B){var U=F.sortIndex-B.sortIndex;return U!==0?U:F.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;s.unstable_now=function(){return r.now()}}else{var a=Date,l=a.now();s.unstable_now=function(){return a.now()-l}}var c=[],f=[],u=1,h=null,p=3,g=!1,x=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(F){for(var B=t(f);B!==null;){if(B.callback===null)n(f);else if(B.startTime<=F)n(f),B.sortIndex=B.expirationTime,e(c,B);else break;B=t(f)}}function j(F){if(y=!1,S(F),!x)if(t(c)!==null)x=!0,V(E);else{var B=t(f);B!==null&&H(j,B.startTime-F)}}function E(F,B){x=!1,y&&(y=!1,w(I),I=-1),g=!0;var U=p;try{for(S(B),h=t(c);h!==null&&(!(h.expirationTime>B)||F&&!z());){var $=h.callback;if(typeof $=="function"){h.callback=null,p=h.priorityLevel;var K=$(h.expirationTime<=B);B=s.unstable_now(),typeof K=="function"?h.callback=K:h===t(c)&&n(c),S(B)}else n(c);h=t(c)}if(h!==null)var ce=!0;else{var he=t(f);he!==null&&H(j,he.startTime-B),ce=!1}return ce}finally{h=null,p=U,g=!1}}var M=!1,N=null,I=-1,A=5,D=-1;function z(){return!(s.unstable_now()-D<A)}function O(){if(N!==null){var F=s.unstable_now();D=F;var B=!0;try{B=N(!0,F)}finally{B?Y():(M=!1,N=null)}}else M=!1}var Y;if(typeof L=="function")Y=function(){L(O)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,Z=q.port2;q.port1.onmessage=O,Y=function(){Z.postMessage(null)}}else Y=function(){v(O,0)};function V(F){N=F,M||(M=!0,Y())}function H(F,B){I=v(function(){F(s.unstable_now())},B)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_continueExecution=function(){x||g||(x=!0,V(E))},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return p},s.unstable_getFirstCallbackNode=function(){return t(c)},s.unstable_next=function(F){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var U=p;p=B;try{return F()}finally{p=U}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(F,B){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var U=p;p=F;try{return B()}finally{p=U}},s.unstable_scheduleCallback=function(F,B,U){var $=s.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?$+U:$):U=$,F){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=U+K,F={id:u++,callback:B,priorityLevel:F,startTime:U,expirationTime:K,sortIndex:-1},U>$?(F.sortIndex=U,e(f,F),t(c)===null&&F===t(f)&&(y?(w(I),I=-1):y=!0,H(j,U-$))):(F.sortIndex=K,e(c,F),x||g||(x=!0,V(E))),F},s.unstable_shouldYield=z,s.unstable_wrapCallback=function(F){var B=p;return function(){var U=p;p=B;try{return F.apply(this,arguments)}finally{p=U}}}}(O1)),O1}var T3;function m5(){return T3||(T3=1,R1.exports=h5()),R1.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j3;function p5(){if(j3)return Zs;j3=1;var s=rv(),e=m5();function t(d){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+d,b=1;b<arguments.length;b++)m+="&args[]="+encodeURIComponent(arguments[b]);return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function r(d,m){a(d,m),a(d+"Capture",m)}function a(d,m){for(i[d]=m,d=0;d<m.length;d++)n.add(m[d])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},h={};function p(d){return c.call(h,d)?!0:c.call(u,d)?!1:f.test(d)?h[d]=!0:(u[d]=!0,!1)}function g(d,m,b,C){if(b!==null&&b.type===0)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return C?!1:b!==null?!b.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function x(d,m,b,C){if(m===null||typeof m>"u"||g(d,m,b,C))return!0;if(C)return!1;if(b!==null)switch(b.type){case 3:return!m;case 4:return m===!1;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}function y(d,m,b,C,k,_,R){this.acceptsBooleans=m===2||m===3||m===4,this.attributeName=C,this.attributeNamespace=k,this.mustUseProperty=b,this.propertyName=d,this.type=m,this.sanitizeURL=_,this.removeEmptyString=R}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){v[d]=new y(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var m=d[0];v[m]=new y(m,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){v[d]=new y(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){v[d]=new y(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){v[d]=new y(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){v[d]=new y(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){v[d]=new y(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){v[d]=new y(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){v[d]=new y(d,5,!1,d.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function L(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var m=d.replace(w,L);v[m]=new y(m,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var m=d.replace(w,L);v[m]=new y(m,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var m=d.replace(w,L);v[m]=new y(m,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){v[d]=new y(d,1,!1,d.toLowerCase(),null,!1,!1)}),v.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){v[d]=new y(d,1,!1,d.toLowerCase(),null,!0,!0)});function S(d,m,b,C){var k=v.hasOwnProperty(m)?v[m]:null;(k!==null?k.type!==0:C||!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(x(m,b,k,C)&&(b=null),C||k===null?p(m)&&(b===null?d.removeAttribute(m):d.setAttribute(m,""+b)):k.mustUseProperty?d[k.propertyName]=b===null?k.type===3?!1:"":b:(m=k.attributeName,C=k.attributeNamespace,b===null?d.removeAttribute(m):(k=k.type,b=k===3||k===4&&b===!0?"":""+b,C?d.setAttributeNS(C,m,b):d.setAttribute(m,b))))}var j=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),M=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),z=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),H=Symbol.for("react.offscreen"),F=Symbol.iterator;function B(d){return d===null||typeof d!="object"?null:(d=F&&d[F]||d["@@iterator"],typeof d=="function"?d:null)}var U=Object.assign,$;function K(d){if($===void 0)try{throw Error()}catch(b){var m=b.stack.trim().match(/\n( *(at )?)/);$=m&&m[1]||""}return`
`+$+d}var ce=!1;function he(d,m){if(!d||ce)return"";ce=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(ne){var C=ne}Reflect.construct(d,[],m)}else{try{m.call()}catch(ne){C=ne}d.call(m.prototype)}else{try{throw Error()}catch(ne){C=ne}d()}}catch(ne){if(ne&&C&&typeof ne.stack=="string"){for(var k=ne.stack.split(`
`),_=C.stack.split(`
`),R=k.length-1,G=_.length-1;1<=R&&0<=G&&k[R]!==_[G];)G--;for(;1<=R&&0<=G;R--,G--)if(k[R]!==_[G]){if(R!==1||G!==1)do if(R--,G--,0>G||k[R]!==_[G]){var W=`
`+k[R].replace(" at new "," at ");return d.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",d.displayName)),W}while(1<=R&&0<=G);break}}}finally{ce=!1,Error.prepareStackTrace=b}return(d=d?d.displayName||d.name:"")?K(d):""}function xe(d){switch(d.tag){case 5:return K(d.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return d=he(d.type,!1),d;case 11:return d=he(d.type.render,!1),d;case 1:return d=he(d.type,!0),d;default:return""}}function ve(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case N:return"Fragment";case M:return"Portal";case A:return"Profiler";case I:return"StrictMode";case Y:return"Suspense";case q:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case z:return(d.displayName||"Context")+".Consumer";case D:return(d._context.displayName||"Context")+".Provider";case O:var m=d.render;return d=d.displayName,d||(d=m.displayName||m.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case Z:return m=d.displayName||null,m!==null?m:ve(d.type)||"Memo";case V:m=d._payload,d=d._init;try{return ve(d(m))}catch{}}return null}function ye(d){var m=d.type;switch(d.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=m.render,d=d.displayName||d.name||"",m.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(m);case 8:return m===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function be(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function ze(d){var m=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function jt(d){var m=ze(d)?"checked":"value",b=Object.getOwnPropertyDescriptor(d.constructor.prototype,m),C=""+d[m];if(!d.hasOwnProperty(m)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var k=b.get,_=b.set;return Object.defineProperty(d,m,{configurable:!0,get:function(){return k.call(this)},set:function(R){C=""+R,_.call(this,R)}}),Object.defineProperty(d,m,{enumerable:b.enumerable}),{getValue:function(){return C},setValue:function(R){C=""+R},stopTracking:function(){d._valueTracker=null,delete d[m]}}}}function Ys(d){d._valueTracker||(d._valueTracker=jt(d))}function Pn(d){if(!d)return!1;var m=d._valueTracker;if(!m)return!0;var b=m.getValue(),C="";return d&&(C=ze(d)?d.checked?"true":"false":d.value),d=C,d!==b?(m.setValue(d),!0):!1}function ai(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function ur(d,m){var b=m.checked;return U({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:b??d._wrapperState.initialChecked})}function Nc(d,m){var b=m.defaultValue==null?"":m.defaultValue,C=m.checked!=null?m.checked:m.defaultChecked;b=be(m.value!=null?m.value:b),d._wrapperState={initialChecked:C,initialValue:b,controlled:m.type==="checkbox"||m.type==="radio"?m.checked!=null:m.value!=null}}function qe(d,m){m=m.checked,m!=null&&S(d,"checked",m,!1)}function Pt(d,m){qe(d,m);var b=be(m.value),C=m.type;if(b!=null)C==="number"?(b===0&&d.value===""||d.value!=b)&&(d.value=""+b):d.value!==""+b&&(d.value=""+b);else if(C==="submit"||C==="reset"){d.removeAttribute("value");return}m.hasOwnProperty("value")?dn(d,m.type,b):m.hasOwnProperty("defaultValue")&&dn(d,m.type,be(m.defaultValue)),m.checked==null&&m.defaultChecked!=null&&(d.defaultChecked=!!m.defaultChecked)}function ps(d,m,b){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var C=m.type;if(!(C!=="submit"&&C!=="reset"||m.value!==void 0&&m.value!==null))return;m=""+d._wrapperState.initialValue,b||m===d.value||(d.value=m),d.defaultValue=m}b=d.name,b!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,b!==""&&(d.name=b)}function dn(d,m,b){(m!=="number"||ai(d.ownerDocument)!==d)&&(b==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+b&&(d.defaultValue=""+b))}var es=Array.isArray;function Rs(d,m,b,C){if(d=d.options,m){m={};for(var k=0;k<b.length;k++)m["$"+b[k]]=!0;for(b=0;b<d.length;b++)k=m.hasOwnProperty("$"+d[b].value),d[b].selected!==k&&(d[b].selected=k),k&&C&&(d[b].defaultSelected=!0)}else{for(b=""+be(b),m=null,k=0;k<d.length;k++){if(d[k].value===b){d[k].selected=!0,C&&(d[k].defaultSelected=!0);return}m!==null||d[k].disabled||(m=d[k])}m!==null&&(m.selected=!0)}}function hn(d,m){if(m.dangerouslySetInnerHTML!=null)throw Error(t(91));return U({},m,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function Wa(d,m){var b=m.value;if(b==null){if(b=m.children,m=m.defaultValue,b!=null){if(m!=null)throw Error(t(92));if(es(b)){if(1<b.length)throw Error(t(93));b=b[0]}m=b}m==null&&(m=""),b=m}d._wrapperState={initialValue:be(b)}}function Ni(d,m){var b=be(m.value),C=be(m.defaultValue);b!=null&&(b=""+b,b!==d.value&&(d.value=b),m.defaultValue==null&&d.defaultValue!==b&&(d.defaultValue=b)),C!=null&&(d.defaultValue=""+C)}function Vr(d){var m=d.textContent;m===d._wrapperState.initialValue&&m!==""&&m!==null&&(d.value=m)}function Mi(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gr(d,m){return d==null||d==="http://www.w3.org/1999/xhtml"?Mi(m):d==="http://www.w3.org/2000/svg"&&m==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var oi,Hr=function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,b,C,k){MSApp.execUnsafeLocalFunction(function(){return d(m,b,C,k)})}:d}(function(d,m){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=m;else{for(oi=oi||document.createElement("div"),oi.innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=oi.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;m.firstChild;)d.appendChild(m.firstChild)}});function li(d,m){if(m){var b=d.firstChild;if(b&&b===d.lastChild&&b.nodeType===3){b.nodeValue=m;return}}d.textContent=m}var oe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Le=["Webkit","ms","Moz","O"];Object.keys(oe).forEach(function(d){Le.forEach(function(m){m=m+d.charAt(0).toUpperCase()+d.substring(1),oe[m]=oe[d]})});function Ve(d,m,b){return m==null||typeof m=="boolean"||m===""?"":b||typeof m!="number"||m===0||oe.hasOwnProperty(d)&&oe[d]?(""+m).trim():m+"px"}function Ye(d,m){d=d.style;for(var b in m)if(m.hasOwnProperty(b)){var C=b.indexOf("--")===0,k=Ve(b,m[b],C);b==="float"&&(b="cssFloat"),C?d.setProperty(b,k):d[b]=k}}var gs=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ze(d,m){if(m){if(gs[d]&&(m.children!=null||m.dangerouslySetInnerHTML!=null))throw Error(t(137,d));if(m.dangerouslySetInnerHTML!=null){if(m.children!=null)throw Error(t(60));if(typeof m.dangerouslySetInnerHTML!="object"||!("__html"in m.dangerouslySetInnerHTML))throw Error(t(61))}if(m.style!=null&&typeof m.style!="object")throw Error(t(62))}}function vs(d,m){if(d.indexOf("-")===-1)return typeof m.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mn=null;function $t(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var dr=null,el=null,tl=null;function Ow(d){if(d=Jc(d)){if(typeof dr!="function")throw Error(t(280));var m=d.stateNode;m&&(m=Vd(m),dr(d.stateNode,d.type,m))}}function Fw(d){el?tl?tl.push(d):tl=[d]:el=d}function zw(){if(el){var d=el,m=tl;if(tl=el=null,Ow(d),m)for(d=0;d<m.length;d++)Ow(m[d])}}function Bw(d,m){return d(m)}function Uw(){}var Jp=!1;function $w(d,m,b){if(Jp)return d(m,b);Jp=!0;try{return Bw(d,m,b)}finally{Jp=!1,(el!==null||tl!==null)&&(Uw(),zw())}}function Mc(d,m){var b=d.stateNode;if(b===null)return null;var C=Vd(b);if(C===null)return null;b=C[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(C=!C.disabled)||(d=d.type,C=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!C;break e;default:d=!1}if(d)return null;if(b&&typeof b!="function")throw Error(t(231,m,typeof b));return b}var qp=!1;if(l)try{var kc={};Object.defineProperty(kc,"passive",{get:function(){qp=!0}}),window.addEventListener("test",kc,kc),window.removeEventListener("test",kc,kc)}catch{qp=!1}function hP(d,m,b,C,k,_,R,G,W){var ne=Array.prototype.slice.call(arguments,3);try{m.apply(b,ne)}catch(ue){this.onError(ue)}}var Ic=!1,wd=null,Sd=!1,Zp=null,mP={onError:function(d){Ic=!0,wd=d}};function pP(d,m,b,C,k,_,R,G,W){Ic=!1,wd=null,hP.apply(mP,arguments)}function gP(d,m,b,C,k,_,R,G,W){if(pP.apply(this,arguments),Ic){if(Ic){var ne=wd;Ic=!1,wd=null}else throw Error(t(198));Sd||(Sd=!0,Zp=ne)}}function Qa(d){var m=d,b=d;if(d.alternate)for(;m.return;)m=m.return;else{d=m;do m=d,(m.flags&4098)!==0&&(b=m.return),d=m.return;while(d)}return m.tag===3?b:null}function Vw(d){if(d.tag===13){var m=d.memoizedState;if(m===null&&(d=d.alternate,d!==null&&(m=d.memoizedState)),m!==null)return m.dehydrated}return null}function Gw(d){if(Qa(d)!==d)throw Error(t(188))}function xP(d){var m=d.alternate;if(!m){if(m=Qa(d),m===null)throw Error(t(188));return m!==d?null:d}for(var b=d,C=m;;){var k=b.return;if(k===null)break;var _=k.alternate;if(_===null){if(C=k.return,C!==null){b=C;continue}break}if(k.child===_.child){for(_=k.child;_;){if(_===b)return Gw(k),d;if(_===C)return Gw(k),m;_=_.sibling}throw Error(t(188))}if(b.return!==C.return)b=k,C=_;else{for(var R=!1,G=k.child;G;){if(G===b){R=!0,b=k,C=_;break}if(G===C){R=!0,C=k,b=_;break}G=G.sibling}if(!R){for(G=_.child;G;){if(G===b){R=!0,b=_,C=k;break}if(G===C){R=!0,C=_,b=k;break}G=G.sibling}if(!R)throw Error(t(189))}}if(b.alternate!==C)throw Error(t(190))}if(b.tag!==3)throw Error(t(188));return b.stateNode.current===b?d:m}function Hw(d){return d=xP(d),d!==null?Yw(d):null}function Yw(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var m=Yw(d);if(m!==null)return m;d=d.sibling}return null}var Ww=e.unstable_scheduleCallback,Qw=e.unstable_cancelCallback,yP=e.unstable_shouldYield,bP=e.unstable_requestPaint,Vt=e.unstable_now,vP=e.unstable_getCurrentPriorityLevel,Xp=e.unstable_ImmediatePriority,Kw=e.unstable_UserBlockingPriority,Ld=e.unstable_NormalPriority,wP=e.unstable_LowPriority,Jw=e.unstable_IdlePriority,Cd=null,ki=null;function SP(d){if(ki&&typeof ki.onCommitFiberRoot=="function")try{ki.onCommitFiberRoot(Cd,d,void 0,(d.current.flags&128)===128)}catch{}}var ci=Math.clz32?Math.clz32:TP,LP=Math.log,CP=Math.LN2;function TP(d){return d>>>=0,d===0?32:31-(LP(d)/CP|0)|0}var Td=64,jd=4194304;function _c(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function Ed(d,m){var b=d.pendingLanes;if(b===0)return 0;var C=0,k=d.suspendedLanes,_=d.pingedLanes,R=b&268435455;if(R!==0){var G=R&~k;G!==0?C=_c(G):(_&=R,_!==0&&(C=_c(_)))}else R=b&~k,R!==0?C=_c(R):_!==0&&(C=_c(_));if(C===0)return 0;if(m!==0&&m!==C&&(m&k)===0&&(k=C&-C,_=m&-m,k>=_||k===16&&(_&4194240)!==0))return m;if((C&4)!==0&&(C|=b&16),m=d.entangledLanes,m!==0)for(d=d.entanglements,m&=C;0<m;)b=31-ci(m),k=1<<b,C|=d[b],m&=~k;return C}function jP(d,m){switch(d){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function EP(d,m){for(var b=d.suspendedLanes,C=d.pingedLanes,k=d.expirationTimes,_=d.pendingLanes;0<_;){var R=31-ci(_),G=1<<R,W=k[R];W===-1?((G&b)===0||(G&C)!==0)&&(k[R]=jP(G,m)):W<=m&&(d.expiredLanes|=G),_&=~G}}function eg(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function qw(){var d=Td;return Td<<=1,(Td&4194240)===0&&(Td=64),d}function tg(d){for(var m=[],b=0;31>b;b++)m.push(d);return m}function Ac(d,m,b){d.pendingLanes|=m,m!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,m=31-ci(m),d[m]=b}function NP(d,m){var b=d.pendingLanes&~m;d.pendingLanes=m,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=m,d.mutableReadLanes&=m,d.entangledLanes&=m,m=d.entanglements;var C=d.eventTimes;for(d=d.expirationTimes;0<b;){var k=31-ci(b),_=1<<k;m[k]=0,C[k]=-1,d[k]=-1,b&=~_}}function sg(d,m){var b=d.entangledLanes|=m;for(d=d.entanglements;b;){var C=31-ci(b),k=1<<C;k&m|d[C]&m&&(d[C]|=m),b&=~k}}var dt=0;function Zw(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var Xw,ng,e4,t4,s4,ig=!1,Nd=[],Yr=null,Wr=null,Qr=null,Dc=new Map,Pc=new Map,Kr=[],MP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function n4(d,m){switch(d){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":Dc.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(m.pointerId)}}function Rc(d,m,b,C,k,_){return d===null||d.nativeEvent!==_?(d={blockedOn:m,domEventName:b,eventSystemFlags:C,nativeEvent:_,targetContainers:[k]},m!==null&&(m=Jc(m),m!==null&&ng(m)),d):(d.eventSystemFlags|=C,m=d.targetContainers,k!==null&&m.indexOf(k)===-1&&m.push(k),d)}function kP(d,m,b,C,k){switch(m){case"focusin":return Yr=Rc(Yr,d,m,b,C,k),!0;case"dragenter":return Wr=Rc(Wr,d,m,b,C,k),!0;case"mouseover":return Qr=Rc(Qr,d,m,b,C,k),!0;case"pointerover":var _=k.pointerId;return Dc.set(_,Rc(Dc.get(_)||null,d,m,b,C,k)),!0;case"gotpointercapture":return _=k.pointerId,Pc.set(_,Rc(Pc.get(_)||null,d,m,b,C,k)),!0}return!1}function i4(d){var m=Ka(d.target);if(m!==null){var b=Qa(m);if(b!==null){if(m=b.tag,m===13){if(m=Vw(b),m!==null){d.blockedOn=m,s4(d.priority,function(){e4(b)});return}}else if(m===3&&b.stateNode.current.memoizedState.isDehydrated){d.blockedOn=b.tag===3?b.stateNode.containerInfo:null;return}}}d.blockedOn=null}function Md(d){if(d.blockedOn!==null)return!1;for(var m=d.targetContainers;0<m.length;){var b=ag(d.domEventName,d.eventSystemFlags,m[0],d.nativeEvent);if(b===null){b=d.nativeEvent;var C=new b.constructor(b.type,b);mn=C,b.target.dispatchEvent(C),mn=null}else return m=Jc(b),m!==null&&ng(m),d.blockedOn=b,!1;m.shift()}return!0}function r4(d,m,b){Md(d)&&b.delete(m)}function IP(){ig=!1,Yr!==null&&Md(Yr)&&(Yr=null),Wr!==null&&Md(Wr)&&(Wr=null),Qr!==null&&Md(Qr)&&(Qr=null),Dc.forEach(r4),Pc.forEach(r4)}function Oc(d,m){d.blockedOn===m&&(d.blockedOn=null,ig||(ig=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,IP)))}function Fc(d){function m(k){return Oc(k,d)}if(0<Nd.length){Oc(Nd[0],d);for(var b=1;b<Nd.length;b++){var C=Nd[b];C.blockedOn===d&&(C.blockedOn=null)}}for(Yr!==null&&Oc(Yr,d),Wr!==null&&Oc(Wr,d),Qr!==null&&Oc(Qr,d),Dc.forEach(m),Pc.forEach(m),b=0;b<Kr.length;b++)C=Kr[b],C.blockedOn===d&&(C.blockedOn=null);for(;0<Kr.length&&(b=Kr[0],b.blockedOn===null);)i4(b),b.blockedOn===null&&Kr.shift()}var sl=j.ReactCurrentBatchConfig,kd=!0;function _P(d,m,b,C){var k=dt,_=sl.transition;sl.transition=null;try{dt=1,rg(d,m,b,C)}finally{dt=k,sl.transition=_}}function AP(d,m,b,C){var k=dt,_=sl.transition;sl.transition=null;try{dt=4,rg(d,m,b,C)}finally{dt=k,sl.transition=_}}function rg(d,m,b,C){if(kd){var k=ag(d,m,b,C);if(k===null)Lg(d,m,C,Id,b),n4(d,C);else if(kP(k,d,m,b,C))C.stopPropagation();else if(n4(d,C),m&4&&-1<MP.indexOf(d)){for(;k!==null;){var _=Jc(k);if(_!==null&&Xw(_),_=ag(d,m,b,C),_===null&&Lg(d,m,C,Id,b),_===k)break;k=_}k!==null&&C.stopPropagation()}else Lg(d,m,C,null,b)}}var Id=null;function ag(d,m,b,C){if(Id=null,d=$t(C),d=Ka(d),d!==null)if(m=Qa(d),m===null)d=null;else if(b=m.tag,b===13){if(d=Vw(m),d!==null)return d;d=null}else if(b===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;d=null}else m!==d&&(d=null);return Id=d,null}function a4(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vP()){case Xp:return 1;case Kw:return 4;case Ld:case wP:return 16;case Jw:return 536870912;default:return 16}default:return 16}}var Jr=null,og=null,_d=null;function o4(){if(_d)return _d;var d,m=og,b=m.length,C,k="value"in Jr?Jr.value:Jr.textContent,_=k.length;for(d=0;d<b&&m[d]===k[d];d++);var R=b-d;for(C=1;C<=R&&m[b-C]===k[_-C];C++);return _d=k.slice(d,1<C?1-C:void 0)}function Ad(d){var m=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&m===13&&(d=13)):d=m,d===10&&(d=13),32<=d||d===13?d:0}function Dd(){return!0}function l4(){return!1}function pn(d){function m(b,C,k,_,R){this._reactName=b,this._targetInst=k,this.type=C,this.nativeEvent=_,this.target=R,this.currentTarget=null;for(var G in d)d.hasOwnProperty(G)&&(b=d[G],this[G]=b?b(_):_[G]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Dd:l4,this.isPropagationStopped=l4,this}return U(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var b=this.nativeEvent;b&&(b.preventDefault?b.preventDefault():typeof b.returnValue!="unknown"&&(b.returnValue=!1),this.isDefaultPrevented=Dd)},stopPropagation:function(){var b=this.nativeEvent;b&&(b.stopPropagation?b.stopPropagation():typeof b.cancelBubble!="unknown"&&(b.cancelBubble=!0),this.isPropagationStopped=Dd)},persist:function(){},isPersistent:Dd}),m}var nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lg=pn(nl),zc=U({},nl,{view:0,detail:0}),DP=pn(zc),cg,fg,Bc,Pd=U({},zc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dg,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==Bc&&(Bc&&d.type==="mousemove"?(cg=d.screenX-Bc.screenX,fg=d.screenY-Bc.screenY):fg=cg=0,Bc=d),cg)},movementY:function(d){return"movementY"in d?d.movementY:fg}}),c4=pn(Pd),PP=U({},Pd,{dataTransfer:0}),RP=pn(PP),OP=U({},zc,{relatedTarget:0}),ug=pn(OP),FP=U({},nl,{animationName:0,elapsedTime:0,pseudoElement:0}),zP=pn(FP),BP=U({},nl,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),UP=pn(BP),$P=U({},nl,{data:0}),f4=pn($P),VP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YP(d){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(d):(d=HP[d])?!!m[d]:!1}function dg(){return YP}var WP=U({},zc,{key:function(d){if(d.key){var m=VP[d.key]||d.key;if(m!=="Unidentified")return m}return d.type==="keypress"?(d=Ad(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?GP[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dg,charCode:function(d){return d.type==="keypress"?Ad(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Ad(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),QP=pn(WP),KP=U({},Pd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),u4=pn(KP),JP=U({},zc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dg}),qP=pn(JP),ZP=U({},nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),XP=pn(ZP),eR=U({},Pd,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),tR=pn(eR),sR=[9,13,27,32],hg=l&&"CompositionEvent"in window,Uc=null;l&&"documentMode"in document&&(Uc=document.documentMode);var nR=l&&"TextEvent"in window&&!Uc,d4=l&&(!hg||Uc&&8<Uc&&11>=Uc),h4=" ",m4=!1;function p4(d,m){switch(d){case"keyup":return sR.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function g4(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var il=!1;function iR(d,m){switch(d){case"compositionend":return g4(m);case"keypress":return m.which!==32?null:(m4=!0,h4);case"textInput":return d=m.data,d===h4&&m4?null:d;default:return null}}function rR(d,m){if(il)return d==="compositionend"||!hg&&p4(d,m)?(d=o4(),_d=og=Jr=null,il=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return d4&&m.locale!=="ko"?null:m.data;default:return null}}var aR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function x4(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m==="input"?!!aR[d.type]:m==="textarea"}function y4(d,m,b,C){Fw(C),m=Bd(m,"onChange"),0<m.length&&(b=new lg("onChange","change",null,b,C),d.push({event:b,listeners:m}))}var $c=null,Vc=null;function oR(d){R4(d,0)}function Rd(d){var m=cl(d);if(Pn(m))return d}function lR(d,m){if(d==="change")return m}var b4=!1;if(l){var mg;if(l){var pg="oninput"in document;if(!pg){var v4=document.createElement("div");v4.setAttribute("oninput","return;"),pg=typeof v4.oninput=="function"}mg=pg}else mg=!1;b4=mg&&(!document.documentMode||9<document.documentMode)}function w4(){$c&&($c.detachEvent("onpropertychange",S4),Vc=$c=null)}function S4(d){if(d.propertyName==="value"&&Rd(Vc)){var m=[];y4(m,Vc,d,$t(d)),$w(oR,m)}}function cR(d,m,b){d==="focusin"?(w4(),$c=m,Vc=b,$c.attachEvent("onpropertychange",S4)):d==="focusout"&&w4()}function fR(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return Rd(Vc)}function uR(d,m){if(d==="click")return Rd(m)}function dR(d,m){if(d==="input"||d==="change")return Rd(m)}function hR(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var fi=typeof Object.is=="function"?Object.is:hR;function Gc(d,m){if(fi(d,m))return!0;if(typeof d!="object"||d===null||typeof m!="object"||m===null)return!1;var b=Object.keys(d),C=Object.keys(m);if(b.length!==C.length)return!1;for(C=0;C<b.length;C++){var k=b[C];if(!c.call(m,k)||!fi(d[k],m[k]))return!1}return!0}function L4(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function C4(d,m){var b=L4(d);d=0;for(var C;b;){if(b.nodeType===3){if(C=d+b.textContent.length,d<=m&&C>=m)return{node:b,offset:m-d};d=C}e:{for(;b;){if(b.nextSibling){b=b.nextSibling;break e}b=b.parentNode}b=void 0}b=L4(b)}}function T4(d,m){return d&&m?d===m?!0:d&&d.nodeType===3?!1:m&&m.nodeType===3?T4(d,m.parentNode):"contains"in d?d.contains(m):d.compareDocumentPosition?!!(d.compareDocumentPosition(m)&16):!1:!1}function j4(){for(var d=window,m=ai();m instanceof d.HTMLIFrameElement;){try{var b=typeof m.contentWindow.location.href=="string"}catch{b=!1}if(b)d=m.contentWindow;else break;m=ai(d.document)}return m}function gg(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m&&(m==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||m==="textarea"||d.contentEditable==="true")}function mR(d){var m=j4(),b=d.focusedElem,C=d.selectionRange;if(m!==b&&b&&b.ownerDocument&&T4(b.ownerDocument.documentElement,b)){if(C!==null&&gg(b)){if(m=C.start,d=C.end,d===void 0&&(d=m),"selectionStart"in b)b.selectionStart=m,b.selectionEnd=Math.min(d,b.value.length);else if(d=(m=b.ownerDocument||document)&&m.defaultView||window,d.getSelection){d=d.getSelection();var k=b.textContent.length,_=Math.min(C.start,k);C=C.end===void 0?_:Math.min(C.end,k),!d.extend&&_>C&&(k=C,C=_,_=k),k=C4(b,_);var R=C4(b,C);k&&R&&(d.rangeCount!==1||d.anchorNode!==k.node||d.anchorOffset!==k.offset||d.focusNode!==R.node||d.focusOffset!==R.offset)&&(m=m.createRange(),m.setStart(k.node,k.offset),d.removeAllRanges(),_>C?(d.addRange(m),d.extend(R.node,R.offset)):(m.setEnd(R.node,R.offset),d.addRange(m)))}}for(m=[],d=b;d=d.parentNode;)d.nodeType===1&&m.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<m.length;b++)d=m[b],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var pR=l&&"documentMode"in document&&11>=document.documentMode,rl=null,xg=null,Hc=null,yg=!1;function E4(d,m,b){var C=b.window===b?b.document:b.nodeType===9?b:b.ownerDocument;yg||rl==null||rl!==ai(C)||(C=rl,"selectionStart"in C&&gg(C)?C={start:C.selectionStart,end:C.selectionEnd}:(C=(C.ownerDocument&&C.ownerDocument.defaultView||window).getSelection(),C={anchorNode:C.anchorNode,anchorOffset:C.anchorOffset,focusNode:C.focusNode,focusOffset:C.focusOffset}),Hc&&Gc(Hc,C)||(Hc=C,C=Bd(xg,"onSelect"),0<C.length&&(m=new lg("onSelect","select",null,m,b),d.push({event:m,listeners:C}),m.target=rl)))}function Od(d,m){var b={};return b[d.toLowerCase()]=m.toLowerCase(),b["Webkit"+d]="webkit"+m,b["Moz"+d]="moz"+m,b}var al={animationend:Od("Animation","AnimationEnd"),animationiteration:Od("Animation","AnimationIteration"),animationstart:Od("Animation","AnimationStart"),transitionend:Od("Transition","TransitionEnd")},bg={},N4={};l&&(N4=document.createElement("div").style,"AnimationEvent"in window||(delete al.animationend.animation,delete al.animationiteration.animation,delete al.animationstart.animation),"TransitionEvent"in window||delete al.transitionend.transition);function Fd(d){if(bg[d])return bg[d];if(!al[d])return d;var m=al[d],b;for(b in m)if(m.hasOwnProperty(b)&&b in N4)return bg[d]=m[b];return d}var M4=Fd("animationend"),k4=Fd("animationiteration"),I4=Fd("animationstart"),_4=Fd("transitionend"),A4=new Map,D4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qr(d,m){A4.set(d,m),r(m,[d])}for(var vg=0;vg<D4.length;vg++){var wg=D4[vg],gR=wg.toLowerCase(),xR=wg[0].toUpperCase()+wg.slice(1);qr(gR,"on"+xR)}qr(M4,"onAnimationEnd"),qr(k4,"onAnimationIteration"),qr(I4,"onAnimationStart"),qr("dblclick","onDoubleClick"),qr("focusin","onFocus"),qr("focusout","onBlur"),qr(_4,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),r("onBeforeInput",["compositionend","keypress","textInput","paste"]),r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yc));function P4(d,m,b){var C=d.type||"unknown-event";d.currentTarget=b,gP(C,m,void 0,d),d.currentTarget=null}function R4(d,m){m=(m&4)!==0;for(var b=0;b<d.length;b++){var C=d[b],k=C.event;C=C.listeners;e:{var _=void 0;if(m)for(var R=C.length-1;0<=R;R--){var G=C[R],W=G.instance,ne=G.currentTarget;if(G=G.listener,W!==_&&k.isPropagationStopped())break e;P4(k,G,ne),_=W}else for(R=0;R<C.length;R++){if(G=C[R],W=G.instance,ne=G.currentTarget,G=G.listener,W!==_&&k.isPropagationStopped())break e;P4(k,G,ne),_=W}}}if(Sd)throw d=Zp,Sd=!1,Zp=null,d}function bt(d,m){var b=m[Mg];b===void 0&&(b=m[Mg]=new Set);var C=d+"__bubble";b.has(C)||(O4(m,d,2,!1),b.add(C))}function Sg(d,m,b){var C=0;m&&(C|=4),O4(b,d,C,m)}var zd="_reactListening"+Math.random().toString(36).slice(2);function Wc(d){if(!d[zd]){d[zd]=!0,n.forEach(function(b){b!=="selectionchange"&&(yR.has(b)||Sg(b,!1,d),Sg(b,!0,d))});var m=d.nodeType===9?d:d.ownerDocument;m===null||m[zd]||(m[zd]=!0,Sg("selectionchange",!1,m))}}function O4(d,m,b,C){switch(a4(m)){case 1:var k=_P;break;case 4:k=AP;break;default:k=rg}b=k.bind(null,m,b,d),k=void 0,!qp||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(k=!0),C?k!==void 0?d.addEventListener(m,b,{capture:!0,passive:k}):d.addEventListener(m,b,!0):k!==void 0?d.addEventListener(m,b,{passive:k}):d.addEventListener(m,b,!1)}function Lg(d,m,b,C,k){var _=C;if((m&1)===0&&(m&2)===0&&C!==null)e:for(;;){if(C===null)return;var R=C.tag;if(R===3||R===4){var G=C.stateNode.containerInfo;if(G===k||G.nodeType===8&&G.parentNode===k)break;if(R===4)for(R=C.return;R!==null;){var W=R.tag;if((W===3||W===4)&&(W=R.stateNode.containerInfo,W===k||W.nodeType===8&&W.parentNode===k))return;R=R.return}for(;G!==null;){if(R=Ka(G),R===null)return;if(W=R.tag,W===5||W===6){C=_=R;continue e}G=G.parentNode}}C=C.return}$w(function(){var ne=_,ue=$t(b),me=[];e:{var fe=A4.get(d);if(fe!==void 0){var Se=lg,Te=d;switch(d){case"keypress":if(Ad(b)===0)break e;case"keydown":case"keyup":Se=QP;break;case"focusin":Te="focus",Se=ug;break;case"focusout":Te="blur",Se=ug;break;case"beforeblur":case"afterblur":Se=ug;break;case"click":if(b.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=c4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=RP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=qP;break;case M4:case k4:case I4:Se=zP;break;case _4:Se=XP;break;case"scroll":Se=DP;break;case"wheel":Se=tR;break;case"copy":case"cut":case"paste":Se=UP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=u4}var Ne=(m&4)!==0,Gt=!Ne&&d==="scroll",ee=Ne?fe!==null?fe+"Capture":null:fe;Ne=[];for(var J=ne,se;J!==null;){se=J;var pe=se.stateNode;if(se.tag===5&&pe!==null&&(se=pe,ee!==null&&(pe=Mc(J,ee),pe!=null&&Ne.push(Qc(J,pe,se)))),Gt)break;J=J.return}0<Ne.length&&(fe=new Se(fe,Te,null,b,ue),me.push({event:fe,listeners:Ne}))}}if((m&7)===0){e:{if(fe=d==="mouseover"||d==="pointerover",Se=d==="mouseout"||d==="pointerout",fe&&b!==mn&&(Te=b.relatedTarget||b.fromElement)&&(Ka(Te)||Te[hr]))break e;if((Se||fe)&&(fe=ue.window===ue?ue:(fe=ue.ownerDocument)?fe.defaultView||fe.parentWindow:window,Se?(Te=b.relatedTarget||b.toElement,Se=ne,Te=Te?Ka(Te):null,Te!==null&&(Gt=Qa(Te),Te!==Gt||Te.tag!==5&&Te.tag!==6)&&(Te=null)):(Se=null,Te=ne),Se!==Te)){if(Ne=c4,pe="onMouseLeave",ee="onMouseEnter",J="mouse",(d==="pointerout"||d==="pointerover")&&(Ne=u4,pe="onPointerLeave",ee="onPointerEnter",J="pointer"),Gt=Se==null?fe:cl(Se),se=Te==null?fe:cl(Te),fe=new Ne(pe,J+"leave",Se,b,ue),fe.target=Gt,fe.relatedTarget=se,pe=null,Ka(ue)===ne&&(Ne=new Ne(ee,J+"enter",Te,b,ue),Ne.target=se,Ne.relatedTarget=Gt,pe=Ne),Gt=pe,Se&&Te)t:{for(Ne=Se,ee=Te,J=0,se=Ne;se;se=ol(se))J++;for(se=0,pe=ee;pe;pe=ol(pe))se++;for(;0<J-se;)Ne=ol(Ne),J--;for(;0<se-J;)ee=ol(ee),se--;for(;J--;){if(Ne===ee||ee!==null&&Ne===ee.alternate)break t;Ne=ol(Ne),ee=ol(ee)}Ne=null}else Ne=null;Se!==null&&F4(me,fe,Se,Ne,!1),Te!==null&&Gt!==null&&F4(me,Gt,Te,Ne,!0)}}e:{if(fe=ne?cl(ne):window,Se=fe.nodeName&&fe.nodeName.toLowerCase(),Se==="select"||Se==="input"&&fe.type==="file")var ke=lR;else if(x4(fe))if(b4)ke=dR;else{ke=fR;var De=cR}else(Se=fe.nodeName)&&Se.toLowerCase()==="input"&&(fe.type==="checkbox"||fe.type==="radio")&&(ke=uR);if(ke&&(ke=ke(d,ne))){y4(me,ke,b,ue);break e}De&&De(d,fe,ne),d==="focusout"&&(De=fe._wrapperState)&&De.controlled&&fe.type==="number"&&dn(fe,"number",fe.value)}switch(De=ne?cl(ne):window,d){case"focusin":(x4(De)||De.contentEditable==="true")&&(rl=De,xg=ne,Hc=null);break;case"focusout":Hc=xg=rl=null;break;case"mousedown":yg=!0;break;case"contextmenu":case"mouseup":case"dragend":yg=!1,E4(me,b,ue);break;case"selectionchange":if(pR)break;case"keydown":case"keyup":E4(me,b,ue)}var Pe;if(hg)e:{switch(d){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else il?p4(d,b)&&(Fe="onCompositionEnd"):d==="keydown"&&b.keyCode===229&&(Fe="onCompositionStart");Fe&&(d4&&b.locale!=="ko"&&(il||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&il&&(Pe=o4()):(Jr=ue,og="value"in Jr?Jr.value:Jr.textContent,il=!0)),De=Bd(ne,Fe),0<De.length&&(Fe=new f4(Fe,d,null,b,ue),me.push({event:Fe,listeners:De}),Pe?Fe.data=Pe:(Pe=g4(b),Pe!==null&&(Fe.data=Pe)))),(Pe=nR?iR(d,b):rR(d,b))&&(ne=Bd(ne,"onBeforeInput"),0<ne.length&&(ue=new f4("onBeforeInput","beforeinput",null,b,ue),me.push({event:ue,listeners:ne}),ue.data=Pe))}R4(me,m)})}function Qc(d,m,b){return{instance:d,listener:m,currentTarget:b}}function Bd(d,m){for(var b=m+"Capture",C=[];d!==null;){var k=d,_=k.stateNode;k.tag===5&&_!==null&&(k=_,_=Mc(d,b),_!=null&&C.unshift(Qc(d,_,k)),_=Mc(d,m),_!=null&&C.push(Qc(d,_,k))),d=d.return}return C}function ol(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function F4(d,m,b,C,k){for(var _=m._reactName,R=[];b!==null&&b!==C;){var G=b,W=G.alternate,ne=G.stateNode;if(W!==null&&W===C)break;G.tag===5&&ne!==null&&(G=ne,k?(W=Mc(b,_),W!=null&&R.unshift(Qc(b,W,G))):k||(W=Mc(b,_),W!=null&&R.push(Qc(b,W,G)))),b=b.return}R.length!==0&&d.push({event:m,listeners:R})}var bR=/\r\n?/g,vR=/\u0000|\uFFFD/g;function z4(d){return(typeof d=="string"?d:""+d).replace(bR,`
`).replace(vR,"")}function Ud(d,m,b){if(m=z4(m),z4(d)!==m&&b)throw Error(t(425))}function $d(){}var Cg=null,Tg=null;function jg(d,m){return d==="textarea"||d==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var Eg=typeof setTimeout=="function"?setTimeout:void 0,wR=typeof clearTimeout=="function"?clearTimeout:void 0,B4=typeof Promise=="function"?Promise:void 0,SR=typeof queueMicrotask=="function"?queueMicrotask:typeof B4<"u"?function(d){return B4.resolve(null).then(d).catch(LR)}:Eg;function LR(d){setTimeout(function(){throw d})}function Ng(d,m){var b=m,C=0;do{var k=b.nextSibling;if(d.removeChild(b),k&&k.nodeType===8)if(b=k.data,b==="/$"){if(C===0){d.removeChild(k),Fc(m);return}C--}else b!=="$"&&b!=="$?"&&b!=="$!"||C++;b=k}while(b);Fc(m)}function Zr(d){for(;d!=null;d=d.nextSibling){var m=d.nodeType;if(m===1||m===3)break;if(m===8){if(m=d.data,m==="$"||m==="$!"||m==="$?")break;if(m==="/$")return null}}return d}function U4(d){d=d.previousSibling;for(var m=0;d;){if(d.nodeType===8){var b=d.data;if(b==="$"||b==="$!"||b==="$?"){if(m===0)return d;m--}else b==="/$"&&m++}d=d.previousSibling}return null}var ll=Math.random().toString(36).slice(2),Ii="__reactFiber$"+ll,Kc="__reactProps$"+ll,hr="__reactContainer$"+ll,Mg="__reactEvents$"+ll,CR="__reactListeners$"+ll,TR="__reactHandles$"+ll;function Ka(d){var m=d[Ii];if(m)return m;for(var b=d.parentNode;b;){if(m=b[hr]||b[Ii]){if(b=m.alternate,m.child!==null||b!==null&&b.child!==null)for(d=U4(d);d!==null;){if(b=d[Ii])return b;d=U4(d)}return m}d=b,b=d.parentNode}return null}function Jc(d){return d=d[Ii]||d[hr],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function cl(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(t(33))}function Vd(d){return d[Kc]||null}var kg=[],fl=-1;function Xr(d){return{current:d}}function vt(d){0>fl||(d.current=kg[fl],kg[fl]=null,fl--)}function yt(d,m){fl++,kg[fl]=d.current,d.current=m}var ea={},ws=Xr(ea),Ws=Xr(!1),Ja=ea;function ul(d,m){var b=d.type.contextTypes;if(!b)return ea;var C=d.stateNode;if(C&&C.__reactInternalMemoizedUnmaskedChildContext===m)return C.__reactInternalMemoizedMaskedChildContext;var k={},_;for(_ in b)k[_]=m[_];return C&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=m,d.__reactInternalMemoizedMaskedChildContext=k),k}function Qs(d){return d=d.childContextTypes,d!=null}function Gd(){vt(Ws),vt(ws)}function $4(d,m,b){if(ws.current!==ea)throw Error(t(168));yt(ws,m),yt(Ws,b)}function V4(d,m,b){var C=d.stateNode;if(m=m.childContextTypes,typeof C.getChildContext!="function")return b;C=C.getChildContext();for(var k in C)if(!(k in m))throw Error(t(108,ye(d)||"Unknown",k));return U({},b,C)}function Hd(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||ea,Ja=ws.current,yt(ws,d),yt(Ws,Ws.current),!0}function G4(d,m,b){var C=d.stateNode;if(!C)throw Error(t(169));b?(d=V4(d,m,Ja),C.__reactInternalMemoizedMergedChildContext=d,vt(Ws),vt(ws),yt(ws,d)):vt(Ws),yt(Ws,b)}var mr=null,Yd=!1,Ig=!1;function H4(d){mr===null?mr=[d]:mr.push(d)}function jR(d){Yd=!0,H4(d)}function ta(){if(!Ig&&mr!==null){Ig=!0;var d=0,m=dt;try{var b=mr;for(dt=1;d<b.length;d++){var C=b[d];do C=C(!0);while(C!==null)}mr=null,Yd=!1}catch(k){throw mr!==null&&(mr=mr.slice(d+1)),Ww(Xp,ta),k}finally{dt=m,Ig=!1}}return null}var dl=[],hl=0,Wd=null,Qd=0,Rn=[],On=0,qa=null,pr=1,gr="";function Za(d,m){dl[hl++]=Qd,dl[hl++]=Wd,Wd=d,Qd=m}function Y4(d,m,b){Rn[On++]=pr,Rn[On++]=gr,Rn[On++]=qa,qa=d;var C=pr;d=gr;var k=32-ci(C)-1;C&=~(1<<k),b+=1;var _=32-ci(m)+k;if(30<_){var R=k-k%5;_=(C&(1<<R)-1).toString(32),C>>=R,k-=R,pr=1<<32-ci(m)+k|b<<k|C,gr=_+d}else pr=1<<_|b<<k|C,gr=d}function _g(d){d.return!==null&&(Za(d,1),Y4(d,1,0))}function Ag(d){for(;d===Wd;)Wd=dl[--hl],dl[hl]=null,Qd=dl[--hl],dl[hl]=null;for(;d===qa;)qa=Rn[--On],Rn[On]=null,gr=Rn[--On],Rn[On]=null,pr=Rn[--On],Rn[On]=null}var gn=null,xn=null,St=!1,ui=null;function W4(d,m){var b=Un(5,null,null,0);b.elementType="DELETED",b.stateNode=m,b.return=d,m=d.deletions,m===null?(d.deletions=[b],d.flags|=16):m.push(b)}function Q4(d,m){switch(d.tag){case 5:var b=d.type;return m=m.nodeType!==1||b.toLowerCase()!==m.nodeName.toLowerCase()?null:m,m!==null?(d.stateNode=m,gn=d,xn=Zr(m.firstChild),!0):!1;case 6:return m=d.pendingProps===""||m.nodeType!==3?null:m,m!==null?(d.stateNode=m,gn=d,xn=null,!0):!1;case 13:return m=m.nodeType!==8?null:m,m!==null?(b=qa!==null?{id:pr,overflow:gr}:null,d.memoizedState={dehydrated:m,treeContext:b,retryLane:1073741824},b=Un(18,null,null,0),b.stateNode=m,b.return=d,d.child=b,gn=d,xn=null,!0):!1;default:return!1}}function Dg(d){return(d.mode&1)!==0&&(d.flags&128)===0}function Pg(d){if(St){var m=xn;if(m){var b=m;if(!Q4(d,m)){if(Dg(d))throw Error(t(418));m=Zr(b.nextSibling);var C=gn;m&&Q4(d,m)?W4(C,b):(d.flags=d.flags&-4097|2,St=!1,gn=d)}}else{if(Dg(d))throw Error(t(418));d.flags=d.flags&-4097|2,St=!1,gn=d}}}function K4(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;gn=d}function Kd(d){if(d!==gn)return!1;if(!St)return K4(d),St=!0,!1;var m;if((m=d.tag!==3)&&!(m=d.tag!==5)&&(m=d.type,m=m!=="head"&&m!=="body"&&!jg(d.type,d.memoizedProps)),m&&(m=xn)){if(Dg(d))throw J4(),Error(t(418));for(;m;)W4(d,m),m=Zr(m.nextSibling)}if(K4(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(t(317));e:{for(d=d.nextSibling,m=0;d;){if(d.nodeType===8){var b=d.data;if(b==="/$"){if(m===0){xn=Zr(d.nextSibling);break e}m--}else b!=="$"&&b!=="$!"&&b!=="$?"||m++}d=d.nextSibling}xn=null}}else xn=gn?Zr(d.stateNode.nextSibling):null;return!0}function J4(){for(var d=xn;d;)d=Zr(d.nextSibling)}function ml(){xn=gn=null,St=!1}function Rg(d){ui===null?ui=[d]:ui.push(d)}var ER=j.ReactCurrentBatchConfig;function qc(d,m,b){if(d=b.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(b._owner){if(b=b._owner,b){if(b.tag!==1)throw Error(t(309));var C=b.stateNode}if(!C)throw Error(t(147,d));var k=C,_=""+d;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===_?m.ref:(m=function(R){var G=k.refs;R===null?delete G[_]:G[_]=R},m._stringRef=_,m)}if(typeof d!="string")throw Error(t(284));if(!b._owner)throw Error(t(290,d))}return d}function Jd(d,m){throw d=Object.prototype.toString.call(m),Error(t(31,d==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":d))}function q4(d){var m=d._init;return m(d._payload)}function Z4(d){function m(ee,J){if(d){var se=ee.deletions;se===null?(ee.deletions=[J],ee.flags|=16):se.push(J)}}function b(ee,J){if(!d)return null;for(;J!==null;)m(ee,J),J=J.sibling;return null}function C(ee,J){for(ee=new Map;J!==null;)J.key!==null?ee.set(J.key,J):ee.set(J.index,J),J=J.sibling;return ee}function k(ee,J){return ee=ca(ee,J),ee.index=0,ee.sibling=null,ee}function _(ee,J,se){return ee.index=se,d?(se=ee.alternate,se!==null?(se=se.index,se<J?(ee.flags|=2,J):se):(ee.flags|=2,J)):(ee.flags|=1048576,J)}function R(ee){return d&&ee.alternate===null&&(ee.flags|=2),ee}function G(ee,J,se,pe){return J===null||J.tag!==6?(J=E1(se,ee.mode,pe),J.return=ee,J):(J=k(J,se),J.return=ee,J)}function W(ee,J,se,pe){var ke=se.type;return ke===N?ue(ee,J,se.props.children,pe,se.key):J!==null&&(J.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===V&&q4(ke)===J.type)?(pe=k(J,se.props),pe.ref=qc(ee,J,se),pe.return=ee,pe):(pe=vh(se.type,se.key,se.props,null,ee.mode,pe),pe.ref=qc(ee,J,se),pe.return=ee,pe)}function ne(ee,J,se,pe){return J===null||J.tag!==4||J.stateNode.containerInfo!==se.containerInfo||J.stateNode.implementation!==se.implementation?(J=N1(se,ee.mode,pe),J.return=ee,J):(J=k(J,se.children||[]),J.return=ee,J)}function ue(ee,J,se,pe,ke){return J===null||J.tag!==7?(J=ao(se,ee.mode,pe,ke),J.return=ee,J):(J=k(J,se),J.return=ee,J)}function me(ee,J,se){if(typeof J=="string"&&J!==""||typeof J=="number")return J=E1(""+J,ee.mode,se),J.return=ee,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case E:return se=vh(J.type,J.key,J.props,null,ee.mode,se),se.ref=qc(ee,null,J),se.return=ee,se;case M:return J=N1(J,ee.mode,se),J.return=ee,J;case V:var pe=J._init;return me(ee,pe(J._payload),se)}if(es(J)||B(J))return J=ao(J,ee.mode,se,null),J.return=ee,J;Jd(ee,J)}return null}function fe(ee,J,se,pe){var ke=J!==null?J.key:null;if(typeof se=="string"&&se!==""||typeof se=="number")return ke!==null?null:G(ee,J,""+se,pe);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case E:return se.key===ke?W(ee,J,se,pe):null;case M:return se.key===ke?ne(ee,J,se,pe):null;case V:return ke=se._init,fe(ee,J,ke(se._payload),pe)}if(es(se)||B(se))return ke!==null?null:ue(ee,J,se,pe,null);Jd(ee,se)}return null}function Se(ee,J,se,pe,ke){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return ee=ee.get(se)||null,G(J,ee,""+pe,ke);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case E:return ee=ee.get(pe.key===null?se:pe.key)||null,W(J,ee,pe,ke);case M:return ee=ee.get(pe.key===null?se:pe.key)||null,ne(J,ee,pe,ke);case V:var De=pe._init;return Se(ee,J,se,De(pe._payload),ke)}if(es(pe)||B(pe))return ee=ee.get(se)||null,ue(J,ee,pe,ke,null);Jd(J,pe)}return null}function Te(ee,J,se,pe){for(var ke=null,De=null,Pe=J,Fe=J=0,cs=null;Pe!==null&&Fe<se.length;Fe++){Pe.index>Fe?(cs=Pe,Pe=null):cs=Pe.sibling;var ot=fe(ee,Pe,se[Fe],pe);if(ot===null){Pe===null&&(Pe=cs);break}d&&Pe&&ot.alternate===null&&m(ee,Pe),J=_(ot,J,Fe),De===null?ke=ot:De.sibling=ot,De=ot,Pe=cs}if(Fe===se.length)return b(ee,Pe),St&&Za(ee,Fe),ke;if(Pe===null){for(;Fe<se.length;Fe++)Pe=me(ee,se[Fe],pe),Pe!==null&&(J=_(Pe,J,Fe),De===null?ke=Pe:De.sibling=Pe,De=Pe);return St&&Za(ee,Fe),ke}for(Pe=C(ee,Pe);Fe<se.length;Fe++)cs=Se(Pe,ee,Fe,se[Fe],pe),cs!==null&&(d&&cs.alternate!==null&&Pe.delete(cs.key===null?Fe:cs.key),J=_(cs,J,Fe),De===null?ke=cs:De.sibling=cs,De=cs);return d&&Pe.forEach(function(fa){return m(ee,fa)}),St&&Za(ee,Fe),ke}function Ne(ee,J,se,pe){var ke=B(se);if(typeof ke!="function")throw Error(t(150));if(se=ke.call(se),se==null)throw Error(t(151));for(var De=ke=null,Pe=J,Fe=J=0,cs=null,ot=se.next();Pe!==null&&!ot.done;Fe++,ot=se.next()){Pe.index>Fe?(cs=Pe,Pe=null):cs=Pe.sibling;var fa=fe(ee,Pe,ot.value,pe);if(fa===null){Pe===null&&(Pe=cs);break}d&&Pe&&fa.alternate===null&&m(ee,Pe),J=_(fa,J,Fe),De===null?ke=fa:De.sibling=fa,De=fa,Pe=cs}if(ot.done)return b(ee,Pe),St&&Za(ee,Fe),ke;if(Pe===null){for(;!ot.done;Fe++,ot=se.next())ot=me(ee,ot.value,pe),ot!==null&&(J=_(ot,J,Fe),De===null?ke=ot:De.sibling=ot,De=ot);return St&&Za(ee,Fe),ke}for(Pe=C(ee,Pe);!ot.done;Fe++,ot=se.next())ot=Se(Pe,ee,Fe,ot.value,pe),ot!==null&&(d&&ot.alternate!==null&&Pe.delete(ot.key===null?Fe:ot.key),J=_(ot,J,Fe),De===null?ke=ot:De.sibling=ot,De=ot);return d&&Pe.forEach(function(a5){return m(ee,a5)}),St&&Za(ee,Fe),ke}function Gt(ee,J,se,pe){if(typeof se=="object"&&se!==null&&se.type===N&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case E:e:{for(var ke=se.key,De=J;De!==null;){if(De.key===ke){if(ke=se.type,ke===N){if(De.tag===7){b(ee,De.sibling),J=k(De,se.props.children),J.return=ee,ee=J;break e}}else if(De.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===V&&q4(ke)===De.type){b(ee,De.sibling),J=k(De,se.props),J.ref=qc(ee,De,se),J.return=ee,ee=J;break e}b(ee,De);break}else m(ee,De);De=De.sibling}se.type===N?(J=ao(se.props.children,ee.mode,pe,se.key),J.return=ee,ee=J):(pe=vh(se.type,se.key,se.props,null,ee.mode,pe),pe.ref=qc(ee,J,se),pe.return=ee,ee=pe)}return R(ee);case M:e:{for(De=se.key;J!==null;){if(J.key===De)if(J.tag===4&&J.stateNode.containerInfo===se.containerInfo&&J.stateNode.implementation===se.implementation){b(ee,J.sibling),J=k(J,se.children||[]),J.return=ee,ee=J;break e}else{b(ee,J);break}else m(ee,J);J=J.sibling}J=N1(se,ee.mode,pe),J.return=ee,ee=J}return R(ee);case V:return De=se._init,Gt(ee,J,De(se._payload),pe)}if(es(se))return Te(ee,J,se,pe);if(B(se))return Ne(ee,J,se,pe);Jd(ee,se)}return typeof se=="string"&&se!==""||typeof se=="number"?(se=""+se,J!==null&&J.tag===6?(b(ee,J.sibling),J=k(J,se),J.return=ee,ee=J):(b(ee,J),J=E1(se,ee.mode,pe),J.return=ee,ee=J),R(ee)):b(ee,J)}return Gt}var pl=Z4(!0),X4=Z4(!1),qd=Xr(null),Zd=null,gl=null,Og=null;function Fg(){Og=gl=Zd=null}function zg(d){var m=qd.current;vt(qd),d._currentValue=m}function Bg(d,m,b){for(;d!==null;){var C=d.alternate;if((d.childLanes&m)!==m?(d.childLanes|=m,C!==null&&(C.childLanes|=m)):C!==null&&(C.childLanes&m)!==m&&(C.childLanes|=m),d===b)break;d=d.return}}function xl(d,m){Zd=d,Og=gl=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&m)!==0&&(Ks=!0),d.firstContext=null)}function Fn(d){var m=d._currentValue;if(Og!==d)if(d={context:d,memoizedValue:m,next:null},gl===null){if(Zd===null)throw Error(t(308));gl=d,Zd.dependencies={lanes:0,firstContext:d}}else gl=gl.next=d;return m}var Xa=null;function Ug(d){Xa===null?Xa=[d]:Xa.push(d)}function eS(d,m,b,C){var k=m.interleaved;return k===null?(b.next=b,Ug(m)):(b.next=k.next,k.next=b),m.interleaved=b,xr(d,C)}function xr(d,m){d.lanes|=m;var b=d.alternate;for(b!==null&&(b.lanes|=m),b=d,d=d.return;d!==null;)d.childLanes|=m,b=d.alternate,b!==null&&(b.childLanes|=m),b=d,d=d.return;return b.tag===3?b.stateNode:null}var sa=!1;function $g(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tS(d,m){d=d.updateQueue,m.updateQueue===d&&(m.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function yr(d,m){return{eventTime:d,lane:m,tag:0,payload:null,callback:null,next:null}}function na(d,m,b){var C=d.updateQueue;if(C===null)return null;if(C=C.shared,(rt&2)!==0){var k=C.pending;return k===null?m.next=m:(m.next=k.next,k.next=m),C.pending=m,xr(d,b)}return k=C.interleaved,k===null?(m.next=m,Ug(C)):(m.next=k.next,k.next=m),C.interleaved=m,xr(d,b)}function Xd(d,m,b){if(m=m.updateQueue,m!==null&&(m=m.shared,(b&4194240)!==0)){var C=m.lanes;C&=d.pendingLanes,b|=C,m.lanes=b,sg(d,b)}}function sS(d,m){var b=d.updateQueue,C=d.alternate;if(C!==null&&(C=C.updateQueue,b===C)){var k=null,_=null;if(b=b.firstBaseUpdate,b!==null){do{var R={eventTime:b.eventTime,lane:b.lane,tag:b.tag,payload:b.payload,callback:b.callback,next:null};_===null?k=_=R:_=_.next=R,b=b.next}while(b!==null);_===null?k=_=m:_=_.next=m}else k=_=m;b={baseState:C.baseState,firstBaseUpdate:k,lastBaseUpdate:_,shared:C.shared,effects:C.effects},d.updateQueue=b;return}d=b.lastBaseUpdate,d===null?b.firstBaseUpdate=m:d.next=m,b.lastBaseUpdate=m}function eh(d,m,b,C){var k=d.updateQueue;sa=!1;var _=k.firstBaseUpdate,R=k.lastBaseUpdate,G=k.shared.pending;if(G!==null){k.shared.pending=null;var W=G,ne=W.next;W.next=null,R===null?_=ne:R.next=ne,R=W;var ue=d.alternate;ue!==null&&(ue=ue.updateQueue,G=ue.lastBaseUpdate,G!==R&&(G===null?ue.firstBaseUpdate=ne:G.next=ne,ue.lastBaseUpdate=W))}if(_!==null){var me=k.baseState;R=0,ue=ne=W=null,G=_;do{var fe=G.lane,Se=G.eventTime;if((C&fe)===fe){ue!==null&&(ue=ue.next={eventTime:Se,lane:0,tag:G.tag,payload:G.payload,callback:G.callback,next:null});e:{var Te=d,Ne=G;switch(fe=m,Se=b,Ne.tag){case 1:if(Te=Ne.payload,typeof Te=="function"){me=Te.call(Se,me,fe);break e}me=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Ne.payload,fe=typeof Te=="function"?Te.call(Se,me,fe):Te,fe==null)break e;me=U({},me,fe);break e;case 2:sa=!0}}G.callback!==null&&G.lane!==0&&(d.flags|=64,fe=k.effects,fe===null?k.effects=[G]:fe.push(G))}else Se={eventTime:Se,lane:fe,tag:G.tag,payload:G.payload,callback:G.callback,next:null},ue===null?(ne=ue=Se,W=me):ue=ue.next=Se,R|=fe;if(G=G.next,G===null){if(G=k.shared.pending,G===null)break;fe=G,G=fe.next,fe.next=null,k.lastBaseUpdate=fe,k.shared.pending=null}}while(!0);if(ue===null&&(W=me),k.baseState=W,k.firstBaseUpdate=ne,k.lastBaseUpdate=ue,m=k.shared.interleaved,m!==null){k=m;do R|=k.lane,k=k.next;while(k!==m)}else _===null&&(k.shared.lanes=0);so|=R,d.lanes=R,d.memoizedState=me}}function nS(d,m,b){if(d=m.effects,m.effects=null,d!==null)for(m=0;m<d.length;m++){var C=d[m],k=C.callback;if(k!==null){if(C.callback=null,C=b,typeof k!="function")throw Error(t(191,k));k.call(C)}}}var Zc={},_i=Xr(Zc),Xc=Xr(Zc),ef=Xr(Zc);function eo(d){if(d===Zc)throw Error(t(174));return d}function Vg(d,m){switch(yt(ef,m),yt(Xc,d),yt(_i,Zc),d=m.nodeType,d){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:Gr(null,"");break;default:d=d===8?m.parentNode:m,m=d.namespaceURI||null,d=d.tagName,m=Gr(m,d)}vt(_i),yt(_i,m)}function yl(){vt(_i),vt(Xc),vt(ef)}function iS(d){eo(ef.current);var m=eo(_i.current),b=Gr(m,d.type);m!==b&&(yt(Xc,d),yt(_i,b))}function Gg(d){Xc.current===d&&(vt(_i),vt(Xc))}var Et=Xr(0);function th(d){for(var m=d;m!==null;){if(m.tag===13){var b=m.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||b.data==="$?"||b.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var Hg=[];function Yg(){for(var d=0;d<Hg.length;d++)Hg[d]._workInProgressVersionPrimary=null;Hg.length=0}var sh=j.ReactCurrentDispatcher,Wg=j.ReactCurrentBatchConfig,to=0,Nt=null,ts=null,os=null,nh=!1,tf=!1,sf=0,NR=0;function Ss(){throw Error(t(321))}function Qg(d,m){if(m===null)return!1;for(var b=0;b<m.length&&b<d.length;b++)if(!fi(d[b],m[b]))return!1;return!0}function Kg(d,m,b,C,k,_){if(to=_,Nt=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,sh.current=d===null||d.memoizedState===null?_R:AR,d=b(C,k),tf){_=0;do{if(tf=!1,sf=0,25<=_)throw Error(t(301));_+=1,os=ts=null,m.updateQueue=null,sh.current=DR,d=b(C,k)}while(tf)}if(sh.current=ah,m=ts!==null&&ts.next!==null,to=0,os=ts=Nt=null,nh=!1,m)throw Error(t(300));return d}function Jg(){var d=sf!==0;return sf=0,d}function Ai(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return os===null?Nt.memoizedState=os=d:os=os.next=d,os}function zn(){if(ts===null){var d=Nt.alternate;d=d!==null?d.memoizedState:null}else d=ts.next;var m=os===null?Nt.memoizedState:os.next;if(m!==null)os=m,ts=d;else{if(d===null)throw Error(t(310));ts=d,d={memoizedState:ts.memoizedState,baseState:ts.baseState,baseQueue:ts.baseQueue,queue:ts.queue,next:null},os===null?Nt.memoizedState=os=d:os=os.next=d}return os}function nf(d,m){return typeof m=="function"?m(d):m}function qg(d){var m=zn(),b=m.queue;if(b===null)throw Error(t(311));b.lastRenderedReducer=d;var C=ts,k=C.baseQueue,_=b.pending;if(_!==null){if(k!==null){var R=k.next;k.next=_.next,_.next=R}C.baseQueue=k=_,b.pending=null}if(k!==null){_=k.next,C=C.baseState;var G=R=null,W=null,ne=_;do{var ue=ne.lane;if((to&ue)===ue)W!==null&&(W=W.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),C=ne.hasEagerState?ne.eagerState:d(C,ne.action);else{var me={lane:ue,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};W===null?(G=W=me,R=C):W=W.next=me,Nt.lanes|=ue,so|=ue}ne=ne.next}while(ne!==null&&ne!==_);W===null?R=C:W.next=G,fi(C,m.memoizedState)||(Ks=!0),m.memoizedState=C,m.baseState=R,m.baseQueue=W,b.lastRenderedState=C}if(d=b.interleaved,d!==null){k=d;do _=k.lane,Nt.lanes|=_,so|=_,k=k.next;while(k!==d)}else k===null&&(b.lanes=0);return[m.memoizedState,b.dispatch]}function Zg(d){var m=zn(),b=m.queue;if(b===null)throw Error(t(311));b.lastRenderedReducer=d;var C=b.dispatch,k=b.pending,_=m.memoizedState;if(k!==null){b.pending=null;var R=k=k.next;do _=d(_,R.action),R=R.next;while(R!==k);fi(_,m.memoizedState)||(Ks=!0),m.memoizedState=_,m.baseQueue===null&&(m.baseState=_),b.lastRenderedState=_}return[_,C]}function rS(){}function aS(d,m){var b=Nt,C=zn(),k=m(),_=!fi(C.memoizedState,k);if(_&&(C.memoizedState=k,Ks=!0),C=C.queue,Xg(cS.bind(null,b,C,d),[d]),C.getSnapshot!==m||_||os!==null&&os.memoizedState.tag&1){if(b.flags|=2048,rf(9,lS.bind(null,b,C,k,m),void 0,null),ls===null)throw Error(t(349));(to&30)!==0||oS(b,m,k)}return k}function oS(d,m,b){d.flags|=16384,d={getSnapshot:m,value:b},m=Nt.updateQueue,m===null?(m={lastEffect:null,stores:null},Nt.updateQueue=m,m.stores=[d]):(b=m.stores,b===null?m.stores=[d]:b.push(d))}function lS(d,m,b,C){m.value=b,m.getSnapshot=C,fS(m)&&uS(d)}function cS(d,m,b){return b(function(){fS(m)&&uS(d)})}function fS(d){var m=d.getSnapshot;d=d.value;try{var b=m();return!fi(d,b)}catch{return!0}}function uS(d){var m=xr(d,1);m!==null&&pi(m,d,1,-1)}function dS(d){var m=Ai();return typeof d=="function"&&(d=d()),m.memoizedState=m.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nf,lastRenderedState:d},m.queue=d,d=d.dispatch=IR.bind(null,Nt,d),[m.memoizedState,d]}function rf(d,m,b,C){return d={tag:d,create:m,destroy:b,deps:C,next:null},m=Nt.updateQueue,m===null?(m={lastEffect:null,stores:null},Nt.updateQueue=m,m.lastEffect=d.next=d):(b=m.lastEffect,b===null?m.lastEffect=d.next=d:(C=b.next,b.next=d,d.next=C,m.lastEffect=d)),d}function hS(){return zn().memoizedState}function ih(d,m,b,C){var k=Ai();Nt.flags|=d,k.memoizedState=rf(1|m,b,void 0,C===void 0?null:C)}function rh(d,m,b,C){var k=zn();C=C===void 0?null:C;var _=void 0;if(ts!==null){var R=ts.memoizedState;if(_=R.destroy,C!==null&&Qg(C,R.deps)){k.memoizedState=rf(m,b,_,C);return}}Nt.flags|=d,k.memoizedState=rf(1|m,b,_,C)}function mS(d,m){return ih(8390656,8,d,m)}function Xg(d,m){return rh(2048,8,d,m)}function pS(d,m){return rh(4,2,d,m)}function gS(d,m){return rh(4,4,d,m)}function xS(d,m){if(typeof m=="function")return d=d(),m(d),function(){m(null)};if(m!=null)return d=d(),m.current=d,function(){m.current=null}}function yS(d,m,b){return b=b!=null?b.concat([d]):null,rh(4,4,xS.bind(null,m,d),b)}function e1(){}function bS(d,m){var b=zn();m=m===void 0?null:m;var C=b.memoizedState;return C!==null&&m!==null&&Qg(m,C[1])?C[0]:(b.memoizedState=[d,m],d)}function vS(d,m){var b=zn();m=m===void 0?null:m;var C=b.memoizedState;return C!==null&&m!==null&&Qg(m,C[1])?C[0]:(d=d(),b.memoizedState=[d,m],d)}function wS(d,m,b){return(to&21)===0?(d.baseState&&(d.baseState=!1,Ks=!0),d.memoizedState=b):(fi(b,m)||(b=qw(),Nt.lanes|=b,so|=b,d.baseState=!0),m)}function MR(d,m){var b=dt;dt=b!==0&&4>b?b:4,d(!0);var C=Wg.transition;Wg.transition={};try{d(!1),m()}finally{dt=b,Wg.transition=C}}function SS(){return zn().memoizedState}function kR(d,m,b){var C=oa(d);if(b={lane:C,action:b,hasEagerState:!1,eagerState:null,next:null},LS(d))CS(m,b);else if(b=eS(d,m,b,C),b!==null){var k=Fs();pi(b,d,C,k),TS(b,m,C)}}function IR(d,m,b){var C=oa(d),k={lane:C,action:b,hasEagerState:!1,eagerState:null,next:null};if(LS(d))CS(m,k);else{var _=d.alternate;if(d.lanes===0&&(_===null||_.lanes===0)&&(_=m.lastRenderedReducer,_!==null))try{var R=m.lastRenderedState,G=_(R,b);if(k.hasEagerState=!0,k.eagerState=G,fi(G,R)){var W=m.interleaved;W===null?(k.next=k,Ug(m)):(k.next=W.next,W.next=k),m.interleaved=k;return}}catch{}finally{}b=eS(d,m,k,C),b!==null&&(k=Fs(),pi(b,d,C,k),TS(b,m,C))}}function LS(d){var m=d.alternate;return d===Nt||m!==null&&m===Nt}function CS(d,m){tf=nh=!0;var b=d.pending;b===null?m.next=m:(m.next=b.next,b.next=m),d.pending=m}function TS(d,m,b){if((b&4194240)!==0){var C=m.lanes;C&=d.pendingLanes,b|=C,m.lanes=b,sg(d,b)}}var ah={readContext:Fn,useCallback:Ss,useContext:Ss,useEffect:Ss,useImperativeHandle:Ss,useInsertionEffect:Ss,useLayoutEffect:Ss,useMemo:Ss,useReducer:Ss,useRef:Ss,useState:Ss,useDebugValue:Ss,useDeferredValue:Ss,useTransition:Ss,useMutableSource:Ss,useSyncExternalStore:Ss,useId:Ss,unstable_isNewReconciler:!1},_R={readContext:Fn,useCallback:function(d,m){return Ai().memoizedState=[d,m===void 0?null:m],d},useContext:Fn,useEffect:mS,useImperativeHandle:function(d,m,b){return b=b!=null?b.concat([d]):null,ih(4194308,4,xS.bind(null,m,d),b)},useLayoutEffect:function(d,m){return ih(4194308,4,d,m)},useInsertionEffect:function(d,m){return ih(4,2,d,m)},useMemo:function(d,m){var b=Ai();return m=m===void 0?null:m,d=d(),b.memoizedState=[d,m],d},useReducer:function(d,m,b){var C=Ai();return m=b!==void 0?b(m):m,C.memoizedState=C.baseState=m,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:m},C.queue=d,d=d.dispatch=kR.bind(null,Nt,d),[C.memoizedState,d]},useRef:function(d){var m=Ai();return d={current:d},m.memoizedState=d},useState:dS,useDebugValue:e1,useDeferredValue:function(d){return Ai().memoizedState=d},useTransition:function(){var d=dS(!1),m=d[0];return d=MR.bind(null,d[1]),Ai().memoizedState=d,[m,d]},useMutableSource:function(){},useSyncExternalStore:function(d,m,b){var C=Nt,k=Ai();if(St){if(b===void 0)throw Error(t(407));b=b()}else{if(b=m(),ls===null)throw Error(t(349));(to&30)!==0||oS(C,m,b)}k.memoizedState=b;var _={value:b,getSnapshot:m};return k.queue=_,mS(cS.bind(null,C,_,d),[d]),C.flags|=2048,rf(9,lS.bind(null,C,_,b,m),void 0,null),b},useId:function(){var d=Ai(),m=ls.identifierPrefix;if(St){var b=gr,C=pr;b=(C&~(1<<32-ci(C)-1)).toString(32)+b,m=":"+m+"R"+b,b=sf++,0<b&&(m+="H"+b.toString(32)),m+=":"}else b=NR++,m=":"+m+"r"+b.toString(32)+":";return d.memoizedState=m},unstable_isNewReconciler:!1},AR={readContext:Fn,useCallback:bS,useContext:Fn,useEffect:Xg,useImperativeHandle:yS,useInsertionEffect:pS,useLayoutEffect:gS,useMemo:vS,useReducer:qg,useRef:hS,useState:function(){return qg(nf)},useDebugValue:e1,useDeferredValue:function(d){var m=zn();return wS(m,ts.memoizedState,d)},useTransition:function(){var d=qg(nf)[0],m=zn().memoizedState;return[d,m]},useMutableSource:rS,useSyncExternalStore:aS,useId:SS,unstable_isNewReconciler:!1},DR={readContext:Fn,useCallback:bS,useContext:Fn,useEffect:Xg,useImperativeHandle:yS,useInsertionEffect:pS,useLayoutEffect:gS,useMemo:vS,useReducer:Zg,useRef:hS,useState:function(){return Zg(nf)},useDebugValue:e1,useDeferredValue:function(d){var m=zn();return ts===null?m.memoizedState=d:wS(m,ts.memoizedState,d)},useTransition:function(){var d=Zg(nf)[0],m=zn().memoizedState;return[d,m]},useMutableSource:rS,useSyncExternalStore:aS,useId:SS,unstable_isNewReconciler:!1};function di(d,m){if(d&&d.defaultProps){m=U({},m),d=d.defaultProps;for(var b in d)m[b]===void 0&&(m[b]=d[b]);return m}return m}function t1(d,m,b,C){m=d.memoizedState,b=b(C,m),b=b==null?m:U({},m,b),d.memoizedState=b,d.lanes===0&&(d.updateQueue.baseState=b)}var oh={isMounted:function(d){return(d=d._reactInternals)?Qa(d)===d:!1},enqueueSetState:function(d,m,b){d=d._reactInternals;var C=Fs(),k=oa(d),_=yr(C,k);_.payload=m,b!=null&&(_.callback=b),m=na(d,_,k),m!==null&&(pi(m,d,k,C),Xd(m,d,k))},enqueueReplaceState:function(d,m,b){d=d._reactInternals;var C=Fs(),k=oa(d),_=yr(C,k);_.tag=1,_.payload=m,b!=null&&(_.callback=b),m=na(d,_,k),m!==null&&(pi(m,d,k,C),Xd(m,d,k))},enqueueForceUpdate:function(d,m){d=d._reactInternals;var b=Fs(),C=oa(d),k=yr(b,C);k.tag=2,m!=null&&(k.callback=m),m=na(d,k,C),m!==null&&(pi(m,d,C,b),Xd(m,d,C))}};function jS(d,m,b,C,k,_,R){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(C,_,R):m.prototype&&m.prototype.isPureReactComponent?!Gc(b,C)||!Gc(k,_):!0}function ES(d,m,b){var C=!1,k=ea,_=m.contextType;return typeof _=="object"&&_!==null?_=Fn(_):(k=Qs(m)?Ja:ws.current,C=m.contextTypes,_=(C=C!=null)?ul(d,k):ea),m=new m(b,_),d.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=oh,d.stateNode=m,m._reactInternals=d,C&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=k,d.__reactInternalMemoizedMaskedChildContext=_),m}function NS(d,m,b,C){d=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(b,C),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(b,C),m.state!==d&&oh.enqueueReplaceState(m,m.state,null)}function s1(d,m,b,C){var k=d.stateNode;k.props=b,k.state=d.memoizedState,k.refs={},$g(d);var _=m.contextType;typeof _=="object"&&_!==null?k.context=Fn(_):(_=Qs(m)?Ja:ws.current,k.context=ul(d,_)),k.state=d.memoizedState,_=m.getDerivedStateFromProps,typeof _=="function"&&(t1(d,m,_,b),k.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(m=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),m!==k.state&&oh.enqueueReplaceState(k,k.state,null),eh(d,b,k,C),k.state=d.memoizedState),typeof k.componentDidMount=="function"&&(d.flags|=4194308)}function bl(d,m){try{var b="",C=m;do b+=xe(C),C=C.return;while(C);var k=b}catch(_){k=`
Error generating stack: `+_.message+`
`+_.stack}return{value:d,source:m,stack:k,digest:null}}function n1(d,m,b){return{value:d,source:null,stack:b??null,digest:m??null}}function i1(d,m){try{console.error(m.value)}catch(b){setTimeout(function(){throw b})}}var PR=typeof WeakMap=="function"?WeakMap:Map;function MS(d,m,b){b=yr(-1,b),b.tag=3,b.payload={element:null};var C=m.value;return b.callback=function(){mh||(mh=!0,b1=C),i1(d,m)},b}function kS(d,m,b){b=yr(-1,b),b.tag=3;var C=d.type.getDerivedStateFromError;if(typeof C=="function"){var k=m.value;b.payload=function(){return C(k)},b.callback=function(){i1(d,m)}}var _=d.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(b.callback=function(){i1(d,m),typeof C!="function"&&(ra===null?ra=new Set([this]):ra.add(this));var R=m.stack;this.componentDidCatch(m.value,{componentStack:R!==null?R:""})}),b}function IS(d,m,b){var C=d.pingCache;if(C===null){C=d.pingCache=new PR;var k=new Set;C.set(m,k)}else k=C.get(m),k===void 0&&(k=new Set,C.set(m,k));k.has(b)||(k.add(b),d=KR.bind(null,d,m,b),m.then(d,d))}function _S(d){do{var m;if((m=d.tag===13)&&(m=d.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return d;d=d.return}while(d!==null);return null}function AS(d,m,b,C,k){return(d.mode&1)===0?(d===m?d.flags|=65536:(d.flags|=128,b.flags|=131072,b.flags&=-52805,b.tag===1&&(b.alternate===null?b.tag=17:(m=yr(-1,1),m.tag=2,na(b,m,1))),b.lanes|=1),d):(d.flags|=65536,d.lanes=k,d)}var RR=j.ReactCurrentOwner,Ks=!1;function Os(d,m,b,C){m.child=d===null?X4(m,null,b,C):pl(m,d.child,b,C)}function DS(d,m,b,C,k){b=b.render;var _=m.ref;return xl(m,k),C=Kg(d,m,b,C,_,k),b=Jg(),d!==null&&!Ks?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~k,br(d,m,k)):(St&&b&&_g(m),m.flags|=1,Os(d,m,C,k),m.child)}function PS(d,m,b,C,k){if(d===null){var _=b.type;return typeof _=="function"&&!j1(_)&&_.defaultProps===void 0&&b.compare===null&&b.defaultProps===void 0?(m.tag=15,m.type=_,RS(d,m,_,C,k)):(d=vh(b.type,null,C,m,m.mode,k),d.ref=m.ref,d.return=m,m.child=d)}if(_=d.child,(d.lanes&k)===0){var R=_.memoizedProps;if(b=b.compare,b=b!==null?b:Gc,b(R,C)&&d.ref===m.ref)return br(d,m,k)}return m.flags|=1,d=ca(_,C),d.ref=m.ref,d.return=m,m.child=d}function RS(d,m,b,C,k){if(d!==null){var _=d.memoizedProps;if(Gc(_,C)&&d.ref===m.ref)if(Ks=!1,m.pendingProps=C=_,(d.lanes&k)!==0)(d.flags&131072)!==0&&(Ks=!0);else return m.lanes=d.lanes,br(d,m,k)}return r1(d,m,b,C,k)}function OS(d,m,b){var C=m.pendingProps,k=C.children,_=d!==null?d.memoizedState:null;if(C.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(wl,yn),yn|=b;else{if((b&1073741824)===0)return d=_!==null?_.baseLanes|b:b,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:d,cachePool:null,transitions:null},m.updateQueue=null,yt(wl,yn),yn|=d,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},C=_!==null?_.baseLanes:b,yt(wl,yn),yn|=C}else _!==null?(C=_.baseLanes|b,m.memoizedState=null):C=b,yt(wl,yn),yn|=C;return Os(d,m,k,b),m.child}function FS(d,m){var b=m.ref;(d===null&&b!==null||d!==null&&d.ref!==b)&&(m.flags|=512,m.flags|=2097152)}function r1(d,m,b,C,k){var _=Qs(b)?Ja:ws.current;return _=ul(m,_),xl(m,k),b=Kg(d,m,b,C,_,k),C=Jg(),d!==null&&!Ks?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~k,br(d,m,k)):(St&&C&&_g(m),m.flags|=1,Os(d,m,b,k),m.child)}function zS(d,m,b,C,k){if(Qs(b)){var _=!0;Hd(m)}else _=!1;if(xl(m,k),m.stateNode===null)ch(d,m),ES(m,b,C),s1(m,b,C,k),C=!0;else if(d===null){var R=m.stateNode,G=m.memoizedProps;R.props=G;var W=R.context,ne=b.contextType;typeof ne=="object"&&ne!==null?ne=Fn(ne):(ne=Qs(b)?Ja:ws.current,ne=ul(m,ne));var ue=b.getDerivedStateFromProps,me=typeof ue=="function"||typeof R.getSnapshotBeforeUpdate=="function";me||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(G!==C||W!==ne)&&NS(m,R,C,ne),sa=!1;var fe=m.memoizedState;R.state=fe,eh(m,C,R,k),W=m.memoizedState,G!==C||fe!==W||Ws.current||sa?(typeof ue=="function"&&(t1(m,b,ue,C),W=m.memoizedState),(G=sa||jS(m,b,G,C,fe,W,ne))?(me||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(m.flags|=4194308)):(typeof R.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=C,m.memoizedState=W),R.props=C,R.state=W,R.context=ne,C=G):(typeof R.componentDidMount=="function"&&(m.flags|=4194308),C=!1)}else{R=m.stateNode,tS(d,m),G=m.memoizedProps,ne=m.type===m.elementType?G:di(m.type,G),R.props=ne,me=m.pendingProps,fe=R.context,W=b.contextType,typeof W=="object"&&W!==null?W=Fn(W):(W=Qs(b)?Ja:ws.current,W=ul(m,W));var Se=b.getDerivedStateFromProps;(ue=typeof Se=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(G!==me||fe!==W)&&NS(m,R,C,W),sa=!1,fe=m.memoizedState,R.state=fe,eh(m,C,R,k);var Te=m.memoizedState;G!==me||fe!==Te||Ws.current||sa?(typeof Se=="function"&&(t1(m,b,Se,C),Te=m.memoizedState),(ne=sa||jS(m,b,ne,C,fe,Te,W)||!1)?(ue||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(C,Te,W),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(C,Te,W)),typeof R.componentDidUpdate=="function"&&(m.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof R.componentDidUpdate!="function"||G===d.memoizedProps&&fe===d.memoizedState||(m.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||G===d.memoizedProps&&fe===d.memoizedState||(m.flags|=1024),m.memoizedProps=C,m.memoizedState=Te),R.props=C,R.state=Te,R.context=W,C=ne):(typeof R.componentDidUpdate!="function"||G===d.memoizedProps&&fe===d.memoizedState||(m.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||G===d.memoizedProps&&fe===d.memoizedState||(m.flags|=1024),C=!1)}return a1(d,m,b,C,_,k)}function a1(d,m,b,C,k,_){FS(d,m);var R=(m.flags&128)!==0;if(!C&&!R)return k&&G4(m,b,!1),br(d,m,_);C=m.stateNode,RR.current=m;var G=R&&typeof b.getDerivedStateFromError!="function"?null:C.render();return m.flags|=1,d!==null&&R?(m.child=pl(m,d.child,null,_),m.child=pl(m,null,G,_)):Os(d,m,G,_),m.memoizedState=C.state,k&&G4(m,b,!0),m.child}function BS(d){var m=d.stateNode;m.pendingContext?$4(d,m.pendingContext,m.pendingContext!==m.context):m.context&&$4(d,m.context,!1),Vg(d,m.containerInfo)}function US(d,m,b,C,k){return ml(),Rg(k),m.flags|=256,Os(d,m,b,C),m.child}var o1={dehydrated:null,treeContext:null,retryLane:0};function l1(d){return{baseLanes:d,cachePool:null,transitions:null}}function $S(d,m,b){var C=m.pendingProps,k=Et.current,_=!1,R=(m.flags&128)!==0,G;if((G=R)||(G=d!==null&&d.memoizedState===null?!1:(k&2)!==0),G?(_=!0,m.flags&=-129):(d===null||d.memoizedState!==null)&&(k|=1),yt(Et,k&1),d===null)return Pg(m),d=m.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((m.mode&1)===0?m.lanes=1:d.data==="$!"?m.lanes=8:m.lanes=1073741824,null):(R=C.children,d=C.fallback,_?(C=m.mode,_=m.child,R={mode:"hidden",children:R},(C&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=R):_=wh(R,C,0,null),d=ao(d,C,b,null),_.return=m,d.return=m,_.sibling=d,m.child=_,m.child.memoizedState=l1(b),m.memoizedState=o1,d):c1(m,R));if(k=d.memoizedState,k!==null&&(G=k.dehydrated,G!==null))return OR(d,m,R,C,G,k,b);if(_){_=C.fallback,R=m.mode,k=d.child,G=k.sibling;var W={mode:"hidden",children:C.children};return(R&1)===0&&m.child!==k?(C=m.child,C.childLanes=0,C.pendingProps=W,m.deletions=null):(C=ca(k,W),C.subtreeFlags=k.subtreeFlags&14680064),G!==null?_=ca(G,_):(_=ao(_,R,b,null),_.flags|=2),_.return=m,C.return=m,C.sibling=_,m.child=C,C=_,_=m.child,R=d.child.memoizedState,R=R===null?l1(b):{baseLanes:R.baseLanes|b,cachePool:null,transitions:R.transitions},_.memoizedState=R,_.childLanes=d.childLanes&~b,m.memoizedState=o1,C}return _=d.child,d=_.sibling,C=ca(_,{mode:"visible",children:C.children}),(m.mode&1)===0&&(C.lanes=b),C.return=m,C.sibling=null,d!==null&&(b=m.deletions,b===null?(m.deletions=[d],m.flags|=16):b.push(d)),m.child=C,m.memoizedState=null,C}function c1(d,m){return m=wh({mode:"visible",children:m},d.mode,0,null),m.return=d,d.child=m}function lh(d,m,b,C){return C!==null&&Rg(C),pl(m,d.child,null,b),d=c1(m,m.pendingProps.children),d.flags|=2,m.memoizedState=null,d}function OR(d,m,b,C,k,_,R){if(b)return m.flags&256?(m.flags&=-257,C=n1(Error(t(422))),lh(d,m,R,C)):m.memoizedState!==null?(m.child=d.child,m.flags|=128,null):(_=C.fallback,k=m.mode,C=wh({mode:"visible",children:C.children},k,0,null),_=ao(_,k,R,null),_.flags|=2,C.return=m,_.return=m,C.sibling=_,m.child=C,(m.mode&1)!==0&&pl(m,d.child,null,R),m.child.memoizedState=l1(R),m.memoizedState=o1,_);if((m.mode&1)===0)return lh(d,m,R,null);if(k.data==="$!"){if(C=k.nextSibling&&k.nextSibling.dataset,C)var G=C.dgst;return C=G,_=Error(t(419)),C=n1(_,C,void 0),lh(d,m,R,C)}if(G=(R&d.childLanes)!==0,Ks||G){if(C=ls,C!==null){switch(R&-R){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=(k&(C.suspendedLanes|R))!==0?0:k,k!==0&&k!==_.retryLane&&(_.retryLane=k,xr(d,k),pi(C,d,k,-1))}return T1(),C=n1(Error(t(421))),lh(d,m,R,C)}return k.data==="$?"?(m.flags|=128,m.child=d.child,m=JR.bind(null,d),k._reactRetry=m,null):(d=_.treeContext,xn=Zr(k.nextSibling),gn=m,St=!0,ui=null,d!==null&&(Rn[On++]=pr,Rn[On++]=gr,Rn[On++]=qa,pr=d.id,gr=d.overflow,qa=m),m=c1(m,C.children),m.flags|=4096,m)}function VS(d,m,b){d.lanes|=m;var C=d.alternate;C!==null&&(C.lanes|=m),Bg(d.return,m,b)}function f1(d,m,b,C,k){var _=d.memoizedState;_===null?d.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:C,tail:b,tailMode:k}:(_.isBackwards=m,_.rendering=null,_.renderingStartTime=0,_.last=C,_.tail=b,_.tailMode=k)}function GS(d,m,b){var C=m.pendingProps,k=C.revealOrder,_=C.tail;if(Os(d,m,C.children,b),C=Et.current,(C&2)!==0)C=C&1|2,m.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=m.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&VS(d,b,m);else if(d.tag===19)VS(d,b,m);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===m)break e;for(;d.sibling===null;){if(d.return===null||d.return===m)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}C&=1}if(yt(Et,C),(m.mode&1)===0)m.memoizedState=null;else switch(k){case"forwards":for(b=m.child,k=null;b!==null;)d=b.alternate,d!==null&&th(d)===null&&(k=b),b=b.sibling;b=k,b===null?(k=m.child,m.child=null):(k=b.sibling,b.sibling=null),f1(m,!1,k,b,_);break;case"backwards":for(b=null,k=m.child,m.child=null;k!==null;){if(d=k.alternate,d!==null&&th(d)===null){m.child=k;break}d=k.sibling,k.sibling=b,b=k,k=d}f1(m,!0,b,null,_);break;case"together":f1(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function ch(d,m){(m.mode&1)===0&&d!==null&&(d.alternate=null,m.alternate=null,m.flags|=2)}function br(d,m,b){if(d!==null&&(m.dependencies=d.dependencies),so|=m.lanes,(b&m.childLanes)===0)return null;if(d!==null&&m.child!==d.child)throw Error(t(153));if(m.child!==null){for(d=m.child,b=ca(d,d.pendingProps),m.child=b,b.return=m;d.sibling!==null;)d=d.sibling,b=b.sibling=ca(d,d.pendingProps),b.return=m;b.sibling=null}return m.child}function FR(d,m,b){switch(m.tag){case 3:BS(m),ml();break;case 5:iS(m);break;case 1:Qs(m.type)&&Hd(m);break;case 4:Vg(m,m.stateNode.containerInfo);break;case 10:var C=m.type._context,k=m.memoizedProps.value;yt(qd,C._currentValue),C._currentValue=k;break;case 13:if(C=m.memoizedState,C!==null)return C.dehydrated!==null?(yt(Et,Et.current&1),m.flags|=128,null):(b&m.child.childLanes)!==0?$S(d,m,b):(yt(Et,Et.current&1),d=br(d,m,b),d!==null?d.sibling:null);yt(Et,Et.current&1);break;case 19:if(C=(b&m.childLanes)!==0,(d.flags&128)!==0){if(C)return GS(d,m,b);m.flags|=128}if(k=m.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),yt(Et,Et.current),C)break;return null;case 22:case 23:return m.lanes=0,OS(d,m,b)}return br(d,m,b)}var HS,u1,YS,WS;HS=function(d,m){for(var b=m.child;b!==null;){if(b.tag===5||b.tag===6)d.appendChild(b.stateNode);else if(b.tag!==4&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===m)break;for(;b.sibling===null;){if(b.return===null||b.return===m)return;b=b.return}b.sibling.return=b.return,b=b.sibling}},u1=function(){},YS=function(d,m,b,C){var k=d.memoizedProps;if(k!==C){d=m.stateNode,eo(_i.current);var _=null;switch(b){case"input":k=ur(d,k),C=ur(d,C),_=[];break;case"select":k=U({},k,{value:void 0}),C=U({},C,{value:void 0}),_=[];break;case"textarea":k=hn(d,k),C=hn(d,C),_=[];break;default:typeof k.onClick!="function"&&typeof C.onClick=="function"&&(d.onclick=$d)}Ze(b,C);var R;b=null;for(ne in k)if(!C.hasOwnProperty(ne)&&k.hasOwnProperty(ne)&&k[ne]!=null)if(ne==="style"){var G=k[ne];for(R in G)G.hasOwnProperty(R)&&(b||(b={}),b[R]="")}else ne!=="dangerouslySetInnerHTML"&&ne!=="children"&&ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(i.hasOwnProperty(ne)?_||(_=[]):(_=_||[]).push(ne,null));for(ne in C){var W=C[ne];if(G=k!=null?k[ne]:void 0,C.hasOwnProperty(ne)&&W!==G&&(W!=null||G!=null))if(ne==="style")if(G){for(R in G)!G.hasOwnProperty(R)||W&&W.hasOwnProperty(R)||(b||(b={}),b[R]="");for(R in W)W.hasOwnProperty(R)&&G[R]!==W[R]&&(b||(b={}),b[R]=W[R])}else b||(_||(_=[]),_.push(ne,b)),b=W;else ne==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,G=G?G.__html:void 0,W!=null&&G!==W&&(_=_||[]).push(ne,W)):ne==="children"?typeof W!="string"&&typeof W!="number"||(_=_||[]).push(ne,""+W):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&(i.hasOwnProperty(ne)?(W!=null&&ne==="onScroll"&&bt("scroll",d),_||G===W||(_=[])):(_=_||[]).push(ne,W))}b&&(_=_||[]).push("style",b);var ne=_;(m.updateQueue=ne)&&(m.flags|=4)}},WS=function(d,m,b,C){b!==C&&(m.flags|=4)};function af(d,m){if(!St)switch(d.tailMode){case"hidden":m=d.tail;for(var b=null;m!==null;)m.alternate!==null&&(b=m),m=m.sibling;b===null?d.tail=null:b.sibling=null;break;case"collapsed":b=d.tail;for(var C=null;b!==null;)b.alternate!==null&&(C=b),b=b.sibling;C===null?m||d.tail===null?d.tail=null:d.tail.sibling=null:C.sibling=null}}function Ls(d){var m=d.alternate!==null&&d.alternate.child===d.child,b=0,C=0;if(m)for(var k=d.child;k!==null;)b|=k.lanes|k.childLanes,C|=k.subtreeFlags&14680064,C|=k.flags&14680064,k.return=d,k=k.sibling;else for(k=d.child;k!==null;)b|=k.lanes|k.childLanes,C|=k.subtreeFlags,C|=k.flags,k.return=d,k=k.sibling;return d.subtreeFlags|=C,d.childLanes=b,m}function zR(d,m,b){var C=m.pendingProps;switch(Ag(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ls(m),null;case 1:return Qs(m.type)&&Gd(),Ls(m),null;case 3:return C=m.stateNode,yl(),vt(Ws),vt(ws),Yg(),C.pendingContext&&(C.context=C.pendingContext,C.pendingContext=null),(d===null||d.child===null)&&(Kd(m)?m.flags|=4:d===null||d.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,ui!==null&&(S1(ui),ui=null))),u1(d,m),Ls(m),null;case 5:Gg(m);var k=eo(ef.current);if(b=m.type,d!==null&&m.stateNode!=null)YS(d,m,b,C,k),d.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!C){if(m.stateNode===null)throw Error(t(166));return Ls(m),null}if(d=eo(_i.current),Kd(m)){C=m.stateNode,b=m.type;var _=m.memoizedProps;switch(C[Ii]=m,C[Kc]=_,d=(m.mode&1)!==0,b){case"dialog":bt("cancel",C),bt("close",C);break;case"iframe":case"object":case"embed":bt("load",C);break;case"video":case"audio":for(k=0;k<Yc.length;k++)bt(Yc[k],C);break;case"source":bt("error",C);break;case"img":case"image":case"link":bt("error",C),bt("load",C);break;case"details":bt("toggle",C);break;case"input":Nc(C,_),bt("invalid",C);break;case"select":C._wrapperState={wasMultiple:!!_.multiple},bt("invalid",C);break;case"textarea":Wa(C,_),bt("invalid",C)}Ze(b,_),k=null;for(var R in _)if(_.hasOwnProperty(R)){var G=_[R];R==="children"?typeof G=="string"?C.textContent!==G&&(_.suppressHydrationWarning!==!0&&Ud(C.textContent,G,d),k=["children",G]):typeof G=="number"&&C.textContent!==""+G&&(_.suppressHydrationWarning!==!0&&Ud(C.textContent,G,d),k=["children",""+G]):i.hasOwnProperty(R)&&G!=null&&R==="onScroll"&&bt("scroll",C)}switch(b){case"input":Ys(C),ps(C,_,!0);break;case"textarea":Ys(C),Vr(C);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(C.onclick=$d)}C=k,m.updateQueue=C,C!==null&&(m.flags|=4)}else{R=k.nodeType===9?k:k.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=Mi(b)),d==="http://www.w3.org/1999/xhtml"?b==="script"?(d=R.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof C.is=="string"?d=R.createElement(b,{is:C.is}):(d=R.createElement(b),b==="select"&&(R=d,C.multiple?R.multiple=!0:C.size&&(R.size=C.size))):d=R.createElementNS(d,b),d[Ii]=m,d[Kc]=C,HS(d,m,!1,!1),m.stateNode=d;e:{switch(R=vs(b,C),b){case"dialog":bt("cancel",d),bt("close",d),k=C;break;case"iframe":case"object":case"embed":bt("load",d),k=C;break;case"video":case"audio":for(k=0;k<Yc.length;k++)bt(Yc[k],d);k=C;break;case"source":bt("error",d),k=C;break;case"img":case"image":case"link":bt("error",d),bt("load",d),k=C;break;case"details":bt("toggle",d),k=C;break;case"input":Nc(d,C),k=ur(d,C),bt("invalid",d);break;case"option":k=C;break;case"select":d._wrapperState={wasMultiple:!!C.multiple},k=U({},C,{value:void 0}),bt("invalid",d);break;case"textarea":Wa(d,C),k=hn(d,C),bt("invalid",d);break;default:k=C}Ze(b,k),G=k;for(_ in G)if(G.hasOwnProperty(_)){var W=G[_];_==="style"?Ye(d,W):_==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&Hr(d,W)):_==="children"?typeof W=="string"?(b!=="textarea"||W!=="")&&li(d,W):typeof W=="number"&&li(d,""+W):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(i.hasOwnProperty(_)?W!=null&&_==="onScroll"&&bt("scroll",d):W!=null&&S(d,_,W,R))}switch(b){case"input":Ys(d),ps(d,C,!1);break;case"textarea":Ys(d),Vr(d);break;case"option":C.value!=null&&d.setAttribute("value",""+be(C.value));break;case"select":d.multiple=!!C.multiple,_=C.value,_!=null?Rs(d,!!C.multiple,_,!1):C.defaultValue!=null&&Rs(d,!!C.multiple,C.defaultValue,!0);break;default:typeof k.onClick=="function"&&(d.onclick=$d)}switch(b){case"button":case"input":case"select":case"textarea":C=!!C.autoFocus;break e;case"img":C=!0;break e;default:C=!1}}C&&(m.flags|=4)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return Ls(m),null;case 6:if(d&&m.stateNode!=null)WS(d,m,d.memoizedProps,C);else{if(typeof C!="string"&&m.stateNode===null)throw Error(t(166));if(b=eo(ef.current),eo(_i.current),Kd(m)){if(C=m.stateNode,b=m.memoizedProps,C[Ii]=m,(_=C.nodeValue!==b)&&(d=gn,d!==null))switch(d.tag){case 3:Ud(C.nodeValue,b,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&Ud(C.nodeValue,b,(d.mode&1)!==0)}_&&(m.flags|=4)}else C=(b.nodeType===9?b:b.ownerDocument).createTextNode(C),C[Ii]=m,m.stateNode=C}return Ls(m),null;case 13:if(vt(Et),C=m.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(St&&xn!==null&&(m.mode&1)!==0&&(m.flags&128)===0)J4(),ml(),m.flags|=98560,_=!1;else if(_=Kd(m),C!==null&&C.dehydrated!==null){if(d===null){if(!_)throw Error(t(318));if(_=m.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[Ii]=m}else ml(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Ls(m),_=!1}else ui!==null&&(S1(ui),ui=null),_=!0;if(!_)return m.flags&65536?m:null}return(m.flags&128)!==0?(m.lanes=b,m):(C=C!==null,C!==(d!==null&&d.memoizedState!==null)&&C&&(m.child.flags|=8192,(m.mode&1)!==0&&(d===null||(Et.current&1)!==0?ss===0&&(ss=3):T1())),m.updateQueue!==null&&(m.flags|=4),Ls(m),null);case 4:return yl(),u1(d,m),d===null&&Wc(m.stateNode.containerInfo),Ls(m),null;case 10:return zg(m.type._context),Ls(m),null;case 17:return Qs(m.type)&&Gd(),Ls(m),null;case 19:if(vt(Et),_=m.memoizedState,_===null)return Ls(m),null;if(C=(m.flags&128)!==0,R=_.rendering,R===null)if(C)af(_,!1);else{if(ss!==0||d!==null&&(d.flags&128)!==0)for(d=m.child;d!==null;){if(R=th(d),R!==null){for(m.flags|=128,af(_,!1),C=R.updateQueue,C!==null&&(m.updateQueue=C,m.flags|=4),m.subtreeFlags=0,C=b,b=m.child;b!==null;)_=b,d=C,_.flags&=14680066,R=_.alternate,R===null?(_.childLanes=0,_.lanes=d,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=R.childLanes,_.lanes=R.lanes,_.child=R.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=R.memoizedProps,_.memoizedState=R.memoizedState,_.updateQueue=R.updateQueue,_.type=R.type,d=R.dependencies,_.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),b=b.sibling;return yt(Et,Et.current&1|2),m.child}d=d.sibling}_.tail!==null&&Vt()>Sl&&(m.flags|=128,C=!0,af(_,!1),m.lanes=4194304)}else{if(!C)if(d=th(R),d!==null){if(m.flags|=128,C=!0,b=d.updateQueue,b!==null&&(m.updateQueue=b,m.flags|=4),af(_,!0),_.tail===null&&_.tailMode==="hidden"&&!R.alternate&&!St)return Ls(m),null}else 2*Vt()-_.renderingStartTime>Sl&&b!==1073741824&&(m.flags|=128,C=!0,af(_,!1),m.lanes=4194304);_.isBackwards?(R.sibling=m.child,m.child=R):(b=_.last,b!==null?b.sibling=R:m.child=R,_.last=R)}return _.tail!==null?(m=_.tail,_.rendering=m,_.tail=m.sibling,_.renderingStartTime=Vt(),m.sibling=null,b=Et.current,yt(Et,C?b&1|2:b&1),m):(Ls(m),null);case 22:case 23:return C1(),C=m.memoizedState!==null,d!==null&&d.memoizedState!==null!==C&&(m.flags|=8192),C&&(m.mode&1)!==0?(yn&1073741824)!==0&&(Ls(m),m.subtreeFlags&6&&(m.flags|=8192)):Ls(m),null;case 24:return null;case 25:return null}throw Error(t(156,m.tag))}function BR(d,m){switch(Ag(m),m.tag){case 1:return Qs(m.type)&&Gd(),d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 3:return yl(),vt(Ws),vt(ws),Yg(),d=m.flags,(d&65536)!==0&&(d&128)===0?(m.flags=d&-65537|128,m):null;case 5:return Gg(m),null;case 13:if(vt(Et),d=m.memoizedState,d!==null&&d.dehydrated!==null){if(m.alternate===null)throw Error(t(340));ml()}return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 19:return vt(Et),null;case 4:return yl(),null;case 10:return zg(m.type._context),null;case 22:case 23:return C1(),null;case 24:return null;default:return null}}var fh=!1,Cs=!1,UR=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function vl(d,m){var b=d.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch(C){Rt(d,m,C)}else b.current=null}function d1(d,m,b){try{b()}catch(C){Rt(d,m,C)}}var QS=!1;function $R(d,m){if(Cg=kd,d=j4(),gg(d)){if("selectionStart"in d)var b={start:d.selectionStart,end:d.selectionEnd};else e:{b=(b=d.ownerDocument)&&b.defaultView||window;var C=b.getSelection&&b.getSelection();if(C&&C.rangeCount!==0){b=C.anchorNode;var k=C.anchorOffset,_=C.focusNode;C=C.focusOffset;try{b.nodeType,_.nodeType}catch{b=null;break e}var R=0,G=-1,W=-1,ne=0,ue=0,me=d,fe=null;t:for(;;){for(var Se;me!==b||k!==0&&me.nodeType!==3||(G=R+k),me!==_||C!==0&&me.nodeType!==3||(W=R+C),me.nodeType===3&&(R+=me.nodeValue.length),(Se=me.firstChild)!==null;)fe=me,me=Se;for(;;){if(me===d)break t;if(fe===b&&++ne===k&&(G=R),fe===_&&++ue===C&&(W=R),(Se=me.nextSibling)!==null)break;me=fe,fe=me.parentNode}me=Se}b=G===-1||W===-1?null:{start:G,end:W}}else b=null}b=b||{start:0,end:0}}else b=null;for(Tg={focusedElem:d,selectionRange:b},kd=!1,Ce=m;Ce!==null;)if(m=Ce,d=m.child,(m.subtreeFlags&1028)!==0&&d!==null)d.return=m,Ce=d;else for(;Ce!==null;){m=Ce;try{var Te=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(Te!==null){var Ne=Te.memoizedProps,Gt=Te.memoizedState,ee=m.stateNode,J=ee.getSnapshotBeforeUpdate(m.elementType===m.type?Ne:di(m.type,Ne),Gt);ee.__reactInternalSnapshotBeforeUpdate=J}break;case 3:var se=m.stateNode.containerInfo;se.nodeType===1?se.textContent="":se.nodeType===9&&se.documentElement&&se.removeChild(se.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(pe){Rt(m,m.return,pe)}if(d=m.sibling,d!==null){d.return=m.return,Ce=d;break}Ce=m.return}return Te=QS,QS=!1,Te}function of(d,m,b){var C=m.updateQueue;if(C=C!==null?C.lastEffect:null,C!==null){var k=C=C.next;do{if((k.tag&d)===d){var _=k.destroy;k.destroy=void 0,_!==void 0&&d1(m,b,_)}k=k.next}while(k!==C)}}function uh(d,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var b=m=m.next;do{if((b.tag&d)===d){var C=b.create;b.destroy=C()}b=b.next}while(b!==m)}}function h1(d){var m=d.ref;if(m!==null){var b=d.stateNode;switch(d.tag){case 5:d=b;break;default:d=b}typeof m=="function"?m(d):m.current=d}}function KS(d){var m=d.alternate;m!==null&&(d.alternate=null,KS(m)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(m=d.stateNode,m!==null&&(delete m[Ii],delete m[Kc],delete m[Mg],delete m[CR],delete m[TR])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function JS(d){return d.tag===5||d.tag===3||d.tag===4}function qS(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||JS(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function m1(d,m,b){var C=d.tag;if(C===5||C===6)d=d.stateNode,m?b.nodeType===8?b.parentNode.insertBefore(d,m):b.insertBefore(d,m):(b.nodeType===8?(m=b.parentNode,m.insertBefore(d,b)):(m=b,m.appendChild(d)),b=b._reactRootContainer,b!=null||m.onclick!==null||(m.onclick=$d));else if(C!==4&&(d=d.child,d!==null))for(m1(d,m,b),d=d.sibling;d!==null;)m1(d,m,b),d=d.sibling}function p1(d,m,b){var C=d.tag;if(C===5||C===6)d=d.stateNode,m?b.insertBefore(d,m):b.appendChild(d);else if(C!==4&&(d=d.child,d!==null))for(p1(d,m,b),d=d.sibling;d!==null;)p1(d,m,b),d=d.sibling}var xs=null,hi=!1;function ia(d,m,b){for(b=b.child;b!==null;)ZS(d,m,b),b=b.sibling}function ZS(d,m,b){if(ki&&typeof ki.onCommitFiberUnmount=="function")try{ki.onCommitFiberUnmount(Cd,b)}catch{}switch(b.tag){case 5:Cs||vl(b,m);case 6:var C=xs,k=hi;xs=null,ia(d,m,b),xs=C,hi=k,xs!==null&&(hi?(d=xs,b=b.stateNode,d.nodeType===8?d.parentNode.removeChild(b):d.removeChild(b)):xs.removeChild(b.stateNode));break;case 18:xs!==null&&(hi?(d=xs,b=b.stateNode,d.nodeType===8?Ng(d.parentNode,b):d.nodeType===1&&Ng(d,b),Fc(d)):Ng(xs,b.stateNode));break;case 4:C=xs,k=hi,xs=b.stateNode.containerInfo,hi=!0,ia(d,m,b),xs=C,hi=k;break;case 0:case 11:case 14:case 15:if(!Cs&&(C=b.updateQueue,C!==null&&(C=C.lastEffect,C!==null))){k=C=C.next;do{var _=k,R=_.destroy;_=_.tag,R!==void 0&&((_&2)!==0||(_&4)!==0)&&d1(b,m,R),k=k.next}while(k!==C)}ia(d,m,b);break;case 1:if(!Cs&&(vl(b,m),C=b.stateNode,typeof C.componentWillUnmount=="function"))try{C.props=b.memoizedProps,C.state=b.memoizedState,C.componentWillUnmount()}catch(G){Rt(b,m,G)}ia(d,m,b);break;case 21:ia(d,m,b);break;case 22:b.mode&1?(Cs=(C=Cs)||b.memoizedState!==null,ia(d,m,b),Cs=C):ia(d,m,b);break;default:ia(d,m,b)}}function XS(d){var m=d.updateQueue;if(m!==null){d.updateQueue=null;var b=d.stateNode;b===null&&(b=d.stateNode=new UR),m.forEach(function(C){var k=qR.bind(null,d,C);b.has(C)||(b.add(C),C.then(k,k))})}}function mi(d,m){var b=m.deletions;if(b!==null)for(var C=0;C<b.length;C++){var k=b[C];try{var _=d,R=m,G=R;e:for(;G!==null;){switch(G.tag){case 5:xs=G.stateNode,hi=!1;break e;case 3:xs=G.stateNode.containerInfo,hi=!0;break e;case 4:xs=G.stateNode.containerInfo,hi=!0;break e}G=G.return}if(xs===null)throw Error(t(160));ZS(_,R,k),xs=null,hi=!1;var W=k.alternate;W!==null&&(W.return=null),k.return=null}catch(ne){Rt(k,m,ne)}}if(m.subtreeFlags&12854)for(m=m.child;m!==null;)e3(m,d),m=m.sibling}function e3(d,m){var b=d.alternate,C=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(mi(m,d),Di(d),C&4){try{of(3,d,d.return),uh(3,d)}catch(Ne){Rt(d,d.return,Ne)}try{of(5,d,d.return)}catch(Ne){Rt(d,d.return,Ne)}}break;case 1:mi(m,d),Di(d),C&512&&b!==null&&vl(b,b.return);break;case 5:if(mi(m,d),Di(d),C&512&&b!==null&&vl(b,b.return),d.flags&32){var k=d.stateNode;try{li(k,"")}catch(Ne){Rt(d,d.return,Ne)}}if(C&4&&(k=d.stateNode,k!=null)){var _=d.memoizedProps,R=b!==null?b.memoizedProps:_,G=d.type,W=d.updateQueue;if(d.updateQueue=null,W!==null)try{G==="input"&&_.type==="radio"&&_.name!=null&&qe(k,_),vs(G,R);var ne=vs(G,_);for(R=0;R<W.length;R+=2){var ue=W[R],me=W[R+1];ue==="style"?Ye(k,me):ue==="dangerouslySetInnerHTML"?Hr(k,me):ue==="children"?li(k,me):S(k,ue,me,ne)}switch(G){case"input":Pt(k,_);break;case"textarea":Ni(k,_);break;case"select":var fe=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!_.multiple;var Se=_.value;Se!=null?Rs(k,!!_.multiple,Se,!1):fe!==!!_.multiple&&(_.defaultValue!=null?Rs(k,!!_.multiple,_.defaultValue,!0):Rs(k,!!_.multiple,_.multiple?[]:"",!1))}k[Kc]=_}catch(Ne){Rt(d,d.return,Ne)}}break;case 6:if(mi(m,d),Di(d),C&4){if(d.stateNode===null)throw Error(t(162));k=d.stateNode,_=d.memoizedProps;try{k.nodeValue=_}catch(Ne){Rt(d,d.return,Ne)}}break;case 3:if(mi(m,d),Di(d),C&4&&b!==null&&b.memoizedState.isDehydrated)try{Fc(m.containerInfo)}catch(Ne){Rt(d,d.return,Ne)}break;case 4:mi(m,d),Di(d);break;case 13:mi(m,d),Di(d),k=d.child,k.flags&8192&&(_=k.memoizedState!==null,k.stateNode.isHidden=_,!_||k.alternate!==null&&k.alternate.memoizedState!==null||(y1=Vt())),C&4&&XS(d);break;case 22:if(ue=b!==null&&b.memoizedState!==null,d.mode&1?(Cs=(ne=Cs)||ue,mi(m,d),Cs=ne):mi(m,d),Di(d),C&8192){if(ne=d.memoizedState!==null,(d.stateNode.isHidden=ne)&&!ue&&(d.mode&1)!==0)for(Ce=d,ue=d.child;ue!==null;){for(me=Ce=ue;Ce!==null;){switch(fe=Ce,Se=fe.child,fe.tag){case 0:case 11:case 14:case 15:of(4,fe,fe.return);break;case 1:vl(fe,fe.return);var Te=fe.stateNode;if(typeof Te.componentWillUnmount=="function"){C=fe,b=fe.return;try{m=C,Te.props=m.memoizedProps,Te.state=m.memoizedState,Te.componentWillUnmount()}catch(Ne){Rt(C,b,Ne)}}break;case 5:vl(fe,fe.return);break;case 22:if(fe.memoizedState!==null){n3(me);continue}}Se!==null?(Se.return=fe,Ce=Se):n3(me)}ue=ue.sibling}e:for(ue=null,me=d;;){if(me.tag===5){if(ue===null){ue=me;try{k=me.stateNode,ne?(_=k.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(G=me.stateNode,W=me.memoizedProps.style,R=W!=null&&W.hasOwnProperty("display")?W.display:null,G.style.display=Ve("display",R))}catch(Ne){Rt(d,d.return,Ne)}}}else if(me.tag===6){if(ue===null)try{me.stateNode.nodeValue=ne?"":me.memoizedProps}catch(Ne){Rt(d,d.return,Ne)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===d)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===d)break e;for(;me.sibling===null;){if(me.return===null||me.return===d)break e;ue===me&&(ue=null),me=me.return}ue===me&&(ue=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:mi(m,d),Di(d),C&4&&XS(d);break;case 21:break;default:mi(m,d),Di(d)}}function Di(d){var m=d.flags;if(m&2){try{e:{for(var b=d.return;b!==null;){if(JS(b)){var C=b;break e}b=b.return}throw Error(t(160))}switch(C.tag){case 5:var k=C.stateNode;C.flags&32&&(li(k,""),C.flags&=-33);var _=qS(d);p1(d,_,k);break;case 3:case 4:var R=C.stateNode.containerInfo,G=qS(d);m1(d,G,R);break;default:throw Error(t(161))}}catch(W){Rt(d,d.return,W)}d.flags&=-3}m&4096&&(d.flags&=-4097)}function VR(d,m,b){Ce=d,t3(d)}function t3(d,m,b){for(var C=(d.mode&1)!==0;Ce!==null;){var k=Ce,_=k.child;if(k.tag===22&&C){var R=k.memoizedState!==null||fh;if(!R){var G=k.alternate,W=G!==null&&G.memoizedState!==null||Cs;G=fh;var ne=Cs;if(fh=R,(Cs=W)&&!ne)for(Ce=k;Ce!==null;)R=Ce,W=R.child,R.tag===22&&R.memoizedState!==null?i3(k):W!==null?(W.return=R,Ce=W):i3(k);for(;_!==null;)Ce=_,t3(_),_=_.sibling;Ce=k,fh=G,Cs=ne}s3(d)}else(k.subtreeFlags&8772)!==0&&_!==null?(_.return=k,Ce=_):s3(d)}}function s3(d){for(;Ce!==null;){var m=Ce;if((m.flags&8772)!==0){var b=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:Cs||uh(5,m);break;case 1:var C=m.stateNode;if(m.flags&4&&!Cs)if(b===null)C.componentDidMount();else{var k=m.elementType===m.type?b.memoizedProps:di(m.type,b.memoizedProps);C.componentDidUpdate(k,b.memoizedState,C.__reactInternalSnapshotBeforeUpdate)}var _=m.updateQueue;_!==null&&nS(m,_,C);break;case 3:var R=m.updateQueue;if(R!==null){if(b=null,m.child!==null)switch(m.child.tag){case 5:b=m.child.stateNode;break;case 1:b=m.child.stateNode}nS(m,R,b)}break;case 5:var G=m.stateNode;if(b===null&&m.flags&4){b=G;var W=m.memoizedProps;switch(m.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&b.focus();break;case"img":W.src&&(b.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(m.memoizedState===null){var ne=m.alternate;if(ne!==null){var ue=ne.memoizedState;if(ue!==null){var me=ue.dehydrated;me!==null&&Fc(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Cs||m.flags&512&&h1(m)}catch(fe){Rt(m,m.return,fe)}}if(m===d){Ce=null;break}if(b=m.sibling,b!==null){b.return=m.return,Ce=b;break}Ce=m.return}}function n3(d){for(;Ce!==null;){var m=Ce;if(m===d){Ce=null;break}var b=m.sibling;if(b!==null){b.return=m.return,Ce=b;break}Ce=m.return}}function i3(d){for(;Ce!==null;){var m=Ce;try{switch(m.tag){case 0:case 11:case 15:var b=m.return;try{uh(4,m)}catch(W){Rt(m,b,W)}break;case 1:var C=m.stateNode;if(typeof C.componentDidMount=="function"){var k=m.return;try{C.componentDidMount()}catch(W){Rt(m,k,W)}}var _=m.return;try{h1(m)}catch(W){Rt(m,_,W)}break;case 5:var R=m.return;try{h1(m)}catch(W){Rt(m,R,W)}}}catch(W){Rt(m,m.return,W)}if(m===d){Ce=null;break}var G=m.sibling;if(G!==null){G.return=m.return,Ce=G;break}Ce=m.return}}var GR=Math.ceil,dh=j.ReactCurrentDispatcher,g1=j.ReactCurrentOwner,Bn=j.ReactCurrentBatchConfig,rt=0,ls=null,Kt=null,ys=0,yn=0,wl=Xr(0),ss=0,lf=null,so=0,hh=0,x1=0,cf=null,Js=null,y1=0,Sl=1/0,vr=null,mh=!1,b1=null,ra=null,ph=!1,aa=null,gh=0,ff=0,v1=null,xh=-1,yh=0;function Fs(){return(rt&6)!==0?Vt():xh!==-1?xh:xh=Vt()}function oa(d){return(d.mode&1)===0?1:(rt&2)!==0&&ys!==0?ys&-ys:ER.transition!==null?(yh===0&&(yh=qw()),yh):(d=dt,d!==0||(d=window.event,d=d===void 0?16:a4(d.type)),d)}function pi(d,m,b,C){if(50<ff)throw ff=0,v1=null,Error(t(185));Ac(d,b,C),((rt&2)===0||d!==ls)&&(d===ls&&((rt&2)===0&&(hh|=b),ss===4&&la(d,ys)),qs(d,C),b===1&&rt===0&&(m.mode&1)===0&&(Sl=Vt()+500,Yd&&ta()))}function qs(d,m){var b=d.callbackNode;EP(d,m);var C=Ed(d,d===ls?ys:0);if(C===0)b!==null&&Qw(b),d.callbackNode=null,d.callbackPriority=0;else if(m=C&-C,d.callbackPriority!==m){if(b!=null&&Qw(b),m===1)d.tag===0?jR(a3.bind(null,d)):H4(a3.bind(null,d)),SR(function(){(rt&6)===0&&ta()}),b=null;else{switch(Zw(C)){case 1:b=Xp;break;case 4:b=Kw;break;case 16:b=Ld;break;case 536870912:b=Jw;break;default:b=Ld}b=m3(b,r3.bind(null,d))}d.callbackPriority=m,d.callbackNode=b}}function r3(d,m){if(xh=-1,yh=0,(rt&6)!==0)throw Error(t(327));var b=d.callbackNode;if(Ll()&&d.callbackNode!==b)return null;var C=Ed(d,d===ls?ys:0);if(C===0)return null;if((C&30)!==0||(C&d.expiredLanes)!==0||m)m=bh(d,C);else{m=C;var k=rt;rt|=2;var _=l3();(ls!==d||ys!==m)&&(vr=null,Sl=Vt()+500,io(d,m));do try{WR();break}catch(G){o3(d,G)}while(!0);Fg(),dh.current=_,rt=k,Kt!==null?m=0:(ls=null,ys=0,m=ss)}if(m!==0){if(m===2&&(k=eg(d),k!==0&&(C=k,m=w1(d,k))),m===1)throw b=lf,io(d,0),la(d,C),qs(d,Vt()),b;if(m===6)la(d,C);else{if(k=d.current.alternate,(C&30)===0&&!HR(k)&&(m=bh(d,C),m===2&&(_=eg(d),_!==0&&(C=_,m=w1(d,_))),m===1))throw b=lf,io(d,0),la(d,C),qs(d,Vt()),b;switch(d.finishedWork=k,d.finishedLanes=C,m){case 0:case 1:throw Error(t(345));case 2:ro(d,Js,vr);break;case 3:if(la(d,C),(C&130023424)===C&&(m=y1+500-Vt(),10<m)){if(Ed(d,0)!==0)break;if(k=d.suspendedLanes,(k&C)!==C){Fs(),d.pingedLanes|=d.suspendedLanes&k;break}d.timeoutHandle=Eg(ro.bind(null,d,Js,vr),m);break}ro(d,Js,vr);break;case 4:if(la(d,C),(C&4194240)===C)break;for(m=d.eventTimes,k=-1;0<C;){var R=31-ci(C);_=1<<R,R=m[R],R>k&&(k=R),C&=~_}if(C=k,C=Vt()-C,C=(120>C?120:480>C?480:1080>C?1080:1920>C?1920:3e3>C?3e3:4320>C?4320:1960*GR(C/1960))-C,10<C){d.timeoutHandle=Eg(ro.bind(null,d,Js,vr),C);break}ro(d,Js,vr);break;case 5:ro(d,Js,vr);break;default:throw Error(t(329))}}}return qs(d,Vt()),d.callbackNode===b?r3.bind(null,d):null}function w1(d,m){var b=cf;return d.current.memoizedState.isDehydrated&&(io(d,m).flags|=256),d=bh(d,m),d!==2&&(m=Js,Js=b,m!==null&&S1(m)),d}function S1(d){Js===null?Js=d:Js.push.apply(Js,d)}function HR(d){for(var m=d;;){if(m.flags&16384){var b=m.updateQueue;if(b!==null&&(b=b.stores,b!==null))for(var C=0;C<b.length;C++){var k=b[C],_=k.getSnapshot;k=k.value;try{if(!fi(_(),k))return!1}catch{return!1}}}if(b=m.child,m.subtreeFlags&16384&&b!==null)b.return=m,m=b;else{if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function la(d,m){for(m&=~x1,m&=~hh,d.suspendedLanes|=m,d.pingedLanes&=~m,d=d.expirationTimes;0<m;){var b=31-ci(m),C=1<<b;d[b]=-1,m&=~C}}function a3(d){if((rt&6)!==0)throw Error(t(327));Ll();var m=Ed(d,0);if((m&1)===0)return qs(d,Vt()),null;var b=bh(d,m);if(d.tag!==0&&b===2){var C=eg(d);C!==0&&(m=C,b=w1(d,C))}if(b===1)throw b=lf,io(d,0),la(d,m),qs(d,Vt()),b;if(b===6)throw Error(t(345));return d.finishedWork=d.current.alternate,d.finishedLanes=m,ro(d,Js,vr),qs(d,Vt()),null}function L1(d,m){var b=rt;rt|=1;try{return d(m)}finally{rt=b,rt===0&&(Sl=Vt()+500,Yd&&ta())}}function no(d){aa!==null&&aa.tag===0&&(rt&6)===0&&Ll();var m=rt;rt|=1;var b=Bn.transition,C=dt;try{if(Bn.transition=null,dt=1,d)return d()}finally{dt=C,Bn.transition=b,rt=m,(rt&6)===0&&ta()}}function C1(){yn=wl.current,vt(wl)}function io(d,m){d.finishedWork=null,d.finishedLanes=0;var b=d.timeoutHandle;if(b!==-1&&(d.timeoutHandle=-1,wR(b)),Kt!==null)for(b=Kt.return;b!==null;){var C=b;switch(Ag(C),C.tag){case 1:C=C.type.childContextTypes,C!=null&&Gd();break;case 3:yl(),vt(Ws),vt(ws),Yg();break;case 5:Gg(C);break;case 4:yl();break;case 13:vt(Et);break;case 19:vt(Et);break;case 10:zg(C.type._context);break;case 22:case 23:C1()}b=b.return}if(ls=d,Kt=d=ca(d.current,null),ys=yn=m,ss=0,lf=null,x1=hh=so=0,Js=cf=null,Xa!==null){for(m=0;m<Xa.length;m++)if(b=Xa[m],C=b.interleaved,C!==null){b.interleaved=null;var k=C.next,_=b.pending;if(_!==null){var R=_.next;_.next=k,C.next=R}b.pending=C}Xa=null}return d}function o3(d,m){do{var b=Kt;try{if(Fg(),sh.current=ah,nh){for(var C=Nt.memoizedState;C!==null;){var k=C.queue;k!==null&&(k.pending=null),C=C.next}nh=!1}if(to=0,os=ts=Nt=null,tf=!1,sf=0,g1.current=null,b===null||b.return===null){ss=1,lf=m,Kt=null;break}e:{var _=d,R=b.return,G=b,W=m;if(m=ys,G.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var ne=W,ue=G,me=ue.tag;if((ue.mode&1)===0&&(me===0||me===11||me===15)){var fe=ue.alternate;fe?(ue.updateQueue=fe.updateQueue,ue.memoizedState=fe.memoizedState,ue.lanes=fe.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var Se=_S(R);if(Se!==null){Se.flags&=-257,AS(Se,R,G,_,m),Se.mode&1&&IS(_,ne,m),m=Se,W=ne;var Te=m.updateQueue;if(Te===null){var Ne=new Set;Ne.add(W),m.updateQueue=Ne}else Te.add(W);break e}else{if((m&1)===0){IS(_,ne,m),T1();break e}W=Error(t(426))}}else if(St&&G.mode&1){var Gt=_S(R);if(Gt!==null){(Gt.flags&65536)===0&&(Gt.flags|=256),AS(Gt,R,G,_,m),Rg(bl(W,G));break e}}_=W=bl(W,G),ss!==4&&(ss=2),cf===null?cf=[_]:cf.push(_),_=R;do{switch(_.tag){case 3:_.flags|=65536,m&=-m,_.lanes|=m;var ee=MS(_,W,m);sS(_,ee);break e;case 1:G=W;var J=_.type,se=_.stateNode;if((_.flags&128)===0&&(typeof J.getDerivedStateFromError=="function"||se!==null&&typeof se.componentDidCatch=="function"&&(ra===null||!ra.has(se)))){_.flags|=65536,m&=-m,_.lanes|=m;var pe=kS(_,G,m);sS(_,pe);break e}}_=_.return}while(_!==null)}f3(b)}catch(ke){m=ke,Kt===b&&b!==null&&(Kt=b=b.return);continue}break}while(!0)}function l3(){var d=dh.current;return dh.current=ah,d===null?ah:d}function T1(){(ss===0||ss===3||ss===2)&&(ss=4),ls===null||(so&268435455)===0&&(hh&268435455)===0||la(ls,ys)}function bh(d,m){var b=rt;rt|=2;var C=l3();(ls!==d||ys!==m)&&(vr=null,io(d,m));do try{YR();break}catch(k){o3(d,k)}while(!0);if(Fg(),rt=b,dh.current=C,Kt!==null)throw Error(t(261));return ls=null,ys=0,ss}function YR(){for(;Kt!==null;)c3(Kt)}function WR(){for(;Kt!==null&&!yP();)c3(Kt)}function c3(d){var m=h3(d.alternate,d,yn);d.memoizedProps=d.pendingProps,m===null?f3(d):Kt=m,g1.current=null}function f3(d){var m=d;do{var b=m.alternate;if(d=m.return,(m.flags&32768)===0){if(b=zR(b,m,yn),b!==null){Kt=b;return}}else{if(b=BR(b,m),b!==null){b.flags&=32767,Kt=b;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{ss=6,Kt=null;return}}if(m=m.sibling,m!==null){Kt=m;return}Kt=m=d}while(m!==null);ss===0&&(ss=5)}function ro(d,m,b){var C=dt,k=Bn.transition;try{Bn.transition=null,dt=1,QR(d,m,b,C)}finally{Bn.transition=k,dt=C}return null}function QR(d,m,b,C){do Ll();while(aa!==null);if((rt&6)!==0)throw Error(t(327));b=d.finishedWork;var k=d.finishedLanes;if(b===null)return null;if(d.finishedWork=null,d.finishedLanes=0,b===d.current)throw Error(t(177));d.callbackNode=null,d.callbackPriority=0;var _=b.lanes|b.childLanes;if(NP(d,_),d===ls&&(Kt=ls=null,ys=0),(b.subtreeFlags&2064)===0&&(b.flags&2064)===0||ph||(ph=!0,m3(Ld,function(){return Ll(),null})),_=(b.flags&15990)!==0,(b.subtreeFlags&15990)!==0||_){_=Bn.transition,Bn.transition=null;var R=dt;dt=1;var G=rt;rt|=4,g1.current=null,$R(d,b),e3(b,d),mR(Tg),kd=!!Cg,Tg=Cg=null,d.current=b,VR(b),bP(),rt=G,dt=R,Bn.transition=_}else d.current=b;if(ph&&(ph=!1,aa=d,gh=k),_=d.pendingLanes,_===0&&(ra=null),SP(b.stateNode),qs(d,Vt()),m!==null)for(C=d.onRecoverableError,b=0;b<m.length;b++)k=m[b],C(k.value,{componentStack:k.stack,digest:k.digest});if(mh)throw mh=!1,d=b1,b1=null,d;return(gh&1)!==0&&d.tag!==0&&Ll(),_=d.pendingLanes,(_&1)!==0?d===v1?ff++:(ff=0,v1=d):ff=0,ta(),null}function Ll(){if(aa!==null){var d=Zw(gh),m=Bn.transition,b=dt;try{if(Bn.transition=null,dt=16>d?16:d,aa===null)var C=!1;else{if(d=aa,aa=null,gh=0,(rt&6)!==0)throw Error(t(331));var k=rt;for(rt|=4,Ce=d.current;Ce!==null;){var _=Ce,R=_.child;if((Ce.flags&16)!==0){var G=_.deletions;if(G!==null){for(var W=0;W<G.length;W++){var ne=G[W];for(Ce=ne;Ce!==null;){var ue=Ce;switch(ue.tag){case 0:case 11:case 15:of(8,ue,_)}var me=ue.child;if(me!==null)me.return=ue,Ce=me;else for(;Ce!==null;){ue=Ce;var fe=ue.sibling,Se=ue.return;if(KS(ue),ue===ne){Ce=null;break}if(fe!==null){fe.return=Se,Ce=fe;break}Ce=Se}}}var Te=_.alternate;if(Te!==null){var Ne=Te.child;if(Ne!==null){Te.child=null;do{var Gt=Ne.sibling;Ne.sibling=null,Ne=Gt}while(Ne!==null)}}Ce=_}}if((_.subtreeFlags&2064)!==0&&R!==null)R.return=_,Ce=R;else e:for(;Ce!==null;){if(_=Ce,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:of(9,_,_.return)}var ee=_.sibling;if(ee!==null){ee.return=_.return,Ce=ee;break e}Ce=_.return}}var J=d.current;for(Ce=J;Ce!==null;){R=Ce;var se=R.child;if((R.subtreeFlags&2064)!==0&&se!==null)se.return=R,Ce=se;else e:for(R=J;Ce!==null;){if(G=Ce,(G.flags&2048)!==0)try{switch(G.tag){case 0:case 11:case 15:uh(9,G)}}catch(ke){Rt(G,G.return,ke)}if(G===R){Ce=null;break e}var pe=G.sibling;if(pe!==null){pe.return=G.return,Ce=pe;break e}Ce=G.return}}if(rt=k,ta(),ki&&typeof ki.onPostCommitFiberRoot=="function")try{ki.onPostCommitFiberRoot(Cd,d)}catch{}C=!0}return C}finally{dt=b,Bn.transition=m}}return!1}function u3(d,m,b){m=bl(b,m),m=MS(d,m,1),d=na(d,m,1),m=Fs(),d!==null&&(Ac(d,1,m),qs(d,m))}function Rt(d,m,b){if(d.tag===3)u3(d,d,b);else for(;m!==null;){if(m.tag===3){u3(m,d,b);break}else if(m.tag===1){var C=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(ra===null||!ra.has(C))){d=bl(b,d),d=kS(m,d,1),m=na(m,d,1),d=Fs(),m!==null&&(Ac(m,1,d),qs(m,d));break}}m=m.return}}function KR(d,m,b){var C=d.pingCache;C!==null&&C.delete(m),m=Fs(),d.pingedLanes|=d.suspendedLanes&b,ls===d&&(ys&b)===b&&(ss===4||ss===3&&(ys&130023424)===ys&&500>Vt()-y1?io(d,0):x1|=b),qs(d,m)}function d3(d,m){m===0&&((d.mode&1)===0?m=1:(m=jd,jd<<=1,(jd&130023424)===0&&(jd=4194304)));var b=Fs();d=xr(d,m),d!==null&&(Ac(d,m,b),qs(d,b))}function JR(d){var m=d.memoizedState,b=0;m!==null&&(b=m.retryLane),d3(d,b)}function qR(d,m){var b=0;switch(d.tag){case 13:var C=d.stateNode,k=d.memoizedState;k!==null&&(b=k.retryLane);break;case 19:C=d.stateNode;break;default:throw Error(t(314))}C!==null&&C.delete(m),d3(d,b)}var h3;h3=function(d,m,b){if(d!==null)if(d.memoizedProps!==m.pendingProps||Ws.current)Ks=!0;else{if((d.lanes&b)===0&&(m.flags&128)===0)return Ks=!1,FR(d,m,b);Ks=(d.flags&131072)!==0}else Ks=!1,St&&(m.flags&1048576)!==0&&Y4(m,Qd,m.index);switch(m.lanes=0,m.tag){case 2:var C=m.type;ch(d,m),d=m.pendingProps;var k=ul(m,ws.current);xl(m,b),k=Kg(null,m,C,d,k,b);var _=Jg();return m.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,Qs(C)?(_=!0,Hd(m)):_=!1,m.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,$g(m),k.updater=oh,m.stateNode=k,k._reactInternals=m,s1(m,C,d,b),m=a1(null,m,C,!0,_,b)):(m.tag=0,St&&_&&_g(m),Os(null,m,k,b),m=m.child),m;case 16:C=m.elementType;e:{switch(ch(d,m),d=m.pendingProps,k=C._init,C=k(C._payload),m.type=C,k=m.tag=XR(C),d=di(C,d),k){case 0:m=r1(null,m,C,d,b);break e;case 1:m=zS(null,m,C,d,b);break e;case 11:m=DS(null,m,C,d,b);break e;case 14:m=PS(null,m,C,di(C.type,d),b);break e}throw Error(t(306,C,""))}return m;case 0:return C=m.type,k=m.pendingProps,k=m.elementType===C?k:di(C,k),r1(d,m,C,k,b);case 1:return C=m.type,k=m.pendingProps,k=m.elementType===C?k:di(C,k),zS(d,m,C,k,b);case 3:e:{if(BS(m),d===null)throw Error(t(387));C=m.pendingProps,_=m.memoizedState,k=_.element,tS(d,m),eh(m,C,null,b);var R=m.memoizedState;if(C=R.element,_.isDehydrated)if(_={element:C,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},m.updateQueue.baseState=_,m.memoizedState=_,m.flags&256){k=bl(Error(t(423)),m),m=US(d,m,C,b,k);break e}else if(C!==k){k=bl(Error(t(424)),m),m=US(d,m,C,b,k);break e}else for(xn=Zr(m.stateNode.containerInfo.firstChild),gn=m,St=!0,ui=null,b=X4(m,null,C,b),m.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(ml(),C===k){m=br(d,m,b);break e}Os(d,m,C,b)}m=m.child}return m;case 5:return iS(m),d===null&&Pg(m),C=m.type,k=m.pendingProps,_=d!==null?d.memoizedProps:null,R=k.children,jg(C,k)?R=null:_!==null&&jg(C,_)&&(m.flags|=32),FS(d,m),Os(d,m,R,b),m.child;case 6:return d===null&&Pg(m),null;case 13:return $S(d,m,b);case 4:return Vg(m,m.stateNode.containerInfo),C=m.pendingProps,d===null?m.child=pl(m,null,C,b):Os(d,m,C,b),m.child;case 11:return C=m.type,k=m.pendingProps,k=m.elementType===C?k:di(C,k),DS(d,m,C,k,b);case 7:return Os(d,m,m.pendingProps,b),m.child;case 8:return Os(d,m,m.pendingProps.children,b),m.child;case 12:return Os(d,m,m.pendingProps.children,b),m.child;case 10:e:{if(C=m.type._context,k=m.pendingProps,_=m.memoizedProps,R=k.value,yt(qd,C._currentValue),C._currentValue=R,_!==null)if(fi(_.value,R)){if(_.children===k.children&&!Ws.current){m=br(d,m,b);break e}}else for(_=m.child,_!==null&&(_.return=m);_!==null;){var G=_.dependencies;if(G!==null){R=_.child;for(var W=G.firstContext;W!==null;){if(W.context===C){if(_.tag===1){W=yr(-1,b&-b),W.tag=2;var ne=_.updateQueue;if(ne!==null){ne=ne.shared;var ue=ne.pending;ue===null?W.next=W:(W.next=ue.next,ue.next=W),ne.pending=W}}_.lanes|=b,W=_.alternate,W!==null&&(W.lanes|=b),Bg(_.return,b,m),G.lanes|=b;break}W=W.next}}else if(_.tag===10)R=_.type===m.type?null:_.child;else if(_.tag===18){if(R=_.return,R===null)throw Error(t(341));R.lanes|=b,G=R.alternate,G!==null&&(G.lanes|=b),Bg(R,b,m),R=_.sibling}else R=_.child;if(R!==null)R.return=_;else for(R=_;R!==null;){if(R===m){R=null;break}if(_=R.sibling,_!==null){_.return=R.return,R=_;break}R=R.return}_=R}Os(d,m,k.children,b),m=m.child}return m;case 9:return k=m.type,C=m.pendingProps.children,xl(m,b),k=Fn(k),C=C(k),m.flags|=1,Os(d,m,C,b),m.child;case 14:return C=m.type,k=di(C,m.pendingProps),k=di(C.type,k),PS(d,m,C,k,b);case 15:return RS(d,m,m.type,m.pendingProps,b);case 17:return C=m.type,k=m.pendingProps,k=m.elementType===C?k:di(C,k),ch(d,m),m.tag=1,Qs(C)?(d=!0,Hd(m)):d=!1,xl(m,b),ES(m,C,k),s1(m,C,k,b),a1(null,m,C,!0,d,b);case 19:return GS(d,m,b);case 22:return OS(d,m,b)}throw Error(t(156,m.tag))};function m3(d,m){return Ww(d,m)}function ZR(d,m,b,C){this.tag=d,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(d,m,b,C){return new ZR(d,m,b,C)}function j1(d){return d=d.prototype,!(!d||!d.isReactComponent)}function XR(d){if(typeof d=="function")return j1(d)?1:0;if(d!=null){if(d=d.$$typeof,d===O)return 11;if(d===Z)return 14}return 2}function ca(d,m){var b=d.alternate;return b===null?(b=Un(d.tag,m,d.key,d.mode),b.elementType=d.elementType,b.type=d.type,b.stateNode=d.stateNode,b.alternate=d,d.alternate=b):(b.pendingProps=m,b.type=d.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=d.flags&14680064,b.childLanes=d.childLanes,b.lanes=d.lanes,b.child=d.child,b.memoizedProps=d.memoizedProps,b.memoizedState=d.memoizedState,b.updateQueue=d.updateQueue,m=d.dependencies,b.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},b.sibling=d.sibling,b.index=d.index,b.ref=d.ref,b}function vh(d,m,b,C,k,_){var R=2;if(C=d,typeof d=="function")j1(d)&&(R=1);else if(typeof d=="string")R=5;else e:switch(d){case N:return ao(b.children,k,_,m);case I:R=8,k|=8;break;case A:return d=Un(12,b,m,k|2),d.elementType=A,d.lanes=_,d;case Y:return d=Un(13,b,m,k),d.elementType=Y,d.lanes=_,d;case q:return d=Un(19,b,m,k),d.elementType=q,d.lanes=_,d;case H:return wh(b,k,_,m);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case D:R=10;break e;case z:R=9;break e;case O:R=11;break e;case Z:R=14;break e;case V:R=16,C=null;break e}throw Error(t(130,d==null?d:typeof d,""))}return m=Un(R,b,m,k),m.elementType=d,m.type=C,m.lanes=_,m}function ao(d,m,b,C){return d=Un(7,d,C,m),d.lanes=b,d}function wh(d,m,b,C){return d=Un(22,d,C,m),d.elementType=H,d.lanes=b,d.stateNode={isHidden:!1},d}function E1(d,m,b){return d=Un(6,d,null,m),d.lanes=b,d}function N1(d,m,b){return m=Un(4,d.children!==null?d.children:[],d.key,m),m.lanes=b,m.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},m}function e5(d,m,b,C,k){this.tag=m,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tg(0),this.expirationTimes=tg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tg(0),this.identifierPrefix=C,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function M1(d,m,b,C,k,_,R,G,W){return d=new e5(d,m,b,G,W),m===1?(m=1,_===!0&&(m|=8)):m=0,_=Un(3,null,null,m),d.current=_,_.stateNode=d,_.memoizedState={element:C,isDehydrated:b,cache:null,transitions:null,pendingSuspenseBoundaries:null},$g(_),d}function t5(d,m,b){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:C==null?null:""+C,children:d,containerInfo:m,implementation:b}}function p3(d){if(!d)return ea;d=d._reactInternals;e:{if(Qa(d)!==d||d.tag!==1)throw Error(t(170));var m=d;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(Qs(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(t(171))}if(d.tag===1){var b=d.type;if(Qs(b))return V4(d,b,m)}return m}function g3(d,m,b,C,k,_,R,G,W){return d=M1(b,C,!0,d,k,_,R,G,W),d.context=p3(null),b=d.current,C=Fs(),k=oa(b),_=yr(C,k),_.callback=m??null,na(b,_,k),d.current.lanes=k,Ac(d,k,C),qs(d,C),d}function Sh(d,m,b,C){var k=m.current,_=Fs(),R=oa(k);return b=p3(b),m.context===null?m.context=b:m.pendingContext=b,m=yr(_,R),m.payload={element:d},C=C===void 0?null:C,C!==null&&(m.callback=C),d=na(k,m,R),d!==null&&(pi(d,k,R,_),Xd(d,k,R)),R}function Lh(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function x3(d,m){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var b=d.retryLane;d.retryLane=b!==0&&b<m?b:m}}function k1(d,m){x3(d,m),(d=d.alternate)&&x3(d,m)}function s5(){return null}var y3=typeof reportError=="function"?reportError:function(d){console.error(d)};function I1(d){this._internalRoot=d}Ch.prototype.render=I1.prototype.render=function(d){var m=this._internalRoot;if(m===null)throw Error(t(409));Sh(d,m,null,null)},Ch.prototype.unmount=I1.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var m=d.containerInfo;no(function(){Sh(null,d,null,null)}),m[hr]=null}};function Ch(d){this._internalRoot=d}Ch.prototype.unstable_scheduleHydration=function(d){if(d){var m=t4();d={blockedOn:null,target:d,priority:m};for(var b=0;b<Kr.length&&m!==0&&m<Kr[b].priority;b++);Kr.splice(b,0,d),b===0&&i4(d)}};function _1(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function Th(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function b3(){}function n5(d,m,b,C,k){if(k){if(typeof C=="function"){var _=C;C=function(){var ne=Lh(R);_.call(ne)}}var R=g3(m,C,d,0,null,!1,!1,"",b3);return d._reactRootContainer=R,d[hr]=R.current,Wc(d.nodeType===8?d.parentNode:d),no(),R}for(;k=d.lastChild;)d.removeChild(k);if(typeof C=="function"){var G=C;C=function(){var ne=Lh(W);G.call(ne)}}var W=M1(d,0,!1,null,null,!1,!1,"",b3);return d._reactRootContainer=W,d[hr]=W.current,Wc(d.nodeType===8?d.parentNode:d),no(function(){Sh(m,W,b,C)}),W}function jh(d,m,b,C,k){var _=b._reactRootContainer;if(_){var R=_;if(typeof k=="function"){var G=k;k=function(){var W=Lh(R);G.call(W)}}Sh(m,R,d,k)}else R=n5(b,m,d,k,C);return Lh(R)}Xw=function(d){switch(d.tag){case 3:var m=d.stateNode;if(m.current.memoizedState.isDehydrated){var b=_c(m.pendingLanes);b!==0&&(sg(m,b|1),qs(m,Vt()),(rt&6)===0&&(Sl=Vt()+500,ta()))}break;case 13:no(function(){var C=xr(d,1);if(C!==null){var k=Fs();pi(C,d,1,k)}}),k1(d,1)}},ng=function(d){if(d.tag===13){var m=xr(d,134217728);if(m!==null){var b=Fs();pi(m,d,134217728,b)}k1(d,134217728)}},e4=function(d){if(d.tag===13){var m=oa(d),b=xr(d,m);if(b!==null){var C=Fs();pi(b,d,m,C)}k1(d,m)}},t4=function(){return dt},s4=function(d,m){var b=dt;try{return dt=d,m()}finally{dt=b}},dr=function(d,m,b){switch(m){case"input":if(Pt(d,b),m=b.name,b.type==="radio"&&m!=null){for(b=d;b.parentNode;)b=b.parentNode;for(b=b.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<b.length;m++){var C=b[m];if(C!==d&&C.form===d.form){var k=Vd(C);if(!k)throw Error(t(90));Pn(C),Pt(C,k)}}}break;case"textarea":Ni(d,b);break;case"select":m=b.value,m!=null&&Rs(d,!!b.multiple,m,!1)}},Bw=L1,Uw=no;var i5={usingClientEntryPoint:!1,Events:[Jc,cl,Vd,Fw,zw,L1]},uf={findFiberByHostInstance:Ka,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},r5={bundleType:uf.bundleType,version:uf.version,rendererPackageName:uf.rendererPackageName,rendererConfig:uf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=Hw(d),d===null?null:d.stateNode},findFiberByHostInstance:uf.findFiberByHostInstance||s5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eh.isDisabled&&Eh.supportsFiber)try{Cd=Eh.inject(r5),ki=Eh}catch{}}return Zs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i5,Zs.createPortal=function(d,m){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_1(m))throw Error(t(200));return t5(d,m,null,b)},Zs.createRoot=function(d,m){if(!_1(d))throw Error(t(299));var b=!1,C="",k=y3;return m!=null&&(m.unstable_strictMode===!0&&(b=!0),m.identifierPrefix!==void 0&&(C=m.identifierPrefix),m.onRecoverableError!==void 0&&(k=m.onRecoverableError)),m=M1(d,1,!1,null,null,b,!1,C,k),d[hr]=m.current,Wc(d.nodeType===8?d.parentNode:d),new I1(m)},Zs.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var m=d._reactInternals;if(m===void 0)throw typeof d.render=="function"?Error(t(188)):(d=Object.keys(d).join(","),Error(t(268,d)));return d=Hw(m),d=d===null?null:d.stateNode,d},Zs.flushSync=function(d){return no(d)},Zs.hydrate=function(d,m,b){if(!Th(m))throw Error(t(200));return jh(null,d,m,!0,b)},Zs.hydrateRoot=function(d,m,b){if(!_1(d))throw Error(t(405));var C=b!=null&&b.hydratedSources||null,k=!1,_="",R=y3;if(b!=null&&(b.unstable_strictMode===!0&&(k=!0),b.identifierPrefix!==void 0&&(_=b.identifierPrefix),b.onRecoverableError!==void 0&&(R=b.onRecoverableError)),m=g3(m,null,d,1,b??null,k,!1,_,R),d[hr]=m.current,Wc(d),C)for(d=0;d<C.length;d++)b=C[d],k=b._getVersion,k=k(b._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[b,k]:m.mutableSourceEagerHydrationData.push(b,k);return new Ch(m)},Zs.render=function(d,m,b){if(!Th(m))throw Error(t(200));return jh(null,d,m,!1,b)},Zs.unmountComponentAtNode=function(d){if(!Th(d))throw Error(t(40));return d._reactRootContainer?(no(function(){jh(null,null,d,!1,function(){d._reactRootContainer=null,d[hr]=null})}),!0):!1},Zs.unstable_batchedUpdates=L1,Zs.unstable_renderSubtreeIntoContainer=function(d,m,b,C){if(!Th(b))throw Error(t(200));if(d==null||d._reactInternals===void 0)throw Error(t(38));return jh(d,m,b,!1,C)},Zs.version="18.3.1-next-f1338f8080-20240426",Zs}var E3;function g5(){if(E3)return P1.exports;E3=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),P1.exports=p5(),P1.exports}var N3;function x5(){if(N3)return Nh;N3=1;var s=g5();return Nh.createRoot=s.createRoot,Nh.hydrateRoot=s.hydrateRoot,Nh}var y5=x5(),hf={},M3;function b5(){if(M3)return hf;M3=1,Object.defineProperty(hf,"__esModule",{value:!0}),hf.parse=a,hf.serialize=f;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,r=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function a(p,g){const x=new r,y=p.length;if(y<2)return x;const v=(g==null?void 0:g.decode)||u;let w=0;do{const L=p.indexOf("=",w);if(L===-1)break;const S=p.indexOf(";",w),j=S===-1?y:S;if(L>j){w=p.lastIndexOf(";",L-1)+1;continue}const E=l(p,w,L),M=c(p,L,E),N=p.slice(E,M);if(x[N]===void 0){let I=l(p,L+1,j),A=c(p,j,I);const D=v(p.slice(I,A));x[N]=D}w=j+1}while(w<y);return x}function l(p,g,x){do{const y=p.charCodeAt(g);if(y!==32&&y!==9)return g}while(++g<x);return x}function c(p,g,x){for(;g>x;){const y=p.charCodeAt(--g);if(y!==32&&y!==9)return g+1}return x}function f(p,g,x){const y=(x==null?void 0:x.encode)||encodeURIComponent;if(!s.test(p))throw new TypeError(`argument name is invalid: ${p}`);const v=y(g);if(!e.test(v))throw new TypeError(`argument val is invalid: ${g}`);let w=p+"="+v;if(!x)return w;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);w+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);w+="; Domain="+x.domain}if(x.path){if(!n.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);w+="; Path="+x.path}if(x.expires){if(!h(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);w+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(w+="; HttpOnly"),x.secure&&(w+="; Secure"),x.partitioned&&(w+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":w+="; Priority=Low";break;case"medium":w+="; Priority=Medium";break;case"high":w+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":w+="; SameSite=Strict";break;case"lax":w+="; SameSite=Lax";break;case"none":w+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return w}function u(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function h(p){return i.call(p)==="[object Date]"}return hf}b5();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var k3="popstate";function v5(s={}){function e(n,i){let{pathname:r,search:a,hash:l}=n.location;return by("",{pathname:r,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:hu(i)}return S5(e,t,null,s)}function At(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function ir(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function w5(){return Math.random().toString(36).substring(2,10)}function I3(s,e){return{usr:s.state,key:s.key,idx:e}}function by(s,e,t=null,n){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?xc(e):e,state:t,key:e&&e.key||n||w5()}}function hu({pathname:s="/",search:e="",hash:t=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(s+=t.charAt(0)==="#"?t:"#"+t),s}function xc(s){let e={};if(s){let t=s.indexOf("#");t>=0&&(e.hash=s.substring(t),s=s.substring(0,t));let n=s.indexOf("?");n>=0&&(e.search=s.substring(n),s=s.substring(0,n)),s&&(e.pathname=s)}return e}function S5(s,e,t,n={}){let{window:i=document.defaultView,v5Compat:r=!1}=n,a=i.history,l="POP",c=null,f=u();f==null&&(f=0,a.replaceState({...a.state,idx:f},""));function u(){return(a.state||{idx:null}).idx}function h(){l="POP";let v=u(),w=v==null?null:v-f;f=v,c&&c({action:l,location:y.location,delta:w})}function p(v,w){l="PUSH";let L=by(y.location,v,w);f=u()+1;let S=I3(L,f),j=y.createHref(L);try{a.pushState(S,"",j)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(j)}r&&c&&c({action:l,location:y.location,delta:1})}function g(v,w){l="REPLACE";let L=by(y.location,v,w);f=u();let S=I3(L,f),j=y.createHref(L);a.replaceState(S,"",j),r&&c&&c({action:l,location:y.location,delta:0})}function x(v){let w=i.location.origin!=="null"?i.location.origin:i.location.href,L=typeof v=="string"?v:hu(v);return L=L.replace(/ $/,"%20"),At(w,`No window.location.(origin|href) available to create URL for href: ${L}`),new URL(L,w)}let y={get action(){return l},get location(){return s(i,a)},listen(v){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(k3,h),c=v,()=>{i.removeEventListener(k3,h),c=null}},createHref(v){return e(i,v)},createURL:x,encodeLocation(v){let w=x(v);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(v){return a.go(v)}};return y}function fE(s,e,t="/"){return L5(s,e,t,!1)}function L5(s,e,t,n){let i=typeof e=="string"?xc(e):e,r=Pr(i.pathname||"/",t);if(r==null)return null;let a=uE(s);C5(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let f=P5(r);l=A5(a[c],f,n)}return l}function uE(s,e=[],t=[],n=""){let i=(r,a,l)=>{let c={relativePath:l===void 0?r.path||"":l,caseSensitive:r.caseSensitive===!0,childrenIndex:a,route:r};c.relativePath.startsWith("/")&&(At(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length));let f=Dr([n,c.relativePath]),u=t.concat(c);r.children&&r.children.length>0&&(At(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),uE(r.children,e,u,f)),!(r.path==null&&!r.index)&&e.push({path:f,score:I5(f,r.index),routesMeta:u})};return s.forEach((r,a)=>{var l;if(r.path===""||!((l=r.path)!=null&&l.includes("?")))i(r,a);else for(let c of dE(r.path))i(r,a,c)}),e}function dE(s){let e=s.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),r=t.replace(/\?$/,"");if(n.length===0)return i?[r,""]:[r];let a=dE(n.join("/")),l=[];return l.push(...a.map(c=>c===""?r:[r,c].join("/"))),i&&l.push(...a),l.map(c=>s.startsWith("/")&&c===""?"/":c)}function C5(s){s.sort((e,t)=>e.score!==t.score?t.score-e.score:_5(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var T5=/^:[\w-]+$/,j5=3,E5=2,N5=1,M5=10,k5=-2,_3=s=>s==="*";function I5(s,e){let t=s.split("/"),n=t.length;return t.some(_3)&&(n+=k5),e&&(n+=E5),t.filter(i=>!_3(i)).reduce((i,r)=>i+(T5.test(r)?j5:r===""?N5:M5),n)}function _5(s,e){return s.length===e.length&&s.slice(0,-1).every((n,i)=>n===e[i])?s[s.length-1]-e[e.length-1]:0}function A5(s,e,t=!1){let{routesMeta:n}=s,i={},r="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],f=l===n.length-1,u=r==="/"?e:e.slice(r.length)||"/",h=om({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},u),p=c.route;if(!h&&f&&t&&!n[n.length-1].route.index&&(h=om({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:Dr([r,h.pathname]),pathnameBase:z5(Dr([r,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(r=Dr([r,h.pathnameBase]))}return a}function om(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[t,n]=D5(s.path,s.caseSensitive,s.end),i=e.match(t);if(!i)return null;let r=i[0],a=r.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((f,{paramName:u,isOptional:h},p)=>{if(u==="*"){let x=l[p]||"";a=r.slice(0,r.length-x.length).replace(/(.)\/+$/,"$1")}const g=l[p];return h&&!g?f[u]=void 0:f[u]=(g||"").replace(/%2F/g,"/"),f},{}),pathname:r,pathnameBase:a,pattern:s}}function D5(s,e=!1,t=!0){ir(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let n=[],i="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(n.push({paramName:"*"}),i+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":s!==""&&s!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function P5(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ir(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Pr(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=s.charAt(t);return n&&n!=="/"?null:s.slice(t)||"/"}function R5(s,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof s=="string"?xc(s):s;return{pathname:t?t.startsWith("/")?t:O5(t,e):e,search:B5(n),hash:U5(i)}}function O5(s,e){let t=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function F1(s,e,t,n){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function F5(s){return s.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function hE(s){let e=F5(s);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function mE(s,e,t,n=!1){let i;typeof s=="string"?i=xc(s):(i={...s},At(!i.pathname||!i.pathname.includes("?"),F1("?","pathname","search",i)),At(!i.pathname||!i.pathname.includes("#"),F1("#","pathname","hash",i)),At(!i.search||!i.search.includes("#"),F1("#","search","hash",i)));let r=s===""||i.pathname==="",a=r?"/":i.pathname,l;if(a==null)l=t;else{let h=e.length-1;if(!n&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}l=h>=0?e[h]:"/"}let c=R5(i,l),f=a&&a!=="/"&&a.endsWith("/"),u=(r||a===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(f||u)&&(c.pathname+="/"),c}var Dr=s=>s.join("/").replace(/\/\/+/g,"/"),z5=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),B5=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,U5=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function $5(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var pE=["POST","PUT","PATCH","DELETE"];new Set(pE);var V5=["GET",...pE];new Set(V5);var yc=T.createContext(null);yc.displayName="DataRouter";var ip=T.createContext(null);ip.displayName="DataRouterState";var gE=T.createContext({isTransitioning:!1});gE.displayName="ViewTransition";var G5=T.createContext(new Map);G5.displayName="Fetchers";var H5=T.createContext(null);H5.displayName="Await";var fr=T.createContext(null);fr.displayName="Navigation";var td=T.createContext(null);td.displayName="Location";var Ci=T.createContext({outlet:null,matches:[],isDataRoute:!1});Ci.displayName="Route";var av=T.createContext(null);av.displayName="RouteError";function Y5(s,{relative:e}={}){At(sd(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=T.useContext(fr),{hash:i,pathname:r,search:a}=id(s,{relative:e}),l=r;return t!=="/"&&(l=r==="/"?t:Dr([t,r])),n.createHref({pathname:l,search:a,hash:i})}function sd(){return T.useContext(td)!=null}function Ti(){return At(sd(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(td).location}var xE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yE(s){T.useContext(fr).static||T.useLayoutEffect(s)}function He(){let{isDataRoute:s}=T.useContext(Ci);return s?a8():W5()}function W5(){At(sd(),"useNavigate() may be used only in the context of a <Router> component.");let s=T.useContext(yc),{basename:e,navigator:t}=T.useContext(fr),{matches:n}=T.useContext(Ci),{pathname:i}=Ti(),r=JSON.stringify(hE(n)),a=T.useRef(!1);return yE(()=>{a.current=!0}),T.useCallback((c,f={})=>{if(ir(a.current,xE),!a.current)return;if(typeof c=="number"){t.go(c);return}let u=mE(c,JSON.parse(r),i,f.relative==="path");s==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Dr([e,u.pathname])),(f.replace?t.replace:t.push)(u,f.state,f)},[e,t,r,i,s])}var bE=T.createContext(null);function Ho(){return T.useContext(bE)}function Q5(s){let e=T.useContext(Ci).outlet;return e&&T.createElement(bE.Provider,{value:s},e)}function nd(){let{matches:s}=T.useContext(Ci),e=s[s.length-1];return e?e.params:{}}function id(s,{relative:e}={}){let{matches:t}=T.useContext(Ci),{pathname:n}=Ti(),i=JSON.stringify(hE(t));return T.useMemo(()=>mE(s,JSON.parse(i),n,e==="path"),[s,i,n,e])}function K5(s,e){return vE(s,e)}function vE(s,e,t,n){var L;At(sd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:r}=T.useContext(fr),{matches:a}=T.useContext(Ci),l=a[a.length-1],c=l?l.params:{},f=l?l.pathname:"/",u=l?l.pathnameBase:"/",h=l&&l.route;{let S=h&&h.path||"";wE(f,!h||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let p=Ti(),g;if(e){let S=typeof e=="string"?xc(e):e;At(u==="/"||((L=S.pathname)==null?void 0:L.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${S.pathname}" was given in the \`location\` prop.`),g=S}else g=p;let x=g.pathname||"/",y=x;if(u!=="/"){let S=u.replace(/^\//,"").split("/");y="/"+x.replace(/^\//,"").split("/").slice(S.length).join("/")}let v=!r&&t&&t.matches&&t.matches.length>0?t.matches:fE(s,{pathname:y});ir(h||v!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),ir(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=e8(v&&v.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:Dr([u,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?u:Dr([u,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),a,t,n);return e&&w?T.createElement(td.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},w):w}function J5(){let s=r8(),e=$5(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),t=s instanceof Error?s.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},r={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",s),a=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:r},"ErrorBoundary")," or"," ",T.createElement("code",{style:r},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),t?T.createElement("pre",{style:i},t):null,a)}var q5=T.createElement(J5,null),Z5=class extends T.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?T.createElement(Ci.Provider,{value:this.props.routeContext},T.createElement(av.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function X5({routeContext:s,match:e,children:t}){let n=T.useContext(yc);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(Ci.Provider,{value:s},t)}function e8(s,e=[],t=null,n=null){if(s==null){if(!t)return null;if(t.errors)s=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)s=t.matches;else return null}let i=s,r=t==null?void 0:t.errors;if(r!=null){let c=i.findIndex(f=>f.route.id&&(r==null?void 0:r[f.route.id])!==void 0);At(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let a=!1,l=-1;if(t)for(let c=0;c<i.length;c++){let f=i[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=c),f.route.id){let{loaderData:u,errors:h}=t,p=f.route.loader&&!u.hasOwnProperty(f.route.id)&&(!h||h[f.route.id]===void 0);if(f.route.lazy||p){a=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((c,f,u)=>{let h,p=!1,g=null,x=null;t&&(h=r&&f.route.id?r[f.route.id]:void 0,g=f.route.errorElement||q5,a&&(l<0&&u===0?(wE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,x=null):l===u&&(p=!0,x=f.route.hydrateFallbackElement||null)));let y=e.concat(i.slice(0,u+1)),v=()=>{let w;return h?w=g:p?w=x:f.route.Component?w=T.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=c,T.createElement(X5,{match:f,routeContext:{outlet:c,matches:y,isDataRoute:t!=null},children:w})};return t&&(f.route.ErrorBoundary||f.route.errorElement||u===0)?T.createElement(Z5,{location:t.location,revalidation:t.revalidation,component:g,error:h,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}function ov(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function t8(s){let e=T.useContext(yc);return At(e,ov(s)),e}function s8(s){let e=T.useContext(ip);return At(e,ov(s)),e}function n8(s){let e=T.useContext(Ci);return At(e,ov(s)),e}function lv(s){let e=n8(s),t=e.matches[e.matches.length-1];return At(t.route.id,`${s} can only be used on routes that contain a unique "id"`),t.route.id}function i8(){return lv("useRouteId")}function r8(){var n;let s=T.useContext(av),e=s8("useRouteError"),t=lv("useRouteError");return s!==void 0?s:(n=e.errors)==null?void 0:n[t]}function a8(){let{router:s}=t8("useNavigate"),e=lv("useNavigate"),t=T.useRef(!1);return yE(()=>{t.current=!0}),T.useCallback(async(i,r={})=>{ir(t.current,xE),t.current&&(typeof i=="number"?s.navigate(i):await s.navigate(i,{fromRouteId:e,...r}))},[s,e])}var A3={};function wE(s,e,t){!e&&!A3[s]&&(A3[s]=!0,ir(!1,t))}T.memo(o8);function o8({routes:s,future:e,state:t}){return vE(s,void 0,t,e)}function l8(s){return Q5(s.context)}function _e(s){At(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function c8({basename:s="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:r=!1}){At(!sd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=s.replace(/^\/*/,"/"),l=T.useMemo(()=>({basename:a,navigator:i,static:r,future:{}}),[a,i,r]);typeof t=="string"&&(t=xc(t));let{pathname:c="/",search:f="",hash:u="",state:h=null,key:p="default"}=t,g=T.useMemo(()=>{let x=Pr(c,a);return x==null?null:{location:{pathname:x,search:f,hash:u,state:h,key:p},navigationType:n}},[a,c,f,u,h,p,n]);return ir(g!=null,`<Router basename="${a}"> is not able to match the URL "${c}${f}${u}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:T.createElement(fr.Provider,{value:l},T.createElement(td.Provider,{children:e,value:g}))}function f8({children:s,location:e}){return K5(vy(s),e)}function vy(s,e=[]){let t=[];return T.Children.forEach(s,(n,i)=>{if(!T.isValidElement(n))return;let r=[...e,i];if(n.type===T.Fragment){t.push.apply(t,vy(n.props.children,r));return}At(n.type===_e,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),At(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||r.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=vy(n.props.children,r)),t.push(a)}),t}var C0="get",T0="application/x-www-form-urlencoded";function rp(s){return s!=null&&typeof s.tagName=="string"}function u8(s){return rp(s)&&s.tagName.toLowerCase()==="button"}function d8(s){return rp(s)&&s.tagName.toLowerCase()==="form"}function h8(s){return rp(s)&&s.tagName.toLowerCase()==="input"}function m8(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function p8(s,e){return s.button===0&&(!e||e==="_self")&&!m8(s)}var Mh=null;function g8(){if(Mh===null)try{new FormData(document.createElement("form"),0),Mh=!1}catch{Mh=!0}return Mh}var x8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function z1(s){return s!=null&&!x8.has(s)?(ir(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${T0}"`),null):s}function y8(s,e){let t,n,i,r,a;if(d8(s)){let l=s.getAttribute("action");n=l?Pr(l,e):null,t=s.getAttribute("method")||C0,i=z1(s.getAttribute("enctype"))||T0,r=new FormData(s)}else if(u8(s)||h8(s)&&(s.type==="submit"||s.type==="image")){let l=s.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=s.getAttribute("formaction")||l.getAttribute("action");if(n=c?Pr(c,e):null,t=s.getAttribute("formmethod")||l.getAttribute("method")||C0,i=z1(s.getAttribute("formenctype"))||z1(l.getAttribute("enctype"))||T0,r=new FormData(l,s),!g8()){let{name:f,type:u,value:h}=s;if(u==="image"){let p=f?`${f}.`:"";r.append(`${p}x`,"0"),r.append(`${p}y`,"0")}else f&&r.append(f,h)}}else{if(rp(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=C0,n=null,i=T0,a=s}return r&&i==="text/plain"&&(a=r,r=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:r,body:a}}function cv(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}async function b8(s,e){if(s.id in e)return e[s.id];try{let t=await import(s.module);return e[s.id]=t,t}catch(t){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function v8(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function w8(s,e,t){let n=await Promise.all(s.map(async i=>{let r=e.routes[i.route.id];if(r){let a=await b8(r,t);return a.links?a.links():[]}return[]}));return T8(n.flat(1).filter(v8).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function D3(s,e,t,n,i,r){let a=(c,f)=>t[f]?c.route.id!==t[f].route.id:!0,l=(c,f)=>{var u;return t[f].pathname!==c.pathname||((u=t[f].route.path)==null?void 0:u.endsWith("*"))&&t[f].params["*"]!==c.params["*"]};return r==="assets"?e.filter((c,f)=>a(c,f)||l(c,f)):r==="data"?e.filter((c,f)=>{var h;let u=n.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(a(c,f)||l(c,f))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=t[0])==null?void 0:h.params)||{},nextUrl:new URL(s,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function S8(s,e,{includeHydrateFallback:t}={}){return L8(s.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let r=[i.module];return i.clientActionModule&&(r=r.concat(i.clientActionModule)),i.clientLoaderModule&&(r=r.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(r=r.concat(i.hydrateFallbackModule)),i.imports&&(r=r.concat(i.imports)),r}).flat(1))}function L8(s){return[...new Set(s)]}function C8(s){let e={},t=Object.keys(s).sort();for(let n of t)e[n]=s[n];return e}function T8(s,e){let t=new Set;return new Set(e),s.reduce((n,i)=>{let r=JSON.stringify(C8(i));return t.has(r)||(t.add(r),n.push({key:r,link:i})),n},[])}function j8(s,e){let t=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return t.pathname==="/"?t.pathname="_root.data":e&&Pr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function SE(){let s=T.useContext(yc);return cv(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function E8(){let s=T.useContext(ip);return cv(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var fv=T.createContext(void 0);fv.displayName="FrameworkContext";function LE(){let s=T.useContext(fv);return cv(s,"You must render this element inside a <HydratedRouter> element"),s}function N8(s,e){let t=T.useContext(fv),[n,i]=T.useState(!1),[r,a]=T.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:f,onMouseLeave:u,onTouchStart:h}=e,p=T.useRef(null);T.useEffect(()=>{if(s==="render"&&a(!0),s==="viewport"){let y=w=>{w.forEach(L=>{a(L.isIntersecting)})},v=new IntersectionObserver(y,{threshold:.5});return p.current&&v.observe(p.current),()=>{v.disconnect()}}},[s]),T.useEffect(()=>{if(n){let y=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(y)}}},[n]);let g=()=>{i(!0)},x=()=>{i(!1),a(!1)};return t?s!=="intent"?[r,p,{}]:[r,p,{onFocus:mf(l,g),onBlur:mf(c,x),onMouseEnter:mf(f,g),onMouseLeave:mf(u,x),onTouchStart:mf(h,g)}]:[!1,p,{}]}function mf(s,e){return t=>{s&&s(t),t.defaultPrevented||e(t)}}function M8({page:s,...e}){let{router:t}=SE(),n=T.useMemo(()=>fE(t.routes,s,t.basename),[t.routes,s,t.basename]);return n?T.createElement(I8,{page:s,matches:n,...e}):null}function k8(s){let{manifest:e,routeModules:t}=LE(),[n,i]=T.useState([]);return T.useEffect(()=>{let r=!1;return w8(s,e,t).then(a=>{r||i(a)}),()=>{r=!0}},[s,e,t]),n}function I8({page:s,matches:e,...t}){let n=Ti(),{manifest:i,routeModules:r}=LE(),{basename:a}=SE(),{loaderData:l,matches:c}=E8(),f=T.useMemo(()=>D3(s,e,c,i,n,"data"),[s,e,c,i,n]),u=T.useMemo(()=>D3(s,e,c,i,n,"assets"),[s,e,c,i,n]),h=T.useMemo(()=>{if(s===n.pathname+n.search+n.hash)return[];let x=new Set,y=!1;if(e.forEach(w=>{var S;let L=i.routes[w.route.id];!L||!L.hasLoader||(!f.some(j=>j.route.id===w.route.id)&&w.route.id in l&&((S=r[w.route.id])!=null&&S.shouldRevalidate)||L.hasClientLoader?y=!0:x.add(w.route.id))}),x.size===0)return[];let v=j8(s,a);return y&&x.size>0&&v.searchParams.set("_routes",e.filter(w=>x.has(w.route.id)).map(w=>w.route.id).join(",")),[v.pathname+v.search]},[a,l,n,i,f,e,s,r]),p=T.useMemo(()=>S8(u,i),[u,i]),g=k8(u);return T.createElement(T.Fragment,null,h.map(x=>T.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),p.map(x=>T.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),g.map(({key:x,link:y})=>T.createElement("link",{key:x,...y})))}function _8(...s){return e=>{s.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var CE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{CE&&(window.__reactRouterVersion="7.4.0")}catch{}function A8({basename:s,children:e,window:t}){let n=T.useRef();n.current==null&&(n.current=v5({window:t,v5Compat:!0}));let i=n.current,[r,a]=T.useState({action:i.action,location:i.location}),l=T.useCallback(c=>{T.startTransition(()=>a(c))},[a]);return T.useLayoutEffect(()=>i.listen(l),[i,l]),T.createElement(c8,{basename:s,children:e,location:r.location,navigationType:r.action,navigator:i})}var TE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,le=T.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:r,replace:a,state:l,target:c,to:f,preventScrollReset:u,viewTransition:h,...p},g){let{basename:x}=T.useContext(fr),y=typeof f=="string"&&TE.test(f),v,w=!1;if(typeof f=="string"&&y&&(v=f,CE))try{let A=new URL(window.location.href),D=f.startsWith("//")?new URL(A.protocol+f):new URL(f),z=Pr(D.pathname,x);D.origin===A.origin&&z!=null?f=z+D.search+D.hash:w=!0}catch{ir(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=Y5(f,{relative:i}),[S,j,E]=N8(n,p),M=R8(f,{replace:a,state:l,target:c,preventScrollReset:u,relative:i,viewTransition:h});function N(A){e&&e(A),A.defaultPrevented||M(A)}let I=T.createElement("a",{...p,...E,href:v||L,onClick:w||r?e:N,ref:_8(g,j),target:c,"data-discover":!y&&t==="render"?"true":void 0});return S&&!y?T.createElement(T.Fragment,null,I,T.createElement(M8,{page:L})):I});le.displayName="Link";var j0=T.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:r,to:a,viewTransition:l,children:c,...f},u){let h=id(a,{relative:f.relative}),p=Ti(),g=T.useContext(ip),{navigator:x,basename:y}=T.useContext(fr),v=g!=null&&U8(h)&&l===!0,w=x.encodeLocation?x.encodeLocation(h).pathname:h.pathname,L=p.pathname,S=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;t||(L=L.toLowerCase(),S=S?S.toLowerCase():null,w=w.toLowerCase()),S&&y&&(S=Pr(S,y)||S);const j=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let E=L===w||!i&&L.startsWith(w)&&L.charAt(j)==="/",M=S!=null&&(S===w||!i&&S.startsWith(w)&&S.charAt(w.length)==="/"),N={isActive:E,isPending:M,isTransitioning:v},I=E?e:void 0,A;typeof n=="function"?A=n(N):A=[n,E?"active":null,M?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let D=typeof r=="function"?r(N):r;return T.createElement(le,{...f,"aria-current":I,className:A,ref:u,style:D,to:a,viewTransition:l},typeof c=="function"?c(N):c)});j0.displayName="NavLink";var D8=T.forwardRef(({discover:s="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:r,method:a=C0,action:l,onSubmit:c,relative:f,preventScrollReset:u,viewTransition:h,...p},g)=>{let x=z8(),y=B8(l,{relative:f}),v=a.toLowerCase()==="get"?"get":"post",w=typeof l=="string"&&TE.test(l),L=S=>{if(c&&c(S),S.defaultPrevented)return;S.preventDefault();let j=S.nativeEvent.submitter,E=(j==null?void 0:j.getAttribute("formmethod"))||a;x(j||S.currentTarget,{fetcherKey:e,method:E,navigate:t,replace:i,state:r,relative:f,preventScrollReset:u,viewTransition:h})};return T.createElement("form",{ref:g,method:v,action:y,onSubmit:n?c:L,...p,"data-discover":!w&&s==="render"?"true":void 0})});D8.displayName="Form";function P8(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jE(s){let e=T.useContext(yc);return At(e,P8(s)),e}function R8(s,{target:e,replace:t,state:n,preventScrollReset:i,relative:r,viewTransition:a}={}){let l=He(),c=Ti(),f=id(s,{relative:r});return T.useCallback(u=>{if(p8(u,e)){u.preventDefault();let h=t!==void 0?t:hu(c)===hu(f);l(s,{replace:h,state:n,preventScrollReset:i,relative:r,viewTransition:a})}},[c,l,f,t,n,e,s,i,r,a])}var O8=0,F8=()=>`__${String(++O8)}__`;function z8(){let{router:s}=jE("useSubmit"),{basename:e}=T.useContext(fr),t=i8();return T.useCallback(async(n,i={})=>{let{action:r,method:a,encType:l,formData:c,body:f}=y8(n,e);if(i.navigate===!1){let u=i.fetcherKey||F8();await s.fetch(u,t,i.action||r,{preventScrollReset:i.preventScrollReset,formData:c,body:f,formMethod:i.method||a,formEncType:i.encType||l,flushSync:i.flushSync})}else await s.navigate(i.action||r,{preventScrollReset:i.preventScrollReset,formData:c,body:f,formMethod:i.method||a,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[s,e,t])}function B8(s,{relative:e}={}){let{basename:t}=T.useContext(fr),n=T.useContext(Ci);At(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),r={...id(s||".",{relative:e})},a=Ti();if(s==null){r.search=a.search;let l=new URLSearchParams(r.search),c=l.getAll("index");if(c.some(u=>u==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let u=l.toString();r.search=u?`?${u}`:""}}return(!s||s===".")&&i.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(r.pathname=r.pathname==="/"?t:Dr([t,r.pathname])),hu(r)}function U8(s,e={}){let t=T.useContext(gE);At(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=jE("useViewTransitionState"),i=id(s,{relative:e.relative});if(!t.isTransitioning)return!1;let r=Pr(t.currentLocation.pathname,n)||t.currentLocation.pathname,a=Pr(t.nextLocation.pathname,n)||t.nextLocation.pathname;return om(i.pathname,a)!=null||om(i.pathname,r)!=null}new TextEncoder;function EE(s){var e,t,n="";if(typeof s=="string"||typeof s=="number")n+=s;else if(typeof s=="object")if(Array.isArray(s)){var i=s.length;for(e=0;e<i;e++)s[e]&&(t=EE(s[e]))&&(n&&(n+=" "),n+=t)}else for(t in s)s[t]&&(n&&(n+=" "),n+=t);return n}function To(){for(var s,e,t=0,n="",i=arguments.length;t<i;t++)(s=arguments[t])&&(e=EE(s))&&(n&&(n+=" "),n+=e);return n}function $8(s){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=s:t.appendChild(document.createTextNode(s))}$8(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var rd=s=>typeof s=="number"&&!isNaN(s),Fo=s=>typeof s=="string",Rr=s=>typeof s=="function",V8=s=>Fo(s)||rd(s),wy=s=>Fo(s)||Rr(s)?s:null,G8=(s,e)=>s===!1||rd(s)&&s>0?s:e,Sy=s=>T.isValidElement(s)||Fo(s)||Rr(s)||rd(s);function H8(s,e,t=300){let{scrollHeight:n,style:i}=s;requestAnimationFrame(()=>{i.minHeight="initial",i.height=n+"px",i.transition=`all ${t}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,t)})})}function Y8({enter:s,exit:e,appendPosition:t=!1,collapse:n=!0,collapseDuration:i=300}){return function({children:r,position:a,preventExitTransition:l,done:c,nodeRef:f,isIn:u,playToast:h}){let p=t?`${s}--${a}`:s,g=t?`${e}--${a}`:e,x=T.useRef(0);return T.useLayoutEffect(()=>{let y=f.current,v=p.split(" "),w=L=>{L.target===f.current&&(h(),y.removeEventListener("animationend",w),y.removeEventListener("animationcancel",w),x.current===0&&L.type!=="animationcancel"&&y.classList.remove(...v))};y.classList.add(...v),y.addEventListener("animationend",w),y.addEventListener("animationcancel",w)},[]),T.useEffect(()=>{let y=f.current,v=()=>{y.removeEventListener("animationend",v),n?H8(y,c,i):c()};u||(l?v():(x.current=1,y.className+=` ${g}`,y.addEventListener("animationend",v)))},[u]),je.createElement(je.Fragment,null,r)}}function P3(s,e){return{content:NE(s.content,s.props),containerId:s.props.containerId,id:s.props.toastId,theme:s.props.theme,type:s.props.type,data:s.props.data||{},isLoading:s.props.isLoading,icon:s.props.icon,reason:s.removalReason,status:e}}function NE(s,e,t=!1){return T.isValidElement(s)&&!Fo(s.type)?T.cloneElement(s,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):Rr(s)?s({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):s}function W8({closeToast:s,theme:e,ariaLabel:t="close"}){return je.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:n=>{n.stopPropagation(),s(!0)},"aria-label":t},je.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},je.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Q8({delay:s,isRunning:e,closeToast:t,type:n="default",hide:i,className:r,controlledProgress:a,progress:l,rtl:c,isIn:f,theme:u}){let h=i||a&&l===0,p={animationDuration:`${s}ms`,animationPlayState:e?"running":"paused"};a&&(p.transform=`scaleX(${l})`);let g=To("Toastify__progress-bar",a?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${u}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":c}),x=Rr(r)?r({rtl:c,type:n,defaultClassName:g}):To(g,r),y={[a&&l>=1?"onTransitionEnd":"onAnimationEnd"]:a&&l<1?null:()=>{f&&t()}};return je.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},je.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${u} Toastify__progress-bar--${n}`}),je.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:x,style:p,...y}))}var K8=1,ME=()=>`${K8++}`;function J8(s,e,t){let n=1,i=0,r=[],a=[],l=e,c=new Map,f=new Set,u=L=>(f.add(L),()=>f.delete(L)),h=()=>{a=Array.from(c.values()),f.forEach(L=>L())},p=({containerId:L,toastId:S,updateId:j})=>{let E=L?L!==s:s!==1,M=c.has(S)&&j==null;return E||M},g=(L,S)=>{c.forEach(j=>{var E;(S==null||S===j.props.toastId)&&((E=j.toggle)==null||E.call(j,L))})},x=L=>{var S,j;(j=(S=L.props)==null?void 0:S.onClose)==null||j.call(S,L.removalReason),L.isActive=!1},y=L=>{if(L==null)c.forEach(x);else{let S=c.get(L);S&&x(S)}h()},v=()=>{i-=r.length,r=[]},w=L=>{var S,j;let{toastId:E,updateId:M}=L.props,N=M==null;L.staleId&&c.delete(L.staleId),L.isActive=!0,c.set(E,L),h(),t(P3(L,N?"added":"updated")),N&&((j=(S=L.props).onOpen)==null||j.call(S))};return{id:s,props:l,observe:u,toggle:g,removeToast:y,toasts:c,clearQueue:v,buildToast:(L,S)=>{if(p(S))return;let{toastId:j,updateId:E,data:M,staleId:N,delay:I}=S,A=E==null;A&&i++;let D={...l,style:l.toastStyle,key:n++,...Object.fromEntries(Object.entries(S).filter(([O,Y])=>Y!=null)),toastId:j,updateId:E,data:M,isIn:!1,className:wy(S.className||l.toastClassName),progressClassName:wy(S.progressClassName||l.progressClassName),autoClose:S.isLoading?!1:G8(S.autoClose,l.autoClose),closeToast(O){c.get(j).removalReason=O,y(j)},deleteToast(){let O=c.get(j);if(O!=null){if(t(P3(O,"removed")),c.delete(j),i--,i<0&&(i=0),r.length>0){w(r.shift());return}h()}}};D.closeButton=l.closeButton,S.closeButton===!1||Sy(S.closeButton)?D.closeButton=S.closeButton:S.closeButton===!0&&(D.closeButton=Sy(l.closeButton)?l.closeButton:!0);let z={content:L,props:D,staleId:N};l.limit&&l.limit>0&&i>l.limit&&A?r.push(z):rd(I)?setTimeout(()=>{w(z)},I):w(z)},setProps(L){l=L},setToggle:(L,S)=>{let j=c.get(L);j&&(j.toggle=S)},isToastActive:L=>{var S;return(S=c.get(L))==null?void 0:S.isActive},getSnapshot:()=>a}}var Bs=new Map,mu=[],Ly=new Set,q8=s=>Ly.forEach(e=>e(s)),kE=()=>Bs.size>0;function Z8(){mu.forEach(s=>_E(s.content,s.options)),mu=[]}var X8=(s,{containerId:e})=>{var t;return(t=Bs.get(e||1))==null?void 0:t.toasts.get(s)};function IE(s,e){var t;if(e)return!!((t=Bs.get(e))!=null&&t.isToastActive(s));let n=!1;return Bs.forEach(i=>{i.isToastActive(s)&&(n=!0)}),n}function e9(s){if(!kE()){mu=mu.filter(e=>s!=null&&e.options.toastId!==s);return}if(s==null||V8(s))Bs.forEach(e=>{e.removeToast(s)});else if(s&&("containerId"in s||"id"in s)){let e=Bs.get(s.containerId);e?e.removeToast(s.id):Bs.forEach(t=>{t.removeToast(s.id)})}}var t9=(s={})=>{Bs.forEach(e=>{e.props.limit&&(!s.containerId||e.id===s.containerId)&&e.clearQueue()})};function _E(s,e){Sy(s)&&(kE()||mu.push({content:s,options:e}),Bs.forEach(t=>{t.buildToast(s,e)}))}function s9(s){var e;(e=Bs.get(s.containerId||1))==null||e.setToggle(s.id,s.fn)}function AE(s,e){Bs.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(s,e==null?void 0:e.id)})}function n9(s){let e=s.containerId||1;return{subscribe(t){let n=J8(e,s,q8);Bs.set(e,n);let i=n.observe(t);return Z8(),()=>{i(),Bs.delete(e)}},setProps(t){var n;(n=Bs.get(e))==null||n.setProps(t)},getSnapshot(){var t;return(t=Bs.get(e))==null?void 0:t.getSnapshot()}}}function i9(s){return Ly.add(s),()=>{Ly.delete(s)}}function r9(s){return s&&(Fo(s.toastId)||rd(s.toastId))?s.toastId:ME()}function ad(s,e){return _E(s,e),e.toastId}function ap(s,e){return{...e,type:e&&e.type||s,toastId:r9(e)}}function op(s){return(e,t)=>ad(e,ap(s,t))}function ae(s,e){return ad(s,ap("default",e))}ae.loading=(s,e)=>ad(s,ap("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function a9(s,{pending:e,error:t,success:n},i){let r;e&&(r=Fo(e)?ae.loading(e,i):ae.loading(e.render,{...i,...e}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(f,u,h)=>{if(u==null){ae.dismiss(r);return}let p={type:f,...a,...i,data:h},g=Fo(u)?{render:u}:u;return r?ae.update(r,{...p,...g}):ae(g.render,{...p,...g}),h},c=Rr(s)?s():s;return c.then(f=>l("success",n,f)).catch(f=>l("error",t,f)),c}ae.promise=a9;ae.success=op("success");ae.info=op("info");ae.error=op("error");ae.warning=op("warning");ae.warn=ae.warning;ae.dark=(s,e)=>ad(s,ap("default",{theme:"dark",...e}));function o9(s){e9(s)}ae.dismiss=o9;ae.clearWaitingQueue=t9;ae.isActive=IE;ae.update=(s,e={})=>{let t=X8(s,e);if(t){let{props:n,content:i}=t,r={delay:100,...n,...e,toastId:e.toastId||s,updateId:ME()};r.toastId!==s&&(r.staleId=s);let a=r.render||i;delete r.render,ad(a,r)}};ae.done=s=>{ae.update(s,{progress:1})};ae.onChange=i9;ae.play=s=>AE(!0,s);ae.pause=s=>AE(!1,s);function l9(s){var e;let{subscribe:t,getSnapshot:n,setProps:i}=T.useRef(n9(s)).current;i(s);let r=(e=T.useSyncExternalStore(t,n,n))==null?void 0:e.slice();function a(l){if(!r)return[];let c=new Map;return s.newestOnTop&&r.reverse(),r.forEach(f=>{let{position:u}=f.props;c.has(u)||c.set(u,[]),c.get(u).push(f)}),Array.from(c,f=>l(f[0],f[1]))}return{getToastToRender:a,isToastActive:IE,count:r==null?void 0:r.length}}function c9(s){let[e,t]=T.useState(!1),[n,i]=T.useState(!1),r=T.useRef(null),a=T.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:f,onClick:u,closeOnClick:h}=s;s9({id:s.toastId,containerId:s.containerId,fn:t}),T.useEffect(()=>{if(s.pauseOnFocusLoss)return p(),()=>{g()}},[s.pauseOnFocusLoss]);function p(){document.hasFocus()||w(),window.addEventListener("focus",v),window.addEventListener("blur",w)}function g(){window.removeEventListener("focus",v),window.removeEventListener("blur",w)}function x(N){if(s.draggable===!0||s.draggable===N.pointerType){L();let I=r.current;a.canCloseOnClick=!0,a.canDrag=!0,I.style.transition="none",s.draggableDirection==="x"?(a.start=N.clientX,a.removalDistance=I.offsetWidth*(s.draggablePercent/100)):(a.start=N.clientY,a.removalDistance=I.offsetHeight*(s.draggablePercent===80?s.draggablePercent*1.5:s.draggablePercent)/100)}}function y(N){let{top:I,bottom:A,left:D,right:z}=r.current.getBoundingClientRect();N.nativeEvent.type!=="touchend"&&s.pauseOnHover&&N.clientX>=D&&N.clientX<=z&&N.clientY>=I&&N.clientY<=A?w():v()}function v(){t(!0)}function w(){t(!1)}function L(){a.didMove=!1,document.addEventListener("pointermove",j),document.addEventListener("pointerup",E)}function S(){document.removeEventListener("pointermove",j),document.removeEventListener("pointerup",E)}function j(N){let I=r.current;if(a.canDrag&&I){a.didMove=!0,e&&w(),s.draggableDirection==="x"?a.delta=N.clientX-a.start:a.delta=N.clientY-a.start,a.start!==N.clientX&&(a.canCloseOnClick=!1);let A=s.draggableDirection==="x"?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`;I.style.transform=`translate3d(${A},0)`,I.style.opacity=`${1-Math.abs(a.delta/a.removalDistance)}`}}function E(){S();let N=r.current;if(a.canDrag&&a.didMove&&N){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance){i(!0),s.closeToast(!0),s.collapseAll();return}N.style.transition="transform 0.2s, opacity 0.2s",N.style.removeProperty("transform"),N.style.removeProperty("opacity")}}let M={onPointerDown:x,onPointerUp:y};return l&&c&&(M.onMouseEnter=w,s.stacked||(M.onMouseLeave=v)),h&&(M.onClick=N=>{u&&u(N),a.canCloseOnClick&&f(!0)}),{playToast:v,pauseToast:w,isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:M}}var f9=typeof window<"u"?T.useLayoutEffect:T.useEffect,lp=({theme:s,type:e,isLoading:t,...n})=>je.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:s==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...n});function u9(s){return je.createElement(lp,{...s},je.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function d9(s){return je.createElement(lp,{...s},je.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function h9(s){return je.createElement(lp,{...s},je.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function m9(s){return je.createElement(lp,{...s},je.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function p9(){return je.createElement("div",{className:"Toastify__spinner"})}var Cy={info:d9,warning:u9,success:h9,error:m9,spinner:p9},g9=s=>s in Cy;function x9({theme:s,type:e,isLoading:t,icon:n}){let i=null,r={theme:s,type:e};return n===!1||(Rr(n)?i=n({...r,isLoading:t}):T.isValidElement(n)?i=T.cloneElement(n,r):t?i=Cy.spinner():g9(e)&&(i=Cy[e](r))),i}var y9=s=>{let{isRunning:e,preventExitTransition:t,toastRef:n,eventHandlers:i,playToast:r}=c9(s),{closeButton:a,children:l,autoClose:c,onClick:f,type:u,hideProgressBar:h,closeToast:p,transition:g,position:x,className:y,style:v,progressClassName:w,updateId:L,role:S,progress:j,rtl:E,toastId:M,deleteToast:N,isIn:I,isLoading:A,closeOnClick:D,theme:z,ariaLabel:O}=s,Y=To("Toastify__toast",`Toastify__toast-theme--${z}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":D}),q=Rr(y)?y({rtl:E,position:x,type:u,defaultClassName:Y}):To(Y,y),Z=x9(s),V=!!j||!c,H={closeToast:p,type:u,theme:z},F=null;return a===!1||(Rr(a)?F=a(H):T.isValidElement(a)?F=T.cloneElement(a,H):F=W8(H)),je.createElement(g,{isIn:I,done:N,position:x,preventExitTransition:t,nodeRef:n,playToast:r},je.createElement("div",{id:M,tabIndex:0,onClick:f,"data-in":I,className:q,...i,style:v,ref:n,...I&&{role:S,"aria-label":O}},Z!=null&&je.createElement("div",{className:To("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!A})},Z),NE(l,s,!e),F,!s.customProgressBar&&je.createElement(Q8,{...L&&!V?{key:`p-${L}`}:{},rtl:E,theme:z,delay:c,isRunning:e,isIn:I,closeToast:p,hide:h,type:u,className:w,controlledProgress:V,progress:j||0})))},b9=(s,e=!1)=>({enter:`Toastify--animate Toastify__${s}-enter`,exit:`Toastify--animate Toastify__${s}-exit`,appendPosition:e}),v9=Y8(b9("bounce",!0)),w9={position:"top-right",transition:v9,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:s=>s.altKey&&s.code==="KeyT"};function S9(s){let e={...w9,...s},t=s.stacked,[n,i]=T.useState(!0),r=T.useRef(null),{getToastToRender:a,isToastActive:l,count:c}=l9(e),{className:f,style:u,rtl:h,containerId:p,hotKeys:g}=e;function x(v){let w=To("Toastify__toast-container",`Toastify__toast-container--${v}`,{"Toastify__toast-container--rtl":h});return Rr(f)?f({position:v,rtl:h,defaultClassName:w}):To(w,wy(f))}function y(){t&&(i(!0),ae.play())}return f9(()=>{var v;if(t){let w=r.current.querySelectorAll('[data-in="true"]'),L=12,S=(v=e.position)==null?void 0:v.includes("top"),j=0,E=0;Array.from(w).reverse().forEach((M,N)=>{let I=M;I.classList.add("Toastify__toast--stacked"),N>0&&(I.dataset.collapsed=`${n}`),I.dataset.pos||(I.dataset.pos=S?"top":"bot");let A=j*(n?.2:1)+(n?0:L*N);I.style.setProperty("--y",`${S?A:A*-1}px`),I.style.setProperty("--g",`${L}`),I.style.setProperty("--s",`${1-(n?E:0)}`),j+=I.offsetHeight,E+=.025})}},[n,c,t]),T.useEffect(()=>{function v(w){var L;let S=r.current;g(w)&&((L=S.querySelector('[tabIndex="0"]'))==null||L.focus(),i(!1),ae.pause()),w.key==="Escape"&&(document.activeElement===S||S!=null&&S.contains(document.activeElement))&&(i(!0),ae.play())}return document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[g]),je.createElement("section",{ref:r,className:"Toastify",id:p,onMouseEnter:()=>{t&&(i(!1),ae.pause())},onMouseLeave:y,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},a((v,w)=>{let L=w.length?{...u}:{...u,pointerEvents:"none"};return je.createElement("div",{tabIndex:-1,className:x(v),"data-stacked":t,style:L,key:`c-${v}`},w.map(({content:S,props:j})=>je.createElement(y9,{...j,stacked:t,collapseAll:y,isIn:l(j.toastId,j.containerId),key:`t-${j.key}`},S)))}))}const rr=Object.create(null);rr.open="0";rr.close="1";rr.ping="2";rr.pong="3";rr.message="4";rr.upgrade="5";rr.noop="6";const E0=Object.create(null);Object.keys(rr).forEach(s=>{E0[rr[s]]=s});const Ty={type:"error",data:"parser error"},DE=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",PE=typeof ArrayBuffer=="function",RE=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s&&s.buffer instanceof ArrayBuffer,uv=({type:s,data:e},t,n)=>DE&&e instanceof Blob?t?n(e):R3(e,n):PE&&(e instanceof ArrayBuffer||RE(e))?t?n(e):R3(new Blob([e]),n):n(rr[s]+(e||"")),R3=(s,e)=>{const t=new FileReader;return t.onload=function(){const n=t.result.split(",")[1];e("b"+(n||""))},t.readAsDataURL(s)};function O3(s){return s instanceof Uint8Array?s:s instanceof ArrayBuffer?new Uint8Array(s):new Uint8Array(s.buffer,s.byteOffset,s.byteLength)}let B1;function L9(s,e){if(DE&&s.data instanceof Blob)return s.data.arrayBuffer().then(O3).then(e);if(PE&&(s.data instanceof ArrayBuffer||RE(s.data)))return e(O3(s.data));uv(s,!1,t=>{B1||(B1=new TextEncoder),e(B1.encode(t))})}const F3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Df=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let s=0;s<F3.length;s++)Df[F3.charCodeAt(s)]=s;const C9=s=>{let e=s.length*.75,t=s.length,n,i=0,r,a,l,c;s[s.length-1]==="="&&(e--,s[s.length-2]==="="&&e--);const f=new ArrayBuffer(e),u=new Uint8Array(f);for(n=0;n<t;n+=4)r=Df[s.charCodeAt(n)],a=Df[s.charCodeAt(n+1)],l=Df[s.charCodeAt(n+2)],c=Df[s.charCodeAt(n+3)],u[i++]=r<<2|a>>4,u[i++]=(a&15)<<4|l>>2,u[i++]=(l&3)<<6|c&63;return f},T9=typeof ArrayBuffer=="function",dv=(s,e)=>{if(typeof s!="string")return{type:"message",data:OE(s,e)};const t=s.charAt(0);return t==="b"?{type:"message",data:j9(s.substring(1),e)}:E0[t]?s.length>1?{type:E0[t],data:s.substring(1)}:{type:E0[t]}:Ty},j9=(s,e)=>{if(T9){const t=C9(s);return OE(t,e)}else return{base64:!0,data:s}},OE=(s,e)=>{switch(e){case"blob":return s instanceof Blob?s:new Blob([s]);case"arraybuffer":default:return s instanceof ArrayBuffer?s:s.buffer}},FE="",E9=(s,e)=>{const t=s.length,n=new Array(t);let i=0;s.forEach((r,a)=>{uv(r,!1,l=>{n[a]=l,++i===t&&e(n.join(FE))})})},N9=(s,e)=>{const t=s.split(FE),n=[];for(let i=0;i<t.length;i++){const r=dv(t[i],e);if(n.push(r),r.type==="error")break}return n};function M9(){return new TransformStream({transform(s,e){L9(s,t=>{const n=t.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const r=new DataView(i.buffer);r.setUint8(0,126),r.setUint16(1,n)}else{i=new Uint8Array(9);const r=new DataView(i.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(n))}s.data&&typeof s.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}let U1;function kh(s){return s.reduce((e,t)=>e+t.length,0)}function Ih(s,e){if(s[0].length===e)return s.shift();const t=new Uint8Array(e);let n=0;for(let i=0;i<e;i++)t[i]=s[0][n++],n===s[0].length&&(s.shift(),n=0);return s.length&&n<s[0].length&&(s[0]=s[0].slice(n)),t}function k9(s,e){U1||(U1=new TextDecoder);const t=[];let n=0,i=-1,r=!1;return new TransformStream({transform(a,l){for(t.push(a);;){if(n===0){if(kh(t)<1)break;const c=Ih(t,1);r=(c[0]&128)===128,i=c[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(kh(t)<2)break;const c=Ih(t,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(kh(t)<8)break;const c=Ih(t,8),f=new DataView(c.buffer,c.byteOffset,c.length),u=f.getUint32(0);if(u>Math.pow(2,21)-1){l.enqueue(Ty);break}i=u*Math.pow(2,32)+f.getUint32(4),n=3}else{if(kh(t)<i)break;const c=Ih(t,i);l.enqueue(dv(r?c:U1.decode(c),e)),n=0}if(i===0||i>s){l.enqueue(Ty);break}}}})}const zE=4;function Xt(s){if(s)return I9(s)}function I9(s){for(var e in Xt.prototype)s[e]=Xt.prototype[e];return s}Xt.prototype.on=Xt.prototype.addEventListener=function(s,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+s]=this._callbacks["$"+s]||[]).push(e),this};Xt.prototype.once=function(s,e){function t(){this.off(s,t),e.apply(this,arguments)}return t.fn=e,this.on(s,t),this};Xt.prototype.off=Xt.prototype.removeListener=Xt.prototype.removeAllListeners=Xt.prototype.removeEventListener=function(s,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+s];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+s],this;for(var n,i=0;i<t.length;i++)if(n=t[i],n===e||n.fn===e){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+s],this};Xt.prototype.emit=function(s){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+s],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(t){t=t.slice(0);for(var n=0,i=t.length;n<i;++n)t[n].apply(this,e)}return this};Xt.prototype.emitReserved=Xt.prototype.emit;Xt.prototype.listeners=function(s){return this._callbacks=this._callbacks||{},this._callbacks["$"+s]||[]};Xt.prototype.hasListeners=function(s){return!!this.listeners(s).length};const cp=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Kn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),_9="arraybuffer";function BE(s,...e){return e.reduce((t,n)=>(s.hasOwnProperty(n)&&(t[n]=s[n]),t),{})}const A9=Kn.setTimeout,D9=Kn.clearTimeout;function fp(s,e){e.useNativeTimers?(s.setTimeoutFn=A9.bind(Kn),s.clearTimeoutFn=D9.bind(Kn)):(s.setTimeoutFn=Kn.setTimeout.bind(Kn),s.clearTimeoutFn=Kn.clearTimeout.bind(Kn))}const P9=1.33;function R9(s){return typeof s=="string"?O9(s):Math.ceil((s.byteLength||s.size)*P9)}function O9(s){let e=0,t=0;for(let n=0,i=s.length;n<i;n++)e=s.charCodeAt(n),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(n++,t+=4);return t}function UE(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function F9(s){let e="";for(let t in s)s.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(s[t]));return e}function z9(s){let e={},t=s.split("&");for(let n=0,i=t.length;n<i;n++){let r=t[n].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return e}class B9 extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class hv extends Xt{constructor(e){super(),this.writable=!1,fp(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new B9(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=dv(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const t=F9(e);return t.length?"?"+t:""}}class U9 extends hv{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||t()})),this.writable||(n++,this.once("drain",function(){--n||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};N9(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,E9(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=UE()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}let $E=!1;try{$E=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const $9=$E;function V9(){}class G9 extends U9{constructor(e){if(super(e),typeof location<"u"){const t=location.protocol==="https:";let n=location.port;n||(n=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(i,r)=>{this.onError("xhr post error",i,r)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,n)=>{this.onError("xhr poll error",t,n)}),this.pollXhr=e}}let $l=class N0 extends Xt{constructor(e,t,n){super(),this.createRequest=e,fp(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;const t=BE(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=N0.requestsCount++,N0.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=V9,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete N0.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};$l.requestsCount=0;$l.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",z3);else if(typeof addEventListener=="function"){const s="onpagehide"in Kn?"pagehide":"unload";addEventListener(s,z3,!1)}}function z3(){for(let s in $l.requests)$l.requests.hasOwnProperty(s)&&$l.requests[s].abort()}const H9=function(){const s=VE({xdomain:!1});return s&&s.responseType!==null}();class Y9 extends G9{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=H9&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new $l(VE,this.uri(),e)}}function VE(s){const e=s.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||$9))return new XMLHttpRequest}catch{}if(!e)try{return new Kn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const GE=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class W9 extends hv{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=GE?{}:BE(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],i=t===e.length-1;uv(n,this.supportsBinary,r=>{try{this.doWrite(n,r)}catch{}i&&cp(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=UE()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const $1=Kn.WebSocket||Kn.MozWebSocket;class Q9 extends W9{createSocket(e,t,n){return GE?new $1(e,t,n):t?new $1(e,t):new $1(e)}doWrite(e,t){this.ws.send(t)}}class K9 extends hv{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=k9(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),i=M9();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const r=()=>{n.read().then(({done:l,value:c})=>{l||(this.onPacket(c),r())}).catch(l=>{})};r();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],i=t===e.length-1;this._writer.write(n).then(()=>{i&&cp(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const J9={websocket:Q9,webtransport:K9,polling:Y9},q9=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Z9=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function jy(s){if(s.length>8e3)throw"URI too long";const e=s,t=s.indexOf("["),n=s.indexOf("]");t!=-1&&n!=-1&&(s=s.substring(0,t)+s.substring(t,n).replace(/:/g,";")+s.substring(n,s.length));let i=q9.exec(s||""),r={},a=14;for(;a--;)r[Z9[a]]=i[a]||"";return t!=-1&&n!=-1&&(r.source=e,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=X9(r,r.path),r.queryKey=eO(r,r.query),r}function X9(s,e){const t=/\/{2,9}/g,n=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function eO(s,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,r){i&&(t[i]=r)}),t}const Ey=typeof addEventListener=="function"&&typeof removeEventListener=="function",M0=[];Ey&&addEventListener("offline",()=>{M0.forEach(s=>s())},!1);class Ea extends Xt{constructor(e,t){if(super(),this.binaryType=_9,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(t=e,e=null),e){const n=jy(e);t.hostname=n.host,t.secure=n.protocol==="https"||n.protocol==="wss",t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=jy(t.host).host);fp(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=z9(this.opts.query)),Ey&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},M0.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=zE,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Ea.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",Ea.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(t+=R9(i)),n>0&&t>this._maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,cp(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,i){if(typeof t=="function"&&(i=t,t=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const r={type:e,data:t,options:n};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(Ea.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ey&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=M0.indexOf(this._offlineEventListener);n!==-1&&M0.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}Ea.protocol=zE;class tO extends Ea{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;Ea.priorWebsocketSuccess=!1;const i=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",h=>{if(!n)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Ea.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=t.name,this.emitReserved("upgradeError",p)}}))};function r(){n||(n=!0,u(),t.close(),t=null)}const a=h=>{const p=new Error("probe error: "+h);p.transport=t.name,r(),this.emitReserved("upgradeError",p)};function l(){a("transport closed")}function c(){a("socket closed")}function f(h){t&&h.name!==t.name&&r()}const u=()=>{t.removeListener("open",i),t.removeListener("error",a),t.removeListener("close",l),this.off("close",c),this.off("upgrading",f)};t.once("open",i),t.once("error",a),t.once("close",l),this.once("close",c),this.once("upgrading",f),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}let sO=class extends tO{constructor(e,t={}){const n=typeof e=="object"?e:t;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>J9[i]).filter(i=>!!i)),super(e,n)}};function nO(s,e="",t){let n=s;t=t||typeof location<"u"&&location,s==null&&(s=t.protocol+"//"+t.host),typeof s=="string"&&(s.charAt(0)==="/"&&(s.charAt(1)==="/"?s=t.protocol+s:s=t.host+s),/^(https?|wss?):\/\//.test(s)||(typeof t<"u"?s=t.protocol+"//"+s:s="https://"+s),n=jy(s)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const r=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+r+":"+n.port+e,n.href=n.protocol+"://"+r+(t&&t.port===n.port?"":":"+n.port),n}const iO=typeof ArrayBuffer=="function",rO=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s.buffer instanceof ArrayBuffer,HE=Object.prototype.toString,aO=typeof Blob=="function"||typeof Blob<"u"&&HE.call(Blob)==="[object BlobConstructor]",oO=typeof File=="function"||typeof File<"u"&&HE.call(File)==="[object FileConstructor]";function mv(s){return iO&&(s instanceof ArrayBuffer||rO(s))||aO&&s instanceof Blob||oO&&s instanceof File}function k0(s,e){if(!s||typeof s!="object")return!1;if(Array.isArray(s)){for(let t=0,n=s.length;t<n;t++)if(k0(s[t]))return!0;return!1}if(mv(s))return!0;if(s.toJSON&&typeof s.toJSON=="function"&&arguments.length===1)return k0(s.toJSON(),!0);for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t)&&k0(s[t]))return!0;return!1}function lO(s){const e=[],t=s.data,n=s;return n.data=Ny(t,e),n.attachments=e.length,{packet:n,buffers:e}}function Ny(s,e){if(!s)return s;if(mv(s)){const t={_placeholder:!0,num:e.length};return e.push(s),t}else if(Array.isArray(s)){const t=new Array(s.length);for(let n=0;n<s.length;n++)t[n]=Ny(s[n],e);return t}else if(typeof s=="object"&&!(s instanceof Date)){const t={};for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=Ny(s[n],e));return t}return s}function cO(s,e){return s.data=My(s.data,e),delete s.attachments,s}function My(s,e){if(!s)return s;if(s&&s._placeholder===!0){if(typeof s.num=="number"&&s.num>=0&&s.num<e.length)return e[s.num];throw new Error("illegal attachments")}else if(Array.isArray(s))for(let t=0;t<s.length;t++)s[t]=My(s[t],e);else if(typeof s=="object")for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&(s[t]=My(s[t],e));return s}const fO=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],uO=5;var tt;(function(s){s[s.CONNECT=0]="CONNECT",s[s.DISCONNECT=1]="DISCONNECT",s[s.EVENT=2]="EVENT",s[s.ACK=3]="ACK",s[s.CONNECT_ERROR=4]="CONNECT_ERROR",s[s.BINARY_EVENT=5]="BINARY_EVENT",s[s.BINARY_ACK=6]="BINARY_ACK"})(tt||(tt={}));class dO{constructor(e){this.replacer=e}encode(e){return(e.type===tt.EVENT||e.type===tt.ACK)&&k0(e)?this.encodeAsBinary({type:e.type===tt.EVENT?tt.BINARY_EVENT:tt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===tt.BINARY_EVENT||e.type===tt.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=lO(e),n=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(n),i}}function B3(s){return Object.prototype.toString.call(s)==="[object Object]"}class pv extends Xt{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===tt.BINARY_EVENT;n||t.type===tt.BINARY_ACK?(t.type=n?tt.EVENT:tt.ACK,this.reconstructor=new hO(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(mv(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(tt[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===tt.BINARY_EVENT||n.type===tt.BINARY_ACK){const r=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const a=e.substring(r,t);if(a!=Number(a)||e.charAt(t)!=="-")throw new Error("Illegal attachments");n.attachments=Number(a)}if(e.charAt(t+1)==="/"){const r=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););n.nsp=e.substring(r,t)}else n.nsp="/";const i=e.charAt(t+1);if(i!==""&&Number(i)==i){const r=t+1;for(;++t;){const a=e.charAt(t);if(a==null||Number(a)!=a){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(pv.isPayloadValid(n.type,r))n.data=r;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case tt.CONNECT:return B3(t);case tt.DISCONNECT:return t===void 0;case tt.CONNECT_ERROR:return typeof t=="string"||B3(t);case tt.EVENT:case tt.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&fO.indexOf(t[0])===-1);case tt.ACK:case tt.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class hO{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=cO(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const mO=Object.freeze(Object.defineProperty({__proto__:null,Decoder:pv,Encoder:dO,get PacketType(){return tt},protocol:uO},Symbol.toStringTag,{value:"Module"}));function bi(s,e,t){return s.on(e,t),function(){s.off(e,t)}}const pO=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class YE extends Xt{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[bi(e,"open",this.onopen.bind(this)),bi(e,"packet",this.onpacket.bind(this)),bi(e,"error",this.onerror.bind(this)),bi(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var n,i,r;if(pO.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const a={type:tt.EVENT,data:t};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const u=this.ids++,h=t.pop();this._registerAckCallback(u,h),a.id=u}const l=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((r=this.io.engine)===null||r===void 0)&&r._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,t){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[e]=t;return}const r=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===e&&this.sendBuffer.splice(l,1);t.call(this,new Error("operation has timed out"))},i),a=(...l)=>{this.io.clearTimeoutFn(r),t.apply(this,l)};a.withError=!0,this.acks[e]=a}emitWithAck(e,...t){return new Promise((n,i)=>{const r=(a,l)=>a?i(a):n(l);r.withError=!0,t.push(r),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...r)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...r)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:tt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case tt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case tt.EVENT:case tt.BINARY_EVENT:this.onevent(e);break;case tt.ACK:case tt.BINARY_ACK:this.onack(e);break;case tt.DISCONNECT:this.ondisconnect();break;case tt.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(...i){n||(n=!0,t.packet({type:tt.ACK,id:e,data:i}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:tt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function bc(s){s=s||{},this.ms=s.min||100,this.max=s.max||1e4,this.factor=s.factor||2,this.jitter=s.jitter>0&&s.jitter<=1?s.jitter:0,this.attempts=0}bc.prototype.duration=function(){var s=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*s);s=(Math.floor(e*10)&1)==0?s-t:s+t}return Math.min(s,this.max)|0};bc.prototype.reset=function(){this.attempts=0};bc.prototype.setMin=function(s){this.ms=s};bc.prototype.setMax=function(s){this.max=s};bc.prototype.setJitter=function(s){this.jitter=s};class ky extends Xt{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,fp(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((n=t.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new bc({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const i=t.parser||mO;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new sO(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=bi(t,"open",function(){n.onopen(),e&&e()}),r=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),e?e(l):this.maybeReconnectOnOpen()},a=bi(t,"error",r);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{i(),r(new Error("timeout")),t.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(bi(e,"ping",this.onping.bind(this)),bi(e,"data",this.ondata.bind(this)),bi(e,"error",this.onerror.bind(this)),bi(e,"close",this.onclose.bind(this)),bi(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){cp(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new YE(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t)if(this.nsps[n].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const pf={};function I0(s,e){typeof s=="object"&&(e=s,s=void 0),e=e||{};const t=nO(s,e.path||"/socket.io"),n=t.source,i=t.id,r=t.path,a=pf[i]&&r in pf[i].nsps,l=e.forceNew||e["force new connection"]||e.multiplex===!1||a;let c;return l?c=new ky(n,e):(pf[i]||(pf[i]=new ky(n,e)),c=pf[i]),t.query&&!e.query&&(e.query=t.queryKey),c.socket(t.path,e)}Object.assign(I0,{Manager:ky,Socket:YE,io:I0,connect:I0});/*! js-cookie v3.0.5 | MIT */function _h(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)s[n]=t[n]}return s}var gO={read:function(s){return s[0]==='"'&&(s=s.slice(1,-1)),s.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(s){return encodeURIComponent(s).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Iy(s,e){function t(i,r,a){if(!(typeof document>"u")){a=_h({},e,a),typeof a.expires=="number"&&(a.expires=new Date(Date.now()+a.expires*864e5)),a.expires&&(a.expires=a.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var l="";for(var c in a)a[c]&&(l+="; "+c,a[c]!==!0&&(l+="="+a[c].split(";")[0]));return document.cookie=i+"="+s.write(r,i)+l}}function n(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var r=document.cookie?document.cookie.split("; "):[],a={},l=0;l<r.length;l++){var c=r[l].split("="),f=c.slice(1).join("=");try{var u=decodeURIComponent(c[0]);if(a[u]=s.read(f,u),i===u)break}catch{}}return i?a[i]:a}}return Object.create({set:t,get:n,remove:function(i,r){t(i,"",_h({},r,{expires:-1}))},withAttributes:function(i){return Iy(this.converter,_h({},this.attributes,i))},withConverter:function(i){return Iy(_h({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(s)}})}var U3=Iy(gO,{path:"/"});const WE=T.createContext(),xO=()=>T.useContext(WE),yO=({children:s})=>{const[e,t]=T.useState(null),[n,i]=T.useState(!1),[r,a]=T.useState(null),l=He();T.useEffect(()=>{const f=U3.get("token");if(!f){a("Authentication required");return}const u=I0("http://localhost:5000",{auth:{token:f},query:{token:f},transports:["websocket"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3});return u.on("connect",()=>{console.log("Socket connected"),i(!0),a(null),u.emit("join-conversations")}),u.on("connect_error",h=>{console.error("Socket connection error:",h),i(!1),a(h.message),h.message.includes("Authentication error")&&(ae.error("Your session has expired. Please log in again."),U3.remove("token"),l("/login"))}),u.on("disconnect",h=>{console.log("Socket disconnected:",h),i(!1),h==="io server disconnect"&&ae.error("You have been disconnected from the server.")}),u.on("error",h=>{console.error("Socket error:",h),ae.error(h.message||"An error occurred")}),t(u),()=>{u&&u.disconnect()}},[l]);const c={socket:e,connected:n,error:r};return o.jsx(WE.Provider,{value:c,children:s})};function QE(s,e){return function(){return s.apply(e,arguments)}}const{toString:bO}=Object.prototype,{getPrototypeOf:gv}=Object,up=(s=>e=>{const t=bO.call(e);return s[t]||(s[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ji=s=>(s=s.toLowerCase(),e=>up(e)===s),dp=s=>e=>typeof e===s,{isArray:vc}=Array,pu=dp("undefined");function vO(s){return s!==null&&!pu(s)&&s.constructor!==null&&!pu(s.constructor)&&En(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const KE=ji("ArrayBuffer");function wO(s){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(s):e=s&&s.buffer&&KE(s.buffer),e}const SO=dp("string"),En=dp("function"),JE=dp("number"),hp=s=>s!==null&&typeof s=="object",LO=s=>s===!0||s===!1,_0=s=>{if(up(s)!=="object")return!1;const e=gv(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},CO=ji("Date"),TO=ji("File"),jO=ji("Blob"),EO=ji("FileList"),NO=s=>hp(s)&&En(s.pipe),MO=s=>{let e;return s&&(typeof FormData=="function"&&s instanceof FormData||En(s.append)&&((e=up(s))==="formdata"||e==="object"&&En(s.toString)&&s.toString()==="[object FormData]"))},kO=ji("URLSearchParams"),[IO,_O,AO,DO]=["ReadableStream","Request","Response","Headers"].map(ji),PO=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function od(s,e,{allOwnKeys:t=!1}={}){if(s===null||typeof s>"u")return;let n,i;if(typeof s!="object"&&(s=[s]),vc(s))for(n=0,i=s.length;n<i;n++)e.call(null,s[n],n,s);else{const r=t?Object.getOwnPropertyNames(s):Object.keys(s),a=r.length;let l;for(n=0;n<a;n++)l=r[n],e.call(null,s[l],l,s)}}function qE(s,e){e=e.toLowerCase();const t=Object.keys(s);let n=t.length,i;for(;n-- >0;)if(i=t[n],e===i.toLowerCase())return i;return null}const vo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ZE=s=>!pu(s)&&s!==vo;function _y(){const{caseless:s}=ZE(this)&&this||{},e={},t=(n,i)=>{const r=s&&qE(e,i)||i;_0(e[r])&&_0(n)?e[r]=_y(e[r],n):_0(n)?e[r]=_y({},n):vc(n)?e[r]=n.slice():e[r]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&od(arguments[n],t);return e}const RO=(s,e,t,{allOwnKeys:n}={})=>(od(e,(i,r)=>{t&&En(i)?s[r]=QE(i,t):s[r]=i},{allOwnKeys:n}),s),OO=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),FO=(s,e,t,n)=>{s.prototype=Object.create(e.prototype,n),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:e.prototype}),t&&Object.assign(s.prototype,t)},zO=(s,e,t,n)=>{let i,r,a;const l={};if(e=e||{},s==null)return e;do{for(i=Object.getOwnPropertyNames(s),r=i.length;r-- >0;)a=i[r],(!n||n(a,s,e))&&!l[a]&&(e[a]=s[a],l[a]=!0);s=t!==!1&&gv(s)}while(s&&(!t||t(s,e))&&s!==Object.prototype);return e},BO=(s,e,t)=>{s=String(s),(t===void 0||t>s.length)&&(t=s.length),t-=e.length;const n=s.indexOf(e,t);return n!==-1&&n===t},UO=s=>{if(!s)return null;if(vc(s))return s;let e=s.length;if(!JE(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=s[e];return t},$O=(s=>e=>s&&e instanceof s)(typeof Uint8Array<"u"&&gv(Uint8Array)),VO=(s,e)=>{const n=(s&&s[Symbol.iterator]).call(s);let i;for(;(i=n.next())&&!i.done;){const r=i.value;e.call(s,r[0],r[1])}},GO=(s,e)=>{let t;const n=[];for(;(t=s.exec(e))!==null;)n.push(t);return n},HO=ji("HTMLFormElement"),YO=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,i){return n.toUpperCase()+i}),$3=(({hasOwnProperty:s})=>(e,t)=>s.call(e,t))(Object.prototype),WO=ji("RegExp"),XE=(s,e)=>{const t=Object.getOwnPropertyDescriptors(s),n={};od(t,(i,r)=>{let a;(a=e(i,r,s))!==!1&&(n[r]=a||i)}),Object.defineProperties(s,n)},QO=s=>{XE(s,(e,t)=>{if(En(s)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=s[t];if(En(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},KO=(s,e)=>{const t={},n=i=>{i.forEach(r=>{t[r]=!0})};return vc(s)?n(s):n(String(s).split(e)),t},JO=()=>{},qO=(s,e)=>s!=null&&Number.isFinite(s=+s)?s:e;function ZO(s){return!!(s&&En(s.append)&&s[Symbol.toStringTag]==="FormData"&&s[Symbol.iterator])}const XO=s=>{const e=new Array(10),t=(n,i)=>{if(hp(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const r=vc(n)?[]:{};return od(n,(a,l)=>{const c=t(a,i+1);!pu(c)&&(r[l]=c)}),e[i]=void 0,r}}return n};return t(s,0)},e7=ji("AsyncFunction"),t7=s=>s&&(hp(s)||En(s))&&En(s.then)&&En(s.catch),eN=((s,e)=>s?setImmediate:e?((t,n)=>(vo.addEventListener("message",({source:i,data:r})=>{i===vo&&r===t&&n.length&&n.shift()()},!1),i=>{n.push(i),vo.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",En(vo.postMessage)),s7=typeof queueMicrotask<"u"?queueMicrotask.bind(vo):typeof process<"u"&&process.nextTick||eN,ie={isArray:vc,isArrayBuffer:KE,isBuffer:vO,isFormData:MO,isArrayBufferView:wO,isString:SO,isNumber:JE,isBoolean:LO,isObject:hp,isPlainObject:_0,isReadableStream:IO,isRequest:_O,isResponse:AO,isHeaders:DO,isUndefined:pu,isDate:CO,isFile:TO,isBlob:jO,isRegExp:WO,isFunction:En,isStream:NO,isURLSearchParams:kO,isTypedArray:$O,isFileList:EO,forEach:od,merge:_y,extend:RO,trim:PO,stripBOM:OO,inherits:FO,toFlatObject:zO,kindOf:up,kindOfTest:ji,endsWith:BO,toArray:UO,forEachEntry:VO,matchAll:GO,isHTMLForm:HO,hasOwnProperty:$3,hasOwnProp:$3,reduceDescriptors:XE,freezeMethods:QO,toObjectSet:KO,toCamelCase:YO,noop:JO,toFiniteNumber:qO,findKey:qE,global:vo,isContextDefined:ZE,isSpecCompliantForm:ZO,toJSONObject:XO,isAsyncFn:e7,isThenable:t7,setImmediate:eN,asap:s7};function $e(s,e,t,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}ie.inherits($e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ie.toJSONObject(this.config),code:this.code,status:this.status}}});const tN=$e.prototype,sN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{sN[s]={value:s}});Object.defineProperties($e,sN);Object.defineProperty(tN,"isAxiosError",{value:!0});$e.from=(s,e,t,n,i,r)=>{const a=Object.create(tN);return ie.toFlatObject(s,a,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),$e.call(a,s.message,e,t,n,i),a.cause=s,a.name=s.name,r&&Object.assign(a,r),a};const n7=null;function Ay(s){return ie.isPlainObject(s)||ie.isArray(s)}function nN(s){return ie.endsWith(s,"[]")?s.slice(0,-2):s}function V3(s,e,t){return s?s.concat(e).map(function(i,r){return i=nN(i),!t&&r?"["+i+"]":i}).join(t?".":""):e}function i7(s){return ie.isArray(s)&&!s.some(Ay)}const r7=ie.toFlatObject(ie,{},null,function(e){return/^is[A-Z]/.test(e)});function mp(s,e,t){if(!ie.isObject(s))throw new TypeError("target must be an object");e=e||new FormData,t=ie.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,v){return!ie.isUndefined(v[y])});const n=t.metaTokens,i=t.visitor||u,r=t.dots,a=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&ie.isSpecCompliantForm(e);if(!ie.isFunction(i))throw new TypeError("visitor must be a function");function f(x){if(x===null)return"";if(ie.isDate(x))return x.toISOString();if(!c&&ie.isBlob(x))throw new $e("Blob is not supported. Use a Buffer instead.");return ie.isArrayBuffer(x)||ie.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function u(x,y,v){let w=x;if(x&&!v&&typeof x=="object"){if(ie.endsWith(y,"{}"))y=n?y:y.slice(0,-2),x=JSON.stringify(x);else if(ie.isArray(x)&&i7(x)||(ie.isFileList(x)||ie.endsWith(y,"[]"))&&(w=ie.toArray(x)))return y=nN(y),w.forEach(function(S,j){!(ie.isUndefined(S)||S===null)&&e.append(a===!0?V3([y],j,r):a===null?y:y+"[]",f(S))}),!1}return Ay(x)?!0:(e.append(V3(v,y,r),f(x)),!1)}const h=[],p=Object.assign(r7,{defaultVisitor:u,convertValue:f,isVisitable:Ay});function g(x,y){if(!ie.isUndefined(x)){if(h.indexOf(x)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(x),ie.forEach(x,function(w,L){(!(ie.isUndefined(w)||w===null)&&i.call(e,w,ie.isString(L)?L.trim():L,y,p))===!0&&g(w,y?y.concat(L):[L])}),h.pop()}}if(!ie.isObject(s))throw new TypeError("data must be an object");return g(s),e}function G3(s){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function xv(s,e){this._pairs=[],s&&mp(s,this,e)}const iN=xv.prototype;iN.append=function(e,t){this._pairs.push([e,t])};iN.toString=function(e){const t=e?function(n){return e.call(this,n,G3)}:G3;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function a7(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function rN(s,e,t){if(!e)return s;const n=t&&t.encode||a7;ie.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let r;if(i?r=i(e,t):r=ie.isURLSearchParams(e)?e.toString():new xv(e,t).toString(n),r){const a=s.indexOf("#");a!==-1&&(s=s.slice(0,a)),s+=(s.indexOf("?")===-1?"?":"&")+r}return s}class H3{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ie.forEach(this.handlers,function(n){n!==null&&e(n)})}}const aN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},o7=typeof URLSearchParams<"u"?URLSearchParams:xv,l7=typeof FormData<"u"?FormData:null,c7=typeof Blob<"u"?Blob:null,f7={isBrowser:!0,classes:{URLSearchParams:o7,FormData:l7,Blob:c7},protocols:["http","https","file","blob","url","data"]},yv=typeof window<"u"&&typeof document<"u",Dy=typeof navigator=="object"&&navigator||void 0,u7=yv&&(!Dy||["ReactNative","NativeScript","NS"].indexOf(Dy.product)<0),d7=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",h7=yv&&window.location.href||"http://localhost",m7=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:yv,hasStandardBrowserEnv:u7,hasStandardBrowserWebWorkerEnv:d7,navigator:Dy,origin:h7},Symbol.toStringTag,{value:"Module"})),Ns={...m7,...f7};function p7(s,e){return mp(s,new Ns.classes.URLSearchParams,Object.assign({visitor:function(t,n,i,r){return Ns.isNode&&ie.isBuffer(t)?(this.append(n,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}function g7(s){return ie.matchAll(/\w+|\[(\w*)]/g,s).map(e=>e[0]==="[]"?"":e[1]||e[0])}function x7(s){const e={},t=Object.keys(s);let n;const i=t.length;let r;for(n=0;n<i;n++)r=t[n],e[r]=s[r];return e}function oN(s){function e(t,n,i,r){let a=t[r++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),c=r>=t.length;return a=!a&&ie.isArray(i)?i.length:a,c?(ie.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!l):((!i[a]||!ie.isObject(i[a]))&&(i[a]=[]),e(t,n,i[a],r)&&ie.isArray(i[a])&&(i[a]=x7(i[a])),!l)}if(ie.isFormData(s)&&ie.isFunction(s.entries)){const t={};return ie.forEachEntry(s,(n,i)=>{e(g7(n),i,t,0)}),t}return null}function y7(s,e,t){if(ie.isString(s))try{return(e||JSON.parse)(s),ie.trim(s)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(s)}const ld={transitional:aN,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,r=ie.isObject(e);if(r&&ie.isHTMLForm(e)&&(e=new FormData(e)),ie.isFormData(e))return i?JSON.stringify(oN(e)):e;if(ie.isArrayBuffer(e)||ie.isBuffer(e)||ie.isStream(e)||ie.isFile(e)||ie.isBlob(e)||ie.isReadableStream(e))return e;if(ie.isArrayBufferView(e))return e.buffer;if(ie.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return p7(e,this.formSerializer).toString();if((l=ie.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return mp(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return r||i?(t.setContentType("application/json",!1),y7(e)):e}],transformResponse:[function(e){const t=this.transitional||ld.transitional,n=t&&t.forcedJSONParsing,i=this.responseType==="json";if(ie.isResponse(e)||ie.isReadableStream(e))return e;if(e&&ie.isString(e)&&(n&&!this.responseType||i)){const a=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(a)throw l.name==="SyntaxError"?$e.from(l,$e.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ns.classes.FormData,Blob:Ns.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ie.forEach(["delete","get","head","post","put","patch"],s=>{ld.headers[s]={}});const b7=ie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),v7=s=>{const e={};let t,n,i;return s&&s.split(`
`).forEach(function(a){i=a.indexOf(":"),t=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!t||e[t]&&b7[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},Y3=Symbol("internals");function gf(s){return s&&String(s).trim().toLowerCase()}function A0(s){return s===!1||s==null?s:ie.isArray(s)?s.map(A0):String(s)}function w7(s){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(s);)e[n[1]]=n[2];return e}const S7=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function V1(s,e,t,n,i){if(ie.isFunction(n))return n.call(this,e,t);if(i&&(e=t),!!ie.isString(e)){if(ie.isString(n))return e.indexOf(n)!==-1;if(ie.isRegExp(n))return n.test(e)}}function L7(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function C7(s,e){const t=ie.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(s,n+t,{value:function(i,r,a){return this[n].call(this,e,i,r,a)},configurable:!0})})}let an=class{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function r(l,c,f){const u=gf(c);if(!u)throw new Error("header name must be a non-empty string");const h=ie.findKey(i,u);(!h||i[h]===void 0||f===!0||f===void 0&&i[h]!==!1)&&(i[h||c]=A0(l))}const a=(l,c)=>ie.forEach(l,(f,u)=>r(f,u,c));if(ie.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(ie.isString(e)&&(e=e.trim())&&!S7(e))a(v7(e),t);else if(ie.isHeaders(e))for(const[l,c]of e.entries())r(c,l,n);else e!=null&&r(t,e,n);return this}get(e,t){if(e=gf(e),e){const n=ie.findKey(this,e);if(n){const i=this[n];if(!t)return i;if(t===!0)return w7(i);if(ie.isFunction(t))return t.call(this,i,n);if(ie.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=gf(e),e){const n=ie.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||V1(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let i=!1;function r(a){if(a=gf(a),a){const l=ie.findKey(n,a);l&&(!t||V1(n,n[l],l,t))&&(delete n[l],i=!0)}}return ie.isArray(e)?e.forEach(r):r(e),i}clear(e){const t=Object.keys(this);let n=t.length,i=!1;for(;n--;){const r=t[n];(!e||V1(this,this[r],r,e,!0))&&(delete this[r],i=!0)}return i}normalize(e){const t=this,n={};return ie.forEach(this,(i,r)=>{const a=ie.findKey(n,r);if(a){t[a]=A0(i),delete t[r];return}const l=e?L7(r):String(r).trim();l!==r&&delete t[r],t[l]=A0(i),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ie.forEach(this,(n,i)=>{n!=null&&n!==!1&&(t[i]=e&&ie.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[Y3]=this[Y3]={accessors:{}}).accessors,i=this.prototype;function r(a){const l=gf(a);n[l]||(C7(i,a),n[l]=!0)}return ie.isArray(e)?e.forEach(r):r(e),this}};an.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ie.reduceDescriptors(an.prototype,({value:s},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>s,set(n){this[t]=n}}});ie.freezeMethods(an);function G1(s,e){const t=this||ld,n=e||t,i=an.from(n.headers);let r=n.data;return ie.forEach(s,function(l){r=l.call(t,r,i.normalize(),e?e.status:void 0)}),i.normalize(),r}function lN(s){return!!(s&&s.__CANCEL__)}function wc(s,e,t){$e.call(this,s??"canceled",$e.ERR_CANCELED,e,t),this.name="CanceledError"}ie.inherits(wc,$e,{__CANCEL__:!0});function cN(s,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?s(t):e(new $e("Request failed with status code "+t.status,[$e.ERR_BAD_REQUEST,$e.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function T7(s){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return e&&e[1]||""}function j7(s,e){s=s||10;const t=new Array(s),n=new Array(s);let i=0,r=0,a;return e=e!==void 0?e:1e3,function(c){const f=Date.now(),u=n[r];a||(a=f),t[i]=c,n[i]=f;let h=r,p=0;for(;h!==i;)p+=t[h++],h=h%s;if(i=(i+1)%s,i===r&&(r=(r+1)%s),f-a<e)return;const g=u&&f-u;return g?Math.round(p*1e3/g):void 0}}function E7(s,e){let t=0,n=1e3/e,i,r;const a=(f,u=Date.now())=>{t=u,i=null,r&&(clearTimeout(r),r=null),s.apply(null,f)};return[(...f)=>{const u=Date.now(),h=u-t;h>=n?a(f,u):(i=f,r||(r=setTimeout(()=>{r=null,a(i)},n-h)))},()=>i&&a(i)]}const lm=(s,e,t=3)=>{let n=0;const i=j7(50,250);return E7(r=>{const a=r.loaded,l=r.lengthComputable?r.total:void 0,c=a-n,f=i(c),u=a<=l;n=a;const h={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:f||void 0,estimated:f&&l&&u?(l-a)/f:void 0,event:r,lengthComputable:l!=null,[e?"download":"upload"]:!0};s(h)},t)},W3=(s,e)=>{const t=s!=null;return[n=>e[0]({lengthComputable:t,total:s,loaded:n}),e[1]]},Q3=s=>(...e)=>ie.asap(()=>s(...e)),N7=Ns.hasStandardBrowserEnv?((s,e)=>t=>(t=new URL(t,Ns.origin),s.protocol===t.protocol&&s.host===t.host&&(e||s.port===t.port)))(new URL(Ns.origin),Ns.navigator&&/(msie|trident)/i.test(Ns.navigator.userAgent)):()=>!0,M7=Ns.hasStandardBrowserEnv?{write(s,e,t,n,i,r){const a=[s+"="+encodeURIComponent(e)];ie.isNumber(t)&&a.push("expires="+new Date(t).toGMTString()),ie.isString(n)&&a.push("path="+n),ie.isString(i)&&a.push("domain="+i),r===!0&&a.push("secure"),document.cookie=a.join("; ")},read(s){const e=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function k7(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function I7(s,e){return e?s.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):s}function fN(s,e,t){let n=!k7(e);return s&&(n||t==!1)?I7(s,e):e}const K3=s=>s instanceof an?{...s}:s;function zo(s,e){e=e||{};const t={};function n(f,u,h,p){return ie.isPlainObject(f)&&ie.isPlainObject(u)?ie.merge.call({caseless:p},f,u):ie.isPlainObject(u)?ie.merge({},u):ie.isArray(u)?u.slice():u}function i(f,u,h,p){if(ie.isUndefined(u)){if(!ie.isUndefined(f))return n(void 0,f,h,p)}else return n(f,u,h,p)}function r(f,u){if(!ie.isUndefined(u))return n(void 0,u)}function a(f,u){if(ie.isUndefined(u)){if(!ie.isUndefined(f))return n(void 0,f)}else return n(void 0,u)}function l(f,u,h){if(h in e)return n(f,u);if(h in s)return n(void 0,f)}const c={url:r,method:r,data:r,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(f,u,h)=>i(K3(f),K3(u),h,!0)};return ie.forEach(Object.keys(Object.assign({},s,e)),function(u){const h=c[u]||i,p=h(s[u],e[u],u);ie.isUndefined(p)&&h!==l||(t[u]=p)}),t}const uN=s=>{const e=zo({},s);let{data:t,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:r,headers:a,auth:l}=e;e.headers=a=an.from(a),e.url=rN(fN(e.baseURL,e.url,e.allowAbsoluteUrls),s.params,s.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(ie.isFormData(t)){if(Ns.hasStandardBrowserEnv||Ns.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((c=a.getContentType())!==!1){const[f,...u]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];a.setContentType([f||"multipart/form-data",...u].join("; "))}}if(Ns.hasStandardBrowserEnv&&(n&&ie.isFunction(n)&&(n=n(e)),n||n!==!1&&N7(e.url))){const f=i&&r&&M7.read(r);f&&a.set(i,f)}return e},_7=typeof XMLHttpRequest<"u",A7=_7&&function(s){return new Promise(function(t,n){const i=uN(s);let r=i.data;const a=an.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:f}=i,u,h,p,g,x;function y(){g&&g(),x&&x(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(i.method.toUpperCase(),i.url,!0),v.timeout=i.timeout;function w(){if(!v)return;const S=an.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:S,config:s,request:v};cN(function(N){t(N),y()},function(N){n(N),y()},E),v=null}"onloadend"in v?v.onloadend=w:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(w)},v.onabort=function(){v&&(n(new $e("Request aborted",$e.ECONNABORTED,s,v)),v=null)},v.onerror=function(){n(new $e("Network Error",$e.ERR_NETWORK,s,v)),v=null},v.ontimeout=function(){let j=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const E=i.transitional||aN;i.timeoutErrorMessage&&(j=i.timeoutErrorMessage),n(new $e(j,E.clarifyTimeoutError?$e.ETIMEDOUT:$e.ECONNABORTED,s,v)),v=null},r===void 0&&a.setContentType(null),"setRequestHeader"in v&&ie.forEach(a.toJSON(),function(j,E){v.setRequestHeader(E,j)}),ie.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),l&&l!=="json"&&(v.responseType=i.responseType),f&&([p,x]=lm(f,!0),v.addEventListener("progress",p)),c&&v.upload&&([h,g]=lm(c),v.upload.addEventListener("progress",h),v.upload.addEventListener("loadend",g)),(i.cancelToken||i.signal)&&(u=S=>{v&&(n(!S||S.type?new wc(null,s,v):S),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const L=T7(i.url);if(L&&Ns.protocols.indexOf(L)===-1){n(new $e("Unsupported protocol "+L+":",$e.ERR_BAD_REQUEST,s));return}v.send(r||null)})},D7=(s,e)=>{const{length:t}=s=s?s.filter(Boolean):[];if(e||t){let n=new AbortController,i;const r=function(f){if(!i){i=!0,l();const u=f instanceof Error?f:this.reason;n.abort(u instanceof $e?u:new wc(u instanceof Error?u.message:u))}};let a=e&&setTimeout(()=>{a=null,r(new $e(`timeout ${e} of ms exceeded`,$e.ETIMEDOUT))},e);const l=()=>{s&&(a&&clearTimeout(a),a=null,s.forEach(f=>{f.unsubscribe?f.unsubscribe(r):f.removeEventListener("abort",r)}),s=null)};s.forEach(f=>f.addEventListener("abort",r));const{signal:c}=n;return c.unsubscribe=()=>ie.asap(l),c}},P7=function*(s,e){let t=s.byteLength;if(t<e){yield s;return}let n=0,i;for(;n<t;)i=n+e,yield s.slice(n,i),n=i},R7=async function*(s,e){for await(const t of O7(s))yield*P7(t,e)},O7=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const e=s.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},J3=(s,e,t,n)=>{const i=R7(s,e);let r=0,a,l=c=>{a||(a=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:f,value:u}=await i.next();if(f){l(),c.close();return}let h=u.byteLength;if(t){let p=r+=h;t(p)}c.enqueue(new Uint8Array(u))}catch(f){throw l(f),f}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},pp=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",dN=pp&&typeof ReadableStream=="function",F7=pp&&(typeof TextEncoder=="function"?(s=>e=>s.encode(e))(new TextEncoder):async s=>new Uint8Array(await new Response(s).arrayBuffer())),hN=(s,...e)=>{try{return!!s(...e)}catch{return!1}},z7=dN&&hN(()=>{let s=!1;const e=new Request(Ns.origin,{body:new ReadableStream,method:"POST",get duplex(){return s=!0,"half"}}).headers.has("Content-Type");return s&&!e}),q3=64*1024,Py=dN&&hN(()=>ie.isReadableStream(new Response("").body)),cm={stream:Py&&(s=>s.body)};pp&&(s=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!cm[e]&&(cm[e]=ie.isFunction(s[e])?t=>t[e]():(t,n)=>{throw new $e(`Response type '${e}' is not supported`,$e.ERR_NOT_SUPPORT,n)})})})(new Response);const B7=async s=>{if(s==null)return 0;if(ie.isBlob(s))return s.size;if(ie.isSpecCompliantForm(s))return(await new Request(Ns.origin,{method:"POST",body:s}).arrayBuffer()).byteLength;if(ie.isArrayBufferView(s)||ie.isArrayBuffer(s))return s.byteLength;if(ie.isURLSearchParams(s)&&(s=s+""),ie.isString(s))return(await F7(s)).byteLength},U7=async(s,e)=>{const t=ie.toFiniteNumber(s.getContentLength());return t??B7(e)},$7=pp&&(async s=>{let{url:e,method:t,data:n,signal:i,cancelToken:r,timeout:a,onDownloadProgress:l,onUploadProgress:c,responseType:f,headers:u,withCredentials:h="same-origin",fetchOptions:p}=uN(s);f=f?(f+"").toLowerCase():"text";let g=D7([i,r&&r.toAbortSignal()],a),x;const y=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let v;try{if(c&&z7&&t!=="get"&&t!=="head"&&(v=await U7(u,n))!==0){let E=new Request(e,{method:"POST",body:n,duplex:"half"}),M;if(ie.isFormData(n)&&(M=E.headers.get("content-type"))&&u.setContentType(M),E.body){const[N,I]=W3(v,lm(Q3(c)));n=J3(E.body,q3,N,I)}}ie.isString(h)||(h=h?"include":"omit");const w="credentials"in Request.prototype;x=new Request(e,{...p,signal:g,method:t.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:w?h:void 0});let L=await fetch(x);const S=Py&&(f==="stream"||f==="response");if(Py&&(l||S&&y)){const E={};["status","statusText","headers"].forEach(A=>{E[A]=L[A]});const M=ie.toFiniteNumber(L.headers.get("content-length")),[N,I]=l&&W3(M,lm(Q3(l),!0))||[];L=new Response(J3(L.body,q3,N,()=>{I&&I(),y&&y()}),E)}f=f||"text";let j=await cm[ie.findKey(cm,f)||"text"](L,s);return!S&&y&&y(),await new Promise((E,M)=>{cN(E,M,{data:j,headers:an.from(L.headers),status:L.status,statusText:L.statusText,config:s,request:x})})}catch(w){throw y&&y(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new $e("Network Error",$e.ERR_NETWORK,s,x),{cause:w.cause||w}):$e.from(w,w&&w.code,s,x)}}),Ry={http:n7,xhr:A7,fetch:$7};ie.forEach(Ry,(s,e)=>{if(s){try{Object.defineProperty(s,"name",{value:e})}catch{}Object.defineProperty(s,"adapterName",{value:e})}});const Z3=s=>`- ${s}`,V7=s=>ie.isFunction(s)||s===null||s===!1,mN={getAdapter:s=>{s=ie.isArray(s)?s:[s];const{length:e}=s;let t,n;const i={};for(let r=0;r<e;r++){t=s[r];let a;if(n=t,!V7(t)&&(n=Ry[(a=String(t)).toLowerCase()],n===void 0))throw new $e(`Unknown adapter '${a}'`);if(n)break;i[a||"#"+r]=n}if(!n){const r=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=e?r.length>1?`since :
`+r.map(Z3).join(`
`):" "+Z3(r[0]):"as no adapter specified";throw new $e("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:Ry};function H1(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new wc(null,s)}function X3(s){return H1(s),s.headers=an.from(s.headers),s.data=G1.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),mN.getAdapter(s.adapter||ld.adapter)(s).then(function(n){return H1(s),n.data=G1.call(s,s.transformResponse,n),n.headers=an.from(n.headers),n},function(n){return lN(n)||(H1(s),n&&n.response&&(n.response.data=G1.call(s,s.transformResponse,n.response),n.response.headers=an.from(n.response.headers))),Promise.reject(n)})}const pN="1.8.4",gp={};["object","boolean","number","function","string","symbol"].forEach((s,e)=>{gp[s]=function(n){return typeof n===s||"a"+(e<1?"n ":" ")+s}});const eL={};gp.transitional=function(e,t,n){function i(r,a){return"[Axios v"+pN+"] Transitional option '"+r+"'"+a+(n?". "+n:"")}return(r,a,l)=>{if(e===!1)throw new $e(i(a," has been removed"+(t?" in "+t:"")),$e.ERR_DEPRECATED);return t&&!eL[a]&&(eL[a]=!0,console.warn(i(a," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(r,a,l):!0}};gp.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function G7(s,e,t){if(typeof s!="object")throw new $e("options must be an object",$e.ERR_BAD_OPTION_VALUE);const n=Object.keys(s);let i=n.length;for(;i-- >0;){const r=n[i],a=e[r];if(a){const l=s[r],c=l===void 0||a(l,r,s);if(c!==!0)throw new $e("option "+r+" must be "+c,$e.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new $e("Unknown option "+r,$e.ERR_BAD_OPTION)}}const D0={assertOptions:G7,validators:gp},Pi=D0.validators;let jo=class{constructor(e){this.defaults=e,this.interceptors={request:new H3,response:new H3}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const r=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?r&&!String(n.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+r):n.stack=r}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=zo(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:r}=t;n!==void 0&&D0.assertOptions(n,{silentJSONParsing:Pi.transitional(Pi.boolean),forcedJSONParsing:Pi.transitional(Pi.boolean),clarifyTimeoutError:Pi.transitional(Pi.boolean)},!1),i!=null&&(ie.isFunction(i)?t.paramsSerializer={serialize:i}:D0.assertOptions(i,{encode:Pi.function,serialize:Pi.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),D0.assertOptions(t,{baseUrl:Pi.spelling("baseURL"),withXsrfToken:Pi.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=r&&ie.merge(r.common,r[t.method]);r&&ie.forEach(["delete","get","head","post","put","patch","common"],x=>{delete r[x]}),t.headers=an.concat(a,r);const l=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(t)===!1||(c=c&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const f=[];this.interceptors.response.forEach(function(y){f.push(y.fulfilled,y.rejected)});let u,h=0,p;if(!c){const x=[X3.bind(this),void 0];for(x.unshift.apply(x,l),x.push.apply(x,f),p=x.length,u=Promise.resolve(t);h<p;)u=u.then(x[h++],x[h++]);return u}p=l.length;let g=t;for(h=0;h<p;){const x=l[h++],y=l[h++];try{g=x(g)}catch(v){y.call(this,v);break}}try{u=X3.call(this,g)}catch(x){return Promise.reject(x)}for(h=0,p=f.length;h<p;)u=u.then(f[h++],f[h++]);return u}getUri(e){e=zo(this.defaults,e);const t=fN(e.baseURL,e.url,e.allowAbsoluteUrls);return rN(t,e.params,e.paramsSerializer)}};ie.forEach(["delete","get","head","options"],function(e){jo.prototype[e]=function(t,n){return this.request(zo(n||{},{method:e,url:t,data:(n||{}).data}))}});ie.forEach(["post","put","patch"],function(e){function t(n){return function(r,a,l){return this.request(zo(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:r,data:a}))}}jo.prototype[e]=t(),jo.prototype[e+"Form"]=t(!0)});let H7=class gN{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(r){t=r});const n=this;this.promise.then(i=>{if(!n._listeners)return;let r=n._listeners.length;for(;r-- >0;)n._listeners[r](i);n._listeners=null}),this.promise.then=i=>{let r;const a=new Promise(l=>{n.subscribe(l),r=l}).then(i);return a.cancel=function(){n.unsubscribe(r)},a},e(function(r,a,l){n.reason||(n.reason=new wc(r,a,l),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new gN(function(i){e=i}),cancel:e}}};function Y7(s){return function(t){return s.apply(null,t)}}function W7(s){return ie.isObject(s)&&s.isAxiosError===!0}const Oy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Oy).forEach(([s,e])=>{Oy[e]=s});function xN(s){const e=new jo(s),t=QE(jo.prototype.request,e);return ie.extend(t,jo.prototype,e,{allOwnKeys:!0}),ie.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return xN(zo(s,i))},t}const Q=xN(ld);Q.Axios=jo;Q.CanceledError=wc;Q.CancelToken=H7;Q.isCancel=lN;Q.VERSION=pN;Q.toFormData=mp;Q.AxiosError=$e;Q.Cancel=Q.CanceledError;Q.all=function(e){return Promise.all(e)};Q.spread=Y7;Q.isAxiosError=W7;Q.mergeConfig=zo;Q.AxiosHeaders=an;Q.formToJSON=s=>oN(ie.isHTMLForm(s)?new FormData(s):s);Q.getAdapter=mN.getAdapter;Q.HttpStatusCode=Oy;Q.default=Q;const{Axios:sle,AxiosError:nle,CanceledError:ile,isCancel:rle,CancelToken:ale,VERSION:ole,all:lle,Cancel:cle,isAxiosError:fle,spread:ule,toFormData:dle,AxiosHeaders:hle,HttpStatusCode:mle,formToJSON:ple,getAdapter:gle,mergeConfig:xle}=Q;var yN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},tL=je.createContext&&je.createContext(yN),Q7=["attr","size","title"];function K7(s,e){if(s==null)return{};var t=J7(s,e),n,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);for(i=0;i<r.length;i++)n=r[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(s,n)&&(t[n]=s[n])}return t}function J7(s,e){if(s==null)return{};var t={};for(var n in s)if(Object.prototype.hasOwnProperty.call(s,n)){if(e.indexOf(n)>=0)continue;t[n]=s[n]}return t}function fm(){return fm=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},fm.apply(this,arguments)}function sL(s,e){var t=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(s,i).enumerable})),t.push.apply(t,n)}return t}function um(s){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sL(Object(t),!0).forEach(function(n){q7(s,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(t)):sL(Object(t)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(t,n))})}return s}function q7(s,e,t){return e=Z7(e),e in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}function Z7(s){var e=X7(s,"string");return typeof e=="symbol"?e:e+""}function X7(s,e){if(typeof s!="object"||!s)return s;var t=s[Symbol.toPrimitive];if(t!==void 0){var n=t.call(s,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(s)}function bN(s){return s&&s.map((e,t)=>je.createElement(e.tag,um({key:t},e.attr),bN(e.child)))}function ge(s){return e=>je.createElement(eF,fm({attr:um({},s.attr)},e),bN(s.child))}function eF(s){var e=t=>{var{attr:n,size:i,title:r}=s,a=K7(s,Q7),l=i||t.size||"1em",c;return t.className&&(c=t.className),s.className&&(c=(c?c+" ":"")+s.className),je.createElement("svg",fm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,a,{className:c,style:um(um({color:s.color||t.color},t.style),s.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),r&&je.createElement("title",null,r),s.children)};return tL!==void 0?je.createElement(tL.Consumer,null,t=>e(t)):e(yN)}function tF(s){return ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"},child:[]}]})(s)}function sF(s){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(s)}function vN(s){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(s)}function nF(s){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(s)}function wN(s){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(s)}function SN(s){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(s)}function LN(s){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(s)}function iF(s){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(s)}function xp(s){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(s)}function rF(s){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"},child:[]}]})(s)}function gu(s){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(s)}function CN(s){return ge({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z"},child:[]}]})(s)}function aF(s){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M511.988 288.9c-.478 17.43-15.217 31.1-32.653 31.1H424v16c0 21.864-4.882 42.584-13.6 61.145l60.228 60.228c12.496 12.497 12.496 32.758 0 45.255-12.498 12.497-32.759 12.496-45.256 0l-54.736-54.736C345.886 467.965 314.351 480 280 480V236c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v244c-34.351 0-65.886-12.035-90.636-32.108l-54.736 54.736c-12.498 12.497-32.759 12.496-45.256 0-12.496-12.497-12.496-32.758 0-45.255l60.228-60.228C92.882 378.584 88 357.864 88 336v-16H32.666C15.23 320 .491 306.33.013 288.9-.484 270.816 14.028 256 32 256h56v-58.745l-46.628-46.628c-12.496-12.497-12.496-32.758 0-45.255 12.498-12.497 32.758-12.497 45.256 0L141.255 160h229.489l54.627-54.627c12.498-12.497 32.758-12.497 45.256 0 12.496 12.497 12.496 32.758 0 45.255L424 197.255V256h56c17.972 0 32.484 14.816 31.988 32.9zM257 0c-61.856 0-112 50.144-112 112h224C369 50.144 318.856 0 257 0z"},child:[]}]})(s)}function dm(s){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(s)}function nL(s){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(s)}function oF(s){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(s)}function lF(s){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(s)}function Cn(s){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(s)}function Fy(s){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(s)}function cF(s){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(s)}function fF(s){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(s)}function uF(s){return ge({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M120 72c0-39.765 32.235-72 72-72s72 32.235 72 72c0 39.764-32.235 72-72 72s-72-32.236-72-72zm254.627 1.373c-12.496-12.497-32.758-12.497-45.254 0L242.745 160H141.254L54.627 73.373c-12.496-12.497-32.758-12.497-45.254 0-12.497 12.497-12.497 32.758 0 45.255L104 213.254V480c0 17.673 14.327 32 32 32h16c17.673 0 32-14.327 32-32V368h16v112c0 17.673 14.327 32 32 32h16c17.673 0 32-14.327 32-32V213.254l94.627-94.627c12.497-12.497 12.497-32.757 0-45.254z"},child:[]}]})(s)}function Or(s){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(s)}function Hf(s){return ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z"},child:[]}]})(s)}function TN(s){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(s)}function hm(s){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"},child:[]}]})(s)}function yp(s){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"},child:[]}]})(s)}function zy(s){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M278.06 256L444.48 89.57c4.69-4.69 4.69-12.29 0-16.97-32.8-32.8-85.99-32.8-118.79 0L210.18 188.12l-24.86-24.86c4.31-10.92 6.68-22.81 6.68-35.26 0-53.02-42.98-96-96-96S0 74.98 0 128s42.98 96 96 96c4.54 0 8.99-.32 13.36-.93L142.29 256l-32.93 32.93c-4.37-.61-8.83-.93-13.36-.93-53.02 0-96 42.98-96 96s42.98 96 96 96 96-42.98 96-96c0-12.45-2.37-24.34-6.68-35.26l24.86-24.86L325.69 439.4c32.8 32.8 85.99 32.8 118.79 0 4.69-4.68 4.69-12.28 0-16.97L278.06 256zM96 160c-17.64 0-32-14.36-32-32s14.36-32 32-32 32 14.36 32 32-14.36 32-32 32zm0 256c-17.64 0-32-14.36-32-32s14.36-32 32-32 32 14.36 32 32-14.36 32-32 32z"},child:[]}]})(s)}function jN(s){return ge({attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"},child:[]}]})(s)}function bp(s){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(s)}function Ua(s){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(s)}function bv(s){return ge({attr:{viewBox:"0 0 192 512"},child:[{tag:"path",attr:{d:"M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z"},child:[]}]})(s)}function iL(s){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(s)}function dF(s){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(s)}function mm(s){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(s)}function rL(s){return ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(s)}function qi(s){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(s)}function vv(s){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(s)}function wv(s){return ge({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M216 23.86c0-23.8-30.65-32.77-44.15-13.04C48 191.85 224 200 224 288c0 35.63-29.11 64.46-64.85 63.99-35.17-.45-63.15-29.77-63.15-64.94v-85.51c0-21.7-26.47-32.23-41.43-16.5C27.8 213.16 0 261.33 0 320c0 105.87 86.13 192 192 192s192-86.13 192-192c0-170.29-168-193-168-296.14z"},child:[]}]})(s)}function EN(s){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M349.565 98.783C295.978 98.783 251.721 64 184.348 64c-24.955 0-47.309 4.384-68.045 12.013a55.947 55.947 0 0 0 3.586-23.562C118.117 24.015 94.806 1.206 66.338.048 34.345-1.254 8 24.296 8 56c0 19.026 9.497 35.825 24 45.945V488c0 13.255 10.745 24 24 24h16c13.255 0 24-10.745 24-24v-94.4c28.311-12.064 63.582-22.122 114.435-22.122 53.588 0 97.844 34.783 165.217 34.783 48.169 0 86.667-16.294 122.505-40.858C506.84 359.452 512 349.571 512 339.045v-243.1c0-23.393-24.269-38.87-45.485-29.016-34.338 15.948-76.454 31.854-116.95 31.854z"},child:[]}]})(s)}function hF(s){return ge({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm80 168c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm-160 0c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm170.2 218.2C315.8 367.4 282.9 352 248 352s-67.8 15.4-90.2 42.2c-13.5 16.3-38.1-4.2-24.6-20.5C161.7 339.6 203.6 320 248 320s86.3 19.6 114.7 53.8c13.6 16.2-11 36.7-24.5 20.4z"},child:[]}]})(s)}function mF(s){return ge({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(s)}function NN(s){return ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(s)}function Y1(s){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 208c0-17.67-14.33-32-32-32h-16c-35.35 0-64 28.65-64 64v48c0 35.35 28.65 64 64 64h16c17.67 0 32-14.33 32-32V208zm176 144c35.35 0 64-28.65 64-64v-48c0-35.35-28.65-64-64-64h-16c-17.67 0-32 14.33-32 32v112c0 17.67 14.33 32 32 32h16zM256 0C113.18 0 4.58 118.83 0 256v16c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16v-16c0-114.69 93.31-208 208-208s208 93.31 208 208h-.12c.08 2.43.12 165.72.12 165.72 0 23.35-18.93 42.28-42.28 42.28H320c0-26.51-21.49-48-48-48h-32c-26.51 0-48 21.49-48 48s21.49 48 48 48h181.72c49.86 0 90.28-40.42 90.28-90.28V256C507.42 118.83 398.82 0 256 0z"},child:[]}]})(s)}function vp(s){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(s)}function wp(s){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(s)}function pF(s){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v16h576V80c0-26.5-21.5-48-48-48zM0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V128H0v304zm352-232c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zM176 192c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM67.1 396.2C75.5 370.5 99.6 352 128 352h8.2c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h8.2c28.4 0 52.5 18.5 60.9 44.2 3.2 9.9-5.2 19.8-15.6 19.8H82.7c-10.4 0-18.8-10-15.6-19.8z"},child:[]}]})(s)}function gF(s){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(s)}function aL(s){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(s)}function xF(s){return ge({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(s)}function yF(s){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(s)}function bF(s){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(s)}function vF(s){return ge({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(s)}function wF(s){return ge({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm-80 168c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm176 192H152c-21.2 0-21.2-32 0-32h192c21.2 0 21.2 32 0 32zm-16-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(s)}function SF(s){return ge({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"},child:[]}]})(s)}function _a(s){return ge({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm112-108c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v312z"},child:[]}]})(s)}function $s(s){return ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(s)}function LF(s){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M470.38 1.51L150.41 96A32 32 0 0 0 128 126.51v261.41A139 139 0 0 0 96 384c-53 0-96 28.66-96 64s43 64 96 64 96-28.66 96-64V214.32l256-75v184.61a138.4 138.4 0 0 0-32-3.93c-53 0-96 28.66-96 64s43 64 96 64 96-28.65 96-64V32a32 32 0 0 0-41.62-30.49z"},child:[]}]})(s)}function MN(s){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(s)}function oL(s){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M43.246 466.142c-58.43-60.289-57.341-157.511 1.386-217.581L254.392 34c44.316-45.332 116.351-45.336 160.671 0 43.89 44.894 43.943 117.329 0 162.276L232.214 383.128c-29.855 30.537-78.633 30.111-107.982-.998-28.275-29.97-27.368-77.473 1.452-106.953l143.743-146.835c6.182-6.314 16.312-6.422 22.626-.241l22.861 22.379c6.315 6.182 6.422 16.312.241 22.626L171.427 319.927c-4.932 5.045-5.236 13.428-.648 18.292 4.372 4.634 11.245 4.711 15.688.165l182.849-186.851c19.613-20.062 19.613-52.725-.011-72.798-19.189-19.627-49.957-19.637-69.154 0L90.39 293.295c-34.763 35.56-35.299 93.12-1.191 128.313 34.01 35.093 88.985 35.137 123.058.286l172.06-175.999c6.177-6.319 16.307-6.433 22.626-.256l22.877 22.364c6.319 6.177 6.434 16.307.256 22.626l-172.06 175.998c-59.576 60.938-155.943 60.216-214.77-.485z"},child:[]}]})(s)}function kN(s){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"},child:[]}]})(s)}function ar(s){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(s)}function IN(s){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(s)}function _N(s){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(s)}function CF(s){return ge({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z"},child:[]}]})(s)}function Sv(s){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M8.309 189.836L184.313 37.851C199.719 24.546 224 35.347 224 56.015v80.053c160.629 1.839 288 34.032 288 186.258 0 61.441-39.581 122.309-83.333 154.132-13.653 9.931-33.111-2.533-28.077-18.631 45.344-145.012-21.507-183.51-176.59-185.742V360c0 20.7-24.3 31.453-39.687 18.164l-176.004-152c-11.071-9.562-11.086-26.753 0-36.328z"},child:[]}]})(s)}function W1(s){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(s)}function Ei(s){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(s)}function AN(s){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(s)}function TF(s){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(s)}function DN(s){return ge({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm80 168c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm-160 0c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm194.8 170.2C334.3 380.4 292.5 400 248 400s-86.3-19.6-114.8-53.8c-13.6-16.3 11-36.7 24.6-20.5 22.4 26.9 55.2 42.2 90.2 42.2s67.8-15.4 90.2-42.2c13.4-16.2 38.1 4.2 24.6 20.5z"},child:[]}]})(s)}function pm(s){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(s)}function P0(s){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 56v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H24C10.745 32 0 42.745 0 56zm40 200c0-13.255 10.745-24 24-24s24 10.745 24 24-10.745 24-24 24-24-10.745-24-24zm272 256c-20.183 0-29.485-39.293-33.931-57.795-5.206-21.666-10.589-44.07-25.393-58.902-32.469-32.524-49.503-73.967-89.117-113.111a11.98 11.98 0 0 1-3.558-8.521V59.901c0-6.541 5.243-11.878 11.783-11.998 15.831-.29 36.694-9.079 52.651-16.178C256.189 17.598 295.709.017 343.995 0h2.844c42.777 0 93.363.413 113.774 29.737 8.392 12.057 10.446 27.034 6.148 44.632 16.312 17.053 25.063 48.863 16.382 74.757 17.544 23.432 19.143 56.132 9.308 79.469l.11.11c11.893 11.949 19.523 31.259 19.439 49.197-.156 30.352-26.157 58.098-59.553 58.098H350.723C358.03 364.34 384 388.132 384 430.548 384 504 336 512 312 512z"},child:[]}]})(s)}function wi(s){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M104 224H24c-13.255 0-24 10.745-24 24v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V248c0-13.255-10.745-24-24-24zM64 472c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zM384 81.452c0 42.416-25.97 66.208-33.277 94.548h101.723c33.397 0 59.397 27.746 59.553 58.098.084 17.938-7.546 37.249-19.439 49.197l-.11.11c9.836 23.337 8.237 56.037-9.308 79.469 8.681 25.895-.069 57.704-16.382 74.757 4.298 17.598 2.244 32.575-6.148 44.632C440.202 511.587 389.616 512 346.839 512l-2.845-.001c-48.287-.017-87.806-17.598-119.56-31.725-15.957-7.099-36.821-15.887-52.651-16.178-6.54-.12-11.783-5.457-11.783-11.998v-213.77c0-3.2 1.282-6.271 3.558-8.521 39.614-39.144 56.648-80.587 89.117-113.111 14.804-14.832 20.188-37.236 25.393-58.902C282.515 39.293 291.817 0 312 0c24 0 72 8 72 81.452z"},child:[]}]})(s)}function Eo(s){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(s)}function Na(s){return ge({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(s)}function Gs(s){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(s)}function Sp(s){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 128v16a8 8 0 0 1-8 8h-24v12c0 6.627-5.373 12-12 12H60c-6.627 0-12-5.373-12-12v-12H24a8 8 0 0 1-8-8v-16a8 8 0 0 1 4.941-7.392l232-88a7.996 7.996 0 0 1 6.118 0l232 88A8 8 0 0 1 496 128zm-24 304H40c-13.255 0-24 10.745-24 24v16a8 8 0 0 0 8 8h464a8 8 0 0 0 8-8v-16c0-13.255-10.745-24-24-24zM96 192v192H60c-6.627 0-12 5.373-12 12v20h416v-20c0-6.627-5.373-12-12-12h-36V192h-64v192h-64V192h-64v192h-64V192H96z"},child:[]}]})(s)}function Lv(s){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(s)}function PN(s){return ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(s)}function No(s){return ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(s)}function Cv(s){return ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(s)}function kn(s){return ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"},child:[]}]})(s)}function RN(s){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.27 225.31c4.674-22.647.864-44.538-8.99-62.99 2.958-23.868-4.021-48.565-17.34-66.99C438.986 39.423 404.117 0 327 0c-7 0-15 .01-22.22.01C201.195.01 168.997 40 128 40h-10.845c-5.64-4.975-13.042-8-21.155-8H32C14.327 32 0 46.327 0 64v240c0 17.673 14.327 32 32 32h64c11.842 0 22.175-6.438 27.708-16h7.052c19.146 16.953 46.013 60.653 68.76 83.4 13.667 13.667 10.153 108.6 71.76 108.6 57.58 0 95.27-31.936 95.27-104.73 0-18.41-3.93-33.73-8.85-46.54h36.48c48.602 0 85.82-41.565 85.82-85.58 0-19.15-4.96-34.99-13.73-49.84zM64 296c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zm330.18 16.73H290.19c0 37.82 28.36 55.37 28.36 94.54 0 23.75 0 56.73-47.27 56.73-18.91-18.91-9.46-66.18-37.82-94.54C206.9 342.89 167.28 272 138.92 272H128V85.83c53.611 0 100.001-37.82 171.64-37.82h37.82c35.512 0 60.82 17.12 53.12 65.9 15.2 8.16 26.5 36.44 13.94 57.57 21.581 20.384 18.699 51.065 5.21 65.62 9.45 0 22.36 18.91 22.27 37.81-.09 18.91-16.71 37.82-37.82 37.82z"},child:[]}]})(s)}function Tv(s){return ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"},child:[]}]})(s)}const it=()=>o.jsxs("footer",{className:"bg-black text-white py-12 px-6",children:[o.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("h1",{className:"text-xl",children:""}),o.jsx("p",{className:"text-lg font-semibold",children:"Lets connect with our socials"})]}),o.jsxs("div",{className:"flex space-x-4 mt-4",children:[o.jsx(vN,{className:"text-2xl cursor-pointer hover:text-gray-400"}),o.jsx(nF,{className:"text-2xl cursor-pointer hover:text-gray-400"}),o.jsx(tF,{className:"text-2xl cursor-pointer hover:text-gray-400"}),o.jsx(SN,{className:"text-2xl cursor-pointer hover:text-gray-400"}),o.jsx(wN,{className:"text-2xl cursor-pointer hover:text-gray-400"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold mb-3",children:"COMPANY"}),o.jsxs("ul",{className:"space-y-2 text-gray-400",children:[o.jsx("li",{className:"hover:text-white cursor-pointer",children:"About Us"}),o.jsx("li",{className:"hover:text-white cursor-pointer",children:"Support"}),o.jsx("li",{className:"hover:text-white cursor-pointer",children:"Privacy Policy"}),o.jsx("li",{className:"hover:text-white cursor-pointer",children:"Terms and Condition"}),o.jsx("li",{className:"hover:text-white cursor-pointer",children:"Pricing and Refund"}),o.jsx("li",{className:"hover:text-white cursor-pointer",children:"Hire From Us"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold mb-3",children:"COMMUNITY"}),o.jsxs("ul",{className:"space-y-2 text-gray-400",children:[o.jsx("li",{className:"hover:text-white cursor-pointer",children:"Inertia"}),o.jsx("li",{className:"hover:text-white cursor-pointer",children:"Discord"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold mb-3",children:"Get In Touch"}),o.jsx("p",{className:"text-gray-400",children:"0319-5812209"}),o.jsx("p",{className:"text-gray-400",children:"03110168186"}),o.jsx("p",{className:"text-gray-400",children:"hello@rerose.com"}),o.jsx("p",{className:"text-gray-400 mt-2",children:"Block No J3 Flat No 08 Yousaf Colony Westridge III Rawalpindi"})]})]}),o.jsx("div",{className:"border-t border-gray-700 mt-10 pt-4 text-center text-gray-500",children:"Copyright  2025 Rerose Academy. All Rights Reserved."})]}),jF="http://localhost:5000",nn=Q.create({baseURL:jF,withCredentials:!0,headers:{"Content-Type":"application/json"}});nn.interceptors.request.use(s=>{const e=JSON.parse(localStorage.getItem("user"));return e&&e.token&&(s.headers.Authorization=`Bearer ${e.token}`),s},s=>Promise.reject(s));const Be=s=>{ae.success(s,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})},de=s=>{ae.error(s,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})},ON=s=>{ae.info(s,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})},xu=s=>{ae.warning(s,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})},FN=je.memo(({notification:s,onNotificationClick:e,API_URL:t})=>{const n=a=>{try{const l=new Date(a),f=Math.abs(new Date-l),u=Math.floor(f/(1e3*60*60*24)),h=Math.floor(f%(1e3*60*60*24)/(1e3*60*60)),p=Math.floor(f%(1e3*60*60)/(1e3*60));return u>0?u===1?"1 day ago":`${u} days ago`:h>0?h===1?"1 hour ago":`${h} hours ago`:p>0?p===1?"1 minute ago":`${p} minutes ago`:"just now"}catch{return"recently"}},i=a=>{a.preventDefault(),s.read||nn.post("/api/notifications/mark-read",{notificationIds:[s._id]}).then(()=>{localStorage.setItem("notificationsInitialized","true")}).catch(c=>{console.error("Error marking notification as read:",c)}),e&&e(s);const l=`${window.location.origin}/watch/${s.videoId}`;window.location.href=l},r=s.thumbnailUrl?s.thumbnailUrl.startsWith("http")?s.thumbnailUrl:`${t}${s.thumbnailUrl}`:"/default-thumbnail.jpg";return o.jsxs("a",{href:`/watch/${s.videoId}`,className:`flex p-3 hover:bg-gray-800 border-b border-gray-700 ${s.read?"":"bg-gray-800/30"}`,onClick:i,children:[o.jsxs("div",{className:"relative w-20 h-12 flex-shrink-0",children:[o.jsx("img",{src:r,alt:s.title||"Video thumbnail",className:"w-20 h-12 object-cover rounded",onError:a=>a.target.src="/default-thumbnail.jpg"}),s.type==="upload"&&!s.read&&o.jsx("div",{className:"absolute bottom-0 right-0 bg-red-600 text-white text-xs px-1 rounded",children:"NEW"})]}),o.jsxs("div",{className:"ml-3 flex-grow overflow-hidden",children:[o.jsxs("div",{className:"flex items-start",children:[o.jsx("p",{className:"text-sm font-medium line-clamp-2 flex-grow",children:s.title}),!s.read&&o.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mt-1.5 ml-2 flex-shrink-0"})]}),o.jsxs("div",{className:"flex items-center mt-1",children:[o.jsx("p",{className:"text-xs text-gray-400 truncate",children:s.uploader||"Unknown channel"}),o.jsx("span",{className:"mx-1 text-gray-500",children:""}),o.jsx("p",{className:"text-xs text-gray-400 whitespace-nowrap",children:n(s.createdAt)})]}),s.type==="upload"&&o.jsx("div",{className:"mt-1 flex items-center",children:o.jsxs("span",{className:"text-xs text-red-500 font-medium",children:[s.uploader," uploaded a new video"]})})]})]})});FN.displayName="NotificationItem";const EF=({notifications:s,setNotifications:e,setUnreadCount:t,setShowNotifications:n,API_URL:i})=>{const r=T.useCallback(l=>{l.stopPropagation(),e(s.map(c=>({...c,read:!0}))),t(0),nn.post("/api/notifications/mark-read").then(()=>{localStorage.setItem("notificationsInitialized","true")}).catch(c=>{console.error("Error marking all notifications as read:",c)})},[s,e,t]),a=T.useCallback(l=>{n(!1),l.read||(t(c=>Math.max(0,c-1)),e(c=>c.map(f=>f._id===l._id?{...f,read:!0}:f)))},[n,t,e]);return o.jsxs("div",{className:"absolute right-0 mt-2 w-96 bg-[#212121] rounded-lg shadow-lg overflow-hidden z-50 max-w-[95vw]",children:[o.jsxs("div",{className:"p-3 border-b border-gray-700 font-medium flex justify-between items-center",children:[o.jsx("span",{children:"Notifications"}),s.length>0&&o.jsx("button",{onClick:r,className:"text-xs text-blue-400 hover:text-blue-300",children:"Mark all as read"})]}),o.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:s.length>0?s.map(l=>o.jsx(FN,{notification:l,onNotificationClick:a,API_URL:i},l._id)):o.jsx("p",{className:"p-4 text-center text-gray-400",children:"No new notifications"})})]})},NF=je.memo(EF),MF=({user:s,API_URL:e})=>{const[t,n]=T.useState([]),[i,r]=T.useState(0),[a,l]=T.useState(!1),[c,f]=T.useState(()=>localStorage.getItem("notificationsInitialized")==="true"),u=T.useRef(null),h=T.useCallback(()=>{const p=!a;l(p),p&&i>0&&nn.post("/api/notifications/mark-read").catch(g=>console.error("Error marking notifications as read:",g))},[a,i]);return T.useEffect(()=>{const p=g=>{u.current&&!u.current.contains(g.target)&&l(!1)};return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[]),T.useEffect(()=>{const p=async()=>{if(s)try{const x=await nn.get("/api/notifications/user");if(x.data&&x.data.notifications&&x.data.notifications.length>0){const y=x.data.notifications.map(v=>{let w=v.thumbnailUrl||"";return w&&!w.startsWith("http")&&!w.startsWith("/")&&(w="/"+w),{...v,thumbnailUrl:w,uploader:v.uploader||"Unknown Channel",uploaderId:v.uploaderId||null}});n(y),r(x.data.unreadCount)}else{const y=await nn.get("/api/free-videos/feed"),v=new Date;v.setDate(v.getDate()-7);const w=await nn.get("/api/subscriptions/my-subscriptions"),L=w.data.success?w.data.subscriptions.map(N=>N._id):[],S=y.data.filter(N=>new Date(N.createdAt)>v).filter(N=>L.length===0||L.includes(N.uploaderId)).sort((N,I)=>new Date(I.createdAt)-new Date(N.createdAt)).slice(0,5),j=S.map(N=>{let I=N.thumbnailUrl||"";return I&&!I.startsWith("http")&&!I.startsWith("/")&&(I="/"+I),{_id:N._id,videoId:N._id,title:N.title,thumbnailUrl:I,uploader:N.uploader||"Unknown Channel",uploaderId:N.uploaderId||null,createdAt:N.createdAt,type:"upload",read:!1}});n(j);const E=new Date;E.setDate(E.getDate()-1);const M=S.filter(N=>new Date(N.createdAt)>E).length;r(M)}c||(f(!0),localStorage.setItem("notificationsInitialized","true"))}catch(x){console.error("Failed to fetch notifications",x)}};p();const g=setInterval(p,60*1e3);return()=>{clearInterval(g)}},[s,e,c]),o.jsxs("div",{className:"relative",ref:u,children:[o.jsxs("button",{onClick:h,className:"p-2 relative","aria-label":"Notifications",children:[o.jsx(xp,{className:"text-xl"}),i>0&&o.jsx("span",{className:"absolute top-0 right-0 bg-red-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:i})]}),a&&o.jsx(NF,{notifications:t,setNotifications:n,setUnreadCount:r,setShowNotifications:l,API_URL:e})]})},lL=je.memo(MF);function Ae(){const[s,e]=T.useState(null),[t,n]=T.useState(!0),[i,r]=T.useState(!1),[a,l]=T.useState({name:"",phone:"",message:""}),[c,f]=T.useState(!1),[u,h]=T.useState(!1),[p,g]=T.useState(!1),x=T.useRef(null),y=He(),v="http://localhost:5000";T.useEffect(()=>{let N=!0;return(async()=>{try{const A=JSON.parse(localStorage.getItem("user"));A&&A.profileImageUrl&&(N&&e(A),n(!1));const D=await nn.get("/api/auth/check");N&&D.data.user&&(e(D.data.user),JSON.stringify(D.data.user)!==JSON.stringify(A)&&localStorage.setItem("user",JSON.stringify(D.data.user)))}catch(A){!JSON.parse(localStorage.getItem("user"))&&N&&e(null),console.error("Auth check error:",A)}finally{N&&n(!1)}})(),()=>{N=!1}},[v]),T.useEffect(()=>{const N=I=>{x.current&&!x.current.contains(I.target)&&g(!1)};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]);const w=async()=>{try{await nn.post("/api/auth/logout"),localStorage.removeItem("user"),localStorage.removeItem("notificationsInitialized"),e(null),Be("You have been successfully logged out"),y("/login")}catch(N){console.error("Logout failed",N),localStorage.removeItem("user"),localStorage.removeItem("notificationsInitialized"),e(null),ON("You have been logged out"),y("/login")}},L=N=>{l({...a,[N.target.name]:N.target.value})},S=async N=>{N.preventDefault(),f(!0);try{await nn.post("/api/student/request-callback",a),Be("Your callback request has been submitted successfully!"),r(!1),l({name:"",phone:"",message:""})}catch(I){console.error("Error submitting callback request:",I),de("Failed to submit request. Please try again.")}finally{f(!1)}},j=()=>{g(!p)},E=()=>h(!0),M=()=>h(!1);return o.jsxs(o.Fragment,{children:[o.jsxs("nav",{className:"flex justify-between items-center bg-black text-white px-3 py-3 shadow-md",children:[o.jsx("div",{className:`w-full h-screen bg-black fixed top-0 left-0 z-40 transition-transform duration-500 ${u?"translate-x-0":"-translate-x-full"}`,children:o.jsxs("div",{className:"flex flex-col items-center justify-center h-full space-y-6 text-white text-xl relative",children:[o.jsx("button",{onClick:M,className:"absolute top-5 right-5 text-3xl",children:""}),o.jsx(le,{to:"/",onClick:M,className:"hover:text-gray-400",children:"Home"}),o.jsx(le,{to:"/courses",onClick:M,className:"hover:text-gray-400",children:"Courses"}),o.jsx(le,{to:"/lms",onClick:M,className:"hover:text-gray-400",children:"LMS"}),o.jsx(le,{to:"/live-course",onClick:M,className:"hover:text-gray-400",children:"Live Course"}),o.jsx(le,{to:"/feed",onClick:M,className:"hover:text-gray-400",children:"Feed"}),o.jsxs(le,{to:"/messages",onClick:M,className:"hover:text-gray-400 flex items-center",children:[o.jsx(iL,{className:"mr-2"})," Messages"]}),o.jsx("button",{onClick:()=>{r(!0),M()},className:"hover:text-gray-400",children:"Request Callback"}),t?o.jsx("span",{className:"text-gray-400",children:"Checking..."}):s?o.jsxs("div",{className:"flex flex-col items-center",children:[s.profileImageUrl?o.jsx("img",{src:`${v}${s.profileImageUrl}`,alt:s.name,className:"w-12 h-12 rounded-full mb-2 object-cover",onError:N=>N.target.src="/default-avatar.png"}):o.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-700 flex items-center justify-center mb-2",children:o.jsx(No,{className:"text-2xl text-gray-300"})}),o.jsx("p",{className:"text-center mb-2",children:s.name}),o.jsx(le,{to:`/channel/${s._id}`,onClick:M,className:"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded text-white transition mb-2",children:"Your Channel"}),s.role==="creator"&&o.jsx(le,{to:"/studio",onClick:M,className:"bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded text-white transition mb-2",children:"Creator Studio"}),o.jsx("button",{onClick:()=>{w(),M()},className:"bg-red-500 hover:bg-red-600 px-4 py-2 rounded text-white transition",children:"Logout"})]}):o.jsxs(o.Fragment,{children:[o.jsx(le,{to:"/login",onClick:M,className:"bg-[#24CFA6] px-4 py-2 rounded text-white transition",children:"Login"}),o.jsx(le,{to:"/register",onClick:M,className:"bg-[#24CFA6] px-4 py-2 rounded text-white transition",children:"Register"})]})]})}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("h1",{className:"text-xl",children:""}),o.jsxs(le,{to:"/",className:"text-lg font-semibold flex items-center",children:[o.jsx("span",{className:"hidden sm:inline",children:"Rerose"})," Academy"]})]}),o.jsxs("div",{className:"hidden lg:flex space-x-6",children:[o.jsx(le,{to:"/",className:"hover:text-gray-400",children:"Home"}),o.jsx(le,{to:"/courses",className:"hover:text-gray-400",children:"Courses"}),o.jsx(le,{to:"/lms",className:"hover:text-gray-400 font-bold",children:"LMS"}),o.jsx(le,{to:"/live-course",className:"font-bold hover:text-gray-400",children:"Live Course"}),o.jsx(le,{to:"/feed",className:"hover:text-gray-400",children:"Feed"}),o.jsxs(le,{to:"/messages",className:"hover:text-gray-400 flex items-center",children:[o.jsx(iL,{className:"mr-2"})," Messages"]}),o.jsx("button",{onClick:()=>r(!0),className:"hover:text-gray-400",children:"Request Callback"})]}),o.jsx("div",{className:"hidden lg:flex items-center space-x-4",children:t?o.jsx("span",{className:"text-gray-400",children:"Checking..."}):s?o.jsxs(o.Fragment,{children:[o.jsx(lL,{user:s,API_URL:v}),o.jsxs("div",{className:"relative",ref:x,children:[o.jsx("button",{onClick:j,className:"flex items-center","aria-label":"User profile",children:s.profileImageUrl?o.jsx("img",{src:`${v}${s.profileImageUrl}`,alt:s.name,className:"w-10 h-10 rounded-full object-cover border-2 border-gray-700",onError:N=>N.target.src="/default-avatar.png"}):o.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-700 flex items-center justify-center",children:o.jsx(No,{className:"text-xl text-gray-300"})})}),p&&o.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-[#212121] rounded-lg shadow-lg overflow-hidden z-50",children:[o.jsx("div",{className:"p-4 border-b border-gray-700",children:o.jsxs("div",{className:"flex items-center",children:[s.profileImageUrl?o.jsx("img",{src:`${v}${s.profileImageUrl}`,alt:s.name,className:"w-12 h-12 rounded-full object-cover mr-3",onError:N=>N.target.src="/default-avatar.png"}):o.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-700 flex items-center justify-center mr-3",children:o.jsx(No,{className:"text-2xl text-gray-300"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:s.name}),o.jsx("p",{className:"text-sm text-gray-400 truncate",children:s.email}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Role: ",s.role||"Student"]})]})]})}),o.jsx(le,{to:"/profile-setup",className:"block p-3 hover:bg-gray-800",onClick:()=>g(!1),children:"Edit profile"}),o.jsx(le,{to:`/channel/${s._id}`,className:"block p-3 hover:bg-gray-800",onClick:()=>g(!1),children:"Your channel"}),s.role==="creator"&&o.jsx(le,{to:"/studio",className:"block p-3 hover:bg-gray-800",onClick:()=>g(!1),children:"Creator Studio"}),o.jsx("button",{onClick:w,className:"w-full text-left p-3 hover:bg-gray-800 text-red-500",children:"Sign out"})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsx(le,{to:"/login",className:"bg-[#24CFA6] px-4 py-2 rounded text-white transition",children:"Login"}),o.jsx(le,{to:"/register",className:"bg-[#24CFA6] px-4 py-2 rounded text-white transition",children:"Register"})]})}),o.jsxs("div",{className:"flex items-center space-x-4 lg:hidden",children:[!t&&s&&o.jsx(o.Fragment,{children:o.jsx(lL,{user:s,API_URL:v})}),o.jsx("button",{onClick:E,className:"text-white text-2xl",children:o.jsx(iF,{})})]})]}),i&&o.jsx("div",{className:"fixed z-50 inset-0 bg-black bg-opacity-50 flex justify-center items-center",children:o.jsxs("div",{className:"bg-white text-black p-6 rounded-lg shadow-lg w-96",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Request a Callback"}),o.jsxs("form",{onSubmit:S,children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"block text-gray-700",children:"Name"}),o.jsx("input",{type:"text",name:"name",value:a.name,onChange:L,className:"w-full border px-3 py-2 rounded",required:!0})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"block text-gray-700",children:"Phone"}),o.jsx("input",{type:"text",name:"phone",value:a.phone,onChange:L,className:"w-full border px-3 py-2 rounded",required:!0})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"block text-gray-700",children:"Message (Optional)"}),o.jsx("textarea",{name:"message",value:a.message,onChange:L,className:"w-full border px-3 py-2 rounded"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("button",{type:"button",className:"bg-gray-500 text-white px-4 py-2 rounded",onClick:()=>r(!1),children:"Cancel"}),o.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded",disabled:c,children:c?"Submitting...":"Submit"})]})]})]})})]})}const kF=({setIsLoggedIn:s})=>{const[e,t]=T.useState({name:"",email:"",password:"",role:"student"}),{name:n,email:i,password:r,role:a}=e,l=He(),c=u=>{t({...e,[u.target.name]:u.target.value})},f=async u=>{var h,p;u.preventDefault();try{await Q.post("http://localhost:5000/api/auth/register",e),Be("Registration successful! You can now log in."),l("/login")}catch(g){const x=((p=(h=g.response)==null?void 0:h.data)==null?void 0:p.message)||"Registration failed";de(x)}};return o.jsxs(o.Fragment,{children:[o.jsx(Ae,{}),o.jsxs("div",{className:"flex pt-20  items-center justify-center min-h-screen bg-black flex-col",children:[o.jsxs("form",{onSubmit:f,className:"bg-gradient-to-r from-gray-900 to-gray-800 p-8 rounded-lg  shadow-lg w-96 text-white border border-gray-700",children:[o.jsx("h2",{className:"text-3xl font-bold mb-4 text-center",children:"Register"}),o.jsx("p",{className:"text-gray-400 text-sm mb-6 text-center",children:"Create an account to access all features"}),o.jsx("input",{type:"text",name:"name",value:n,onChange:c,placeholder:"Name",className:"w-full mb-4 p-3 border border-gray-600 bg-gray-900 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("input",{type:"email",name:"email",value:i,onChange:c,placeholder:"Email",className:"w-full mb-4 p-3 border border-gray-600 bg-gray-900 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("input",{type:"password",name:"password",value:r,onChange:c,placeholder:"Password",className:"w-full mb-4 p-3 border border-gray-600 bg-gray-900 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Account Type"}),o.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.jsxs("label",{className:"flex flex-col items-center bg-gray-800 p-3 rounded border border-gray-700 cursor-pointer hover:bg-gray-700 transition-colors",children:[o.jsx("input",{type:"radio",name:"role",value:"student",checked:a==="student",onChange:c,className:"sr-only"}),o.jsx("span",{className:`w-5 h-5 rounded-full border ${a==="student"?"bg-blue-500 border-blue-500":"bg-gray-700 border-gray-600"} mb-2`}),o.jsx("span",{className:"text-center",children:"Student"}),o.jsx("span",{className:"text-xs text-gray-400 text-center mt-1",children:"Learn & watch"})]}),o.jsxs("label",{className:"flex flex-col items-center bg-gray-800 p-3 rounded border border-gray-700 cursor-pointer hover:bg-gray-700 transition-colors",children:[o.jsx("input",{type:"radio",name:"role",value:"creator",checked:a==="creator",onChange:c,className:"sr-only"}),o.jsx("span",{className:`w-5 h-5 rounded-full border ${a==="creator"?"bg-blue-500 border-blue-500":"bg-gray-700 border-gray-600"} mb-2`}),o.jsx("span",{className:"text-center",children:"Creator"}),o.jsx("span",{className:"text-xs text-gray-400 text-center mt-1",children:"Upload & earn"})]}),o.jsxs("label",{className:"flex flex-col items-center bg-gray-800 p-3 rounded border border-gray-700 cursor-pointer hover:bg-gray-700 transition-colors",children:[o.jsx("input",{type:"radio",name:"role",value:"admin",checked:a==="admin",onChange:c,className:"sr-only"}),o.jsx("span",{className:`w-5 h-5 rounded-full border ${a==="admin"?"bg-blue-500 border-blue-500":"bg-gray-700 border-gray-600"} mb-2`}),o.jsx("span",{className:"text-center",children:"Admin"}),o.jsx("span",{className:"text-xs text-gray-400 text-center mt-1",children:"Manage site"})]})]})]}),o.jsx("button",{className:"w-full bg-blue-600 hover:bg-blue-700 text-white p-3 rounded transition-all duration-300",children:"Register"}),a==="creator"&&o.jsxs("div",{className:"mt-4 p-3 bg-gray-800 rounded border border-gray-700",children:[o.jsx("h3",{className:"text-sm font-semibold text-blue-400 mb-1",children:"Creator Benefits:"}),o.jsxs("ul",{className:"text-xs text-gray-400 list-disc pl-4 space-y-1",children:[o.jsx("li",{children:"Upload videos and shorts"}),o.jsx("li",{children:"Livestream to your audience"}),o.jsx("li",{children:"Monetize content (1000+ subscribers)"}),o.jsx("li",{children:"Access to Creator Studio"})]})]})]}),o.jsx(it,{})]})]})},IF=()=>{const[s,e]=T.useState(""),[t,n]=T.useState(""),[i,r]=T.useState(!1),[a,l]=T.useState(""),c=He(),f=async u=>{var h,p;u.preventDefault(),r(!0),l("");try{const x=(await Q.post("http://localhost:5000/api/auth/login",{email:s,password:t},{withCredentials:!0})).data.user;localStorage.setItem("user",JSON.stringify(x)),Be(`Welcome back, ${x.name}!`),x.profileImageUrl?x.role==="admin"?c("/admindashboard"):x.role==="student"||x.role==="creator"?c("/feed"):(l("Unauthorized Role"),de("Unauthorized Role")):c("/profile-setup")}catch(g){const x=((p=(h=g.response)==null?void 0:h.data)==null?void 0:p.message)||"Login Failed. Please check your credentials.";l(x),de(x)}finally{r(!1)}};return o.jsxs(o.Fragment,{children:[o.jsx(Ae,{}),o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-black text-white",children:[o.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Sign In"}),a&&o.jsx("div",{className:"bg-red-500 text-white px-4 py-2 rounded-md mb-4 w-96 text-center",children:a}),o.jsxs("form",{onSubmit:f,className:"bg-[#111] p-8 rounded-lg shadow-lg w-96",children:[o.jsx("input",{type:"email",name:"email",value:s,onChange:u=>e(u.target.value),placeholder:"Email",className:"w-full mb-4 p-3 bg-gray-800 text-white border border-gray-600 rounded-md focus:outline-none focus:border-green-500",required:!0}),o.jsx("input",{type:"password",name:"password",value:t,onChange:u=>n(u.target.value),placeholder:"Password",className:"w-full mb-4 p-3 bg-gray-800 text-white border border-gray-600 rounded-md focus:outline-none focus:border-green-500",required:!0}),o.jsx("button",{className:`w-full bg-green-500 hover:bg-green-600 text-white p-3 rounded-md font-semibold transition-all ${i?"opacity-70 cursor-not-allowed":""}`,disabled:i,children:i?"Logging in...":"Login"})]}),o.jsxs("div",{className:"flex flex-col items-center gap-4 mt-6",children:[o.jsxs("a",{href:"http://localhost:5000/api/auth/google",className:"flex items-center gap-3 bg-gray-900 text-white px-6 py-3 rounded-md shadow-lg w-96 justify-center hover:bg-gray-800 transition-all",children:[o.jsx("span",{className:"text-xl",children:""})," Continue with Google"]}),o.jsxs(le,{to:"/register",className:"flex items-center gap-3 bg-gray-900 text-white px-6 py-3 rounded-md shadow-lg w-96 justify-center hover:bg-gray-800 transition-all",children:[o.jsx("span",{className:"text-xl",children:""})," Create a New Account"]})]}),o.jsx(it,{})]})]})};function _F(){const[s,e]=T.useState([]),[t,n]=T.useState(!0),i=He();return T.useEffect(()=>{(async()=>{try{const a=await Q.get("http://localhost:5000/api/admin/courses");e(a.data)}catch(a){console.error("Error fetching courses:",a)}finally{n(!1)}})()},[]),o.jsxs("div",{className:"min-h-screen bg-black text-white p-6",children:[o.jsx("h1",{className:"text-4xl font-bold text-center mb-6",children:"Welcome to My Course Website "}),t?o.jsx("p",{className:"text-center text-lg",children:"Loading courses..."}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.length>0?s.map(r=>o.jsxs("div",{className:"bg-[#111] p-4 rounded-lg shadow-md hover:shadow-lg transition ",children:[r.image&&o.jsx("img",{src:r.image.startsWith("http")?r.image:`http://localhost:5000${r.image}`,alt:r.title,className:"w-full h-40 object-cover rounded-lg mb-3"}),o.jsx("h2",{className:"text-xl font-semibold",children:r.title}),o.jsx("p",{className:"text-gray-400",children:r.description}),o.jsxs("p",{className:"text-blue-400 font-bold mt-2",children:["Price: $",r.price]}),o.jsxs("p",{className:"text-blue-400 font-bold",children:["Instructor: ",r.instructor]}),o.jsxs("p",{className:"text-gray-300",children:["Duration: ",r.duration]}),o.jsxs("p",{className:"text-gray-300",children:["Category: ",r.category]}),o.jsx("button",{onClick:()=>{console.log("Navigating to course",r._id),i(`/course/${r._id}`)},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md mt-3 block w-full text-center",children:"Show Details"})]},r._id)):o.jsx("p",{className:"text-center col-span-full text-lg",children:"No courses available"})})]})}const zN=T.createContext({});function Lp(s){const e=T.useRef(null);return e.current===null&&(e.current=s()),e.current}const jv=typeof window<"u",Ev=jv?T.useLayoutEffect:T.useEffect,Nv=T.createContext(null),Mv=T.createContext({transformPagePoint:s=>s,isStatic:!1,reducedMotion:"never"});function AF(s=!0){const e=T.useContext(Nv);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:i}=e,r=T.useId();T.useEffect(()=>{if(s)return i(r)},[s]);const a=T.useCallback(()=>s&&n&&n(r),[r,n,s]);return!t&&n?[!1,a]:[!0]}function kv(s,e){s.indexOf(e)===-1&&s.push(e)}function Iv(s,e){const t=s.indexOf(e);t>-1&&s.splice(t,1)}const or=(s,e,t)=>t>e?e:t<s?s:t;let DF=()=>{},_v=()=>{};const Fr={},BN=s=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(s),UN=s=>/^0[^.\s]+$/u.test(s);function Av(s){let e;return()=>(e===void 0&&(e=s()),e)}const ei=s=>s,PF=(s,e)=>t=>e(s(t)),cd=(...s)=>s.reduce(PF),ec=(s,e,t)=>{const n=e-s;return n===0?1:(t-s)/n};class Dv{constructor(){this.subscriptions=[]}add(e){return kv(this.subscriptions,e),()=>Iv(this.subscriptions,e)}notify(e,t,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,n);else for(let r=0;r<i;r++){const a=this.subscriptions[r];a&&a(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Zi=s=>s*1e3,Xi=s=>s/1e3;function Pv(s,e){return e?s*(1e3/e):0}const $N=(s,e,t)=>(((1-3*t+3*e)*s+(3*t-6*e))*s+3*e)*s,RF=1e-7,OF=12;function FF(s,e,t,n,i){let r,a,l=0;do a=e+(t-e)/2,r=$N(a,n,i)-s,r>0?t=a:e=a;while(Math.abs(r)>RF&&++l<OF);return a}function fd(s,e,t,n){if(s===e&&t===n)return ei;const i=r=>FF(r,0,1,s,t);return r=>r===0||r===1?r:$N(i(r),e,n)}const VN=s=>e=>e<=.5?s(2*e)/2:(2-s(2*(1-e)))/2,GN=s=>e=>1-s(1-e),HN=fd(.33,1.53,.69,.99),Rv=GN(HN),YN=VN(Rv),WN=s=>(s*=2)<1?.5*Rv(s):.5*(2-Math.pow(2,-10*(s-1))),Ov=s=>1-Math.sin(Math.acos(s)),QN=GN(Ov),KN=VN(Ov),zF=fd(.42,0,1,1),BF=fd(0,0,.58,1),JN=fd(.42,0,.58,1),UF=s=>Array.isArray(s)&&typeof s[0]!="number",qN=s=>Array.isArray(s)&&typeof s[0]=="number",$F={linear:ei,easeIn:zF,easeInOut:JN,easeOut:BF,circIn:Ov,circInOut:KN,circOut:QN,backIn:Rv,backInOut:YN,backOut:HN,anticipate:WN},VF=s=>typeof s=="string",cL=s=>{if(qN(s)){_v(s.length===4);const[e,t,n,i]=s;return fd(e,t,n,i)}else if(VF(s))return $F[s];return s},Ah=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function GF(s,e){let t=new Set,n=new Set,i=!1,r=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(u){a.has(u)&&(f.schedule(u),s()),u(l)}const f={schedule:(u,h=!1,p=!1)=>{const x=p&&i?t:n;return h&&a.add(u),x.has(u)||x.add(u),u},cancel:u=>{n.delete(u),a.delete(u)},process:u=>{if(l=u,i){r=!0;return}i=!0,[t,n]=[n,t],t.forEach(c),t.clear(),i=!1,r&&(r=!1,f.process(u))}};return f}const HF=40;function ZN(s,e){let t=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},r=()=>t=!0,a=Ah.reduce((S,j)=>(S[j]=GF(r),S),{}),{setup:l,read:c,resolveKeyframes:f,preUpdate:u,update:h,preRender:p,render:g,postRender:x}=a,y=()=>{const S=Fr.useManualTiming?i.timestamp:performance.now();t=!1,Fr.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(S-i.timestamp,HF),1)),i.timestamp=S,i.isProcessing=!0,l.process(i),c.process(i),f.process(i),u.process(i),h.process(i),p.process(i),g.process(i),x.process(i),i.isProcessing=!1,t&&e&&(n=!1,s(y))},v=()=>{t=!0,n=!0,i.isProcessing||s(y)};return{schedule:Ah.reduce((S,j)=>{const E=a[j];return S[j]=(M,N=!1,I=!1)=>(t||v(),E.schedule(M,N,I)),S},{}),cancel:S=>{for(let j=0;j<Ah.length;j++)a[Ah[j]].cancel(S)},state:i,steps:a}}const{schedule:pt,cancel:Li,state:us,steps:Q1}=ZN(typeof requestAnimationFrame<"u"?requestAnimationFrame:ei,!0);let R0;function YF(){R0=void 0}const rn={now:()=>(R0===void 0&&rn.set(us.isProcessing||Fr.useManualTiming?us.timestamp:performance.now()),R0),set:s=>{R0=s,queueMicrotask(YF)}},XN=s=>e=>typeof e=="string"&&e.startsWith(s),Fv=XN("--"),WF=XN("var(--"),zv=s=>WF(s)?QF.test(s.split("/*")[0].trim()):!1,QF=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Sc={test:s=>typeof s=="number",parse:parseFloat,transform:s=>s},yu={...Sc,transform:s=>or(0,1,s)},Dh={...Sc,default:1},Yf=s=>Math.round(s*1e5)/1e5,Bv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function KF(s){return s==null}const JF=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Uv=(s,e)=>t=>!!(typeof t=="string"&&JF.test(t)&&t.startsWith(s)||e&&!KF(t)&&Object.prototype.hasOwnProperty.call(t,e)),eM=(s,e,t)=>n=>{if(typeof n!="string")return n;const[i,r,a,l]=n.match(Bv);return{[s]:parseFloat(i),[e]:parseFloat(r),[t]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},qF=s=>or(0,255,s),K1={...Sc,transform:s=>Math.round(qF(s))},wo={test:Uv("rgb","red"),parse:eM("red","green","blue"),transform:({red:s,green:e,blue:t,alpha:n=1})=>"rgba("+K1.transform(s)+", "+K1.transform(e)+", "+K1.transform(t)+", "+Yf(yu.transform(n))+")"};function ZF(s){let e="",t="",n="",i="";return s.length>5?(e=s.substring(1,3),t=s.substring(3,5),n=s.substring(5,7),i=s.substring(7,9)):(e=s.substring(1,2),t=s.substring(2,3),n=s.substring(3,4),i=s.substring(4,5),e+=e,t+=t,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const By={test:Uv("#"),parse:ZF,transform:wo.transform},ud=s=>({test:e=>typeof e=="string"&&e.endsWith(s)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${s}`}),pa=ud("deg"),er=ud("%"),Oe=ud("px"),XF=ud("vh"),ez=ud("vw"),fL={...er,parse:s=>er.parse(s)/100,transform:s=>er.transform(s*100)},Il={test:Uv("hsl","hue"),parse:eM("hue","saturation","lightness"),transform:({hue:s,saturation:e,lightness:t,alpha:n=1})=>"hsla("+Math.round(s)+", "+er.transform(Yf(e))+", "+er.transform(Yf(t))+", "+Yf(yu.transform(n))+")"},js={test:s=>wo.test(s)||By.test(s)||Il.test(s),parse:s=>wo.test(s)?wo.parse(s):Il.test(s)?Il.parse(s):By.parse(s),transform:s=>typeof s=="string"?s:s.hasOwnProperty("red")?wo.transform(s):Il.transform(s)},tz=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function sz(s){var e,t;return isNaN(s)&&typeof s=="string"&&(((e=s.match(Bv))==null?void 0:e.length)||0)+(((t=s.match(tz))==null?void 0:t.length)||0)>0}const tM="number",sM="color",nz="var",iz="var(",uL="${}",rz=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function bu(s){const e=s.toString(),t=[],n={color:[],number:[],var:[]},i=[];let r=0;const l=e.replace(rz,c=>(js.test(c)?(n.color.push(r),i.push(sM),t.push(js.parse(c))):c.startsWith(iz)?(n.var.push(r),i.push(nz),t.push(c)):(n.number.push(r),i.push(tM),t.push(parseFloat(c))),++r,uL)).split(uL);return{values:t,split:l,indexes:n,types:i}}function nM(s){return bu(s).values}function iM(s){const{split:e,types:t}=bu(s),n=e.length;return i=>{let r="";for(let a=0;a<n;a++)if(r+=e[a],i[a]!==void 0){const l=t[a];l===tM?r+=Yf(i[a]):l===sM?r+=js.transform(i[a]):r+=i[a]}return r}}const az=s=>typeof s=="number"?0:s;function oz(s){const e=nM(s);return iM(s)(e.map(az))}const Aa={test:sz,parse:nM,createTransformer:iM,getAnimatableNone:oz};function J1(s,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?s+(e-s)*6*t:t<1/2?e:t<2/3?s+(e-s)*(2/3-t)*6:s}function lz({hue:s,saturation:e,lightness:t,alpha:n}){s/=360,e/=100,t/=100;let i=0,r=0,a=0;if(!e)i=r=a=t;else{const l=t<.5?t*(1+e):t+e-t*e,c=2*t-l;i=J1(c,l,s+1/3),r=J1(c,l,s),a=J1(c,l,s-1/3)}return{red:Math.round(i*255),green:Math.round(r*255),blue:Math.round(a*255),alpha:n}}function gm(s,e){return t=>t>0?e:s}const It=(s,e,t)=>s+(e-s)*t,q1=(s,e,t)=>{const n=s*s,i=t*(e*e-n)+n;return i<0?0:Math.sqrt(i)},cz=[By,wo,Il],fz=s=>cz.find(e=>e.test(s));function dL(s){const e=fz(s);if(!e)return!1;let t=e.parse(s);return e===Il&&(t=lz(t)),t}const hL=(s,e)=>{const t=dL(s),n=dL(e);if(!t||!n)return gm(s,e);const i={...t};return r=>(i.red=q1(t.red,n.red,r),i.green=q1(t.green,n.green,r),i.blue=q1(t.blue,n.blue,r),i.alpha=It(t.alpha,n.alpha,r),wo.transform(i))},Uy=new Set(["none","hidden"]);function uz(s,e){return Uy.has(s)?t=>t<=0?s:e:t=>t>=1?e:s}function dz(s,e){return t=>It(s,e,t)}function $v(s){return typeof s=="number"?dz:typeof s=="string"?zv(s)?gm:js.test(s)?hL:pz:Array.isArray(s)?rM:typeof s=="object"?js.test(s)?hL:hz:gm}function rM(s,e){const t=[...s],n=t.length,i=s.map((r,a)=>$v(r)(r,e[a]));return r=>{for(let a=0;a<n;a++)t[a]=i[a](r);return t}}function hz(s,e){const t={...s,...e},n={};for(const i in t)s[i]!==void 0&&e[i]!==void 0&&(n[i]=$v(s[i])(s[i],e[i]));return i=>{for(const r in n)t[r]=n[r](i);return t}}function mz(s,e){const t=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const r=e.types[i],a=s.indexes[r][n[r]],l=s.values[a]??0;t[i]=l,n[r]++}return t}const pz=(s,e)=>{const t=Aa.createTransformer(e),n=bu(s),i=bu(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?Uy.has(s)&&!i.values.length||Uy.has(e)&&!n.values.length?uz(s,e):cd(rM(mz(n,i),i.values),t):gm(s,e)};function aM(s,e,t){return typeof s=="number"&&typeof e=="number"&&typeof t=="number"?It(s,e,t):$v(s)(s,e)}const gz=s=>{const e=({timestamp:t})=>s(t);return{start:()=>pt.update(e,!0),stop:()=>Li(e),now:()=>us.isProcessing?us.timestamp:rn.now()}},oM=(s,e,t=10)=>{let n="";const i=Math.max(Math.round(e/t),2);for(let r=0;r<i;r++)n+=s(r/(i-1))+", ";return`linear(${n.substring(0,n.length-2)})`},xm=2e4;function Vv(s){let e=0;const t=50;let n=s.next(e);for(;!n.done&&e<xm;)e+=t,n=s.next(e);return e>=xm?1/0:e}function xz(s,e=100,t){const n=t({...s,keyframes:[0,e]}),i=Math.min(Vv(n),xm);return{type:"keyframes",ease:r=>n.next(i*r).value/e,duration:Xi(i)}}const yz=5;function lM(s,e,t){const n=Math.max(e-yz,0);return Pv(t-s(n),e-n)}const Ot={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},mL=.001;function bz({duration:s=Ot.duration,bounce:e=Ot.bounce,velocity:t=Ot.velocity,mass:n=Ot.mass}){let i,r,a=1-e;a=or(Ot.minDamping,Ot.maxDamping,a),s=or(Ot.minDuration,Ot.maxDuration,Xi(s)),a<1?(i=f=>{const u=f*a,h=u*s,p=u-t,g=$y(f,a),x=Math.exp(-h);return mL-p/g*x},r=f=>{const h=f*a*s,p=h*t+t,g=Math.pow(a,2)*Math.pow(f,2)*s,x=Math.exp(-h),y=$y(Math.pow(f,2),a);return(-i(f)+mL>0?-1:1)*((p-g)*x)/y}):(i=f=>{const u=Math.exp(-f*s),h=(f-t)*s+1;return-.001+u*h},r=f=>{const u=Math.exp(-f*s),h=(t-f)*(s*s);return u*h});const l=5/s,c=wz(i,r,l);if(s=Zi(s),isNaN(c))return{stiffness:Ot.stiffness,damping:Ot.damping,duration:s};{const f=Math.pow(c,2)*n;return{stiffness:f,damping:a*2*Math.sqrt(n*f),duration:s}}}const vz=12;function wz(s,e,t){let n=t;for(let i=1;i<vz;i++)n=n-s(n)/e(n);return n}function $y(s,e){return s*Math.sqrt(1-e*e)}const Sz=["duration","bounce"],Lz=["stiffness","damping","mass"];function pL(s,e){return e.some(t=>s[t]!==void 0)}function Cz(s){let e={velocity:Ot.velocity,stiffness:Ot.stiffness,damping:Ot.damping,mass:Ot.mass,isResolvedFromDuration:!1,...s};if(!pL(s,Lz)&&pL(s,Sz))if(s.visualDuration){const t=s.visualDuration,n=2*Math.PI/(t*1.2),i=n*n,r=2*or(.05,1,1-(s.bounce||0))*Math.sqrt(i);e={...e,mass:Ot.mass,stiffness:i,damping:r}}else{const t=bz(s);e={...e,...t,mass:Ot.mass},e.isResolvedFromDuration=!0}return e}function ym(s=Ot.visualDuration,e=Ot.bounce){const t=typeof s!="object"?{visualDuration:s,keyframes:[0,1],bounce:e}:s;let{restSpeed:n,restDelta:i}=t;const r=t.keyframes[0],a=t.keyframes[t.keyframes.length-1],l={done:!1,value:r},{stiffness:c,damping:f,mass:u,duration:h,velocity:p,isResolvedFromDuration:g}=Cz({...t,velocity:-Xi(t.velocity||0)}),x=p||0,y=f/(2*Math.sqrt(c*u)),v=a-r,w=Xi(Math.sqrt(c/u)),L=Math.abs(v)<5;n||(n=L?Ot.restSpeed.granular:Ot.restSpeed.default),i||(i=L?Ot.restDelta.granular:Ot.restDelta.default);let S;if(y<1){const E=$y(w,y);S=M=>{const N=Math.exp(-y*w*M);return a-N*((x+y*w*v)/E*Math.sin(E*M)+v*Math.cos(E*M))}}else if(y===1)S=E=>a-Math.exp(-w*E)*(v+(x+w*v)*E);else{const E=w*Math.sqrt(y*y-1);S=M=>{const N=Math.exp(-y*w*M),I=Math.min(E*M,300);return a-N*((x+y*w*v)*Math.sinh(I)+E*v*Math.cosh(I))/E}}const j={calculatedDuration:g&&h||null,next:E=>{const M=S(E);if(g)l.done=E>=h;else{let N=E===0?x:0;y<1&&(N=E===0?Zi(x):lM(S,E,M));const I=Math.abs(N)<=n,A=Math.abs(a-M)<=i;l.done=I&&A}return l.value=l.done?a:M,l},toString:()=>{const E=Math.min(Vv(j),xm),M=oM(N=>j.next(E*N).value,E,30);return E+"ms "+M},toTransition:()=>{}};return j}ym.applyToOptions=s=>{const e=xz(s,100,ym);return s.ease=e.ease,s.duration=Zi(e.duration),s.type="keyframes",s};function Vy({keyframes:s,velocity:e=0,power:t=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:r=500,modifyTarget:a,min:l,max:c,restDelta:f=.5,restSpeed:u}){const h=s[0],p={done:!1,value:h},g=I=>l!==void 0&&I<l||c!==void 0&&I>c,x=I=>l===void 0?c:c===void 0||Math.abs(l-I)<Math.abs(c-I)?l:c;let y=t*e;const v=h+y,w=a===void 0?v:a(v);w!==v&&(y=w-h);const L=I=>-y*Math.exp(-I/n),S=I=>w+L(I),j=I=>{const A=L(I),D=S(I);p.done=Math.abs(A)<=f,p.value=p.done?w:D};let E,M;const N=I=>{g(p.value)&&(E=I,M=ym({keyframes:[p.value,x(p.value)],velocity:lM(S,I,p.value),damping:i,stiffness:r,restDelta:f,restSpeed:u}))};return N(0),{calculatedDuration:null,next:I=>{let A=!1;return!M&&E===void 0&&(A=!0,j(I),N(I)),E!==void 0&&I>=E?M.next(I-E):(!A&&j(I),p)}}}function Tz(s,e,t){const n=[],i=t||Fr.mix||aM,r=s.length-1;for(let a=0;a<r;a++){let l=i(s[a],s[a+1]);if(e){const c=Array.isArray(e)?e[a]||ei:e;l=cd(c,l)}n.push(l)}return n}function Gv(s,e,{clamp:t=!0,ease:n,mixer:i}={}){const r=s.length;if(_v(r===e.length),r===1)return()=>e[0];if(r===2&&e[0]===e[1])return()=>e[1];const a=s[0]===s[1];s[0]>s[r-1]&&(s=[...s].reverse(),e=[...e].reverse());const l=Tz(e,n,i),c=l.length,f=u=>{if(a&&u<s[0])return e[0];let h=0;if(c>1)for(;h<s.length-2&&!(u<s[h+1]);h++);const p=ec(s[h],s[h+1],u);return l[h](p)};return t?u=>f(or(s[0],s[r-1],u)):f}function jz(s,e){const t=s[s.length-1];for(let n=1;n<=e;n++){const i=ec(0,e,n);s.push(It(t,1,i))}}function cM(s){const e=[0];return jz(e,s.length-1),e}function Ez(s,e){return s.map(t=>t*e)}function Nz(s,e){return s.map(()=>e||JN).splice(0,s.length-1)}function Wf({duration:s=300,keyframes:e,times:t,ease:n="easeInOut"}){const i=UF(n)?n.map(cL):cL(n),r={done:!1,value:e[0]},a=Ez(t&&t.length===e.length?t:cM(e),s),l=Gv(a,e,{ease:Array.isArray(i)?i:Nz(e,i)});return{calculatedDuration:s,next:c=>(r.value=l(c),r.done=c>=s,r)}}const Mz=s=>s!==null;function Hv(s,{repeat:e,repeatType:t="loop"},n,i=1){const r=s.filter(Mz),l=i<0||e&&t!=="loop"&&e%2===1?0:r.length-1;return!l||n===void 0?r[l]:n}const kz={decay:Vy,inertia:Vy,tween:Wf,keyframes:Wf,spring:ym};function fM(s){typeof s.type=="string"&&(s.type=kz[s.type])}class Yv{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const Iz=s=>s/100;class uM extends Yv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;if(t&&t.updatedAt!==rn.now()&&this.tick(rn.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:n}=this.options;n&&n()},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;fM(e);const{type:t=Wf,repeat:n=0,repeatDelay:i=0,repeatType:r,velocity:a=0}=e;let{keyframes:l}=e;const c=t||Wf;c!==Wf&&typeof l[0]!="number"&&(this.mixKeyframes=cd(Iz,aM(l[0],l[1])),l=[0,100]);const f=c({...e,keyframes:l});r==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-a})),f.calculatedDuration===null&&(f.calculatedDuration=Vv(f));const{calculatedDuration:u}=f;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=f}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:n,totalDuration:i,mixKeyframes:r,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:f=0,keyframes:u,repeat:h,repeatType:p,repeatDelay:g,type:x,onUpdate:y,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const w=this.currentTime-f*(this.playbackSpeed>=0?1:-1),L=this.playbackSpeed>=0?w<0:w>i;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let S=this.currentTime,j=n;if(h){const I=Math.min(this.currentTime,i)/l;let A=Math.floor(I),D=I%1;!D&&I>=1&&(D=1),D===1&&A--,A=Math.min(A,h+1),!!(A%2)&&(p==="reverse"?(D=1-D,g&&(D-=g/l)):p==="mirror"&&(j=a)),S=or(0,1,D)*l}const E=L?{done:!1,value:u[0]}:j.next(S);r&&(E.value=r(E.value));let{done:M}=E;!L&&c!==null&&(M=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return N&&x!==Vy&&(E.value=Hv(u,this.options,v,this.speed)),y&&y(E.value),N&&this.finish(),E}then(e,t){return this.finished.then(e,t)}get duration(){return Xi(this.calculatedDuration)}get time(){return Xi(this.currentTime)}set time(e){e=Zi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(rn.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Xi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=gz,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),t&&t();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(rn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),e.observe(this)}}function _z(s){for(let e=1;e<s.length;e++)s[e]??(s[e]=s[e-1])}const So=s=>s*180/Math.PI,Gy=s=>{const e=So(Math.atan2(s[1],s[0]));return Hy(e)},Az={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:s=>(Math.abs(s[0])+Math.abs(s[3]))/2,rotate:Gy,rotateZ:Gy,skewX:s=>So(Math.atan(s[1])),skewY:s=>So(Math.atan(s[2])),skew:s=>(Math.abs(s[1])+Math.abs(s[2]))/2},Hy=s=>(s=s%360,s<0&&(s+=360),s),gL=Gy,xL=s=>Math.sqrt(s[0]*s[0]+s[1]*s[1]),yL=s=>Math.sqrt(s[4]*s[4]+s[5]*s[5]),Dz={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:xL,scaleY:yL,scale:s=>(xL(s)+yL(s))/2,rotateX:s=>Hy(So(Math.atan2(s[6],s[5]))),rotateY:s=>Hy(So(Math.atan2(-s[2],s[0]))),rotateZ:gL,rotate:gL,skewX:s=>So(Math.atan(s[4])),skewY:s=>So(Math.atan(s[1])),skew:s=>(Math.abs(s[1])+Math.abs(s[4]))/2};function bL(s){return s.includes("scale")?1:0}function Yy(s,e){if(!s||s==="none")return bL(e);const t=s.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(t)n=Dz,i=t;else{const l=s.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Az,i=l}if(!i)return bL(e);const r=n[e],a=i[1].split(",").map(Rz);return typeof r=="function"?r(a):a[r]}const Pz=(s,e)=>{const{transform:t="none"}=getComputedStyle(s);return Yy(t,e)};function Rz(s){return parseFloat(s.trim())}const Lc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Cc=new Set(Lc),vL=s=>s===Sc||s===Oe,Oz=new Set(["x","y","z"]),Fz=Lc.filter(s=>!Oz.has(s));function zz(s){const e=[];return Fz.forEach(t=>{const n=s.getValue(t);n!==void 0&&(e.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),e}const tc={width:({x:s},{paddingLeft:e="0",paddingRight:t="0"})=>s.max-s.min-parseFloat(e)-parseFloat(t),height:({y:s},{paddingTop:e="0",paddingBottom:t="0"})=>s.max-s.min-parseFloat(e)-parseFloat(t),top:(s,{top:e})=>parseFloat(e),left:(s,{left:e})=>parseFloat(e),bottom:({y:s},{top:e})=>parseFloat(e)+(s.max-s.min),right:({x:s},{left:e})=>parseFloat(e)+(s.max-s.min),x:(s,{transform:e})=>Yy(e,"x"),y:(s,{transform:e})=>Yy(e,"y")};tc.translateX=tc.x;tc.translateY=tc.y;const Mo=new Set;let Wy=!1,Qy=!1,Ky=!1;function dM(){if(Qy){const s=Array.from(Mo).filter(n=>n.needsMeasurement),e=new Set(s.map(n=>n.element)),t=new Map;e.forEach(n=>{const i=zz(n);i.length&&(t.set(n,i),n.render())}),s.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=t.get(n);i&&i.forEach(([r,a])=>{var l;(l=n.getValue(r))==null||l.set(a)})}),s.forEach(n=>n.measureEndState()),s.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Qy=!1,Wy=!1,Mo.forEach(s=>s.complete(Ky)),Mo.clear()}function hM(){Mo.forEach(s=>{s.readKeyframes(),s.needsMeasurement&&(Qy=!0)})}function Bz(){Ky=!0,hM(),dM(),Ky=!1}class Wv{constructor(e,t,n,i,r,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=i,this.element=r,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Mo.add(this),Wy||(Wy=!0,pt.read(hM),pt.resolveKeyframes(dM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:i}=this;if(e[0]===null){const r=i==null?void 0:i.get(),a=e[e.length-1];if(r!==void 0)e[0]=r;else if(n&&t){const l=n.readValue(t,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&r===void 0&&i.set(e[0])}_z(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Mo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Mo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Uz=s=>s.startsWith("--");function $z(s,e,t){Uz(e)?s.style.setProperty(e,t):s.style[e]=t}const mM=Av(()=>window.ScrollTimeline!==void 0),Vz={};function Gz(s,e){const t=Av(s);return()=>Vz[e]??t()}const pM=Gz(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Pf=([s,e,t,n])=>`cubic-bezier(${s}, ${e}, ${t}, ${n})`,wL={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pf([0,.65,.55,1]),circOut:Pf([.55,0,1,.45]),backIn:Pf([.31,.01,.66,-.59]),backOut:Pf([.33,1.53,.69,.99])};function gM(s,e){if(s)return typeof s=="function"?pM()?oM(s,e):"ease-out":qN(s)?Pf(s):Array.isArray(s)?s.map(t=>gM(t,e)||wL.easeOut):wL[s]}function Hz(s,e,t,{delay:n=0,duration:i=300,repeat:r=0,repeatType:a="loop",ease:l="easeOut",times:c}={},f=void 0){const u={[e]:t};c&&(u.offset=c);const h=gM(l,i);Array.isArray(h)&&(u.easing=h);const p={delay:n,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:r+1,direction:a==="reverse"?"alternate":"normal"};return f&&(p.pseudoElement=f),s.animate(u,p)}function xM(s){return typeof s=="function"&&"applyToOptions"in s}function Yz({type:s,...e}){return xM(s)&&pM()?s.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Wz extends Yv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:i,pseudoElement:r,allowFlatten:a=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!r,this.allowFlatten=a,this.options=e,_v(typeof e.type!="string");const f=Yz(e);this.animation=Hz(t,n,i,f,r),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const u=Hv(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):$z(t,n,u),this.animation.cancel()}c==null||c(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,n;const e=((n=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:n.call(t).duration)||0;return Xi(Number(e))}get time(){return Xi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Zi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&mM()?(this.animation.timeline=e,ei):t(this)}}const yM={anticipate:WN,backInOut:YN,circInOut:KN};function Qz(s){return s in yM}function Kz(s){typeof s.ease=="string"&&Qz(s.ease)&&(s.ease=yM[s.ease])}const SL=10;class Jz extends Wz{constructor(e){Kz(e),fM(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:n,onComplete:i,element:r,...a}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const l=new uM({...a,autoplay:!1}),c=Zi(this.finishedTime??this.time);t.setWithVelocity(l.sample(c-SL).value,l.sample(c).value,SL),l.stop()}}const LL=(s,e)=>e==="zIndex"?!1:!!(typeof s=="number"||Array.isArray(s)||typeof s=="string"&&(Aa.test(s)||s==="0")&&!s.startsWith("url("));function qz(s){const e=s[0];if(s.length===1)return!0;for(let t=0;t<s.length;t++)if(s[t]!==e)return!0}function Zz(s,e,t,n){const i=s[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const r=s[s.length-1],a=LL(i,e),l=LL(r,e);return!a||!l?!1:qz(s)||(t==="spring"||xM(t))&&n}const Xz=new Set(["opacity","clipPath","filter","transform"]),eB=Av(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function tB(s){const{motionValue:e,name:t,repeatDelay:n,repeatType:i,damping:r,type:a}=s;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return eB()&&t&&Xz.has(t)&&(t!=="transform"||!c)&&!l&&!n&&i!=="mirror"&&r!==0&&a!=="inertia"}const sB=40;class nB extends Yv{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:a="loop",keyframes:l,name:c,motionValue:f,element:u,...h}){var x;super(),this.stop=()=>{var y,v;this._animation?(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)):(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=rn.now();const p={autoplay:e,delay:t,type:n,repeat:i,repeatDelay:r,repeatType:a,name:c,motionValue:f,element:u,...h},g=(u==null?void 0:u.KeyframeResolver)||Wv;this.keyframeResolver=new g(l,(y,v,w)=>this.onKeyframesResolved(y,v,p,!w),c,f,u),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(e,t,n,i){this.keyframeResolver=void 0;const{name:r,type:a,velocity:l,delay:c,isHandoff:f,onUpdate:u}=n;this.resolvedAt=rn.now(),Zz(e,r,a,l)||((Fr.instantAnimations||!c)&&(u==null||u(Hv(e,n,t))),e[0]=e[e.length-1],n.duration=0,n.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>sB?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},g=!f&&tB(p)?new Jz({...p,element:p.motionValue.owner.current}):new uM(p);g.finished.then(()=>this.notifyFinished()).catch(ei),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||Bz(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const iB=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function rB(s){const e=iB.exec(s);if(!e)return[,];const[,t,n,i]=e;return[`--${t??n}`,i]}function bM(s,e,t=1){const[n,i]=rB(s);if(!n)return;const r=window.getComputedStyle(e).getPropertyValue(n);if(r){const a=r.trim();return BN(a)?parseFloat(a):a}return zv(i)?bM(i,e,t+1):i}function Qv(s,e){return(s==null?void 0:s[e])??(s==null?void 0:s.default)??s}const vM=new Set(["width","height","top","left","right","bottom",...Lc]),aB={test:s=>s==="auto",parse:s=>s},wM=s=>e=>e.test(s),SM=[Sc,Oe,er,pa,ez,XF,aB],CL=s=>SM.find(wM(s));function oB(s){return typeof s=="number"?s===0:s!==null?s==="none"||s==="0"||UN(s):!0}const lB=new Set(["brightness","contrast","saturate","opacity"]);function cB(s){const[e,t]=s.slice(0,-1).split("(");if(e==="drop-shadow")return s;const[n]=t.match(Bv)||[];if(!n)return s;const i=t.replace(n,"");let r=lB.has(e)?1:0;return n!==t&&(r*=100),e+"("+r+i+")"}const fB=/\b([a-z-]*)\(.*?\)/gu,Jy={...Aa,getAnimatableNone:s=>{const e=s.match(fB);return e?e.map(cB).join(" "):s}},TL={...Sc,transform:Math.round},uB={rotate:pa,rotateX:pa,rotateY:pa,rotateZ:pa,scale:Dh,scaleX:Dh,scaleY:Dh,scaleZ:Dh,skew:pa,skewX:pa,skewY:pa,distance:Oe,translateX:Oe,translateY:Oe,translateZ:Oe,x:Oe,y:Oe,z:Oe,perspective:Oe,transformPerspective:Oe,opacity:yu,originX:fL,originY:fL,originZ:Oe},Kv={borderWidth:Oe,borderTopWidth:Oe,borderRightWidth:Oe,borderBottomWidth:Oe,borderLeftWidth:Oe,borderRadius:Oe,radius:Oe,borderTopLeftRadius:Oe,borderTopRightRadius:Oe,borderBottomRightRadius:Oe,borderBottomLeftRadius:Oe,width:Oe,maxWidth:Oe,height:Oe,maxHeight:Oe,top:Oe,right:Oe,bottom:Oe,left:Oe,padding:Oe,paddingTop:Oe,paddingRight:Oe,paddingBottom:Oe,paddingLeft:Oe,margin:Oe,marginTop:Oe,marginRight:Oe,marginBottom:Oe,marginLeft:Oe,backgroundPositionX:Oe,backgroundPositionY:Oe,...uB,zIndex:TL,fillOpacity:yu,strokeOpacity:yu,numOctaves:TL},dB={...Kv,color:js,backgroundColor:js,outlineColor:js,fill:js,stroke:js,borderColor:js,borderTopColor:js,borderRightColor:js,borderBottomColor:js,borderLeftColor:js,filter:Jy,WebkitFilter:Jy},LM=s=>dB[s];function CM(s,e){let t=LM(s);return t!==Jy&&(t=Aa),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const hB=new Set(["auto","none","0"]);function mB(s,e,t){let n=0,i;for(;n<s.length&&!i;){const r=s[n];typeof r=="string"&&!hB.has(r)&&bu(r).values.length&&(i=s[n]),n++}if(i&&t)for(const r of e)s[r]=CM(t,i)}class pB extends Wv{constructor(e,t,n,i,r){super(e,t,n,i,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let f=e[c];if(typeof f=="string"&&(f=f.trim(),zv(f))){const u=bM(f,t.current);u!==void 0&&(e[c]=u),c===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!vM.has(n)||e.length!==2)return;const[i,r]=e,a=CL(i),l=CL(r);if(a!==l)if(vL(a)&&vL(l))for(let c=0;c<e.length;c++){const f=e[c];typeof f=="string"&&(e[c]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||oB(e[i]))&&n.push(i);n.length&&mB(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=tc[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var l;const{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);const r=n.length-1,a=n[r];n[r]=tc[t](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,f])=>{e.getValue(c).set(f)}),this.resolveNoneKeyframes()}}function Jv(s,e,t){if(s instanceof EventTarget)return[s];if(typeof s=="string"){const i=document.querySelectorAll(s);return i?Array.from(i):[]}return Array.from(s)}const{schedule:qv}=ZN(queueMicrotask,!1),gi={x:!1,y:!1};function TM(){return gi.x||gi.y}function gB(s){return s==="x"||s==="y"?gi[s]?null:(gi[s]=!0,()=>{gi[s]=!1}):gi.x||gi.y?null:(gi.x=gi.y=!0,()=>{gi.x=gi.y=!1})}function jM(s,e){const t=Jv(s),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[t,i,()=>n.abort()]}function jL(s){return!(s.pointerType==="touch"||TM())}function xB(s,e,t={}){const[n,i,r]=jM(s,t),a=l=>{if(!jL(l))return;const{target:c}=l,f=e(c,l);if(typeof f!="function"||!c)return;const u=h=>{jL(h)&&(f(h),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,i)};return n.forEach(l=>{l.addEventListener("pointerenter",a,i)}),r}const EM=(s,e)=>e?s===e?!0:EM(s,e.parentElement):!1,Zv=s=>s.pointerType==="mouse"?typeof s.button!="number"||s.button<=0:s.isPrimary!==!1,yB=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function bB(s){return yB.has(s.tagName)||s.tabIndex!==-1}const Rf=new WeakSet;function EL(s){return e=>{e.key==="Enter"&&s(e)}}function Z1(s,e){s.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const vB=(s,e)=>{const t=s.currentTarget;if(!t)return;const n=EL(()=>{if(Rf.has(t))return;Z1(t,"down");const i=EL(()=>{Z1(t,"up")}),r=()=>Z1(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",r,e)});t.addEventListener("keydown",n,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",n),e)};function NL(s){return Zv(s)&&!TM()}function wB(s,e,t={}){const[n,i,r]=jM(s,t),a=l=>{const c=l.currentTarget;if(!NL(l)||Rf.has(c))return;Rf.add(c);const f=e(c,l),u=(g,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),!(!NL(g)||!Rf.has(c))&&(Rf.delete(c),typeof f=="function"&&f(g,{success:x}))},h=g=>{u(g,c===window||c===document||t.useGlobalTarget||EM(c,g.target))},p=g=>{u(g,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",p,i)};return n.forEach(l=>{(t.useGlobalTarget?window:l).addEventListener("pointerdown",a,i),l instanceof HTMLElement&&(l.addEventListener("focus",f=>vB(f,i)),!bB(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),r}function NM(s,e){let t;const n=()=>{const{currentTime:i}=e,a=(i===null?0:i.value)/100;t!==a&&s(a),t=a};return pt.preUpdate(n,!0),()=>Li(n)}function SB(...s){const e=!Array.isArray(s[0]),t=e?0:-1,n=s[0+t],i=s[1+t],r=s[2+t],a=s[3+t],l=Gv(i,r,a);return e?l(n):l}const ML=30,LB=s=>!isNaN(parseFloat(s)),Qf={current:void 0};class CB{constructor(e,t={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{var a,l;const r=rn.now();this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current)),i&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=rn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=LB(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Dv);const n=this.events[e].add(t);return e==="change"?()=>{n(),pt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Qf.current&&Qf.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=rn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ML)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,ML);return Pv(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e;(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hi(s,e){return new CB(s,e)}const TB=[...SM,js,Aa],jB=s=>TB.find(wM(s)),MM=(s,e)=>e&&typeof s=="number"?e.transform(s):s,kM=T.createContext({strict:!1}),kL={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},sc={};for(const s in kL)sc[s]={isEnabled:e=>kL[s].some(t=>!!e[t])};function EB(s){for(const e in s)sc[e]={...sc[e],...s[e]}}const NB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bm(s){return s.startsWith("while")||s.startsWith("drag")&&s!=="draggable"||s.startsWith("layout")||s.startsWith("onTap")||s.startsWith("onPan")||s.startsWith("onLayout")||NB.has(s)}let IM=s=>!bm(s);function MB(s){s&&(IM=e=>e.startsWith("on")?!bm(e):s(e))}try{MB(require("@emotion/is-prop-valid").default)}catch{}function kB(s,e,t){const n={};for(const i in s)i==="values"&&typeof s.values=="object"||(IM(i)||t===!0&&bm(i)||!e&&!bm(i)||s.draggable&&i.startsWith("onDrag"))&&(n[i]=s[i]);return n}function IB(s){if(typeof Proxy>"u")return s;const e=new Map,t=(...n)=>s(...n);return new Proxy(t,{get:(n,i)=>i==="create"?s:(e.has(i)||e.set(i,s(i)),e.get(i))})}const Cp=T.createContext({});function Tp(s){return s!==null&&typeof s=="object"&&typeof s.start=="function"}function vu(s){return typeof s=="string"||Array.isArray(s)}const Xv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],e2=["initial",...Xv];function jp(s){return Tp(s.animate)||e2.some(e=>vu(s[e]))}function _M(s){return!!(jp(s)||s.variants)}function _B(s,e){if(jp(s)){const{initial:t,animate:n}=s;return{initial:t===!1||vu(t)?t:void 0,animate:vu(n)?n:void 0}}return s.inherit!==!1?e:{}}function AB(s){const{initial:e,animate:t}=_B(s,T.useContext(Cp));return T.useMemo(()=>({initial:e,animate:t}),[IL(e),IL(t)])}function IL(s){return Array.isArray(s)?s.join(" "):s}const DB=Symbol.for("motionComponentSymbol");function _l(s){return s&&typeof s=="object"&&Object.prototype.hasOwnProperty.call(s,"current")}function PB(s,e,t){return T.useCallback(n=>{n&&s.onMount&&s.onMount(n),e&&(n?e.mount(n):e.unmount()),t&&(typeof t=="function"?t(n):_l(t)&&(t.current=n))},[e])}const t2=s=>s.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),RB="framerAppearId",AM="data-"+t2(RB),DM=T.createContext({});function OB(s,e,t,n,i){var y,v;const{visualElement:r}=T.useContext(Cp),a=T.useContext(kM),l=T.useContext(Nv),c=T.useContext(Mv).reducedMotion,f=T.useRef(null);n=n||a.renderer,!f.current&&n&&(f.current=n(s,{visualState:e,parent:r,props:t,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=f.current,h=T.useContext(DM);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&FB(f.current,t,i,h);const p=T.useRef(!1);T.useInsertionEffect(()=>{u&&p.current&&u.update(t,l)});const g=t[AM],x=T.useRef(!!g&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,g))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,g)));return Ev(()=>{u&&(p.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),qv.render(u.render),x.current&&u.animationState&&u.animationState.animateChanges())}),T.useEffect(()=>{u&&(!x.current&&u.animationState&&u.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,g)}),x.current=!1))}),u}function FB(s,e,t,n){const{layoutId:i,layout:r,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:f,layoutCrossfade:u}=e;s.projection=new t(s.latestValues,e["data-framer-portal-id"]?void 0:PM(s.parent)),s.projection.setOptions({layoutId:i,layout:r,alwaysMeasureLayout:!!a||l&&_l(l),visualElement:s,animationType:typeof r=="string"?r:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:c,layoutRoot:f})}function PM(s){if(s)return s.options.allowProjection!==!1?s.projection:PM(s.parent)}function zB({preloadedFeatures:s,createVisualElement:e,useRender:t,useVisualState:n,Component:i}){s&&EB(s);function r(l,c){let f;const u={...T.useContext(Mv),...l,layoutId:BB(l)},{isStatic:h}=u,p=AB(l),g=n(l,h);if(!h&&jv){UB();const x=$B(u);f=x.MeasureLayout,p.visualElement=OB(i,g,u,e,x.ProjectionNode)}return o.jsxs(Cp.Provider,{value:p,children:[f&&p.visualElement?o.jsx(f,{visualElement:p.visualElement,...u}):null,t(i,l,PB(g,p.visualElement,c),g,h,p.visualElement)]})}r.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const a=T.forwardRef(r);return a[DB]=i,a}function BB({layoutId:s}){const e=T.useContext(zN).id;return e&&s!==void 0?e+"-"+s:s}function UB(s,e){T.useContext(kM).strict}function $B(s){const{drag:e,layout:t}=sc;if(!e&&!t)return{};const n={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(s)||t!=null&&t.isEnabled(s)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const wu={};function VB(s){for(const e in s)wu[e]=s[e],Fv(e)&&(wu[e].isCSSVariable=!0)}function RM(s,{layout:e,layoutId:t}){return Cc.has(s)||s.startsWith("origin")||(e||t!==void 0)&&(!!wu[s]||s==="opacity")}const ks=s=>!!(s&&s.getVelocity),GB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},HB=Lc.length;function YB(s,e,t){let n="",i=!0;for(let r=0;r<HB;r++){const a=Lc[r],l=s[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||t){const f=MM(l,Kv[a]);if(!c){i=!1;const u=GB[a]||a;n+=`${u}(${f}) `}t&&(e[a]=f)}}return n=n.trim(),t?n=t(e,i?"":n):i&&(n="none"),n}function s2(s,e,t){const{style:n,vars:i,transformOrigin:r}=s;let a=!1,l=!1;for(const c in e){const f=e[c];if(Cc.has(c)){a=!0;continue}else if(Fv(c)){i[c]=f;continue}else{const u=MM(f,Kv[c]);c.startsWith("origin")?(l=!0,r[c]=u):n[c]=u}}if(e.transform||(a||t?n.transform=YB(e,s.transform,t):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:f="50%",originZ:u=0}=r;n.transformOrigin=`${c} ${f} ${u}`}}const n2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function OM(s,e,t){for(const n in e)!ks(e[n])&&!RM(n,t)&&(s[n]=e[n])}function WB({transformTemplate:s},e){return T.useMemo(()=>{const t=n2();return s2(t,e,s),Object.assign({},t.vars,t.style)},[e])}function QB(s,e){const t=s.style||{},n={};return OM(n,t,s),Object.assign(n,WB(s,e)),n}function KB(s,e){const t={},n=QB(s,e);return s.drag&&s.dragListener!==!1&&(t.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=s.drag===!0?"none":`pan-${s.drag==="x"?"y":"x"}`),s.tabIndex===void 0&&(s.onTap||s.onTapStart||s.whileTap)&&(t.tabIndex=0),t.style=n,t}const JB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function i2(s){return typeof s!="string"||s.includes("-")?!1:!!(JB.indexOf(s)>-1||/[A-Z]/u.test(s))}const qB={offset:"stroke-dashoffset",array:"stroke-dasharray"},ZB={offset:"strokeDashoffset",array:"strokeDasharray"};function XB(s,e,t=1,n=0,i=!0){s.pathLength=1;const r=i?qB:ZB;s[r.offset]=Oe.transform(-n);const a=Oe.transform(e),l=Oe.transform(t);s[r.array]=`${a} ${l}`}function FM(s,{attrX:e,attrY:t,attrScale:n,pathLength:i,pathSpacing:r=1,pathOffset:a=0,...l},c,f){if(s2(s,l,f),c){s.style.viewBox&&(s.attrs.viewBox=s.style.viewBox);return}s.attrs=s.style,s.style={};const{attrs:u,style:h}=s;u.transform&&(h.transform=u.transform,delete u.transform),(h.transform||u.transformOrigin)&&(h.transformOrigin=u.transformOrigin??"50% 50%",delete u.transformOrigin),h.transform&&(h.transformBox="fill-box",delete u.transformBox),e!==void 0&&(u.x=e),t!==void 0&&(u.y=t),n!==void 0&&(u.scale=n),i!==void 0&&XB(u,i,r,a,!1)}const zM=()=>({...n2(),attrs:{}}),BM=s=>typeof s=="string"&&s.toLowerCase()==="svg";function eU(s,e,t,n){const i=T.useMemo(()=>{const r=zM();return FM(r,e,BM(n),s.transformTemplate),{...r.attrs,style:{...r.style}}},[e]);if(s.style){const r={};OM(r,s.style,s),i.style={...r,...i.style}}return i}function tU(s=!1){return(t,n,i,{latestValues:r},a)=>{const c=(i2(t)?eU:KB)(n,r,a,t),f=kB(n,typeof t=="string",s),u=t!==T.Fragment?{...f,...c,ref:i}:{},{children:h}=n,p=T.useMemo(()=>ks(h)?h.get():h,[h]);return T.createElement(t,{...u,children:p})}}function _L(s){const e=[{},{}];return s==null||s.values.forEach((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()}),e}function r2(s,e,t,n){if(typeof e=="function"){const[i,r]=_L(n);e=e(t!==void 0?t:s.custom,i,r)}if(typeof e=="string"&&(e=s.variants&&s.variants[e]),typeof e=="function"){const[i,r]=_L(n);e=e(t!==void 0?t:s.custom,i,r)}return e}function O0(s){return ks(s)?s.get():s}function sU({scrapeMotionValuesFromProps:s,createRenderState:e},t,n,i){return{latestValues:nU(t,n,i,s),renderState:e()}}const UM=s=>(e,t)=>{const n=T.useContext(Cp),i=T.useContext(Nv),r=()=>sU(s,e,n,i);return t?r():Lp(r)};function nU(s,e,t,n){const i={},r=n(s,{});for(const p in r)i[p]=O0(r[p]);let{initial:a,animate:l}=s;const c=jp(s),f=_M(s);e&&f&&!c&&s.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let u=t?t.initial===!1:!1;u=u||a===!1;const h=u?l:a;if(h&&typeof h!="boolean"&&!Tp(h)){const p=Array.isArray(h)?h:[h];for(let g=0;g<p.length;g++){const x=r2(s,p[g]);if(x){const{transitionEnd:y,transition:v,...w}=x;for(const L in w){let S=w[L];if(Array.isArray(S)){const j=u?S.length-1:0;S=S[j]}S!==null&&(i[L]=S)}for(const L in y)i[L]=y[L]}}}return i}function a2(s,e,t){var r;const{style:n}=s,i={};for(const a in n)(ks(n[a])||e.style&&ks(e.style[a])||RM(a,s)||((r=t==null?void 0:t.getValue(a))==null?void 0:r.liveStyle)!==void 0)&&(i[a]=n[a]);return i}const iU={useVisualState:UM({scrapeMotionValuesFromProps:a2,createRenderState:n2})};function $M(s,e,t){const n=a2(s,e,t);for(const i in s)if(ks(s[i])||ks(e[i])){const r=Lc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[r]=s[i]}return n}const rU={useVisualState:UM({scrapeMotionValuesFromProps:$M,createRenderState:zM})};function aU(s,e){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...i2(n)?rU:iU,preloadedFeatures:s,useRender:tU(i),createVisualElement:e,Component:n};return zB(a)}}function Su(s,e,t){const n=s.getProps();return r2(n,e,t!==void 0?t:n.custom,s)}const qy=s=>Array.isArray(s);function oU(s,e,t){s.hasValue(e)?s.getValue(e).set(t):s.addValue(e,Hi(t))}function lU(s){return qy(s)?s[s.length-1]||0:s}function cU(s,e){const t=Su(s,e);let{transitionEnd:n={},transition:i={},...r}=t||{};r={...r,...n};for(const a in r){const l=lU(r[a]);oU(s,a,l)}}function fU(s){return!!(ks(s)&&s.add)}function Zy(s,e){const t=s.getValue("willChange");if(fU(t))return t.add(e);if(!t&&Fr.WillChange){const n=new Fr.WillChange("auto");s.addValue("willChange",n),n.add(e)}}function VM(s){return s.props[AM]}const uU=s=>s!==null;function dU(s,{repeat:e,repeatType:t="loop"},n){const i=s.filter(uU),r=e&&t!=="loop"&&e%2===1?0:i.length-1;return i[r]}const hU={type:"spring",stiffness:500,damping:25,restSpeed:10},mU=s=>({type:"spring",stiffness:550,damping:s===0?2*Math.sqrt(550):30,restSpeed:10}),pU={type:"keyframes",duration:.8},gU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},xU=(s,{keyframes:e})=>e.length>2?pU:Cc.has(s)?s.startsWith("scale")?mU(e[1]):hU:gU;function yU({when:s,delay:e,delayChildren:t,staggerChildren:n,staggerDirection:i,repeat:r,repeatType:a,repeatDelay:l,from:c,elapsed:f,...u}){return!!Object.keys(u).length}const o2=(s,e,t,n={},i,r)=>a=>{const l=Qv(n,s)||{},c=l.delay||n.delay||0;let{elapsed:f=0}=n;f=f-Zi(c);const u={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-f,onUpdate:p=>{e.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:s,motionValue:e,element:r?void 0:i};yU(l)||Object.assign(u,xU(s,u)),u.duration&&(u.duration=Zi(u.duration)),u.repeatDelay&&(u.repeatDelay=Zi(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),(Fr.instantAnimations||Fr.skipAnimations)&&(h=!0,u.duration=0,u.delay=0),u.allowFlatten=!l.type&&!l.ease,h&&!r&&e.get()!==void 0){const p=dU(u.keyframes,l);if(p!==void 0){pt.update(()=>{u.onUpdate(p),u.onComplete()});return}}return new nB(u)};function bU({protectedKeys:s,needsAnimating:e},t){const n=s.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,n}function GM(s,e,{delay:t=0,transitionOverride:n,type:i}={}){let{transition:r=s.getDefaultTransition(),transitionEnd:a,...l}=e;n&&(r=n);const c=[],f=i&&s.animationState&&s.animationState.getState()[i];for(const u in l){const h=s.getValue(u,s.latestValues[u]??null),p=l[u];if(p===void 0||f&&bU(f,u))continue;const g={delay:t,...Qv(r||{},u)},x=h.get();if(x!==void 0&&!h.isAnimating&&!Array.isArray(p)&&p===x&&!g.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const w=VM(s);if(w){const L=window.MotionHandoffAnimation(w,u,pt);L!==null&&(g.startTime=L,y=!0)}}Zy(s,u),h.start(o2(u,h,p,s.shouldReduceMotion&&vM.has(u)?{type:!1}:g,s,y));const v=h.animation;v&&c.push(v)}return a&&Promise.all(c).then(()=>{pt.update(()=>{a&&cU(s,a)})}),c}function Xy(s,e,t={}){var c;const n=Su(s,e,t.type==="exit"?(c=s.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=s.getDefaultTransition()||{}}=n||{};t.transitionOverride&&(i=t.transitionOverride);const r=n?()=>Promise.all(GM(s,n,t)):()=>Promise.resolve(),a=s.variantChildren&&s.variantChildren.size?(f=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:p}=i;return vU(s,e,u+f,h,p,t)}:()=>Promise.resolve(),{when:l}=i;if(l){const[f,u]=l==="beforeChildren"?[r,a]:[a,r];return f().then(()=>u())}else return Promise.all([r(),a(t.delay)])}function vU(s,e,t=0,n=0,i=1,r){const a=[],l=(s.variantChildren.size-1)*n,c=i===1?(f=0)=>f*n:(f=0)=>l-f*n;return Array.from(s.variantChildren).sort(wU).forEach((f,u)=>{f.notify("AnimationStart",e),a.push(Xy(f,e,{...r,delay:t+c(u)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(a)}function wU(s,e){return s.sortNodePosition(e)}function SU(s,e,t={}){s.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(r=>Xy(s,r,t));n=Promise.all(i)}else if(typeof e=="string")n=Xy(s,e,t);else{const i=typeof e=="function"?Su(s,e,t.custom):e;n=Promise.all(GM(s,i,t))}return n.then(()=>{s.notify("AnimationComplete",e)})}function HM(s,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==s.length)return!1;for(let n=0;n<t;n++)if(e[n]!==s[n])return!1;return!0}const LU=e2.length;function YM(s){if(!s)return;if(!s.isControllingVariants){const t=s.parent?YM(s.parent)||{}:{};return s.props.initial!==void 0&&(t.initial=s.props.initial),t}const e={};for(let t=0;t<LU;t++){const n=e2[t],i=s.props[n];(vu(i)||i===!1)&&(e[n]=i)}return e}const CU=[...Xv].reverse(),TU=Xv.length;function jU(s){return e=>Promise.all(e.map(({animation:t,options:n})=>SU(s,t,n)))}function EU(s){let e=jU(s),t=AL(),n=!0;const i=c=>(f,u)=>{var p;const h=Su(s,u,c==="exit"?(p=s.presenceContext)==null?void 0:p.custom:void 0);if(h){const{transition:g,transitionEnd:x,...y}=h;f={...f,...y,...x}}return f};function r(c){e=c(s)}function a(c){const{props:f}=s,u=YM(s.parent)||{},h=[],p=new Set;let g={},x=1/0;for(let v=0;v<TU;v++){const w=CU[v],L=t[w],S=f[w]!==void 0?f[w]:u[w],j=vu(S),E=w===c?L.isActive:null;E===!1&&(x=v);let M=S===u[w]&&S!==f[w]&&j;if(M&&n&&s.manuallyAnimateOnMount&&(M=!1),L.protectedKeys={...g},!L.isActive&&E===null||!S&&!L.prevProp||Tp(S)||typeof S=="boolean")continue;const N=NU(L.prevProp,S);let I=N||w===c&&L.isActive&&!M&&j||v>x&&j,A=!1;const D=Array.isArray(S)?S:[S];let z=D.reduce(i(w),{});E===!1&&(z={});const{prevResolvedValues:O={}}=L,Y={...O,...z},q=H=>{I=!0,p.has(H)&&(A=!0,p.delete(H)),L.needsAnimating[H]=!0;const F=s.getValue(H);F&&(F.liveStyle=!1)};for(const H in Y){const F=z[H],B=O[H];if(g.hasOwnProperty(H))continue;let U=!1;qy(F)&&qy(B)?U=!HM(F,B):U=F!==B,U?F!=null?q(H):p.add(H):F!==void 0&&p.has(H)?q(H):L.protectedKeys[H]=!0}L.prevProp=S,L.prevResolvedValues=z,L.isActive&&(g={...g,...z}),n&&s.blockInitialAnimation&&(I=!1),I&&(!(M&&N)||A)&&h.push(...D.map(H=>({animation:H,options:{type:w}})))}if(p.size){const v={};if(typeof f.initial!="boolean"){const w=Su(s,Array.isArray(f.initial)?f.initial[0]:f.initial);w&&w.transition&&(v.transition=w.transition)}p.forEach(w=>{const L=s.getBaseTarget(w),S=s.getValue(w);S&&(S.liveStyle=!0),v[w]=L??null}),h.push({animation:v})}let y=!!h.length;return n&&(f.initial===!1||f.initial===f.animate)&&!s.manuallyAnimateOnMount&&(y=!1),n=!1,y?e(h):Promise.resolve()}function l(c,f){var h;if(t[c].isActive===f)return Promise.resolve();(h=s.variantChildren)==null||h.forEach(p=>{var g;return(g=p.animationState)==null?void 0:g.setActive(c,f)}),t[c].isActive=f;const u=a(c);for(const p in t)t[p].protectedKeys={};return u}return{animateChanges:a,setActive:l,setAnimateFunction:r,getState:()=>t,reset:()=>{t=AL(),n=!0}}}function NU(s,e){return typeof e=="string"?e!==s:Array.isArray(e)?!HM(e,s):!1}function oo(s=!1){return{isActive:s,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function AL(){return{animate:oo(!0),whileInView:oo(),whileHover:oo(),whileTap:oo(),whileDrag:oo(),whileFocus:oo(),exit:oo()}}class $a{constructor(e){this.isMounted=!1,this.node=e}update(){}}class MU extends $a{constructor(e){super(e),e.animationState||(e.animationState=EU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Tp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let kU=0;class IU extends $a{constructor(){super(...arguments),this.id=kU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const _U={animation:{Feature:MU},exit:{Feature:IU}};function Lu(s,e,t,n={passive:!0}){return s.addEventListener(e,t,n),()=>s.removeEventListener(e,t)}function dd(s){return{point:{x:s.pageX,y:s.pageY}}}const AU=s=>e=>Zv(e)&&s(e,dd(e));function Kf(s,e,t,n){return Lu(s,e,AU(t),n)}function WM({top:s,left:e,right:t,bottom:n}){return{x:{min:e,max:t},y:{min:s,max:n}}}function DU({x:s,y:e}){return{top:e.min,right:s.max,bottom:e.max,left:s.min}}function PU(s,e){if(!e)return s;const t=e({x:s.left,y:s.top}),n=e({x:s.right,y:s.bottom});return{top:t.y,left:t.x,bottom:n.y,right:n.x}}const QM=1e-4,RU=1-QM,OU=1+QM,KM=.01,FU=0-KM,zU=0+KM;function Us(s){return s.max-s.min}function BU(s,e,t){return Math.abs(s-e)<=t}function DL(s,e,t,n=.5){s.origin=n,s.originPoint=It(e.min,e.max,s.origin),s.scale=Us(t)/Us(e),s.translate=It(t.min,t.max,s.origin)-s.originPoint,(s.scale>=RU&&s.scale<=OU||isNaN(s.scale))&&(s.scale=1),(s.translate>=FU&&s.translate<=zU||isNaN(s.translate))&&(s.translate=0)}function Jf(s,e,t,n){DL(s.x,e.x,t.x,n?n.originX:void 0),DL(s.y,e.y,t.y,n?n.originY:void 0)}function PL(s,e,t){s.min=t.min+e.min,s.max=s.min+Us(e)}function UU(s,e,t){PL(s.x,e.x,t.x),PL(s.y,e.y,t.y)}function RL(s,e,t){s.min=e.min-t.min,s.max=s.min+Us(e)}function qf(s,e,t){RL(s.x,e.x,t.x),RL(s.y,e.y,t.y)}const OL=()=>({translate:0,scale:1,origin:0,originPoint:0}),Al=()=>({x:OL(),y:OL()}),FL=()=>({min:0,max:0}),Yt=()=>({x:FL(),y:FL()});function Yn(s){return[s("x"),s("y")]}function X1(s){return s===void 0||s===1}function eb({scale:s,scaleX:e,scaleY:t}){return!X1(s)||!X1(e)||!X1(t)}function po(s){return eb(s)||JM(s)||s.z||s.rotate||s.rotateX||s.rotateY||s.skewX||s.skewY}function JM(s){return zL(s.x)||zL(s.y)}function zL(s){return s&&s!=="0%"}function vm(s,e,t){const n=s-t,i=e*n;return t+i}function BL(s,e,t,n,i){return i!==void 0&&(s=vm(s,i,n)),vm(s,t,n)+e}function tb(s,e=0,t=1,n,i){s.min=BL(s.min,e,t,n,i),s.max=BL(s.max,e,t,n,i)}function qM(s,{x:e,y:t}){tb(s.x,e.translate,e.scale,e.originPoint),tb(s.y,t.translate,t.scale,t.originPoint)}const UL=.999999999999,$L=1.0000000000001;function $U(s,e,t,n=!1){const i=t.length;if(!i)return;e.x=e.y=1;let r,a;for(let l=0;l<i;l++){r=t[l],a=r.projectionDelta;const{visualElement:c}=r.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Pl(s,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,qM(s,a)),n&&po(r.latestValues)&&Pl(s,r.latestValues))}e.x<$L&&e.x>UL&&(e.x=1),e.y<$L&&e.y>UL&&(e.y=1)}function Dl(s,e){s.min=s.min+e,s.max=s.max+e}function VL(s,e,t,n,i=.5){const r=It(s.min,s.max,i);tb(s,e,t,r,n)}function Pl(s,e){VL(s.x,e.x,e.scaleX,e.scale,e.originX),VL(s.y,e.y,e.scaleY,e.scale,e.originY)}function ZM(s,e){return WM(PU(s.getBoundingClientRect(),e))}function VU(s,e,t){const n=ZM(s,t),{scroll:i}=e;return i&&(Dl(n.x,i.offset.x),Dl(n.y,i.offset.y)),n}const XM=({current:s})=>s?s.ownerDocument.defaultView:null,GL=(s,e)=>Math.abs(s-e);function GU(s,e){const t=GL(s.x,e.x),n=GL(s.y,e.y);return Math.sqrt(t**2+n**2)}class ek{constructor(e,t,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=tx(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=GU(h.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:x}=h,{timestamp:y}=us;this.history.push({...x,timestamp:y});const{onStart:v,onMove:w}=this.handlers;p||(v&&v(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=ex(p,this.transformPagePoint),pt.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:g,onSessionEnd:x,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=tx(h.type==="pointercancel"?this.lastMoveEventInfo:ex(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,v),x&&x(h,v)},!Zv(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=n,this.contextWindow=i||window;const a=dd(e),l=ex(a,this.transformPagePoint),{point:c}=l,{timestamp:f}=us;this.history=[{...c,timestamp:f}];const{onSessionStart:u}=t;u&&u(e,tx(l,this.history)),this.removeListeners=cd(Kf(this.contextWindow,"pointermove",this.handlePointerMove),Kf(this.contextWindow,"pointerup",this.handlePointerUp),Kf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Li(this.updatePoint)}}function ex(s,e){return e?{point:e(s.point)}:s}function HL(s,e){return{x:s.x-e.x,y:s.y-e.y}}function tx({point:s},e){return{point:s,delta:HL(s,tk(e)),offset:HL(s,HU(e)),velocity:YU(e,.1)}}function HU(s){return s[0]}function tk(s){return s[s.length-1]}function YU(s,e){if(s.length<2)return{x:0,y:0};let t=s.length-1,n=null;const i=tk(s);for(;t>=0&&(n=s[t],!(i.timestamp-n.timestamp>Zi(e)));)t--;if(!n)return{x:0,y:0};const r=Xi(i.timestamp-n.timestamp);if(r===0)return{x:0,y:0};const a={x:(i.x-n.x)/r,y:(i.y-n.y)/r};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function WU(s,{min:e,max:t},n){return e!==void 0&&s<e?s=n?It(e,s,n.min):Math.max(s,e):t!==void 0&&s>t&&(s=n?It(t,s,n.max):Math.min(s,t)),s}function YL(s,e,t){return{min:e!==void 0?s.min+e:void 0,max:t!==void 0?s.max+t-(s.max-s.min):void 0}}function QU(s,{top:e,left:t,bottom:n,right:i}){return{x:YL(s.x,t,i),y:YL(s.y,e,n)}}function WL(s,e){let t=e.min-s.min,n=e.max-s.max;return e.max-e.min<s.max-s.min&&([t,n]=[n,t]),{min:t,max:n}}function KU(s,e){return{x:WL(s.x,e.x),y:WL(s.y,e.y)}}function JU(s,e){let t=.5;const n=Us(s),i=Us(e);return i>n?t=ec(e.min,e.max-n,s.min):n>i&&(t=ec(s.min,s.max-i,e.min)),or(0,1,t)}function qU(s,e){const t={};return e.min!==void 0&&(t.min=e.min-s.min),e.max!==void 0&&(t.max=e.max-s.min),t}const sb=.35;function ZU(s=sb){return s===!1?s=0:s===!0&&(s=sb),{x:QL(s,"left","right"),y:QL(s,"top","bottom")}}function QL(s,e,t){return{min:KL(s,e),max:KL(s,t)}}function KL(s,e){return typeof s=="number"?s:s[e]||0}const XU=new WeakMap;class e${constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Yt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(dd(u).point)},r=(u,h)=>{const{drag:p,dragPropagation:g,onDragStart:x}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=gB(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Yn(v=>{let w=this.getAxisMotionValue(v).get()||0;if(er.test(w)){const{projection:L}=this.visualElement;if(L&&L.layout){const S=L.layout.layoutBox[v];S&&(w=Us(S)*(parseFloat(w)/100))}}this.originPoint[v]=w}),x&&pt.postRender(()=>x(u,h)),Zy(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(u,h)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:x,onDrag:y}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:v}=h;if(g&&this.currentDirection===null){this.currentDirection=t$(v),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,v),this.updateAxis("y",h.point,v),this.visualElement.render(),y&&y(u,h)},l=(u,h)=>this.stop(u,h),c=()=>Yn(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)==null?void 0:h.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new ek(e,{onSessionStart:i,onStart:r,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:XM(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:r}=this.getProps();r&&pt.postRender(()=>r(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:i}=this.getProps();if(!n||!Ph(e,i,this.currentDirection))return;const r=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=WU(a,this.constraints[e],this.elastic[e])),r.set(a)}resolveConstraints(){var r;const{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)==null?void 0:r.layout,i=this.constraints;e&&_l(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=QU(n.layoutBox,e):this.constraints=!1,this.elastic=ZU(t),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Yn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=qU(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!_l(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const r=VU(n,i.root,this.visualElement.getTransformPagePoint());let a=KU(i.layout.layoutBox,r);if(t){const l=t(DU(a));this.hasMutatedConstraints=!!l,l&&(a=WM(l))}return a}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:i,dragTransition:r,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},f=Yn(u=>{if(!Ph(u,t,this.currentDirection))return;let h=c&&c[u]||{};a&&(h={min:0,max:0});const p=i?200:1e6,g=i?40:1e7,x={type:"inertia",velocity:n?e[u]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...r,...h};return this.startAxisValueAnimation(u,x)});return Promise.all(f).then(l)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return Zy(this.visualElement,e),n.start(o2(e,n,0,t,this.visualElement,!1))}stopAnimation(){Yn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Yn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[t];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Yn(t=>{const{drag:n}=this.getProps();if(!Ph(t,n,this.currentDirection))return;const{projection:i}=this.visualElement,r=this.getAxisMotionValue(t);if(i&&i.layout){const{min:a,max:l}=i.layout.layoutBox[t];r.set(e[t]-It(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!_l(t)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Yn(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();i[a]=JU({min:c,max:c},this.constraints[a])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Yn(a=>{if(!Ph(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:f}=this.constraints[a];l.set(It(c,f,i[a]))})}addListeners(){if(!this.visualElement.current)return;XU.set(this.visualElement,this);const e=this.visualElement.current,t=Kf(e,"pointerdown",c=>{const{drag:f,dragListener:u=!0}=this.getProps();f&&u&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();_l(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,r=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),pt.read(n);const a=Lu(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:f})=>{this.isDragging&&f&&(Yn(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{a(),t(),r(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:a=sb,dragMomentum:l=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:i,dragConstraints:r,dragElastic:a,dragMomentum:l}}}function Ph(s,e,t){return(e===!0||e===s)&&(t===null||t===s)}function t$(s,e=10){let t=null;return Math.abs(s.y)>e?t="y":Math.abs(s.x)>e&&(t="x"),t}class s$ extends $a{constructor(e){super(e),this.removeGroupControls=ei,this.removeListeners=ei,this.controls=new e$(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ei}unmount(){this.removeGroupControls(),this.removeListeners()}}const JL=s=>(e,t)=>{s&&pt.postRender(()=>s(e,t))};class n$ extends $a{constructor(){super(...arguments),this.removePointerDownListener=ei}onPointerDown(e){this.session=new ek(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:XM(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:JL(e),onStart:JL(t),onMove:n,onEnd:(r,a)=>{delete this.session,i&&pt.postRender(()=>i(r,a))}}}mount(){this.removePointerDownListener=Kf(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const F0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function qL(s,e){return e.max===e.min?0:s/(e.max-e.min)*100}const xf={correct:(s,e)=>{if(!e.target)return s;if(typeof s=="string")if(Oe.test(s))s=parseFloat(s);else return s;const t=qL(s,e.target.x),n=qL(s,e.target.y);return`${t}% ${n}%`}},i$={correct:(s,{treeScale:e,projectionDelta:t})=>{const n=s,i=Aa.parse(s);if(i.length>5)return n;const r=Aa.createTransformer(s),a=typeof i[0]!="number"?1:0,l=t.x.scale*e.x,c=t.y.scale*e.y;i[0+a]/=l,i[1+a]/=c;const f=It(l,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=f),typeof i[3+a]=="number"&&(i[3+a]/=f),r(i)}};class r$ extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:i}=this.props,{projection:r}=e;VB(a$),r&&(t.group&&t.group.add(r),n&&n.register&&i&&n.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),F0.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:i,isPresent:r}=this.props,a=n.projection;return a&&(a.isPresent=r,i||e.layoutDependency!==t||t===void 0||e.isPresent!==r?a.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?a.promote():a.relegate()||pt.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),qv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function sk(s){const[e,t]=AF(),n=T.useContext(zN);return o.jsx(r$,{...s,layoutGroup:n,switchLayoutGroup:T.useContext(DM),isPresent:e,safeToRemove:t})}const a$={borderRadius:{...xf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xf,borderTopRightRadius:xf,borderBottomLeftRadius:xf,borderBottomRightRadius:xf,boxShadow:i$};function o$(s,e,t){const n=ks(s)?s:Hi(s);return n.start(o2("",n,e,t)),n.animation}function l$(s){return s instanceof SVGElement&&s.tagName!=="svg"}const c$=(s,e)=>s.depth-e.depth;class f${constructor(){this.children=[],this.isDirty=!1}add(e){kv(this.children,e),this.isDirty=!0}remove(e){Iv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(c$),this.isDirty=!1,this.children.forEach(e)}}function u$(s,e){const t=rn.now(),n=({timestamp:i})=>{const r=i-t;r>=e&&(Li(n),s(r-e))};return pt.setup(n,!0),()=>Li(n)}const nk=["TopLeft","TopRight","BottomLeft","BottomRight"],d$=nk.length,ZL=s=>typeof s=="string"?parseFloat(s):s,XL=s=>typeof s=="number"||Oe.test(s);function h$(s,e,t,n,i,r){i?(s.opacity=It(0,t.opacity??1,m$(n)),s.opacityExit=It(e.opacity??1,0,p$(n))):r&&(s.opacity=It(e.opacity??1,t.opacity??1,n));for(let a=0;a<d$;a++){const l=`border${nk[a]}Radius`;let c=eC(e,l),f=eC(t,l);if(c===void 0&&f===void 0)continue;c||(c=0),f||(f=0),c===0||f===0||XL(c)===XL(f)?(s[l]=Math.max(It(ZL(c),ZL(f),n),0),(er.test(f)||er.test(c))&&(s[l]+="%")):s[l]=f}(e.rotate||t.rotate)&&(s.rotate=It(e.rotate||0,t.rotate||0,n))}function eC(s,e){return s[e]!==void 0?s[e]:s.borderRadius}const m$=ik(0,.5,QN),p$=ik(.5,.95,ei);function ik(s,e,t){return n=>n<s?0:n>e?1:t(ec(s,e,n))}function tC(s,e){s.min=e.min,s.max=e.max}function $n(s,e){tC(s.x,e.x),tC(s.y,e.y)}function sC(s,e){s.translate=e.translate,s.scale=e.scale,s.originPoint=e.originPoint,s.origin=e.origin}function nC(s,e,t,n,i){return s-=e,s=vm(s,1/t,n),i!==void 0&&(s=vm(s,1/i,n)),s}function g$(s,e=0,t=1,n=.5,i,r=s,a=s){if(er.test(e)&&(e=parseFloat(e),e=It(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=It(r.min,r.max,n);s===r&&(l-=e),s.min=nC(s.min,e,t,l,i),s.max=nC(s.max,e,t,l,i)}function iC(s,e,[t,n,i],r,a){g$(s,e[t],e[n],e[i],e.scale,r,a)}const x$=["x","scaleX","originX"],y$=["y","scaleY","originY"];function rC(s,e,t,n){iC(s.x,e,x$,t?t.x:void 0,n?n.x:void 0),iC(s.y,e,y$,t?t.y:void 0,n?n.y:void 0)}function aC(s){return s.translate===0&&s.scale===1}function rk(s){return aC(s.x)&&aC(s.y)}function oC(s,e){return s.min===e.min&&s.max===e.max}function b$(s,e){return oC(s.x,e.x)&&oC(s.y,e.y)}function lC(s,e){return Math.round(s.min)===Math.round(e.min)&&Math.round(s.max)===Math.round(e.max)}function ak(s,e){return lC(s.x,e.x)&&lC(s.y,e.y)}function cC(s){return Us(s.x)/Us(s.y)}function fC(s,e){return s.translate===e.translate&&s.scale===e.scale&&s.originPoint===e.originPoint}class v${constructor(){this.members=[]}add(e){kv(this.members,e),e.scheduleRender()}remove(e){if(Iv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let n;for(let i=t;i>=0;i--){const r=this.members[i];if(r.isPresent!==!1){n=r;break}}return n?(this.promote(n),!0):!1}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function w$(s,e,t){let n="";const i=s.x.translate/e.x,r=s.y.translate/e.y,a=(t==null?void 0:t.z)||0;if((i||r||a)&&(n=`translate3d(${i}px, ${r}px, ${a}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:f,rotate:u,rotateX:h,rotateY:p,skewX:g,skewY:x}=t;f&&(n=`perspective(${f}px) ${n}`),u&&(n+=`rotate(${u}deg) `),h&&(n+=`rotateX(${h}deg) `),p&&(n+=`rotateY(${p}deg) `),g&&(n+=`skewX(${g}deg) `),x&&(n+=`skewY(${x}deg) `)}const l=s.x.scale*e.x,c=s.y.scale*e.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const sx=["","X","Y","Z"],S$={visibility:"hidden"},uC=1e3;let L$=0;function nx(s,e,t,n){const{latestValues:i}=e;i[s]&&(t[s]=i[s],e.setStaticValue(s,0),n&&(n[s]=0))}function ok(s){if(s.hasCheckedOptimisedAppear=!0,s.root===s)return;const{visualElement:e}=s.options;if(!e)return;const t=VM(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:r}=s.options;window.MotionCancelOptimisedAnimation(t,"transform",pt,!(i||r))}const{parent:n}=s;n&&!n.hasCheckedOptimisedAppear&&ok(n)}function lk({attachResizeListener:s,defaultParent:e,measureScroll:t,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(a={},l=e==null?void 0:e()){this.id=L$++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(j$),this.nodes.forEach(I$),this.nodes.forEach(_$),this.nodes.forEach(E$)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new f$)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Dv),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=l$(a),this.instance=a;const{layoutId:c,layout:f,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(f||c)&&(this.isLayoutDirty=!0),s){let h;const p=()=>this.root.updateBlockedByResize=!1;s(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=u$(p,250),F0.hasAnimatedSinceResize&&(F0.hasAnimatedSinceResize=!1,this.nodes.forEach(hC))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||f)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||O$,{onLayoutAnimationStart:v,onLayoutAnimationComplete:w}=u.getProps(),L=!this.targetLayout||!ak(this.targetLayout,x),S=!p&&g;if(this.options.layoutRoot||this.resumeFrom||S||p&&(L||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,S);const j={...Qv(y,"layout"),onPlay:v,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else p||hC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Li(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(A$),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ok(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(dC);return}this.isUpdating||this.nodes.forEach(M$),this.isUpdating=!1,this.nodes.forEach(k$),this.nodes.forEach(C$),this.nodes.forEach(T$),this.clearAllSnapshots();const l=rn.now();us.delta=or(0,1e3/60,l-us.timestamp),us.timestamp=l,us.isProcessing=!0,Q1.update.process(us),Q1.preRender.process(us),Q1.render.process(us),us.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(N$),this.sharedNodes.forEach(D$)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,pt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){pt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Us(this.snapshot.measuredBox.x)&&!Us(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Yt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!rk(this.projectionDelta),c=this.getTransformTemplate(),f=c?c(this.latestValues,""):void 0,u=f!==this.prevTransformTemplateValue;a&&(l||po(this.latestValues)||u)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),F$(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:a}=this.options;if(!a)return Yt();const l=a.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(z$))){const{scroll:u}=this.root;u&&(Dl(l.x,u.offset.x),Dl(l.y,u.offset.y))}return l}removeElementScroll(a){var c;const l=Yt();if($n(l,a),(c=this.scroll)!=null&&c.wasRoot)return l;for(let f=0;f<this.path.length;f++){const u=this.path[f],{scroll:h,options:p}=u;u!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&$n(l,a),Dl(l.x,h.offset.x),Dl(l.y,h.offset.y))}return l}applyTransform(a,l=!1){const c=Yt();$n(c,a);for(let f=0;f<this.path.length;f++){const u=this.path[f];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Pl(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),po(u.latestValues)&&Pl(c,u.latestValues)}return po(this.latestValues)&&Pl(c,this.latestValues),c}removeTransform(a){const l=Yt();$n(l,a);for(let c=0;c<this.path.length;c++){const f=this.path[c];if(!f.instance||!po(f.latestValues))continue;eb(f.latestValues)&&f.updateSnapshot();const u=Yt(),h=f.measurePageBox();$n(u,h),rC(l,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,u)}return po(this.latestValues)&&rC(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==us.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var p;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=us.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yt(),this.relativeTargetOrigin=Yt(),qf(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),$n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Yt(),this.targetWithTransforms=Yt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),UU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$n(this.target,this.layout.layoutBox),qM(this.target,this.targetDelta)):$n(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yt(),this.relativeTargetOrigin=Yt(),qf(this.relativeTargetOrigin,this.target,g.target),$n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||eb(this.parent.latestValues)||JM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===us.timestamp&&(c=!1),c)return;const{layout:f,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||u))return;$n(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;$U(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Yt());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(sC(this.prevProjectionDelta.x,this.projectionDelta.x),sC(this.prevProjectionDelta.y,this.projectionDelta.y)),Jf(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!fC(this.projectionDelta.x,this.prevProjectionDelta.x)||!fC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Al(),this.projectionDelta=Al(),this.projectionDeltaWithTransform=Al()}setAnimationOrigin(a,l=!1){const c=this.snapshot,f=c?c.latestValues:{},u={...this.latestValues},h=Al();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=Yt(),g=c?c.source:void 0,x=this.layout?this.layout.source:void 0,y=g!==x,v=this.getStack(),w=!v||v.members.length<=1,L=!!(y&&!w&&this.options.crossfade===!0&&!this.path.some(R$));this.animationProgress=0;let S;this.mixTargetDelta=j=>{const E=j/1e3;mC(h.x,a.x,E),mC(h.y,a.y,E),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qf(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),P$(this.relativeTarget,this.relativeTargetOrigin,p,E),S&&b$(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Yt()),$n(S,this.relativeTarget)),y&&(this.animationValues=u,h$(u,f,this.latestValues,E,L,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Li(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pt.update(()=>{F0.hasAnimatedSinceResize=!0,this.currentAnimation=o$(0,uC,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(uC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:f,latestValues:u}=a;if(!(!l||!c||!f)){if(this!==a&&this.layout&&f&&ck(this.options.animationType,this.layout.layoutBox,f.layoutBox)){c=this.target||Yt();const h=Us(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const p=Us(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+p}$n(l,c),Pl(l,u),Jf(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new v$),this.sharedNodes.get(a).add(l);const f=l.options.initialPromotionConfig;l.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const f=this.getStack();f&&f.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const f={};c.z&&nx("z",a,f,this.animationValues);for(let u=0;u<sx.length;u++)nx(`rotate${sx[u]}`,a,f,this.animationValues),nx(`skew${sx[u]}`,a,f,this.animationValues);a.render();for(const u in f)a.setStaticValue(u,f[u]),this.animationValues&&(this.animationValues[u]=f[u]);a.scheduleRender()}getProjectionStyles(a){if(!this.instance||this.isSVG)return;if(!this.isVisible)return S$;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=O0(a==null?void 0:a.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=O0(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!po(this.latestValues)&&(g.transform=c?c({},""):"none",this.hasProjected=!1),g}const u=f.animationValues||f.latestValues;this.applyTransformsToTarget(),l.transform=w$(this.projectionDeltaWithTransform,this.treeScale,u),c&&(l.transform=c(u,l.transform));const{x:h,y:p}=this.projectionDelta;l.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,f.animationValues?l.opacity=f===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:l.opacity=f===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const g in wu){if(u[g]===void 0)continue;const{correct:x,applyTo:y,isCSSVariable:v}=wu[g],w=l.transform==="none"?u[g]:x(u[g],f);if(y){const L=y.length;for(let S=0;S<L;S++)l[y[S]]=w}else v?this.options.visualElement.renderState.vars[g]=w:l[g]=w}return this.options.layoutId&&(l.pointerEvents=f===this?O0(a==null?void 0:a.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(dC),this.root.sharedNodes.clear()}}}function C$(s){s.updateLayout()}function T$(s){var t;const e=((t=s.resumeFrom)==null?void 0:t.snapshot)||s.snapshot;if(s.isLead()&&s.layout&&e&&s.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=s.layout,{animationType:r}=s.options,a=e.source!==s.layout.source;r==="size"?Yn(h=>{const p=a?e.measuredBox[h]:e.layoutBox[h],g=Us(p);p.min=n[h].min,p.max=p.min+g}):ck(r,e.layoutBox,n)&&Yn(h=>{const p=a?e.measuredBox[h]:e.layoutBox[h],g=Us(n[h]);p.max=p.min+g,s.relativeTarget&&!s.currentAnimation&&(s.isProjectionDirty=!0,s.relativeTarget[h].max=s.relativeTarget[h].min+g)});const l=Al();Jf(l,n,e.layoutBox);const c=Al();a?Jf(c,s.applyTransform(i,!0),e.measuredBox):Jf(c,n,e.layoutBox);const f=!rk(l);let u=!1;if(!s.resumeFrom){const h=s.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:g}=h;if(p&&g){const x=Yt();qf(x,e.layoutBox,p.layoutBox);const y=Yt();qf(y,n,g.layoutBox),ak(x,y)||(u=!0),h.options.layoutRoot&&(s.relativeTarget=y,s.relativeTargetOrigin=x,s.relativeParent=h)}}}s.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:f,hasRelativeLayoutChanged:u})}else if(s.isLead()){const{onExitComplete:n}=s.options;n&&n()}s.options.transition=void 0}function j$(s){s.parent&&(s.isProjecting()||(s.isProjectionDirty=s.parent.isProjectionDirty),s.isSharedProjectionDirty||(s.isSharedProjectionDirty=!!(s.isProjectionDirty||s.parent.isProjectionDirty||s.parent.isSharedProjectionDirty)),s.isTransformDirty||(s.isTransformDirty=s.parent.isTransformDirty))}function E$(s){s.isProjectionDirty=s.isSharedProjectionDirty=s.isTransformDirty=!1}function N$(s){s.clearSnapshot()}function dC(s){s.clearMeasurements()}function M$(s){s.isLayoutDirty=!1}function k$(s){const{visualElement:e}=s.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),s.resetTransform()}function hC(s){s.finishAnimation(),s.targetDelta=s.relativeTarget=s.target=void 0,s.isProjectionDirty=!0}function I$(s){s.resolveTargetDelta()}function _$(s){s.calcProjection()}function A$(s){s.resetSkewAndRotation()}function D$(s){s.removeLeadSnapshot()}function mC(s,e,t){s.translate=It(e.translate,0,t),s.scale=It(e.scale,1,t),s.origin=e.origin,s.originPoint=e.originPoint}function pC(s,e,t,n){s.min=It(e.min,t.min,n),s.max=It(e.max,t.max,n)}function P$(s,e,t,n){pC(s.x,e.x,t.x,n),pC(s.y,e.y,t.y,n)}function R$(s){return s.animationValues&&s.animationValues.opacityExit!==void 0}const O$={duration:.45,ease:[.4,0,.1,1]},gC=s=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(s),xC=gC("applewebkit/")&&!gC("chrome/")?Math.round:ei;function yC(s){s.min=xC(s.min),s.max=xC(s.max)}function F$(s){yC(s.x),yC(s.y)}function ck(s,e,t){return s==="position"||s==="preserve-aspect"&&!BU(cC(e),cC(t),.2)}function z$(s){var e;return s!==s.root&&((e=s.scroll)==null?void 0:e.wasRoot)}const B$=lk({attachResizeListener:(s,e)=>Lu(s,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ix={current:void 0},fk=lk({measureScroll:s=>({x:s.scrollLeft,y:s.scrollTop}),defaultParent:()=>{if(!ix.current){const s=new B$({});s.mount(window),s.setOptions({layoutScroll:!0}),ix.current=s}return ix.current},resetTransform:(s,e)=>{s.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:s=>window.getComputedStyle(s).position==="fixed"}),U$={pan:{Feature:n$},drag:{Feature:s$,ProjectionNode:fk,MeasureLayout:sk}};function bC(s,e,t){const{props:n}=s;s.animationState&&n.whileHover&&s.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,r=n[i];r&&pt.postRender(()=>r(e,dd(e)))}class $$ extends $a{mount(){const{current:e}=this.node;e&&(this.unmount=xB(e,(t,n)=>(bC(this.node,n,"Start"),i=>bC(this.node,i,"End"))))}unmount(){}}class V$ extends $a{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=cd(Lu(this.node.current,"focus",()=>this.onFocus()),Lu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function vC(s,e,t){const{props:n}=s;if(s.current instanceof HTMLButtonElement&&s.current.disabled)return;s.animationState&&n.whileTap&&s.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),r=n[i];r&&pt.postRender(()=>r(e,dd(e)))}class G$ extends $a{mount(){const{current:e}=this.node;e&&(this.unmount=wB(e,(t,n)=>(vC(this.node,n,"Start"),(i,{success:r})=>vC(this.node,i,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const nb=new WeakMap,rx=new WeakMap,H$=s=>{const e=nb.get(s.target);e&&e(s)},Y$=s=>{s.forEach(H$)};function W$({root:s,...e}){const t=s||document;rx.has(t)||rx.set(t,{});const n=rx.get(t),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(Y$,{root:s,...e})),n[i]}function Q$(s,e,t){const n=W$(e);return nb.set(s,t),n.observe(s),()=>{nb.delete(s),n.unobserve(s)}}const K$={some:0,all:1};class J$ extends $a{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:i="some",once:r}=e,a={root:t?t.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:K$[i]},l=c=>{const{isIntersecting:f}=c;if(this.isInView===f||(this.isInView=f,r&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),p=f?u:h;p&&p(c)};return Q$(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(q$(e,t))&&this.startObserver()}unmount(){}}function q$({viewport:s={}},{viewport:e={}}={}){return t=>s[t]!==e[t]}const Z$={inView:{Feature:J$},tap:{Feature:G$},focus:{Feature:V$},hover:{Feature:$$}},X$={layout:{ProjectionNode:fk,MeasureLayout:sk}},ib={current:null},uk={current:!1};function eV(){if(uk.current=!0,!!jv)if(window.matchMedia){const s=window.matchMedia("(prefers-reduced-motion)"),e=()=>ib.current=s.matches;s.addListener(e),e()}else ib.current=!1}const tV=new WeakMap;function sV(s,e,t){for(const n in e){const i=e[n],r=t[n];if(ks(i))s.addValue(n,i);else if(ks(r))s.addValue(n,Hi(i,{owner:s}));else if(r!==i)if(s.hasValue(n)){const a=s.getValue(n);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=s.getStaticValue(n);s.addValue(n,Hi(a!==void 0?a:i,{owner:s}))}}for(const n in t)e[n]===void 0&&s.removeValue(n);return e}const wC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class nV{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:r,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Wv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=rn.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,pt.render(this.render,!1,!0))};const{latestValues:c,renderState:f}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=t.initial?{...c}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!r,this.isControllingVariants=jp(t),this.isVariantNode=_M(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(t,{},this);for(const p in h){const g=h[p];c[p]!==void 0&&ks(g)&&g.set(c[p],!1)}}mount(e){this.current=e,tV.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,n)=>this.bindToMotionValue(n,t)),uk.current||eV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ib.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),this.projection=void 0,Li(this.notifyUpdate),Li(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Cc.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&pt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),r=t.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),r(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in sc){const t=sc[e];if(!t)continue;const{isEnabled:n,Feature:i}=t;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Yt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<wC.length;n++){const i=wC[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const r="on"+i,a=e[r];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=sV(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=Hi(t===null?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(BN(n)||UN(n))?n=parseFloat(n):!jB(n)&&Aa.test(t)&&(n=CM(e,t)),this.setBaseTarget(e,ks(n)?n.get():n)),ks(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var r;const{initial:t}=this.props;let n;if(typeof t=="string"||typeof t=="object"){const a=r2(this.props,t,(r=this.presenceContext)==null?void 0:r.custom);a&&(n=a[e])}if(t&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!ks(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Dv),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class dk extends nV{constructor(){super(...arguments),this.KeyframeResolver=pB}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ks(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function hk(s,{style:e,vars:t},n,i){Object.assign(s.style,e,i&&i.getProjectionStyles(n));for(const r in t)s.style.setProperty(r,t[r])}function iV(s){return window.getComputedStyle(s)}class rV extends dk{constructor(){super(...arguments),this.type="html",this.renderInstance=hk}readValueFromInstance(e,t){if(Cc.has(t))return Pz(e,t);{const n=iV(e),i=(Fv(t)?n.getPropertyValue(t):n[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return ZM(e,t)}build(e,t,n){s2(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return a2(e,t,n)}}const mk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function aV(s,e,t,n){hk(s,e,void 0,n);for(const i in e.attrs)s.setAttribute(mk.has(i)?i:t2(i),e.attrs[i])}class oV extends dk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Yt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Cc.has(t)){const n=LM(t);return n&&n.default||0}return t=mk.has(t)?t:t2(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return $M(e,t,n)}build(e,t,n){FM(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,i){aV(e,t,n,i)}mount(e){this.isSVGTag=BM(e.tagName),super.mount(e)}}const lV=(s,e)=>i2(s)?new oV(e):new rV(e,{allowProjection:s!==T.Fragment}),cV=aU({..._U,...Z$,...U$,...X$},lV),lt=IB(cV),z0=new WeakMap;let ga;function fV(s,e){if(e){const{inlineSize:t,blockSize:n}=e[0];return{width:t,height:n}}else return s instanceof SVGElement&&"getBBox"in s?s.getBBox():{width:s.offsetWidth,height:s.offsetHeight}}function uV({target:s,contentRect:e,borderBoxSize:t}){var n;(n=z0.get(s))==null||n.forEach(i=>{i({target:s,contentSize:e,get size(){return fV(s,t)}})})}function dV(s){s.forEach(uV)}function hV(){typeof ResizeObserver>"u"||(ga=new ResizeObserver(dV))}function mV(s,e){ga||hV();const t=Jv(s);return t.forEach(n=>{let i=z0.get(n);i||(i=new Set,z0.set(n,i)),i.add(e),ga==null||ga.observe(n)}),()=>{t.forEach(n=>{const i=z0.get(n);i==null||i.delete(e),i!=null&&i.size||ga==null||ga.unobserve(n)})}}const B0=new Set;let Zf;function pV(){Zf=()=>{const s={width:window.innerWidth,height:window.innerHeight},e={target:window,size:s,contentSize:s};B0.forEach(t=>t(e))},window.addEventListener("resize",Zf)}function gV(s){return B0.add(s),Zf||pV(),()=>{B0.delete(s),!B0.size&&Zf&&(Zf=void 0)}}function xV(s,e){return typeof s=="function"?gV(s):mV(s,e)}const yV=50,SC=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),bV=()=>({time:0,x:SC(),y:SC()}),vV={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function LC(s,e,t,n){const i=t[e],{length:r,position:a}=vV[e],l=i.current,c=t.time;i.current=s[`scroll${a}`],i.scrollLength=s[`scroll${r}`]-s[`client${r}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=ec(0,i.scrollLength,i.current);const f=n-c;i.velocity=f>yV?0:Pv(i.current-l,f)}function wV(s,e,t){LC(s,"x",e,t),LC(s,"y",e,t),e.time=t}function SV(s,e){const t={x:0,y:0};let n=s;for(;n&&n!==e;)if(n instanceof HTMLElement)t.x+=n.offsetLeft,t.y+=n.offsetTop,n=n.offsetParent;else if(n.tagName==="svg"){const i=n.getBoundingClientRect();n=n.parentElement;const r=n.getBoundingClientRect();t.x+=i.left-r.left,t.y+=i.top-r.top}else if(n instanceof SVGGraphicsElement){const{x:i,y:r}=n.getBBox();t.x+=i,t.y+=r;let a=null,l=n.parentNode;for(;!a;)l.tagName==="svg"&&(a=l),l=n.parentNode;n=a}else break;return t}const rb={start:0,center:.5,end:1};function CC(s,e,t=0){let n=0;if(s in rb&&(s=rb[s]),typeof s=="string"){const i=parseFloat(s);s.endsWith("px")?n=i:s.endsWith("%")?s=i/100:s.endsWith("vw")?n=i/100*document.documentElement.clientWidth:s.endsWith("vh")?n=i/100*document.documentElement.clientHeight:s=i}return typeof s=="number"&&(n=e*s),t+n}const LV=[0,0];function CV(s,e,t,n){let i=Array.isArray(s)?s:LV,r=0,a=0;return typeof s=="number"?i=[s,s]:typeof s=="string"&&(s=s.trim(),s.includes(" ")?i=s.split(" "):i=[s,rb[s]?s:"0"]),r=CC(i[0],t,n),a=CC(i[1],e),r-a}const TV={All:[[0,0],[1,1]]},jV={x:0,y:0};function EV(s){return"getBBox"in s&&s.tagName!=="svg"?s.getBBox():{width:s.clientWidth,height:s.clientHeight}}function NV(s,e,t){const{offset:n=TV.All}=t,{target:i=s,axis:r="y"}=t,a=r==="y"?"height":"width",l=i!==s?SV(i,s):jV,c=i===s?{width:s.scrollWidth,height:s.scrollHeight}:EV(i),f={width:s.clientWidth,height:s.clientHeight};e[r].offset.length=0;let u=!e[r].interpolate;const h=n.length;for(let p=0;p<h;p++){const g=CV(n[p],f[a],c[a],l[r]);!u&&g!==e[r].interpolatorOffsets[p]&&(u=!0),e[r].offset[p]=g}u&&(e[r].interpolate=Gv(e[r].offset,cM(n),{clamp:!1}),e[r].interpolatorOffsets=[...e[r].offset]),e[r].progress=or(0,1,e[r].interpolate(e[r].current))}function MV(s,e=s,t){if(t.x.targetOffset=0,t.y.targetOffset=0,e!==s){let n=e;for(;n&&n!==s;)t.x.targetOffset+=n.offsetLeft,t.y.targetOffset+=n.offsetTop,n=n.offsetParent}t.x.targetLength=e===s?e.scrollWidth:e.clientWidth,t.y.targetLength=e===s?e.scrollHeight:e.clientHeight,t.x.containerLength=s.clientWidth,t.y.containerLength=s.clientHeight}function kV(s,e,t,n={}){return{measure:()=>MV(s,n.target,t),update:i=>{wV(s,t,i),(n.offset||n.target)&&NV(s,t,n)},notify:()=>e(t)}}const yf=new WeakMap,TC=new WeakMap,ax=new WeakMap,jC=s=>s===document.documentElement?window:s;function pk(s,{container:e=document.documentElement,...t}={}){let n=ax.get(e);n||(n=new Set,ax.set(e,n));const i=bV(),r=kV(e,s,i,t);if(n.add(r),!yf.has(e)){const l=()=>{for(const p of n)p.measure()},c=()=>{for(const p of n)p.update(us.timestamp)},f=()=>{for(const p of n)p.notify()},u=()=>{pt.read(l,!1,!0),pt.read(c,!1,!0),pt.preUpdate(f,!1,!0)};yf.set(e,u);const h=jC(e);window.addEventListener("resize",u,{passive:!0}),e!==document.documentElement&&TC.set(e,xV(e,u)),h.addEventListener("scroll",u,{passive:!0})}const a=yf.get(e);return pt.read(a,!1,!0),()=>{var f;Li(a);const l=ax.get(e);if(!l||(l.delete(r),l.size))return;const c=yf.get(e);yf.delete(e),c&&(jC(e).removeEventListener("scroll",c),(f=TC.get(e))==null||f(),window.removeEventListener("resize",c))}}const EC=new Map;function IV(s){const e={value:0},t=pk(n=>{e.value=n[s.axis].progress*100},s);return{currentTime:e,cancel:t}}function gk({source:s,container:e,...t}){const{axis:n}=t;s&&(e=s);const i=EC.get(e)??new Map;EC.set(e,i);const r=t.target??"self",a=i.get(r)??{},l=n+(t.offset??[]).join(",");return a[l]||(a[l]=!t.target&&mM()?new ScrollTimeline({source:e,axis:n}):IV({container:e,...t})),a[l]}function _V(s,e){const t=gk(e);return s.attachTimeline({timeline:e.target?void 0:t,observe:n=>(n.pause(),NM(i=>{n.time=n.duration*i},t))})}function AV(s){return s.length===2}function DV(s,e){return AV(s)?pk(t=>{s(t[e.axis].progress,t)},e):NM(s,gk(e))}function PV(s,{axis:e="y",container:t=document.documentElement,...n}={}){t===document.documentElement&&(e==="y"&&t.scrollHeight===t.clientHeight||e==="x"&&t.scrollWidth===t.clientWidth)&&(t=document.body);const i={axis:e,container:t,...n};return typeof s=="function"?DV(s,i):_V(s,i)}function NC(s,e){DF(!!(!e||e.current))}const RV=()=>({scrollX:Hi(0),scrollY:Hi(0),scrollXProgress:Hi(0),scrollYProgress:Hi(0)});function Ep({container:s,target:e,layoutEffect:t=!0,...n}={}){const i=Lp(RV);return(t?Ev:T.useEffect)(()=>(NC("target",e),NC("container",s),PV((a,{x:l,y:c})=>{i.scrollX.set(l.current),i.scrollXProgress.set(l.progress),i.scrollY.set(c.current),i.scrollYProgress.set(c.progress)},{...n,container:(s==null?void 0:s.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[s,e,JSON.stringify(n.offset)]),i}function OV(s){const e=Lp(()=>Hi(s)),{isStatic:t}=T.useContext(Mv);if(t){const[,n]=T.useState(s);T.useEffect(()=>e.on("change",n),[])}return e}function xk(s,e){const t=OV(e()),n=()=>t.set(e());return n(),Ev(()=>{const i=()=>pt.preRender(n,!1,!0),r=s.map(a=>a.on("change",i));return()=>{r.forEach(a=>a()),Li(n)}}),t}function FV(s){Qf.current=[],s();const e=xk(Qf.current,s);return Qf.current=void 0,e}function ko(s,e,t,n){if(typeof s=="function")return FV(s);const i=typeof e=="function"?e:SB(e,t,n);return Array.isArray(s)?MC(s,i):MC([s],([r])=>i(r))}function MC(s,e){const t=Lp(()=>[]);return xk(s,()=>{t.length=0;const n=s.length;for(let i=0;i<n;i++)t[i]=s[i].get();return e(t)})}const zV={some:0,all:1};function BV(s,e,{root:t,margin:n,amount:i="some"}={}){const r=Jv(s),a=new WeakMap,l=f=>{f.forEach(u=>{const h=a.get(u.target);if(u.isIntersecting!==!!h)if(u.isIntersecting){const p=e(u.target,u);typeof p=="function"?a.set(u.target,p):c.unobserve(u.target)}else typeof h=="function"&&(h(u),a.delete(u.target))})},c=new IntersectionObserver(l,{root:t,rootMargin:n,threshold:typeof i=="number"?i:zV[i]});return r.forEach(f=>c.observe(f)),()=>c.disconnect()}function UV(s,{root:e,margin:t,amount:n,once:i=!1,initial:r=!1}={}){const[a,l]=T.useState(r);return T.useEffect(()=>{if(!s.current||i&&a)return;const c=()=>(l(!0),i?void 0:()=>l(!1)),f={root:e&&e.current||void 0,margin:t,amount:n};return BV(s.current,c,f)},[e,s,t,i,n]),a}function kC(s){return s!==null&&typeof s=="object"&&"constructor"in s&&s.constructor===Object}function l2(s,e){s===void 0&&(s={}),e===void 0&&(e={});const t=["__proto__","constructor","prototype"];Object.keys(e).filter(n=>t.indexOf(n)<0).forEach(n=>{typeof s[n]>"u"?s[n]=e[n]:kC(e[n])&&kC(s[n])&&Object.keys(e[n]).length>0&&l2(s[n],e[n])})}const yk={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function tr(){const s=typeof document<"u"?document:{};return l2(s,yk),s}const $V={document:yk,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(s){return typeof setTimeout>"u"?(s(),null):setTimeout(s,0)},cancelAnimationFrame(s){typeof setTimeout>"u"||clearTimeout(s)}};function Hs(){const s=typeof window<"u"?window:{};return l2(s,$V),s}function VV(s){return s===void 0&&(s=""),s.trim().split(" ").filter(e=>!!e.trim())}function GV(s){const e=s;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function ab(s,e){return e===void 0&&(e=0),setTimeout(s,e)}function wm(){return Date.now()}function HV(s){const e=Hs();let t;return e.getComputedStyle&&(t=e.getComputedStyle(s,null)),!t&&s.currentStyle&&(t=s.currentStyle),t||(t=s.style),t}function YV(s,e){e===void 0&&(e="x");const t=Hs();let n,i,r;const a=HV(s);return t.WebKitCSSMatrix?(i=a.transform||a.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(l=>l.replace(",",".")).join(", ")),r=new t.WebKitCSSMatrix(i==="none"?"":i)):(r=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=r.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?i=r.m41:n.length===16?i=parseFloat(n[12]):i=parseFloat(n[4])),e==="y"&&(t.WebKitCSSMatrix?i=r.m42:n.length===16?i=parseFloat(n[13]):i=parseFloat(n[5])),i||0}function Rh(s){return typeof s=="object"&&s!==null&&s.constructor&&Object.prototype.toString.call(s).slice(8,-1)==="Object"}function WV(s){return typeof window<"u"&&typeof window.HTMLElement<"u"?s instanceof HTMLElement:s&&(s.nodeType===1||s.nodeType===11)}function bn(){const s=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const n=t<0||arguments.length<=t?void 0:arguments[t];if(n!=null&&!WV(n)){const i=Object.keys(Object(n)).filter(r=>e.indexOf(r)<0);for(let r=0,a=i.length;r<a;r+=1){const l=i[r],c=Object.getOwnPropertyDescriptor(n,l);c!==void 0&&c.enumerable&&(Rh(s[l])&&Rh(n[l])?n[l].__swiper__?s[l]=n[l]:bn(s[l],n[l]):!Rh(s[l])&&Rh(n[l])?(s[l]={},n[l].__swiper__?s[l]=n[l]:bn(s[l],n[l])):s[l]=n[l])}}}return s}function Oh(s,e,t){s.style.setProperty(e,t)}function bk(s){let{swiper:e,targetPosition:t,side:n}=s;const i=Hs(),r=-e.translate;let a=null,l;const c=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const f=t>r?"next":"prev",u=(p,g)=>f==="next"&&p>=g||f==="prev"&&p<=g,h=()=>{l=new Date().getTime(),a===null&&(a=l);const p=Math.max(Math.min((l-a)/c,1),0),g=.5-Math.cos(p*Math.PI)/2;let x=r+g*(t-r);if(u(x,t)&&(x=t),e.wrapperEl.scrollTo({[n]:x}),u(x,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[n]:x})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(h)};h()}function c2(s){return s.querySelector(".swiper-slide-transform")||s.shadowRoot&&s.shadowRoot.querySelector(".swiper-slide-transform")||s}function Yi(s,e){e===void 0&&(e="");const t=Hs(),n=[...s.children];return t.HTMLSlotElement&&s instanceof HTMLSlotElement&&n.push(...s.assignedElements()),e?n.filter(i=>i.matches(e)):n}function QV(s,e){const t=[e];for(;t.length>0;){const n=t.shift();if(s===n)return!0;t.push(...n.children,...n.shadowRoot?n.shadowRoot.children:[],...n.assignedElements?n.assignedElements():[])}}function KV(s,e){const t=Hs();let n=e.contains(s);return!n&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(n=[...e.assignedElements()].includes(s),n||(n=QV(s,e))),n}function Sm(s){try{console.warn(s);return}catch{}}function Cu(s,e){e===void 0&&(e=[]);const t=document.createElement(s);return t.classList.add(...Array.isArray(e)?e:VV(e)),t}function JV(s,e){const t=[];for(;s.previousElementSibling;){const n=s.previousElementSibling;e?n.matches(e)&&t.push(n):t.push(n),s=n}return t}function qV(s,e){const t=[];for(;s.nextElementSibling;){const n=s.nextElementSibling;e?n.matches(e)&&t.push(n):t.push(n),s=n}return t}function va(s,e){return Hs().getComputedStyle(s,null).getPropertyValue(e)}function Lm(s){let e=s,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function vk(s,e){const t=[];let n=s.parentElement;for(;n;)e?n.matches(e)&&t.push(n):t.push(n),n=n.parentElement;return t}function ob(s,e,t){const n=Hs();return s[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(n.getComputedStyle(s,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(n.getComputedStyle(s,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function ds(s){return(Array.isArray(s)?s:[s]).filter(e=>!!e)}function ZV(s){return e=>Math.abs(e)>0&&s.browser&&s.browser.need3dFix&&Math.abs(e)%90===0?e+.001:e}let ox;function XV(){const s=Hs(),e=tr();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in s||s.DocumentTouch&&e instanceof s.DocumentTouch)}}function wk(){return ox||(ox=XV()),ox}let lx;function eG(s){let{userAgent:e}=s===void 0?{}:s;const t=wk(),n=Hs(),i=n.navigator.platform,r=e||n.navigator.userAgent,a={ios:!1,android:!1},l=n.screen.width,c=n.screen.height,f=r.match(/(Android);?[\s\/]+([\d.]+)?/);let u=r.match(/(iPad).*OS\s([\d_]+)/);const h=r.match(/(iPod)(.*OS\s([\d_]+))?/),p=!u&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),g=i==="Win32";let x=i==="MacIntel";const y=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&x&&t.touch&&y.indexOf(`${l}x${c}`)>=0&&(u=r.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),x=!1),f&&!g&&(a.os="android",a.android=!0),(u||p||h)&&(a.os="ios",a.ios=!0),a}function Sk(s){return s===void 0&&(s={}),lx||(lx=eG(s)),lx}let cx;function tG(){const s=Hs(),e=Sk();let t=!1;function n(){const l=s.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(n()){const l=String(s.navigator.userAgent);if(l.includes("Version/")){const[c,f]=l.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));t=c<16||c===16&&f<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(s.navigator.userAgent),r=n(),a=r||i&&e.ios;return{isSafari:t||r,needPerspectiveFix:t,need3dFix:a,isWebView:i}}function Lk(){return cx||(cx=tG()),cx}function sG(s){let{swiper:e,on:t,emit:n}=s;const i=Hs();let r=null,a=null;const l=()=>{!e||e.destroyed||!e.initialized||(n("beforeResize"),n("resize"))},c=()=>{!e||e.destroyed||!e.initialized||(r=new ResizeObserver(h=>{a=i.requestAnimationFrame(()=>{const{width:p,height:g}=e;let x=p,y=g;h.forEach(v=>{let{contentBoxSize:w,contentRect:L,target:S}=v;S&&S!==e.el||(x=L?L.width:(w[0]||w).inlineSize,y=L?L.height:(w[0]||w).blockSize)}),(x!==p||y!==g)&&l()})}),r.observe(e.el))},f=()=>{a&&i.cancelAnimationFrame(a),r&&r.unobserve&&e.el&&(r.unobserve(e.el),r=null)},u=()=>{!e||e.destroyed||!e.initialized||n("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){c();return}i.addEventListener("resize",l),i.addEventListener("orientationchange",u)}),t("destroy",()=>{f(),i.removeEventListener("resize",l),i.removeEventListener("orientationchange",u)})}function nG(s){let{swiper:e,extendParams:t,on:n,emit:i}=s;const r=[],a=Hs(),l=function(u,h){h===void 0&&(h={});const p=a.MutationObserver||a.WebkitMutationObserver,g=new p(x=>{if(e.__preventObserver__)return;if(x.length===1){i("observerUpdate",x[0]);return}const y=function(){i("observerUpdate",x[0])};a.requestAnimationFrame?a.requestAnimationFrame(y):a.setTimeout(y,0)});g.observe(u,{attributes:typeof h.attributes>"u"?!0:h.attributes,childList:e.isElement||(typeof h.childList>"u"?!0:h).childList,characterData:typeof h.characterData>"u"?!0:h.characterData}),r.push(g)},c=()=>{if(e.params.observer){if(e.params.observeParents){const u=vk(e.hostEl);for(let h=0;h<u.length;h+=1)l(u[h])}l(e.hostEl,{childList:e.params.observeSlideChildren}),l(e.wrapperEl,{attributes:!1})}},f=()=>{r.forEach(u=>{u.disconnect()}),r.splice(0,r.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",c),n("destroy",f)}var iG={on(s,e,t){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;const i=t?"unshift":"push";return s.split(" ").forEach(r=>{n.eventsListeners[r]||(n.eventsListeners[r]=[]),n.eventsListeners[r][i](e)}),n},once(s,e,t){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;function i(){n.off(s,i),i.__emitterProxy&&delete i.__emitterProxy;for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];e.apply(n,a)}return i.__emitterProxy=e,n.on(s,i,t)},onAny(s,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof s!="function")return t;const n=e?"unshift":"push";return t.eventsAnyListeners.indexOf(s)<0&&t.eventsAnyListeners[n](s),t},offAny(s){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(s);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(s,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||s.split(" ").forEach(n=>{typeof e>"u"?t.eventsListeners[n]=[]:t.eventsListeners[n]&&t.eventsListeners[n].forEach((i,r)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&t.eventsListeners[n].splice(r,1)})}),t},emit(){const s=this;if(!s.eventsListeners||s.destroyed||!s.eventsListeners)return s;let e,t,n;for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return typeof r[0]=="string"||Array.isArray(r[0])?(e=r[0],t=r.slice(1,r.length),n=s):(e=r[0].events,t=r[0].data,n=r[0].context||s),t.unshift(n),(Array.isArray(e)?e:e.split(" ")).forEach(c=>{s.eventsAnyListeners&&s.eventsAnyListeners.length&&s.eventsAnyListeners.forEach(f=>{f.apply(n,[c,...t])}),s.eventsListeners&&s.eventsListeners[c]&&s.eventsListeners[c].forEach(f=>{f.apply(n,t)})}),s}};function rG(){const s=this;let e,t;const n=s.el;typeof s.params.width<"u"&&s.params.width!==null?e=s.params.width:e=n.clientWidth,typeof s.params.height<"u"&&s.params.height!==null?t=s.params.height:t=n.clientHeight,!(e===0&&s.isHorizontal()||t===0&&s.isVertical())&&(e=e-parseInt(va(n,"padding-left")||0,10)-parseInt(va(n,"padding-right")||0,10),t=t-parseInt(va(n,"padding-top")||0,10)-parseInt(va(n,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(s,{width:e,height:t,size:s.isHorizontal()?e:t}))}function aG(){const s=this;function e(D,z){return parseFloat(D.getPropertyValue(s.getDirectionLabel(z))||0)}const t=s.params,{wrapperEl:n,slidesEl:i,size:r,rtlTranslate:a,wrongRTL:l}=s,c=s.virtual&&t.virtual.enabled,f=c?s.virtual.slides.length:s.slides.length,u=Yi(i,`.${s.params.slideClass}, swiper-slide`),h=c?s.virtual.slides.length:u.length;let p=[];const g=[],x=[];let y=t.slidesOffsetBefore;typeof y=="function"&&(y=t.slidesOffsetBefore.call(s));let v=t.slidesOffsetAfter;typeof v=="function"&&(v=t.slidesOffsetAfter.call(s));const w=s.snapGrid.length,L=s.slidesGrid.length;let S=t.spaceBetween,j=-y,E=0,M=0;if(typeof r>"u")return;typeof S=="string"&&S.indexOf("%")>=0?S=parseFloat(S.replace("%",""))/100*r:typeof S=="string"&&(S=parseFloat(S)),s.virtualSize=-S,u.forEach(D=>{a?D.style.marginLeft="":D.style.marginRight="",D.style.marginBottom="",D.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(Oh(n,"--swiper-centered-offset-before",""),Oh(n,"--swiper-centered-offset-after",""));const N=t.grid&&t.grid.rows>1&&s.grid;N?s.grid.initSlides(u):s.grid&&s.grid.unsetSlides();let I;const A=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(D=>typeof t.breakpoints[D].slidesPerView<"u").length>0;for(let D=0;D<h;D+=1){I=0;let z;if(u[D]&&(z=u[D]),N&&s.grid.updateSlide(D,z,u),!(u[D]&&va(z,"display")==="none")){if(t.slidesPerView==="auto"){A&&(u[D].style[s.getDirectionLabel("width")]="");const O=getComputedStyle(z),Y=z.style.transform,q=z.style.webkitTransform;if(Y&&(z.style.transform="none"),q&&(z.style.webkitTransform="none"),t.roundLengths)I=s.isHorizontal()?ob(z,"width"):ob(z,"height");else{const Z=e(O,"width"),V=e(O,"padding-left"),H=e(O,"padding-right"),F=e(O,"margin-left"),B=e(O,"margin-right"),U=O.getPropertyValue("box-sizing");if(U&&U==="border-box")I=Z+F+B;else{const{clientWidth:$,offsetWidth:K}=z;I=Z+V+H+F+B+(K-$)}}Y&&(z.style.transform=Y),q&&(z.style.webkitTransform=q),t.roundLengths&&(I=Math.floor(I))}else I=(r-(t.slidesPerView-1)*S)/t.slidesPerView,t.roundLengths&&(I=Math.floor(I)),u[D]&&(u[D].style[s.getDirectionLabel("width")]=`${I}px`);u[D]&&(u[D].swiperSlideSize=I),x.push(I),t.centeredSlides?(j=j+I/2+E/2+S,E===0&&D!==0&&(j=j-r/2-S),D===0&&(j=j-r/2-S),Math.abs(j)<1/1e3&&(j=0),t.roundLengths&&(j=Math.floor(j)),M%t.slidesPerGroup===0&&p.push(j),g.push(j)):(t.roundLengths&&(j=Math.floor(j)),(M-Math.min(s.params.slidesPerGroupSkip,M))%s.params.slidesPerGroup===0&&p.push(j),g.push(j),j=j+I+S),s.virtualSize+=I+S,E=I,M+=1}}if(s.virtualSize=Math.max(s.virtualSize,r)+v,a&&l&&(t.effect==="slide"||t.effect==="coverflow")&&(n.style.width=`${s.virtualSize+S}px`),t.setWrapperSize&&(n.style[s.getDirectionLabel("width")]=`${s.virtualSize+S}px`),N&&s.grid.updateWrapperSize(I,p),!t.centeredSlides){const D=[];for(let z=0;z<p.length;z+=1){let O=p[z];t.roundLengths&&(O=Math.floor(O)),p[z]<=s.virtualSize-r&&D.push(O)}p=D,Math.floor(s.virtualSize-r)-Math.floor(p[p.length-1])>1&&p.push(s.virtualSize-r)}if(c&&t.loop){const D=x[0]+S;if(t.slidesPerGroup>1){const z=Math.ceil((s.virtual.slidesBefore+s.virtual.slidesAfter)/t.slidesPerGroup),O=D*t.slidesPerGroup;for(let Y=0;Y<z;Y+=1)p.push(p[p.length-1]+O)}for(let z=0;z<s.virtual.slidesBefore+s.virtual.slidesAfter;z+=1)t.slidesPerGroup===1&&p.push(p[p.length-1]+D),g.push(g[g.length-1]+D),s.virtualSize+=D}if(p.length===0&&(p=[0]),S!==0){const D=s.isHorizontal()&&a?"marginLeft":s.getDirectionLabel("marginRight");u.filter((z,O)=>!t.cssMode||t.loop?!0:O!==u.length-1).forEach(z=>{z.style[D]=`${S}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let D=0;x.forEach(O=>{D+=O+(S||0)}),D-=S;const z=D>r?D-r:0;p=p.map(O=>O<=0?-y:O>z?z+v:O)}if(t.centerInsufficientSlides){let D=0;x.forEach(O=>{D+=O+(S||0)}),D-=S;const z=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(D+z<r){const O=(r-D-z)/2;p.forEach((Y,q)=>{p[q]=Y-O}),g.forEach((Y,q)=>{g[q]=Y+O})}}if(Object.assign(s,{slides:u,snapGrid:p,slidesGrid:g,slidesSizesGrid:x}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){Oh(n,"--swiper-centered-offset-before",`${-p[0]}px`),Oh(n,"--swiper-centered-offset-after",`${s.size/2-x[x.length-1]/2}px`);const D=-s.snapGrid[0],z=-s.slidesGrid[0];s.snapGrid=s.snapGrid.map(O=>O+D),s.slidesGrid=s.slidesGrid.map(O=>O+z)}if(h!==f&&s.emit("slidesLengthChange"),p.length!==w&&(s.params.watchOverflow&&s.checkOverflow(),s.emit("snapGridLengthChange")),g.length!==L&&s.emit("slidesGridLengthChange"),t.watchSlidesProgress&&s.updateSlidesOffset(),s.emit("slidesUpdated"),!c&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const D=`${t.containerModifierClass}backface-hidden`,z=s.el.classList.contains(D);h<=t.maxBackfaceHiddenSlides?z||s.el.classList.add(D):z&&s.el.classList.remove(D)}}function oG(s){const e=this,t=[],n=e.virtual&&e.params.virtual.enabled;let i=0,r;typeof s=="number"?e.setTransition(s):s===!0&&e.setTransition(e.params.speed);const a=l=>n?e.slides[e.getSlideIndexByData(l)]:e.slides[l];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(l=>{t.push(l)});else for(r=0;r<Math.ceil(e.params.slidesPerView);r+=1){const l=e.activeIndex+r;if(l>e.slides.length&&!n)break;t.push(a(l))}else t.push(a(e.activeIndex));for(r=0;r<t.length;r+=1)if(typeof t[r]<"u"){const l=t[r].offsetHeight;i=l>i?l:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function lG(){const s=this,e=s.slides,t=s.isElement?s.isHorizontal()?s.wrapperEl.offsetLeft:s.wrapperEl.offsetTop:0;for(let n=0;n<e.length;n+=1)e[n].swiperSlideOffset=(s.isHorizontal()?e[n].offsetLeft:e[n].offsetTop)-t-s.cssOverflowAdjustment()}const IC=(s,e,t)=>{e&&!s.classList.contains(t)?s.classList.add(t):!e&&s.classList.contains(t)&&s.classList.remove(t)};function cG(s){s===void 0&&(s=this&&this.translate||0);const e=this,t=e.params,{slides:n,rtlTranslate:i,snapGrid:r}=e;if(n.length===0)return;typeof n[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-s;i&&(a=s),e.visibleSlidesIndexes=[],e.visibleSlides=[];let l=t.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*e.size:typeof l=="string"&&(l=parseFloat(l));for(let c=0;c<n.length;c+=1){const f=n[c];let u=f.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(u-=n[0].swiperSlideOffset);const h=(a+(t.centeredSlides?e.minTranslate():0)-u)/(f.swiperSlideSize+l),p=(a-r[0]+(t.centeredSlides?e.minTranslate():0)-u)/(f.swiperSlideSize+l),g=-(a-u),x=g+e.slidesSizesGrid[c],y=g>=0&&g<=e.size-e.slidesSizesGrid[c],v=g>=0&&g<e.size-1||x>1&&x<=e.size||g<=0&&x>=e.size;v&&(e.visibleSlides.push(f),e.visibleSlidesIndexes.push(c)),IC(f,v,t.slideVisibleClass),IC(f,y,t.slideFullyVisibleClass),f.progress=i?-h:h,f.originalProgress=i?-p:p}}function fG(s){const e=this;if(typeof s>"u"){const u=e.rtlTranslate?-1:1;s=e&&e.translate&&e.translate*u||0}const t=e.params,n=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:r,isEnd:a,progressLoop:l}=e;const c=r,f=a;if(n===0)i=0,r=!0,a=!0;else{i=(s-e.minTranslate())/n;const u=Math.abs(s-e.minTranslate())<1,h=Math.abs(s-e.maxTranslate())<1;r=u||i<=0,a=h||i>=1,u&&(i=0),h&&(i=1)}if(t.loop){const u=e.getSlideIndexByData(0),h=e.getSlideIndexByData(e.slides.length-1),p=e.slidesGrid[u],g=e.slidesGrid[h],x=e.slidesGrid[e.slidesGrid.length-1],y=Math.abs(s);y>=p?l=(y-p)/x:l=(y+x-g)/x,l>1&&(l-=1)}Object.assign(e,{progress:i,progressLoop:l,isBeginning:r,isEnd:a}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(s),r&&!c&&e.emit("reachBeginning toEdge"),a&&!f&&e.emit("reachEnd toEdge"),(c&&!r||f&&!a)&&e.emit("fromEdge"),e.emit("progress",i)}const fx=(s,e,t)=>{e&&!s.classList.contains(t)?s.classList.add(t):!e&&s.classList.contains(t)&&s.classList.remove(t)};function uG(){const s=this,{slides:e,params:t,slidesEl:n,activeIndex:i}=s,r=s.virtual&&t.virtual.enabled,a=s.grid&&t.grid&&t.grid.rows>1,l=h=>Yi(n,`.${t.slideClass}${h}, swiper-slide${h}`)[0];let c,f,u;if(r)if(t.loop){let h=i-s.virtual.slidesBefore;h<0&&(h=s.virtual.slides.length+h),h>=s.virtual.slides.length&&(h-=s.virtual.slides.length),c=l(`[data-swiper-slide-index="${h}"]`)}else c=l(`[data-swiper-slide-index="${i}"]`);else a?(c=e.find(h=>h.column===i),u=e.find(h=>h.column===i+1),f=e.find(h=>h.column===i-1)):c=e[i];c&&(a||(u=qV(c,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!u&&(u=e[0]),f=JV(c,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!f===0&&(f=e[e.length-1]))),e.forEach(h=>{fx(h,h===c,t.slideActiveClass),fx(h,h===u,t.slideNextClass),fx(h,h===f,t.slidePrevClass)}),s.emitSlidesClasses()}const U0=(s,e)=>{if(!s||s.destroyed||!s.params)return;const t=()=>s.isElement?"swiper-slide":`.${s.params.slideClass}`,n=e.closest(t());if(n){let i=n.querySelector(`.${s.params.lazyPreloaderClass}`);!i&&s.isElement&&(n.shadowRoot?i=n.shadowRoot.querySelector(`.${s.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{n.shadowRoot&&(i=n.shadowRoot.querySelector(`.${s.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},ux=(s,e)=>{if(!s.slides[e])return;const t=s.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},lb=s=>{if(!s||s.destroyed||!s.params)return;let e=s.params.lazyPreloadPrevNext;const t=s.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const n=s.params.slidesPerView==="auto"?s.slidesPerViewDynamic():Math.ceil(s.params.slidesPerView),i=s.activeIndex;if(s.params.grid&&s.params.grid.rows>1){const a=i,l=[a-e];l.push(...Array.from({length:e}).map((c,f)=>a+n+f)),s.slides.forEach((c,f)=>{l.includes(c.column)&&ux(s,f)});return}const r=i+n-1;if(s.params.rewind||s.params.loop)for(let a=i-e;a<=r+e;a+=1){const l=(a%t+t)%t;(l<i||l>r)&&ux(s,l)}else for(let a=Math.max(i-e,0);a<=Math.min(r+e,t-1);a+=1)a!==i&&(a>r||a<i)&&ux(s,a)};function dG(s){const{slidesGrid:e,params:t}=s,n=s.rtlTranslate?s.translate:-s.translate;let i;for(let r=0;r<e.length;r+=1)typeof e[r+1]<"u"?n>=e[r]&&n<e[r+1]-(e[r+1]-e[r])/2?i=r:n>=e[r]&&n<e[r+1]&&(i=r+1):n>=e[r]&&(i=r);return t.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function hG(s){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:n,params:i,activeIndex:r,realIndex:a,snapIndex:l}=e;let c=s,f;const u=g=>{let x=g-e.virtual.slidesBefore;return x<0&&(x=e.virtual.slides.length+x),x>=e.virtual.slides.length&&(x-=e.virtual.slides.length),x};if(typeof c>"u"&&(c=dG(e)),n.indexOf(t)>=0)f=n.indexOf(t);else{const g=Math.min(i.slidesPerGroupSkip,c);f=g+Math.floor((c-g)/i.slidesPerGroup)}if(f>=n.length&&(f=n.length-1),c===r&&!e.params.loop){f!==l&&(e.snapIndex=f,e.emit("snapIndexChange"));return}if(c===r&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=u(c);return}const h=e.grid&&i.grid&&i.grid.rows>1;let p;if(e.virtual&&i.virtual.enabled&&i.loop)p=u(c);else if(h){const g=e.slides.find(y=>y.column===c);let x=parseInt(g.getAttribute("data-swiper-slide-index"),10);Number.isNaN(x)&&(x=Math.max(e.slides.indexOf(g),0)),p=Math.floor(x/i.grid.rows)}else if(e.slides[c]){const g=e.slides[c].getAttribute("data-swiper-slide-index");g?p=parseInt(g,10):p=c}else p=c;Object.assign(e,{previousSnapIndex:l,snapIndex:f,previousRealIndex:a,realIndex:p,previousIndex:r,activeIndex:c}),e.initialized&&lb(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(a!==p&&e.emit("realIndexChange"),e.emit("slideChange"))}function mG(s,e){const t=this,n=t.params;let i=s.closest(`.${n.slideClass}, swiper-slide`);!i&&t.isElement&&e&&e.length>1&&e.includes(s)&&[...e.slice(e.indexOf(s)+1,e.length)].forEach(l=>{!i&&l.matches&&l.matches(`.${n.slideClass}, swiper-slide`)&&(i=l)});let r=!1,a;if(i){for(let l=0;l<t.slides.length;l+=1)if(t.slides[l]===i){r=!0,a=l;break}}if(i&&r)t.clickedSlide=i,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=a;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}n.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var pG={updateSize:rG,updateSlides:aG,updateAutoHeight:oG,updateSlidesOffset:lG,updateSlidesProgress:cG,updateProgress:fG,updateSlidesClasses:uG,updateActiveIndex:hG,updateClickedSlide:mG};function gG(s){s===void 0&&(s=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:n,translate:i,wrapperEl:r}=e;if(t.virtualTranslate)return n?-i:i;if(t.cssMode)return i;let a=YV(r,s);return a+=e.cssOverflowAdjustment(),n&&(a=-a),a||0}function xG(s,e){const t=this,{rtlTranslate:n,params:i,wrapperEl:r,progress:a}=t;let l=0,c=0;const f=0;t.isHorizontal()?l=n?-s:s:c=s,i.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?l:c,i.cssMode?r[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-l:-c:i.virtualTranslate||(t.isHorizontal()?l-=t.cssOverflowAdjustment():c-=t.cssOverflowAdjustment(),r.style.transform=`translate3d(${l}px, ${c}px, ${f}px)`);let u;const h=t.maxTranslate()-t.minTranslate();h===0?u=0:u=(s-t.minTranslate())/h,u!==a&&t.updateProgress(s),t.emit("setTranslate",t.translate,e)}function yG(){return-this.snapGrid[0]}function bG(){return-this.snapGrid[this.snapGrid.length-1]}function vG(s,e,t,n,i){s===void 0&&(s=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),n===void 0&&(n=!0);const r=this,{params:a,wrapperEl:l}=r;if(r.animating&&a.preventInteractionOnTransition)return!1;const c=r.minTranslate(),f=r.maxTranslate();let u;if(n&&s>c?u=c:n&&s<f?u=f:u=s,r.updateProgress(u),a.cssMode){const h=r.isHorizontal();if(e===0)l[h?"scrollLeft":"scrollTop"]=-u;else{if(!r.support.smoothScroll)return bk({swiper:r,targetPosition:-u,side:h?"left":"top"}),!0;l.scrollTo({[h?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(r.setTransition(0),r.setTranslate(u),t&&(r.emit("beforeTransitionStart",e,i),r.emit("transitionEnd"))):(r.setTransition(e),r.setTranslate(u),t&&(r.emit("beforeTransitionStart",e,i),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(p){!r||r.destroyed||p.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,r.animating=!1,t&&r.emit("transitionEnd"))}),r.wrapperEl.addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd))),!0}var wG={getTranslate:gG,setTranslate:xG,minTranslate:yG,maxTranslate:bG,translateTo:vG};function SG(s,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${s}ms`,t.wrapperEl.style.transitionDelay=s===0?"0ms":""),t.emit("setTransition",s,e)}function Ck(s){let{swiper:e,runCallbacks:t,direction:n,step:i}=s;const{activeIndex:r,previousIndex:a}=e;let l=n;if(l||(r>a?l="next":r<a?l="prev":l="reset"),e.emit(`transition${i}`),t&&r!==a){if(l==="reset"){e.emit(`slideResetTransition${i}`);return}e.emit(`slideChangeTransition${i}`),l==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`)}}function LG(s,e){s===void 0&&(s=!0);const t=this,{params:n}=t;n.cssMode||(n.autoHeight&&t.updateAutoHeight(),Ck({swiper:t,runCallbacks:s,direction:e,step:"Start"}))}function CG(s,e){s===void 0&&(s=!0);const t=this,{params:n}=t;t.animating=!1,!n.cssMode&&(t.setTransition(0),Ck({swiper:t,runCallbacks:s,direction:e,step:"End"}))}var TG={setTransition:SG,transitionStart:LG,transitionEnd:CG};function jG(s,e,t,n,i){s===void 0&&(s=0),t===void 0&&(t=!0),typeof s=="string"&&(s=parseInt(s,10));const r=this;let a=s;a<0&&(a=0);const{params:l,snapGrid:c,slidesGrid:f,previousIndex:u,activeIndex:h,rtlTranslate:p,wrapperEl:g,enabled:x}=r;if(!x&&!n&&!i||r.destroyed||r.animating&&l.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=r.params.speed);const y=Math.min(r.params.slidesPerGroupSkip,a);let v=y+Math.floor((a-y)/r.params.slidesPerGroup);v>=c.length&&(v=c.length-1);const w=-c[v];if(l.normalizeSlideIndex)for(let N=0;N<f.length;N+=1){const I=-Math.floor(w*100),A=Math.floor(f[N]*100),D=Math.floor(f[N+1]*100);typeof f[N+1]<"u"?I>=A&&I<D-(D-A)/2?a=N:I>=A&&I<D&&(a=N+1):I>=A&&(a=N)}if(r.initialized&&a!==h&&(!r.allowSlideNext&&(p?w>r.translate&&w>r.minTranslate():w<r.translate&&w<r.minTranslate())||!r.allowSlidePrev&&w>r.translate&&w>r.maxTranslate()&&(h||0)!==a))return!1;a!==(u||0)&&t&&r.emit("beforeSlideChangeStart"),r.updateProgress(w);let L;a>h?L="next":a<h?L="prev":L="reset";const S=r.virtual&&r.params.virtual.enabled;if(!(S&&i)&&(p&&-w===r.translate||!p&&w===r.translate))return r.updateActiveIndex(a),l.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),l.effect!=="slide"&&r.setTranslate(w),L!=="reset"&&(r.transitionStart(t,L),r.transitionEnd(t,L)),!1;if(l.cssMode){const N=r.isHorizontal(),I=p?w:-w;if(e===0)S&&(r.wrapperEl.style.scrollSnapType="none",r._immediateVirtual=!0),S&&!r._cssModeVirtualInitialSet&&r.params.initialSlide>0?(r._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{g[N?"scrollLeft":"scrollTop"]=I})):g[N?"scrollLeft":"scrollTop"]=I,S&&requestAnimationFrame(()=>{r.wrapperEl.style.scrollSnapType="",r._immediateVirtual=!1});else{if(!r.support.smoothScroll)return bk({swiper:r,targetPosition:I,side:N?"left":"top"}),!0;g.scrollTo({[N?"left":"top"]:I,behavior:"smooth"})}return!0}const M=Lk().isSafari;return S&&!i&&M&&r.isElement&&r.virtual.update(!1,!1,a),r.setTransition(e),r.setTranslate(w),r.updateActiveIndex(a),r.updateSlidesClasses(),r.emit("beforeTransitionStart",e,n),r.transitionStart(t,L),e===0?r.transitionEnd(t,L):r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(I){!r||r.destroyed||I.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(t,L))}),r.wrapperEl.addEventListener("transitionend",r.onSlideToWrapperTransitionEnd)),!0}function EG(s,e,t,n){s===void 0&&(s=0),t===void 0&&(t=!0),typeof s=="string"&&(s=parseInt(s,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const r=i.grid&&i.params.grid&&i.params.grid.rows>1;let a=s;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)a=a+i.virtual.slidesBefore;else{let l;if(r){const p=a*i.params.grid.rows;l=i.slides.find(g=>g.getAttribute("data-swiper-slide-index")*1===p).column}else l=i.getSlideIndexByData(a);const c=r?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:f}=i.params;let u=i.params.slidesPerView;u==="auto"?u=i.slidesPerViewDynamic():(u=Math.ceil(parseFloat(i.params.slidesPerView,10)),f&&u%2===0&&(u=u+1));let h=c-l<u;if(f&&(h=h||l<Math.ceil(u/2)),n&&f&&i.params.slidesPerView!=="auto"&&!r&&(h=!1),h){const p=f?l<i.activeIndex?"prev":"next":l-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:p,slideTo:!0,activeSlideIndex:p==="next"?l+1:l-c+1,slideRealIndex:p==="next"?i.realIndex:void 0})}if(r){const p=a*i.params.grid.rows;a=i.slides.find(g=>g.getAttribute("data-swiper-slide-index")*1===p).column}else a=i.getSlideIndexByData(a)}return requestAnimationFrame(()=>{i.slideTo(a,e,t,n)}),i}function NG(s,e,t){e===void 0&&(e=!0);const n=this,{enabled:i,params:r,animating:a}=n;if(!i||n.destroyed)return n;typeof s>"u"&&(s=n.params.speed);let l=r.slidesPerGroup;r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(l=Math.max(n.slidesPerViewDynamic("current",!0),1));const c=n.activeIndex<r.slidesPerGroupSkip?1:l,f=n.virtual&&r.virtual.enabled;if(r.loop){if(a&&!f&&r.loopPreventsSliding)return!1;if(n.loopFix({direction:"next"}),n._clientLeft=n.wrapperEl.clientLeft,n.activeIndex===n.slides.length-1&&r.cssMode)return requestAnimationFrame(()=>{n.slideTo(n.activeIndex+c,s,e,t)}),!0}return r.rewind&&n.isEnd?n.slideTo(0,s,e,t):n.slideTo(n.activeIndex+c,s,e,t)}function MG(s,e,t){e===void 0&&(e=!0);const n=this,{params:i,snapGrid:r,slidesGrid:a,rtlTranslate:l,enabled:c,animating:f}=n;if(!c||n.destroyed)return n;typeof s>"u"&&(s=n.params.speed);const u=n.virtual&&i.virtual.enabled;if(i.loop){if(f&&!u&&i.loopPreventsSliding)return!1;n.loopFix({direction:"prev"}),n._clientLeft=n.wrapperEl.clientLeft}const h=l?n.translate:-n.translate;function p(L){return L<0?-Math.floor(Math.abs(L)):Math.floor(L)}const g=p(h),x=r.map(L=>p(L)),y=i.freeMode&&i.freeMode.enabled;let v=r[x.indexOf(g)-1];if(typeof v>"u"&&(i.cssMode||y)){let L;r.forEach((S,j)=>{g>=S&&(L=j)}),typeof L<"u"&&(v=y?r[L]:r[L>0?L-1:L])}let w=0;if(typeof v<"u"&&(w=a.indexOf(v),w<0&&(w=n.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(w=w-n.slidesPerViewDynamic("previous",!0)+1,w=Math.max(w,0))),i.rewind&&n.isBeginning){const L=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1;return n.slideTo(L,s,e,t)}else if(i.loop&&n.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{n.slideTo(w,s,e,t)}),!0;return n.slideTo(w,s,e,t)}function kG(s,e,t){e===void 0&&(e=!0);const n=this;if(!n.destroyed)return typeof s>"u"&&(s=n.params.speed),n.slideTo(n.activeIndex,s,e,t)}function IG(s,e,t,n){e===void 0&&(e=!0),n===void 0&&(n=.5);const i=this;if(i.destroyed)return;typeof s>"u"&&(s=i.params.speed);let r=i.activeIndex;const a=Math.min(i.params.slidesPerGroupSkip,r),l=a+Math.floor((r-a)/i.params.slidesPerGroup),c=i.rtlTranslate?i.translate:-i.translate;if(c>=i.snapGrid[l]){const f=i.snapGrid[l],u=i.snapGrid[l+1];c-f>(u-f)*n&&(r+=i.params.slidesPerGroup)}else{const f=i.snapGrid[l-1],u=i.snapGrid[l];c-f<=(u-f)*n&&(r-=i.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,i.slidesGrid.length-1),i.slideTo(r,s,e,t)}function _G(){const s=this;if(s.destroyed)return;const{params:e,slidesEl:t}=s,n=e.slidesPerView==="auto"?s.slidesPerViewDynamic():e.slidesPerView;let i=s.clickedIndex,r;const a=s.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(s.animating)return;r=parseInt(s.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<s.loopedSlides-n/2||i>s.slides.length-s.loopedSlides+n/2?(s.loopFix(),i=s.getSlideIndex(Yi(t,`${a}[data-swiper-slide-index="${r}"]`)[0]),ab(()=>{s.slideTo(i)})):s.slideTo(i):i>s.slides.length-n?(s.loopFix(),i=s.getSlideIndex(Yi(t,`${a}[data-swiper-slide-index="${r}"]`)[0]),ab(()=>{s.slideTo(i)})):s.slideTo(i)}else s.slideTo(i)}var AG={slideTo:jG,slideToLoop:EG,slideNext:NG,slidePrev:MG,slideReset:kG,slideToClosest:IG,slideToClickedSlide:_G};function DG(s,e){const t=this,{params:n,slidesEl:i}=t;if(!n.loop||t.virtual&&t.params.virtual.enabled)return;const r=()=>{Yi(i,`.${n.slideClass}, swiper-slide`).forEach((p,g)=>{p.setAttribute("data-swiper-slide-index",g)})},a=t.grid&&n.grid&&n.grid.rows>1,l=n.slidesPerGroup*(a?n.grid.rows:1),c=t.slides.length%l!==0,f=a&&t.slides.length%n.grid.rows!==0,u=h=>{for(let p=0;p<h;p+=1){const g=t.isElement?Cu("swiper-slide",[n.slideBlankClass]):Cu("div",[n.slideClass,n.slideBlankClass]);t.slidesEl.append(g)}};if(c){if(n.loopAddBlankSlides){const h=l-t.slides.length%l;u(h),t.recalcSlides(),t.updateSlides()}else Sm("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else if(f){if(n.loopAddBlankSlides){const h=n.grid.rows-t.slides.length%n.grid.rows;u(h),t.recalcSlides(),t.updateSlides()}else Sm("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else r();t.loopFix({slideRealIndex:s,direction:n.centeredSlides?void 0:"next",initial:e})}function PG(s){let{slideRealIndex:e,slideTo:t=!0,direction:n,setTranslate:i,activeSlideIndex:r,initial:a,byController:l,byMousewheel:c}=s===void 0?{}:s;const f=this;if(!f.params.loop)return;f.emit("beforeLoopFix");const{slides:u,allowSlidePrev:h,allowSlideNext:p,slidesEl:g,params:x}=f,{centeredSlides:y,initialSlide:v}=x;if(f.allowSlidePrev=!0,f.allowSlideNext=!0,f.virtual&&x.virtual.enabled){t&&(!x.centeredSlides&&f.snapIndex===0?f.slideTo(f.virtual.slides.length,0,!1,!0):x.centeredSlides&&f.snapIndex<x.slidesPerView?f.slideTo(f.virtual.slides.length+f.snapIndex,0,!1,!0):f.snapIndex===f.snapGrid.length-1&&f.slideTo(f.virtual.slidesBefore,0,!1,!0)),f.allowSlidePrev=h,f.allowSlideNext=p,f.emit("loopFix");return}let w=x.slidesPerView;w==="auto"?w=f.slidesPerViewDynamic():(w=Math.ceil(parseFloat(x.slidesPerView,10)),y&&w%2===0&&(w=w+1));const L=x.slidesPerGroupAuto?w:x.slidesPerGroup;let S=L;S%L!==0&&(S+=L-S%L),S+=x.loopAdditionalSlides,f.loopedSlides=S;const j=f.grid&&x.grid&&x.grid.rows>1;u.length<w+S||f.params.effect==="cards"&&u.length<w+S*2?Sm("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):j&&x.grid.fill==="row"&&Sm("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const E=[],M=[],N=j?Math.ceil(u.length/x.grid.rows):u.length,I=a&&N-v<w&&!y;let A=I?v:f.activeIndex;typeof r>"u"?r=f.getSlideIndex(u.find(V=>V.classList.contains(x.slideActiveClass))):A=r;const D=n==="next"||!n,z=n==="prev"||!n;let O=0,Y=0;const Z=(j?u[r].column:r)+(y&&typeof i>"u"?-w/2+.5:0);if(Z<S){O=Math.max(S-Z,L);for(let V=0;V<S-Z;V+=1){const H=V-Math.floor(V/N)*N;if(j){const F=N-H-1;for(let B=u.length-1;B>=0;B-=1)u[B].column===F&&E.push(B)}else E.push(N-H-1)}}else if(Z+w>N-S){Y=Math.max(Z-(N-S*2),L),I&&(Y=Math.max(Y,w-N+v+1));for(let V=0;V<Y;V+=1){const H=V-Math.floor(V/N)*N;j?u.forEach((F,B)=>{F.column===H&&M.push(B)}):M.push(H)}}if(f.__preventObserver__=!0,requestAnimationFrame(()=>{f.__preventObserver__=!1}),f.params.effect==="cards"&&u.length<w+S*2&&(M.includes(r)&&M.splice(M.indexOf(r),1),E.includes(r)&&E.splice(E.indexOf(r),1)),z&&E.forEach(V=>{u[V].swiperLoopMoveDOM=!0,g.prepend(u[V]),u[V].swiperLoopMoveDOM=!1}),D&&M.forEach(V=>{u[V].swiperLoopMoveDOM=!0,g.append(u[V]),u[V].swiperLoopMoveDOM=!1}),f.recalcSlides(),x.slidesPerView==="auto"?f.updateSlides():j&&(E.length>0&&z||M.length>0&&D)&&f.slides.forEach((V,H)=>{f.grid.updateSlide(H,V,f.slides)}),x.watchSlidesProgress&&f.updateSlidesOffset(),t){if(E.length>0&&z){if(typeof e>"u"){const V=f.slidesGrid[A],F=f.slidesGrid[A+O]-V;c?f.setTranslate(f.translate-F):(f.slideTo(A+Math.ceil(O),0,!1,!0),i&&(f.touchEventsData.startTranslate=f.touchEventsData.startTranslate-F,f.touchEventsData.currentTranslate=f.touchEventsData.currentTranslate-F))}else if(i){const V=j?E.length/x.grid.rows:E.length;f.slideTo(f.activeIndex+V,0,!1,!0),f.touchEventsData.currentTranslate=f.translate}}else if(M.length>0&&D)if(typeof e>"u"){const V=f.slidesGrid[A],F=f.slidesGrid[A-Y]-V;c?f.setTranslate(f.translate-F):(f.slideTo(A-Y,0,!1,!0),i&&(f.touchEventsData.startTranslate=f.touchEventsData.startTranslate-F,f.touchEventsData.currentTranslate=f.touchEventsData.currentTranslate-F))}else{const V=j?M.length/x.grid.rows:M.length;f.slideTo(f.activeIndex-V,0,!1,!0)}}if(f.allowSlidePrev=h,f.allowSlideNext=p,f.controller&&f.controller.control&&!l){const V={slideRealIndex:e,direction:n,setTranslate:i,activeSlideIndex:r,byController:!0};Array.isArray(f.controller.control)?f.controller.control.forEach(H=>{!H.destroyed&&H.params.loop&&H.loopFix({...V,slideTo:H.params.slidesPerView===x.slidesPerView?t:!1})}):f.controller.control instanceof f.constructor&&f.controller.control.params.loop&&f.controller.control.loopFix({...V,slideTo:f.controller.control.params.slidesPerView===x.slidesPerView?t:!1})}f.emit("loopFix")}function RG(){const s=this,{params:e,slidesEl:t}=s;if(!e.loop||!t||s.virtual&&s.params.virtual.enabled)return;s.recalcSlides();const n=[];s.slides.forEach(i=>{const r=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;n[r]=i}),s.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),n.forEach(i=>{t.append(i)}),s.recalcSlides(),s.slideTo(s.realIndex,0)}var OG={loopCreate:DG,loopFix:PG,loopDestroy:RG};function FG(s){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=s?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function zG(){const s=this;s.params.watchOverflow&&s.isLocked||s.params.cssMode||(s.isElement&&(s.__preventObserver__=!0),s[s.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",s.isElement&&requestAnimationFrame(()=>{s.__preventObserver__=!1}))}var BG={setGrabCursor:FG,unsetGrabCursor:zG};function UG(s,e){e===void 0&&(e=this);function t(n){if(!n||n===tr()||n===Hs())return null;n.assignedSlot&&(n=n.assignedSlot);const i=n.closest(s);return!i&&!n.getRootNode?null:i||t(n.getRootNode().host)}return t(e)}function _C(s,e,t){const n=Hs(),{params:i}=s,r=i.edgeSwipeDetection,a=i.edgeSwipeThreshold;return r&&(t<=a||t>=n.innerWidth-a)?r==="prevent"?(e.preventDefault(),!0):!1:!0}function $G(s){const e=this,t=tr();let n=s;n.originalEvent&&(n=n.originalEvent);const i=e.touchEventsData;if(n.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==n.pointerId)return;i.pointerId=n.pointerId}else n.type==="touchstart"&&n.targetTouches.length===1&&(i.touchId=n.targetTouches[0].identifier);if(n.type==="touchstart"){_C(e,n,n.targetTouches[0].pageX);return}const{params:r,touches:a,enabled:l}=e;if(!l||!r.simulateTouch&&n.pointerType==="mouse"||e.animating&&r.preventInteractionOnTransition)return;!e.animating&&r.cssMode&&r.loop&&e.loopFix();let c=n.target;if(r.touchEventsTarget==="wrapper"&&!KV(c,e.wrapperEl)||"which"in n&&n.which===3||"button"in n&&n.button>0||i.isTouched&&i.isMoved)return;const f=!!r.noSwipingClass&&r.noSwipingClass!=="",u=n.composedPath?n.composedPath():n.path;f&&n.target&&n.target.shadowRoot&&u&&(c=u[0]);const h=r.noSwipingSelector?r.noSwipingSelector:`.${r.noSwipingClass}`,p=!!(n.target&&n.target.shadowRoot);if(r.noSwiping&&(p?UG(h,c):c.closest(h))){e.allowClick=!0;return}if(r.swipeHandler&&!c.closest(r.swipeHandler))return;a.currentX=n.pageX,a.currentY=n.pageY;const g=a.currentX,x=a.currentY;if(!_C(e,n,g))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=g,a.startY=x,i.touchStartTime=wm(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,r.threshold>0&&(i.allowThresholdMove=!1);let y=!0;c.matches(i.focusableElements)&&(y=!1,c.nodeName==="SELECT"&&(i.isTouched=!1)),t.activeElement&&t.activeElement.matches(i.focusableElements)&&t.activeElement!==c&&(n.pointerType==="mouse"||n.pointerType!=="mouse"&&!c.matches(i.focusableElements))&&t.activeElement.blur();const v=y&&e.allowTouchMove&&r.touchStartPreventDefault;(r.touchStartForcePreventDefault||v)&&!c.isContentEditable&&n.preventDefault(),r.freeMode&&r.freeMode.enabled&&e.freeMode&&e.animating&&!r.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",n)}function VG(s){const e=tr(),t=this,n=t.touchEventsData,{params:i,touches:r,rtlTranslate:a,enabled:l}=t;if(!l||!i.simulateTouch&&s.pointerType==="mouse")return;let c=s;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(n.touchId!==null||c.pointerId!==n.pointerId))return;let f;if(c.type==="touchmove"){if(f=[...c.changedTouches].find(E=>E.identifier===n.touchId),!f||f.identifier!==n.touchId)return}else f=c;if(!n.isTouched){n.startMoving&&n.isScrolling&&t.emit("touchMoveOpposite",c);return}const u=f.pageX,h=f.pageY;if(c.preventedByNestedSwiper){r.startX=u,r.startY=h;return}if(!t.allowTouchMove){c.target.matches(n.focusableElements)||(t.allowClick=!1),n.isTouched&&(Object.assign(r,{startX:u,startY:h,currentX:u,currentY:h}),n.touchStartTime=wm());return}if(i.touchReleaseOnEdges&&!i.loop)if(t.isVertical()){if(h<r.startY&&t.translate<=t.maxTranslate()||h>r.startY&&t.translate>=t.minTranslate()){n.isTouched=!1,n.isMoved=!1;return}}else{if(a&&(u>r.startX&&-t.translate<=t.maxTranslate()||u<r.startX&&-t.translate>=t.minTranslate()))return;if(!a&&(u<r.startX&&t.translate<=t.maxTranslate()||u>r.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(n.focusableElements)&&e.activeElement!==c.target&&c.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&c.target===e.activeElement&&c.target.matches(n.focusableElements)){n.isMoved=!0,t.allowClick=!1;return}n.allowTouchCallbacks&&t.emit("touchMove",c),r.previousX=r.currentX,r.previousY=r.currentY,r.currentX=u,r.currentY=h;const p=r.currentX-r.startX,g=r.currentY-r.startY;if(t.params.threshold&&Math.sqrt(p**2+g**2)<t.params.threshold)return;if(typeof n.isScrolling>"u"){let E;t.isHorizontal()&&r.currentY===r.startY||t.isVertical()&&r.currentX===r.startX?n.isScrolling=!1:p*p+g*g>=25&&(E=Math.atan2(Math.abs(g),Math.abs(p))*180/Math.PI,n.isScrolling=t.isHorizontal()?E>i.touchAngle:90-E>i.touchAngle)}if(n.isScrolling&&t.emit("touchMoveOpposite",c),typeof n.startMoving>"u"&&(r.currentX!==r.startX||r.currentY!==r.startY)&&(n.startMoving=!0),n.isScrolling||c.type==="touchmove"&&n.preventTouchMoveFromPointerMove){n.isTouched=!1;return}if(!n.startMoving)return;t.allowClick=!1,!i.cssMode&&c.cancelable&&c.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&c.stopPropagation();let x=t.isHorizontal()?p:g,y=t.isHorizontal()?r.currentX-r.previousX:r.currentY-r.previousY;i.oneWayMovement&&(x=Math.abs(x)*(a?1:-1),y=Math.abs(y)*(a?1:-1)),r.diff=x,x*=i.touchRatio,a&&(x=-x,y=-y);const v=t.touchesDirection;t.swipeDirection=x>0?"prev":"next",t.touchesDirection=y>0?"prev":"next";const w=t.params.loop&&!i.cssMode,L=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!n.isMoved){if(w&&L&&t.loopFix({direction:t.swipeDirection}),n.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const E=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(E)}n.allowMomentumBounce=!1,i.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",c)}if(new Date().getTime(),i._loopSwapReset!==!1&&n.isMoved&&n.allowThresholdMove&&v!==t.touchesDirection&&w&&L&&Math.abs(x)>=1){Object.assign(r,{startX:u,startY:h,currentX:u,currentY:h,startTranslate:n.currentTranslate}),n.loopSwapReset=!0,n.startTranslate=n.currentTranslate;return}t.emit("sliderMove",c),n.isMoved=!0,n.currentTranslate=x+n.startTranslate;let S=!0,j=i.resistanceRatio;if(i.touchReleaseOnEdges&&(j=0),x>0?(w&&L&&n.allowThresholdMove&&n.currentTranslate>(i.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(i.slidesPerView!=="auto"&&t.slides.length-i.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),n.currentTranslate>t.minTranslate()&&(S=!1,i.resistance&&(n.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+n.startTranslate+x)**j))):x<0&&(w&&L&&n.allowThresholdMove&&n.currentTranslate<(i.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(i.slidesPerView!=="auto"&&t.slides.length-i.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(i.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),n.currentTranslate<t.maxTranslate()&&(S=!1,i.resistance&&(n.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-n.startTranslate-x)**j))),S&&(c.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(n.currentTranslate=n.startTranslate),i.threshold>0)if(Math.abs(x)>i.threshold||n.allowThresholdMove){if(!n.allowThresholdMove){n.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,n.currentTranslate=n.startTranslate,r.diff=t.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY;return}}else{n.currentTranslate=n.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&t.freeMode||i.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(n.currentTranslate),t.setTranslate(n.currentTranslate))}function GG(s){const e=this,t=e.touchEventsData;let n=s;n.originalEvent&&(n=n.originalEvent);let i;if(n.type==="touchend"||n.type==="touchcancel"){if(i=[...n.changedTouches].find(E=>E.identifier===t.touchId),!i||i.identifier!==t.touchId)return}else{if(t.touchId!==null||n.pointerId!==t.pointerId)return;i=n}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(n.type)&&!(["pointercancel","contextmenu"].includes(n.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:a,touches:l,rtlTranslate:c,slidesGrid:f,enabled:u}=e;if(!u||!a.simulateTouch&&n.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",n),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&a.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}a.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const h=wm(),p=h-t.touchStartTime;if(e.allowClick){const E=n.path||n.composedPath&&n.composedPath();e.updateClickedSlide(E&&E[0]||n.target,E),e.emit("tap click",n),p<300&&h-t.lastClickTime<300&&e.emit("doubleTap doubleClick",n)}if(t.lastClickTime=wm(),ab(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||l.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let g;if(a.followFinger?g=c?e.translate:-e.translate:g=-t.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:g});return}const x=g>=-e.maxTranslate()&&!e.params.loop;let y=0,v=e.slidesSizesGrid[0];for(let E=0;E<f.length;E+=E<a.slidesPerGroupSkip?1:a.slidesPerGroup){const M=E<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof f[E+M]<"u"?(x||g>=f[E]&&g<f[E+M])&&(y=E,v=f[E+M]-f[E]):(x||g>=f[E])&&(y=E,v=f[f.length-1]-f[f.length-2])}let w=null,L=null;a.rewind&&(e.isBeginning?L=a.virtual&&a.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(w=0));const S=(g-f[y])/v,j=y<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(p>a.longSwipesMs){if(!a.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(S>=a.longSwipesRatio?e.slideTo(a.rewind&&e.isEnd?w:y+j):e.slideTo(y)),e.swipeDirection==="prev"&&(S>1-a.longSwipesRatio?e.slideTo(y+j):L!==null&&S<0&&Math.abs(S)>a.longSwipesRatio?e.slideTo(L):e.slideTo(y))}else{if(!a.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(n.target===e.navigation.nextEl||n.target===e.navigation.prevEl)?n.target===e.navigation.nextEl?e.slideTo(y+j):e.slideTo(y):(e.swipeDirection==="next"&&e.slideTo(w!==null?w:y+j),e.swipeDirection==="prev"&&e.slideTo(L!==null?L:y))}}function AC(){const s=this,{params:e,el:t}=s;if(t&&t.offsetWidth===0)return;e.breakpoints&&s.setBreakpoint();const{allowSlideNext:n,allowSlidePrev:i,snapGrid:r}=s,a=s.virtual&&s.params.virtual.enabled;s.allowSlideNext=!0,s.allowSlidePrev=!0,s.updateSize(),s.updateSlides(),s.updateSlidesClasses();const l=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&s.isEnd&&!s.isBeginning&&!s.params.centeredSlides&&!l?s.slideTo(s.slides.length-1,0,!1,!0):s.params.loop&&!a?s.slideToLoop(s.realIndex,0,!1,!0):s.slideTo(s.activeIndex,0,!1,!0),s.autoplay&&s.autoplay.running&&s.autoplay.paused&&(clearTimeout(s.autoplay.resizeTimeout),s.autoplay.resizeTimeout=setTimeout(()=>{s.autoplay&&s.autoplay.running&&s.autoplay.paused&&s.autoplay.resume()},500)),s.allowSlidePrev=i,s.allowSlideNext=n,s.params.watchOverflow&&r!==s.snapGrid&&s.checkOverflow()}function HG(s){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&s.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(s.stopPropagation(),s.stopImmediatePropagation())))}function YG(){const s=this,{wrapperEl:e,rtlTranslate:t,enabled:n}=s;if(!n)return;s.previousTranslate=s.translate,s.isHorizontal()?s.translate=-e.scrollLeft:s.translate=-e.scrollTop,s.translate===0&&(s.translate=0),s.updateActiveIndex(),s.updateSlidesClasses();let i;const r=s.maxTranslate()-s.minTranslate();r===0?i=0:i=(s.translate-s.minTranslate())/r,i!==s.progress&&s.updateProgress(t?-s.translate:s.translate),s.emit("setTranslate",s.translate,!1)}function WG(s){const e=this;U0(e,s.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function QG(){const s=this;s.documentTouchHandlerProceeded||(s.documentTouchHandlerProceeded=!0,s.params.touchReleaseOnEdges&&(s.el.style.touchAction="auto"))}const Tk=(s,e)=>{const t=tr(),{params:n,el:i,wrapperEl:r,device:a}=s,l=!!n.nested,c=e==="on"?"addEventListener":"removeEventListener",f=e;!i||typeof i=="string"||(t[c]("touchstart",s.onDocumentTouchStart,{passive:!1,capture:l}),i[c]("touchstart",s.onTouchStart,{passive:!1}),i[c]("pointerdown",s.onTouchStart,{passive:!1}),t[c]("touchmove",s.onTouchMove,{passive:!1,capture:l}),t[c]("pointermove",s.onTouchMove,{passive:!1,capture:l}),t[c]("touchend",s.onTouchEnd,{passive:!0}),t[c]("pointerup",s.onTouchEnd,{passive:!0}),t[c]("pointercancel",s.onTouchEnd,{passive:!0}),t[c]("touchcancel",s.onTouchEnd,{passive:!0}),t[c]("pointerout",s.onTouchEnd,{passive:!0}),t[c]("pointerleave",s.onTouchEnd,{passive:!0}),t[c]("contextmenu",s.onTouchEnd,{passive:!0}),(n.preventClicks||n.preventClicksPropagation)&&i[c]("click",s.onClick,!0),n.cssMode&&r[c]("scroll",s.onScroll),n.updateOnWindowResize?s[f](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",AC,!0):s[f]("observerUpdate",AC,!0),i[c]("load",s.onLoad,{capture:!0}))};function KG(){const s=this,{params:e}=s;s.onTouchStart=$G.bind(s),s.onTouchMove=VG.bind(s),s.onTouchEnd=GG.bind(s),s.onDocumentTouchStart=QG.bind(s),e.cssMode&&(s.onScroll=YG.bind(s)),s.onClick=HG.bind(s),s.onLoad=WG.bind(s),Tk(s,"on")}function JG(){Tk(this,"off")}var qG={attachEvents:KG,detachEvents:JG};const DC=(s,e)=>s.grid&&e.grid&&e.grid.rows>1;function ZG(){const s=this,{realIndex:e,initialized:t,params:n,el:i}=s,r=n.breakpoints;if(!r||r&&Object.keys(r).length===0)return;const a=tr(),l=n.breakpointsBase==="window"||!n.breakpointsBase?n.breakpointsBase:"container",c=["window","container"].includes(n.breakpointsBase)||!n.breakpointsBase?s.el:a.querySelector(n.breakpointsBase),f=s.getBreakpoint(r,l,c);if(!f||s.currentBreakpoint===f)return;const h=(f in r?r[f]:void 0)||s.originalParams,p=DC(s,n),g=DC(s,h),x=s.params.grabCursor,y=h.grabCursor,v=n.enabled;p&&!g?(i.classList.remove(`${n.containerModifierClass}grid`,`${n.containerModifierClass}grid-column`),s.emitContainerClasses()):!p&&g&&(i.classList.add(`${n.containerModifierClass}grid`),(h.grid.fill&&h.grid.fill==="column"||!h.grid.fill&&n.grid.fill==="column")&&i.classList.add(`${n.containerModifierClass}grid-column`),s.emitContainerClasses()),x&&!y?s.unsetGrabCursor():!x&&y&&s.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(M=>{if(typeof h[M]>"u")return;const N=n[M]&&n[M].enabled,I=h[M]&&h[M].enabled;N&&!I&&s[M].disable(),!N&&I&&s[M].enable()});const w=h.direction&&h.direction!==n.direction,L=n.loop&&(h.slidesPerView!==n.slidesPerView||w),S=n.loop;w&&t&&s.changeDirection(),bn(s.params,h);const j=s.params.enabled,E=s.params.loop;Object.assign(s,{allowTouchMove:s.params.allowTouchMove,allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev}),v&&!j?s.disable():!v&&j&&s.enable(),s.currentBreakpoint=f,s.emit("_beforeBreakpoint",h),t&&(L?(s.loopDestroy(),s.loopCreate(e),s.updateSlides()):!S&&E?(s.loopCreate(e),s.updateSlides()):S&&!E&&s.loopDestroy()),s.emit("breakpoint",h)}function XG(s,e,t){if(e===void 0&&(e="window"),!s||e==="container"&&!t)return;let n=!1;const i=Hs(),r=e==="window"?i.innerHeight:t.clientHeight,a=Object.keys(s).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const c=parseFloat(l.substr(1));return{value:r*c,point:l}}return{value:l,point:l}});a.sort((l,c)=>parseInt(l.value,10)-parseInt(c.value,10));for(let l=0;l<a.length;l+=1){const{point:c,value:f}=a[l];e==="window"?i.matchMedia(`(min-width: ${f}px)`).matches&&(n=c):f<=t.clientWidth&&(n=c)}return n||"max"}var eH={setBreakpoint:ZG,getBreakpoint:XG};function tH(s,e){const t=[];return s.forEach(n=>{typeof n=="object"?Object.keys(n).forEach(i=>{n[i]&&t.push(e+i)}):typeof n=="string"&&t.push(e+n)}),t}function sH(){const s=this,{classNames:e,params:t,rtl:n,el:i,device:r}=s,a=tH(["initialized",t.direction,{"free-mode":s.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:n},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:r.android},{ios:r.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...a),i.classList.add(...e),s.emitContainerClasses()}function nH(){const s=this,{el:e,classNames:t}=s;!e||typeof e=="string"||(e.classList.remove(...t),s.emitContainerClasses())}var iH={addClasses:sH,removeClasses:nH};function rH(){const s=this,{isLocked:e,params:t}=s,{slidesOffsetBefore:n}=t;if(n){const i=s.slides.length-1,r=s.slidesGrid[i]+s.slidesSizesGrid[i]+n*2;s.isLocked=s.size>r}else s.isLocked=s.snapGrid.length===1;t.allowSlideNext===!0&&(s.allowSlideNext=!s.isLocked),t.allowSlidePrev===!0&&(s.allowSlidePrev=!s.isLocked),e&&e!==s.isLocked&&(s.isEnd=!1),e!==s.isLocked&&s.emit(s.isLocked?"lock":"unlock")}var aH={checkOverflow:rH},cb={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function oH(s,e){return function(n){n===void 0&&(n={});const i=Object.keys(n)[0],r=n[i];if(typeof r!="object"||r===null){bn(e,n);return}if(s[i]===!0&&(s[i]={enabled:!0}),i==="navigation"&&s[i]&&s[i].enabled&&!s[i].prevEl&&!s[i].nextEl&&(s[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&s[i]&&s[i].enabled&&!s[i].el&&(s[i].auto=!0),!(i in s&&"enabled"in r)){bn(e,n);return}typeof s[i]=="object"&&!("enabled"in s[i])&&(s[i].enabled=!0),s[i]||(s[i]={enabled:!1}),bn(e,n)}}const dx={eventsEmitter:iG,update:pG,translate:wG,transition:TG,slide:AG,loop:OG,grabCursor:BG,events:qG,breakpoints:eH,checkOverflow:aH,classes:iH},hx={};let f2=class Cr{constructor(){let e,t;for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?t=i[0]:[e,t]=i,t||(t={}),t=bn({},t),e&&!t.el&&(t.el=e);const a=tr();if(t.el&&typeof t.el=="string"&&a.querySelectorAll(t.el).length>1){const u=[];return a.querySelectorAll(t.el).forEach(h=>{const p=bn({},t,{el:h});u.push(new Cr(p))}),u}const l=this;l.__swiper__=!0,l.support=wk(),l.device=Sk({userAgent:t.userAgent}),l.browser=Lk(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],t.modules&&Array.isArray(t.modules)&&l.modules.push(...t.modules);const c={};l.modules.forEach(u=>{u({params:t,swiper:l,extendParams:oH(t,c),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});const f=bn({},cb,c);return l.params=bn({},f,hx,t),l.originalParams=bn({},l.params),l.passedParams=bn({},t),l.params&&l.params.on&&Object.keys(l.params.on).forEach(u=>{l.on(u,l.params.on[u])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return l.params.direction==="horizontal"},isVertical(){return l.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:n}=this,i=Yi(t,`.${n.slideClass}, swiper-slide`),r=Lm(i[0]);return Lm(e)-r}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:t,params:n}=e;e.slides=Yi(t,`.${n.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const n=this;e=Math.min(Math.max(e,0),1);const i=n.minTranslate(),a=(n.maxTranslate()-i)*e+i;n.translateTo(a,typeof t>"u"?0:t),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(n=>n.indexOf("swiper")===0||n.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(n=>n.indexOf("swiper-slide")===0||n.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(n=>{const i=e.getSlideClasses(n);t.push({slideEl:n,classNames:i}),e.emit("_slideClass",n,i)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const n=this,{params:i,slides:r,slidesGrid:a,slidesSizesGrid:l,size:c,activeIndex:f}=n;let u=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let h=r[f]?Math.ceil(r[f].swiperSlideSize):0,p;for(let g=f+1;g<r.length;g+=1)r[g]&&!p&&(h+=Math.ceil(r[g].swiperSlideSize),u+=1,h>c&&(p=!0));for(let g=f-1;g>=0;g-=1)r[g]&&!p&&(h+=r[g].swiperSlideSize,u+=1,h>c&&(p=!0))}else if(e==="current")for(let h=f+1;h<r.length;h+=1)(t?a[h]+l[h]-a[f]<c:a[h]-a[f]<c)&&(u+=1);else for(let h=f-1;h>=0;h-=1)a[f]-a[h]<c&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:n}=e;n.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&U0(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const a=e.rtlTranslate?e.translate*-1:e.translate,l=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(l),e.updateActiveIndex(),e.updateSlidesClasses()}let r;if(n.freeMode&&n.freeMode.enabled&&!n.cssMode)i(),n.autoHeight&&e.updateAutoHeight();else{if((n.slidesPerView==="auto"||n.slidesPerView>1)&&e.isEnd&&!n.centeredSlides){const a=e.virtual&&n.virtual.enabled?e.virtual.slides:e.slides;r=e.slideTo(a.length-1,0,!1,!0)}else r=e.slideTo(e.activeIndex,0,!1,!0);r||i()}n.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const n=this,i=n.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(n.el.classList.remove(`${n.params.containerModifierClass}${i}`),n.el.classList.add(`${n.params.containerModifierClass}${e}`),n.emitContainerClasses(),n.params.direction=e,n.slides.forEach(r=>{e==="vertical"?r.style.width="":r.style.height=""}),n.emit("changeDirection"),t&&n.update()),n}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let n=e||t.params.el;if(typeof n=="string"&&(n=document.querySelector(n)),!n)return!1;n.swiper=t,n.parentNode&&n.parentNode.host&&n.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const i=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=n&&n.shadowRoot&&n.shadowRoot.querySelector?n.shadowRoot.querySelector(i()):Yi(n,i())[0];return!a&&t.params.createElements&&(a=Cu("div",t.params.wrapperClass),n.append(a),Yi(n,`.${t.params.slideClass}`).forEach(l=>{a.append(l)})),Object.assign(t,{el:n,wrapperEl:a,slidesEl:t.isElement&&!n.parentNode.host.slideSlots?n.parentNode.host:a,hostEl:t.isElement?n.parentNode.host:n,mounted:!0,rtl:n.dir.toLowerCase()==="rtl"||va(n,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(n.dir.toLowerCase()==="rtl"||va(n,"direction")==="rtl"),wrongRTL:va(a,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const i=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&i.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(r=>{r.complete?U0(t,r):r.addEventListener("load",a=>{U0(t,a.target)})}),lb(t),t.initialized=!0,lb(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const n=this,{params:i,el:r,wrapperEl:a,slides:l}=n;return typeof n.params>"u"||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),i.loop&&n.loopDestroy(),t&&(n.removeClasses(),r&&typeof r!="string"&&r.removeAttribute("style"),a&&a.removeAttribute("style"),l&&l.length&&l.forEach(c=>{c.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),n.emit("destroy"),Object.keys(n.eventsListeners).forEach(c=>{n.off(c)}),e!==!1&&(n.el&&typeof n.el!="string"&&(n.el.swiper=null),GV(n)),n.destroyed=!0),null}static extendDefaults(e){bn(hx,e)}static get extendedDefaults(){return hx}static get defaults(){return cb}static installModule(e){Cr.prototype.__modules__||(Cr.prototype.__modules__=[]);const t=Cr.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>Cr.installModule(t)),Cr):(Cr.installModule(e),Cr)}};Object.keys(dx).forEach(s=>{Object.keys(dx[s]).forEach(e=>{f2.prototype[e]=dx[s][e]})});f2.use([sG,nG]);const jk=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Bo(s){return typeof s=="object"&&s!==null&&s.constructor&&Object.prototype.toString.call(s).slice(8,-1)==="Object"&&!s.__swiper__}function Vl(s,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(n=>t.indexOf(n)<0).forEach(n=>{typeof s[n]>"u"?s[n]=e[n]:Bo(e[n])&&Bo(s[n])&&Object.keys(e[n]).length>0?e[n].__swiper__?s[n]=e[n]:Vl(s[n],e[n]):s[n]=e[n]})}function Ek(s){return s===void 0&&(s={}),s.navigation&&typeof s.navigation.nextEl>"u"&&typeof s.navigation.prevEl>"u"}function Nk(s){return s===void 0&&(s={}),s.pagination&&typeof s.pagination.el>"u"}function Mk(s){return s===void 0&&(s={}),s.scrollbar&&typeof s.scrollbar.el>"u"}function kk(s){s===void 0&&(s="");const e=s.split(" ").map(n=>n.trim()).filter(n=>!!n),t=[];return e.forEach(n=>{t.indexOf(n)<0&&t.push(n)}),t.join(" ")}function lH(s){return s===void 0&&(s=""),s?s.includes("swiper-wrapper")?s:`swiper-wrapper ${s}`:"swiper-wrapper"}function cH(s){let{swiper:e,slides:t,passedParams:n,changedParams:i,nextEl:r,prevEl:a,scrollbarEl:l,paginationEl:c}=s;const f=i.filter(A=>A!=="children"&&A!=="direction"&&A!=="wrapperClass"),{params:u,pagination:h,navigation:p,scrollbar:g,virtual:x,thumbs:y}=e;let v,w,L,S,j,E,M,N;i.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&!n.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(v=!0),i.includes("controller")&&n.controller&&n.controller.control&&u.controller&&!u.controller.control&&(w=!0),i.includes("pagination")&&n.pagination&&(n.pagination.el||c)&&(u.pagination||u.pagination===!1)&&h&&!h.el&&(L=!0),i.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||l)&&(u.scrollbar||u.scrollbar===!1)&&g&&!g.el&&(S=!0),i.includes("navigation")&&n.navigation&&(n.navigation.prevEl||a)&&(n.navigation.nextEl||r)&&(u.navigation||u.navigation===!1)&&p&&!p.prevEl&&!p.nextEl&&(j=!0);const I=A=>{e[A]&&(e[A].destroy(),A==="navigation"?(e.isElement&&(e[A].prevEl.remove(),e[A].nextEl.remove()),u[A].prevEl=void 0,u[A].nextEl=void 0,e[A].prevEl=void 0,e[A].nextEl=void 0):(e.isElement&&e[A].el.remove(),u[A].el=void 0,e[A].el=void 0))};i.includes("loop")&&e.isElement&&(u.loop&&!n.loop?E=!0:!u.loop&&n.loop?M=!0:N=!0),f.forEach(A=>{if(Bo(u[A])&&Bo(n[A]))Object.assign(u[A],n[A]),(A==="navigation"||A==="pagination"||A==="scrollbar")&&"enabled"in n[A]&&!n[A].enabled&&I(A);else{const D=n[A];(D===!0||D===!1)&&(A==="navigation"||A==="pagination"||A==="scrollbar")?D===!1&&I(A):u[A]=n[A]}}),f.includes("controller")&&!w&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),i.includes("children")&&t&&x&&u.virtual.enabled?(x.slides=t,x.update(!0)):i.includes("virtual")&&x&&u.virtual.enabled&&(t&&(x.slides=t),x.update(!0)),i.includes("children")&&t&&u.loop&&(N=!0),v&&y.init()&&y.update(!0),w&&(e.controller.control=u.controller.control),L&&(e.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-pagination"),c.part.add("pagination"),e.el.appendChild(c)),c&&(u.pagination.el=c),h.init(),h.render(),h.update()),S&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-scrollbar"),l.part.add("scrollbar"),e.el.appendChild(l)),l&&(u.scrollbar.el=l),g.init(),g.updateSize(),g.setTranslate()),j&&(e.isElement&&((!r||typeof r=="string")&&(r=document.createElement("div"),r.classList.add("swiper-button-next"),r.innerHTML=e.hostEl.constructor.nextButtonSvg,r.part.add("button-next"),e.el.appendChild(r)),(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-prev"),a.innerHTML=e.hostEl.constructor.prevButtonSvg,a.part.add("button-prev"),e.el.appendChild(a))),r&&(u.navigation.nextEl=r),a&&(u.navigation.prevEl=a),p.init(),p.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=n.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=n.allowSlidePrev),i.includes("direction")&&e.changeDirection(n.direction,!1),(E||N)&&e.loopDestroy(),(M||N)&&e.loopCreate(),e.update()}function fH(s,e){s===void 0&&(s={}),e===void 0&&(e=!0);const t={on:{}},n={},i={};Vl(t,cb),t._emitClasses=!0,t.init=!1;const r={},a=jk.map(c=>c.replace(/_/,"")),l=Object.assign({},s);return Object.keys(l).forEach(c=>{typeof s[c]>"u"||(a.indexOf(c)>=0?Bo(s[c])?(t[c]={},i[c]={},Vl(t[c],s[c]),Vl(i[c],s[c])):(t[c]=s[c],i[c]=s[c]):c.search(/on[A-Z]/)===0&&typeof s[c]=="function"?e?n[`${c[2].toLowerCase()}${c.substr(3)}`]=s[c]:t.on[`${c[2].toLowerCase()}${c.substr(3)}`]=s[c]:r[c]=s[c])}),["navigation","pagination","scrollbar"].forEach(c=>{t[c]===!0&&(t[c]={}),t[c]===!1&&delete t[c]}),{params:t,passedParams:i,rest:r,events:n}}function uH(s,e){let{el:t,nextEl:n,prevEl:i,paginationEl:r,scrollbarEl:a,swiper:l}=s;Ek(e)&&n&&i&&(l.params.navigation.nextEl=n,l.originalParams.navigation.nextEl=n,l.params.navigation.prevEl=i,l.originalParams.navigation.prevEl=i),Nk(e)&&r&&(l.params.pagination.el=r,l.originalParams.pagination.el=r),Mk(e)&&a&&(l.params.scrollbar.el=a,l.originalParams.scrollbar.el=a),l.init(t)}function dH(s,e,t,n,i){const r=[];if(!e)return r;const a=c=>{r.indexOf(c)<0&&r.push(c)};if(t&&n){const c=n.map(i),f=t.map(i);c.join("")!==f.join("")&&a("children"),n.length!==t.length&&a("children")}return jk.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in s&&c in e)if(Bo(s[c])&&Bo(e[c])){const f=Object.keys(s[c]),u=Object.keys(e[c]);f.length!==u.length?a(c):(f.forEach(h=>{s[c][h]!==e[c][h]&&a(c)}),u.forEach(h=>{s[c][h]!==e[c][h]&&a(c)}))}else s[c]!==e[c]&&a(c)}),r}const hH=s=>{!s||s.destroyed||!s.params.virtual||s.params.virtual&&!s.params.virtual.enabled||(s.updateSlides(),s.updateProgress(),s.updateSlidesClasses(),s.parallax&&s.params.parallax&&s.params.parallax.enabled&&s.parallax.setTranslate())};function Cm(){return Cm=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},Cm.apply(this,arguments)}function Ik(s){return s.type&&s.type.displayName&&s.type.displayName.includes("SwiperSlide")}function _k(s){const e=[];return je.Children.toArray(s).forEach(t=>{Ik(t)?e.push(t):t.props&&t.props.children&&_k(t.props.children).forEach(n=>e.push(n))}),e}function mH(s){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return je.Children.toArray(s).forEach(n=>{if(Ik(n))e.push(n);else if(n.props&&n.props.slot&&t[n.props.slot])t[n.props.slot].push(n);else if(n.props&&n.props.children){const i=_k(n.props.children);i.length>0?i.forEach(r=>e.push(r)):t["container-end"].push(n)}else t["container-end"].push(n)}),{slides:e,slots:t}}function pH(s,e,t){if(!t)return null;const n=u=>{let h=u;return u<0?h=e.length+u:h>=e.length&&(h=h-e.length),h},i=s.isHorizontal()?{[s.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:r,to:a}=t,l=s.params.loop?-e.length:0,c=s.params.loop?e.length*2:e.length,f=[];for(let u=l;u<c;u+=1)u>=r&&u<=a&&f.push(e[n(u)]);return f.map((u,h)=>je.cloneElement(u,{swiper:s,style:i,key:u.props.virtualIndex||u.key||`slide-${h}`}))}function Xf(s,e){return typeof window>"u"?T.useEffect(s,e):T.useLayoutEffect(s,e)}const PC=T.createContext(null),gH=T.createContext(null),Ak=T.forwardRef(function(s,e){let{className:t,tag:n="div",wrapperTag:i="div",children:r,onSwiper:a,...l}=s===void 0?{}:s,c=!1;const[f,u]=T.useState("swiper"),[h,p]=T.useState(null),[g,x]=T.useState(!1),y=T.useRef(!1),v=T.useRef(null),w=T.useRef(null),L=T.useRef(null),S=T.useRef(null),j=T.useRef(null),E=T.useRef(null),M=T.useRef(null),N=T.useRef(null),{params:I,passedParams:A,rest:D,events:z}=fH(l),{slides:O,slots:Y}=mH(r),q=()=>{x(!g)};Object.assign(I.on,{_containerClasses(B,U){u(U)}});const Z=()=>{Object.assign(I.on,z),c=!0;const B={...I};if(delete B.wrapperClass,w.current=new f2(B),w.current.virtual&&w.current.params.virtual.enabled){w.current.virtual.slides=O;const U={cache:!1,slides:O,renderExternal:p,renderExternalUpdate:!1};Vl(w.current.params.virtual,U),Vl(w.current.originalParams.virtual,U)}};v.current||Z(),w.current&&w.current.on("_beforeBreakpoint",q);const V=()=>{c||!z||!w.current||Object.keys(z).forEach(B=>{w.current.on(B,z[B])})},H=()=>{!z||!w.current||Object.keys(z).forEach(B=>{w.current.off(B,z[B])})};T.useEffect(()=>()=>{w.current&&w.current.off("_beforeBreakpoint",q)}),T.useEffect(()=>{!y.current&&w.current&&(w.current.emitSlidesClasses(),y.current=!0)}),Xf(()=>{if(e&&(e.current=v.current),!!v.current)return w.current.destroyed&&Z(),uH({el:v.current,nextEl:j.current,prevEl:E.current,paginationEl:M.current,scrollbarEl:N.current,swiper:w.current},I),a&&!w.current.destroyed&&a(w.current),()=>{w.current&&!w.current.destroyed&&w.current.destroy(!0,!1)}},[]),Xf(()=>{V();const B=dH(A,L.current,O,S.current,U=>U.key);return L.current=A,S.current=O,B.length&&w.current&&!w.current.destroyed&&cH({swiper:w.current,slides:O,passedParams:A,changedParams:B,nextEl:j.current,prevEl:E.current,scrollbarEl:N.current,paginationEl:M.current}),()=>{H()}}),Xf(()=>{hH(w.current)},[h]);function F(){return I.virtual?pH(w.current,O,h):O.map((B,U)=>je.cloneElement(B,{swiper:w.current,swiperSlideIndex:U}))}return je.createElement(n,Cm({ref:v,className:kk(`${f}${t?` ${t}`:""}`)},D),je.createElement(gH.Provider,{value:w.current},Y["container-start"],je.createElement(i,{className:lH(I.wrapperClass)},Y["wrapper-start"],F(),Y["wrapper-end"]),Ek(I)&&je.createElement(je.Fragment,null,je.createElement("div",{ref:E,className:"swiper-button-prev"}),je.createElement("div",{ref:j,className:"swiper-button-next"})),Mk(I)&&je.createElement("div",{ref:N,className:"swiper-scrollbar"}),Nk(I)&&je.createElement("div",{ref:M,className:"swiper-pagination"}),Y["container-end"]))});Ak.displayName="Swiper";const Dk=T.forwardRef(function(s,e){let{tag:t="div",children:n,className:i="",swiper:r,zoom:a,lazy:l,virtualIndex:c,swiperSlideIndex:f,...u}=s===void 0?{}:s;const h=T.useRef(null),[p,g]=T.useState("swiper-slide"),[x,y]=T.useState(!1);function v(j,E,M){E===h.current&&g(M)}Xf(()=>{if(typeof f<"u"&&(h.current.swiperSlideIndex=f),e&&(e.current=h.current),!(!h.current||!r)){if(r.destroyed){p!=="swiper-slide"&&g("swiper-slide");return}return r.on("_slideClass",v),()=>{r&&r.off("_slideClass",v)}}}),Xf(()=>{r&&h.current&&!r.destroyed&&g(r.getSlideClasses(h.current))},[r]);const w={isActive:p.indexOf("swiper-slide-active")>=0,isVisible:p.indexOf("swiper-slide-visible")>=0,isPrev:p.indexOf("swiper-slide-prev")>=0,isNext:p.indexOf("swiper-slide-next")>=0},L=()=>typeof n=="function"?n(w):n,S=()=>{y(!0)};return je.createElement(t,Cm({ref:h,className:kk(`${p}${i?` ${i}`:""}`),"data-swiper-slide-index":c,onLoad:S},u),a&&je.createElement(PC.Provider,{value:w},je.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof a=="number"?a:void 0},L(),l&&!x&&je.createElement("div",{className:"swiper-lazy-preloader"}))),!a&&je.createElement(PC.Provider,{value:w},L(),l&&!x&&je.createElement("div",{className:"swiper-lazy-preloader"})))});Dk.displayName="SwiperSlide";function Pk(s,e,t,n){return s.params.createElements&&Object.keys(n).forEach(i=>{if(!t[i]&&t.auto===!0){let r=Yi(s.el,`.${n[i]}`)[0];r||(r=Cu("div",n[i]),r.className=n[i],s.el.append(r)),t[i]=r,e[i]=r}}),t}function xH(s){let{swiper:e,extendParams:t,on:n,emit:i}=s;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function r(x){let y;return x&&typeof x=="string"&&e.isElement&&(y=e.el.querySelector(x)||e.hostEl.querySelector(x),y)?y:(x&&(typeof x=="string"&&(y=[...document.querySelectorAll(x)]),e.params.uniqueNavElements&&typeof x=="string"&&y&&y.length>1&&e.el.querySelectorAll(x).length===1?y=e.el.querySelector(x):y&&y.length===1&&(y=y[0])),x&&!y?x:y)}function a(x,y){const v=e.params.navigation;x=ds(x),x.forEach(w=>{w&&(w.classList[y?"add":"remove"](...v.disabledClass.split(" ")),w.tagName==="BUTTON"&&(w.disabled=y),e.params.watchOverflow&&e.enabled&&w.classList[e.isLocked?"add":"remove"](v.lockClass))})}function l(){const{nextEl:x,prevEl:y}=e.navigation;if(e.params.loop){a(y,!1),a(x,!1);return}a(y,e.isBeginning&&!e.params.rewind),a(x,e.isEnd&&!e.params.rewind)}function c(x){x.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function f(x){x.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function u(){const x=e.params.navigation;if(e.params.navigation=Pk(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(x.nextEl||x.prevEl))return;let y=r(x.nextEl),v=r(x.prevEl);Object.assign(e.navigation,{nextEl:y,prevEl:v}),y=ds(y),v=ds(v);const w=(L,S)=>{L&&L.addEventListener("click",S==="next"?f:c),!e.enabled&&L&&L.classList.add(...x.lockClass.split(" "))};y.forEach(L=>w(L,"next")),v.forEach(L=>w(L,"prev"))}function h(){let{nextEl:x,prevEl:y}=e.navigation;x=ds(x),y=ds(y);const v=(w,L)=>{w.removeEventListener("click",L==="next"?f:c),w.classList.remove(...e.params.navigation.disabledClass.split(" "))};x.forEach(w=>v(w,"next")),y.forEach(w=>v(w,"prev"))}n("init",()=>{e.params.navigation.enabled===!1?g():(u(),l())}),n("toEdge fromEdge lock unlock",()=>{l()}),n("destroy",()=>{h()}),n("enable disable",()=>{let{nextEl:x,prevEl:y}=e.navigation;if(x=ds(x),y=ds(y),e.enabled){l();return}[...x,...y].filter(v=>!!v).forEach(v=>v.classList.add(e.params.navigation.lockClass))}),n("click",(x,y)=>{let{nextEl:v,prevEl:w}=e.navigation;v=ds(v),w=ds(w);const L=y.target;let S=w.includes(L)||v.includes(L);if(e.isElement&&!S){const j=y.path||y.composedPath&&y.composedPath();j&&(S=j.find(E=>v.includes(E)||w.includes(E)))}if(e.params.navigation.hideOnClick&&!S){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===L||e.pagination.el.contains(L)))return;let j;v.length?j=v[0].classList.contains(e.params.navigation.hiddenClass):w.length&&(j=w[0].classList.contains(e.params.navigation.hiddenClass)),i(j===!0?"navigationShow":"navigationHide"),[...v,...w].filter(E=>!!E).forEach(E=>E.classList.toggle(e.params.navigation.hiddenClass))}});const p=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),u(),l()},g=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(e.navigation,{enable:p,disable:g,update:l,init:u,destroy:h})}function bf(s){return s===void 0&&(s=""),`.${s.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function yH(s){let{swiper:e,extendParams:t,on:n,emit:i}=s;const r="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:L=>L,formatFractionTotal:L=>L,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),e.pagination={el:null,bullets:[]};let a,l=0;function c(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function f(L,S){const{bulletActiveClass:j}=e.params.pagination;L&&(L=L[`${S==="prev"?"previous":"next"}ElementSibling`],L&&(L.classList.add(`${j}-${S}`),L=L[`${S==="prev"?"previous":"next"}ElementSibling`],L&&L.classList.add(`${j}-${S}-${S}`)))}function u(L,S,j){if(L=L%j,S=S%j,S===L+1)return"next";if(S===L-1)return"previous"}function h(L){const S=L.target.closest(bf(e.params.pagination.bulletClass));if(!S)return;L.preventDefault();const j=Lm(S)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===j)return;const E=u(e.realIndex,j,e.slides.length);E==="next"?e.slideNext():E==="previous"?e.slidePrev():e.slideToLoop(j)}else e.slideTo(j)}function p(){const L=e.rtl,S=e.params.pagination;if(c())return;let j=e.pagination.el;j=ds(j);let E,M;const N=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,I=e.params.loop?Math.ceil(N/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(M=e.previousRealIndex||0,E=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(E=e.snapIndex,M=e.previousSnapIndex):(M=e.previousIndex||0,E=e.activeIndex||0),S.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const A=e.pagination.bullets;let D,z,O;if(S.dynamicBullets&&(a=ob(A[0],e.isHorizontal()?"width":"height"),j.forEach(Y=>{Y.style[e.isHorizontal()?"width":"height"]=`${a*(S.dynamicMainBullets+4)}px`}),S.dynamicMainBullets>1&&M!==void 0&&(l+=E-(M||0),l>S.dynamicMainBullets-1?l=S.dynamicMainBullets-1:l<0&&(l=0)),D=Math.max(E-l,0),z=D+(Math.min(A.length,S.dynamicMainBullets)-1),O=(z+D)/2),A.forEach(Y=>{const q=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(Z=>`${S.bulletActiveClass}${Z}`)].map(Z=>typeof Z=="string"&&Z.includes(" ")?Z.split(" "):Z).flat();Y.classList.remove(...q)}),j.length>1)A.forEach(Y=>{const q=Lm(Y);q===E?Y.classList.add(...S.bulletActiveClass.split(" ")):e.isElement&&Y.setAttribute("part","bullet"),S.dynamicBullets&&(q>=D&&q<=z&&Y.classList.add(...`${S.bulletActiveClass}-main`.split(" ")),q===D&&f(Y,"prev"),q===z&&f(Y,"next"))});else{const Y=A[E];if(Y&&Y.classList.add(...S.bulletActiveClass.split(" ")),e.isElement&&A.forEach((q,Z)=>{q.setAttribute("part",Z===E?"bullet-active":"bullet")}),S.dynamicBullets){const q=A[D],Z=A[z];for(let V=D;V<=z;V+=1)A[V]&&A[V].classList.add(...`${S.bulletActiveClass}-main`.split(" "));f(q,"prev"),f(Z,"next")}}if(S.dynamicBullets){const Y=Math.min(A.length,S.dynamicMainBullets+4),q=(a*Y-a)/2-O*a,Z=L?"right":"left";A.forEach(V=>{V.style[e.isHorizontal()?Z:"top"]=`${q}px`})}}j.forEach((A,D)=>{if(S.type==="fraction"&&(A.querySelectorAll(bf(S.currentClass)).forEach(z=>{z.textContent=S.formatFractionCurrent(E+1)}),A.querySelectorAll(bf(S.totalClass)).forEach(z=>{z.textContent=S.formatFractionTotal(I)})),S.type==="progressbar"){let z;S.progressbarOpposite?z=e.isHorizontal()?"vertical":"horizontal":z=e.isHorizontal()?"horizontal":"vertical";const O=(E+1)/I;let Y=1,q=1;z==="horizontal"?Y=O:q=O,A.querySelectorAll(bf(S.progressbarFillClass)).forEach(Z=>{Z.style.transform=`translate3d(0,0,0) scaleX(${Y}) scaleY(${q})`,Z.style.transitionDuration=`${e.params.speed}ms`})}S.type==="custom"&&S.renderCustom?(A.innerHTML=S.renderCustom(e,E+1,I),D===0&&i("paginationRender",A)):(D===0&&i("paginationRender",A),i("paginationUpdate",A)),e.params.watchOverflow&&e.enabled&&A.classList[e.isLocked?"add":"remove"](S.lockClass)})}function g(){const L=e.params.pagination;if(c())return;const S=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let j=e.pagination.el;j=ds(j);let E="";if(L.type==="bullets"){let M=e.params.loop?Math.ceil(S/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&M>S&&(M=S);for(let N=0;N<M;N+=1)L.renderBullet?E+=L.renderBullet.call(e,N,L.bulletClass):E+=`<${L.bulletElement} ${e.isElement?'part="bullet"':""} class="${L.bulletClass}"></${L.bulletElement}>`}L.type==="fraction"&&(L.renderFraction?E=L.renderFraction.call(e,L.currentClass,L.totalClass):E=`<span class="${L.currentClass}"></span> / <span class="${L.totalClass}"></span>`),L.type==="progressbar"&&(L.renderProgressbar?E=L.renderProgressbar.call(e,L.progressbarFillClass):E=`<span class="${L.progressbarFillClass}"></span>`),e.pagination.bullets=[],j.forEach(M=>{L.type!=="custom"&&(M.innerHTML=E||""),L.type==="bullets"&&e.pagination.bullets.push(...M.querySelectorAll(bf(L.bulletClass)))}),L.type!=="custom"&&i("paginationRender",j[0])}function x(){e.params.pagination=Pk(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const L=e.params.pagination;if(!L.el)return;let S;typeof L.el=="string"&&e.isElement&&(S=e.el.querySelector(L.el)),!S&&typeof L.el=="string"&&(S=[...document.querySelectorAll(L.el)]),S||(S=L.el),!(!S||S.length===0)&&(e.params.uniqueNavElements&&typeof L.el=="string"&&Array.isArray(S)&&S.length>1&&(S=[...e.el.querySelectorAll(L.el)],S.length>1&&(S=S.find(j=>vk(j,".swiper")[0]===e.el))),Array.isArray(S)&&S.length===1&&(S=S[0]),Object.assign(e.pagination,{el:S}),S=ds(S),S.forEach(j=>{L.type==="bullets"&&L.clickable&&j.classList.add(...(L.clickableClass||"").split(" ")),j.classList.add(L.modifierClass+L.type),j.classList.add(e.isHorizontal()?L.horizontalClass:L.verticalClass),L.type==="bullets"&&L.dynamicBullets&&(j.classList.add(`${L.modifierClass}${L.type}-dynamic`),l=0,L.dynamicMainBullets<1&&(L.dynamicMainBullets=1)),L.type==="progressbar"&&L.progressbarOpposite&&j.classList.add(L.progressbarOppositeClass),L.clickable&&j.addEventListener("click",h),e.enabled||j.classList.add(L.lockClass)}))}function y(){const L=e.params.pagination;if(c())return;let S=e.pagination.el;S&&(S=ds(S),S.forEach(j=>{j.classList.remove(L.hiddenClass),j.classList.remove(L.modifierClass+L.type),j.classList.remove(e.isHorizontal()?L.horizontalClass:L.verticalClass),L.clickable&&(j.classList.remove(...(L.clickableClass||"").split(" ")),j.removeEventListener("click",h))})),e.pagination.bullets&&e.pagination.bullets.forEach(j=>j.classList.remove(...L.bulletActiveClass.split(" ")))}n("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const L=e.params.pagination;let{el:S}=e.pagination;S=ds(S),S.forEach(j=>{j.classList.remove(L.horizontalClass,L.verticalClass),j.classList.add(e.isHorizontal()?L.horizontalClass:L.verticalClass)})}),n("init",()=>{e.params.pagination.enabled===!1?w():(x(),g(),p())}),n("activeIndexChange",()=>{typeof e.snapIndex>"u"&&p()}),n("snapIndexChange",()=>{p()}),n("snapGridLengthChange",()=>{g(),p()}),n("destroy",()=>{y()}),n("enable disable",()=>{let{el:L}=e.pagination;L&&(L=ds(L),L.forEach(S=>S.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),n("lock unlock",()=>{p()}),n("click",(L,S)=>{const j=S.target,E=ds(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&E&&E.length>0&&!j.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&j===e.navigation.nextEl||e.navigation.prevEl&&j===e.navigation.prevEl))return;const M=E[0].classList.contains(e.params.pagination.hiddenClass);i(M===!0?"paginationShow":"paginationHide"),E.forEach(N=>N.classList.toggle(e.params.pagination.hiddenClass))}});const v=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:L}=e.pagination;L&&(L=ds(L),L.forEach(S=>S.classList.remove(e.params.pagination.paginationDisabledClass))),x(),g(),p()},w=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:L}=e.pagination;L&&(L=ds(L),L.forEach(S=>S.classList.add(e.params.pagination.paginationDisabledClass))),y()};Object.assign(e.pagination,{enable:v,disable:w,render:g,update:p,init:x,destroy:y})}function bH(s){let{swiper:e,extendParams:t,on:n,emit:i,params:r}=s;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let a,l,c=r&&r.autoplay?r.autoplay.delay:3e3,f=r&&r.autoplay?r.autoplay.delay:3e3,u,h=new Date().getTime(),p,g,x,y,v,w,L;function S(F){!e||e.destroyed||!e.wrapperEl||F.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",S),!(L||F.detail&&F.detail.bySwiperTouchMove)&&D())}const j=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?p=!0:p&&(f=u,p=!1);const F=e.autoplay.paused?u:h+f-new Date().getTime();e.autoplay.timeLeft=F,i("autoplayTimeLeft",F,F/c),l=requestAnimationFrame(()=>{j()})},E=()=>{let F;return e.virtual&&e.params.virtual.enabled?F=e.slides.find(U=>U.classList.contains("swiper-slide-active")):F=e.slides[e.activeIndex],F?parseInt(F.getAttribute("data-swiper-autoplay"),10):void 0},M=F=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(l),j();let B=typeof F>"u"?e.params.autoplay.delay:F;c=e.params.autoplay.delay,f=e.params.autoplay.delay;const U=E();!Number.isNaN(U)&&U>0&&typeof F>"u"&&(B=U,c=U,f=U),u=B;const $=e.params.speed,K=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev($,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,$,!0,!0),i("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext($,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,$,!0,!0),i("autoplay")),e.params.cssMode&&(h=new Date().getTime(),requestAnimationFrame(()=>{M()})))};return B>0?(clearTimeout(a),a=setTimeout(()=>{K()},B)):requestAnimationFrame(()=>{K()}),B},N=()=>{h=new Date().getTime(),e.autoplay.running=!0,M(),i("autoplayStart")},I=()=>{e.autoplay.running=!1,clearTimeout(a),cancelAnimationFrame(l),i("autoplayStop")},A=(F,B)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(a),F||(w=!0);const U=()=>{i("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",S):D()};if(e.autoplay.paused=!0,B){v&&(u=e.params.autoplay.delay),v=!1,U();return}u=(u||e.params.autoplay.delay)-(new Date().getTime()-h),!(e.isEnd&&u<0&&!e.params.loop)&&(u<0&&(u=0),U())},D=()=>{e.isEnd&&u<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(h=new Date().getTime(),w?(w=!1,M(u)):M(),e.autoplay.paused=!1,i("autoplayResume"))},z=()=>{if(e.destroyed||!e.autoplay.running)return;const F=tr();F.visibilityState==="hidden"&&(w=!0,A(!0)),F.visibilityState==="visible"&&D()},O=F=>{F.pointerType==="mouse"&&(w=!0,L=!0,!(e.animating||e.autoplay.paused)&&A(!0))},Y=F=>{F.pointerType==="mouse"&&(L=!1,e.autoplay.paused&&D())},q=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",O),e.el.addEventListener("pointerleave",Y))},Z=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",O),e.el.removeEventListener("pointerleave",Y))},V=()=>{tr().addEventListener("visibilitychange",z)},H=()=>{tr().removeEventListener("visibilitychange",z)};n("init",()=>{e.params.autoplay.enabled&&(q(),V(),N())}),n("destroy",()=>{Z(),H(),e.autoplay.running&&I()}),n("_freeModeStaticRelease",()=>{(x||w)&&D()}),n("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?I():A(!0,!0)}),n("beforeTransitionStart",(F,B,U)=>{e.destroyed||!e.autoplay.running||(U||!e.params.autoplay.disableOnInteraction?A(!0,!0):I())}),n("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){I();return}g=!0,x=!1,w=!1,y=setTimeout(()=>{w=!0,x=!0,A(!0)},200)}}),n("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!g)){if(clearTimeout(y),clearTimeout(a),e.params.autoplay.disableOnInteraction){x=!1,g=!1;return}x&&e.params.cssMode&&D(),x=!1,g=!1}}),n("slideChange",()=>{e.destroyed||!e.autoplay.running||(v=!0)}),Object.assign(e.autoplay,{start:N,stop:I,pause:A,resume:D})}function vH(s){const{effect:e,swiper:t,on:n,setTranslate:i,setTransition:r,overwriteParams:a,perspective:l,recreateShadows:c,getEffectParams:f}=s;n("beforeInit",()=>{if(t.params.effect!==e)return;t.classNames.push(`${t.params.containerModifierClass}${e}`),l&&l()&&t.classNames.push(`${t.params.containerModifierClass}3d`);const h=a?a():{};Object.assign(t.params,h),Object.assign(t.originalParams,h)}),n("setTranslate",()=>{t.params.effect===e&&i()}),n("setTransition",(h,p)=>{t.params.effect===e&&r(p)}),n("transitionEnd",()=>{if(t.params.effect===e&&c){if(!f||!f().slideShadows)return;t.slides.forEach(h=>{h.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(p=>p.remove())}),c()}});let u;n("virtualUpdate",()=>{t.params.effect===e&&(t.slides.length||(u=!0),requestAnimationFrame(()=>{u&&t.slides&&t.slides.length&&(i(),u=!1)}))})}function wH(s,e){const t=c2(e);return t!==e&&(t.style.backfaceVisibility="hidden",t.style["-webkit-backface-visibility"]="hidden"),t}function RC(s,e,t){const n=`swiper-slide-shadow${t?`-${t}`:""}${` swiper-slide-shadow-${s}`}`,i=c2(e);let r=i.querySelector(`.${n.split(" ").join(".")}`);return r||(r=Cu("div",n.split(" ")),i.append(r)),r}function SH(s){let{swiper:e,extendParams:t,on:n}=s;t({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),vH({effect:"coverflow",swiper:e,on:n,setTranslate:()=>{const{width:a,height:l,slides:c,slidesSizesGrid:f}=e,u=e.params.coverflowEffect,h=e.isHorizontal(),p=e.translate,g=h?-p+a/2:-p+l/2,x=h?u.rotate:-u.rotate,y=u.depth,v=ZV(e);for(let w=0,L=c.length;w<L;w+=1){const S=c[w],j=f[w],E=S.swiperSlideOffset,M=(g-E-j/2)/j,N=typeof u.modifier=="function"?u.modifier(M):M*u.modifier;let I=h?x*N:0,A=h?0:x*N,D=-y*Math.abs(N),z=u.stretch;typeof z=="string"&&z.indexOf("%")!==-1&&(z=parseFloat(u.stretch)/100*j);let O=h?0:z*N,Y=h?z*N:0,q=1-(1-u.scale)*Math.abs(N);Math.abs(Y)<.001&&(Y=0),Math.abs(O)<.001&&(O=0),Math.abs(D)<.001&&(D=0),Math.abs(I)<.001&&(I=0),Math.abs(A)<.001&&(A=0),Math.abs(q)<.001&&(q=0);const Z=`translate3d(${Y}px,${O}px,${D}px)  rotateX(${v(A)}deg) rotateY(${v(I)}deg) scale(${q})`,V=wH(u,S);if(V.style.transform=Z,S.style.zIndex=-Math.abs(Math.round(N))+1,u.slideShadows){let H=h?S.querySelector(".swiper-slide-shadow-left"):S.querySelector(".swiper-slide-shadow-top"),F=h?S.querySelector(".swiper-slide-shadow-right"):S.querySelector(".swiper-slide-shadow-bottom");H||(H=RC("coverflow",S,h?"left":"top")),F||(F=RC("coverflow",S,h?"right":"bottom")),H&&(H.style.opacity=N>0?N:0),F&&(F.style.opacity=-N>0?-N:0)}}},setTransition:a=>{e.slides.map(c=>c2(c)).forEach(c=>{c.style.transitionDuration=`${a}ms`,c.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(f=>{f.style.transitionDuration=`${a}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}function Er(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function Rk(s,e){s.prototype=Object.create(e.prototype),s.prototype.constructor=s,s.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Nn={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},nc={duration:.5,overwrite:!1,delay:0},u2,bs,Lt,sr=1e8,Is=1/sr,fb=Math.PI*2,LH=fb/4,CH=0,Ok=Math.sqrt,TH=Math.cos,jH=Math.sin,ms=function(e){return typeof e=="string"},Ft=function(e){return typeof e=="function"},zr=function(e){return typeof e=="number"},d2=function(e){return typeof e>"u"},lr=function(e){return typeof e=="object"},on=function(e){return e!==!1},h2=function(){return typeof window<"u"},Fh=function(e){return Ft(e)||ms(e)},Fk=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Ds=Array.isArray,ub=/(?:-?\.?\d|\.)+/gi,zk=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Rl=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,mx=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Bk=/[+-]=-?[.\d]+/,Uk=/[^,'"\[\]\s]+/gi,EH=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,kt,Ui,db,m2,In={},Tm={},$k,Vk=function(e){return(Tm=ic(e,In))&&un},p2=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Tu=function(e,t){return!t&&console.warn(e)},Gk=function(e,t){return e&&(In[e]=t)&&Tm&&(Tm[e]=t)||In},ju=function(){return 0},NH={suppressEvents:!0,isStart:!0,kill:!1},$0={suppressEvents:!0,kill:!1},MH={suppressEvents:!0},g2={},Ma=[],hb={},Hk,vn={},px={},OC=30,V0=[],x2="",y2=function(e){var t=e[0],n,i;if(lr(t)||Ft(t)||(e=[e]),!(n=(t._gsap||{}).harness)){for(i=V0.length;i--&&!V0[i].targetTest(t););n=V0[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new pI(e[i],n)))||e.splice(i,1);return e},Io=function(e){return e._gsap||y2(Jn(e))[0]._gsap},Yk=function(e,t,n){return(n=e[t])&&Ft(n)?e[t]():d2(n)&&e.getAttribute&&e.getAttribute(t)||n},ln=function(e,t){return(e=e.split(",")).forEach(t)||e},Wt=function(e){return Math.round(e*1e5)/1e5||0},qt=function(e){return Math.round(e*1e7)/1e7||0},Gl=function(e,t){var n=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),n==="+"?e+i:n==="-"?e-i:n==="*"?e*i:e/i},kH=function(e,t){for(var n=t.length,i=0;e.indexOf(t[i])<0&&++i<n;);return i<n},jm=function(){var e=Ma.length,t=Ma.slice(0),n,i;for(hb={},Ma.length=0,n=0;n<e;n++)i=t[n],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},b2=function(e){return!!(e._initted||e._startAt||e.add)},Wk=function(e,t,n,i){Ma.length&&!bs&&jm(),e.render(t,n,!!(bs&&t<0&&b2(e))),Ma.length&&!bs&&jm()},Qk=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(Uk).length<2?t:ms(e)?e.trim():e},Kk=function(e){return e},_n=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},IH=function(e){return function(t,n){for(var i in n)i in t||i==="duration"&&e||i==="ease"||(t[i]=n[i])}},ic=function(e,t){for(var n in t)e[n]=t[n];return e},FC=function s(e,t){for(var n in t)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=lr(t[n])?s(e[n]||(e[n]={}),t[n]):t[n]);return e},Em=function(e,t){var n={},i;for(i in e)i in t||(n[i]=e[i]);return n},eu=function(e){var t=e.parent||kt,n=e.keyframes?IH(Ds(e.keyframes)):_n;if(on(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent||t._dp;return e},_H=function(e,t){for(var n=e.length,i=n===t.length;i&&n--&&e[n]===t[n];);return n<0},Jk=function(e,t,n,i,r){var a=e[i],l;if(r)for(l=t[r];a&&a[r]>l;)a=a._prev;return a?(t._next=a._next,a._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[i]=t,t._prev=a,t.parent=t._dp=e,t},Np=function(e,t,n,i){n===void 0&&(n="_first"),i===void 0&&(i="_last");var r=t._prev,a=t._next;r?r._next=a:e[n]===t&&(e[n]=a),a?a._prev=r:e[i]===t&&(e[i]=r),t._next=t._prev=t.parent=null},Da=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},_o=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},AH=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},mb=function(e,t,n,i){return e._startAt&&(bs?e._startAt.revert($0):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},DH=function s(e){return!e||e._ts&&s(e.parent)},zC=function(e){return e._repeat?rc(e._tTime,e=e.duration()+e._rDelay)*e:0},rc=function(e,t){var n=Math.floor(e=qt(e/t));return e&&n===e?n-1:n},Nm=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Mp=function(e){return e._end=qt(e._start+(e._tDur/Math.abs(e._ts||e._rts||Is)||0))},kp=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=qt(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Mp(e),n._dirty||_o(n,e)),e},qk=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=Nm(e.rawTime(),t),(!t._dur||hd(0,t.totalDuration(),n)-t._tTime>Is)&&t.render(n,!0)),_o(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-1e-8}},Gi=function(e,t,n,i){return t.parent&&Da(t),t._start=qt((zr(n)?n:n||e!==kt?Wn(e,n,t):e._time)+t._delay),t._end=qt(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),Jk(e,t,"_first","_last",e._sort?"_start":0),pb(t)||(e._recent=t),i||qk(e,t),e._ts<0&&kp(e,e._tTime),e},Zk=function(e,t){return(In.ScrollTrigger||p2("scrollTrigger",t))&&In.ScrollTrigger.create(t,e)},Xk=function(e,t,n,i,r){if(w2(e,t,r),!e._initted)return 1;if(!n&&e._pt&&!bs&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&Hk!==Ln.frame)return Ma.push(e),e._lazy=[r,i],1},PH=function s(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||s(t))},pb=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},RH=function(e,t,n,i){var r=e.ratio,a=t<0||!t&&(!e._start&&PH(e)&&!(!e._initted&&pb(e))||(e._ts<0||e._dp._ts<0)&&!pb(e))?0:1,l=e._rDelay,c=0,f,u,h;if(l&&e._repeat&&(c=hd(0,e._tDur,t),u=rc(c,l),e._yoyo&&u&1&&(a=1-a),u!==rc(e._tTime,l)&&(r=1-a,e.vars.repeatRefresh&&e._initted&&e.invalidate())),a!==r||bs||i||e._zTime===Is||!t&&e._zTime){if(!e._initted&&Xk(e,t,i,n,c))return;for(h=e._zTime,e._zTime=t||(n?Is:0),n||(n=t&&!h),e.ratio=a,e._from&&(a=1-a),e._time=0,e._tTime=c,f=e._pt;f;)f.r(a,f.d),f=f._next;t<0&&mb(e,t,n,!0),e._onUpdate&&!n&&Tn(e,"onUpdate"),c&&e._repeat&&!n&&e.parent&&Tn(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===a&&(a&&Da(e,1),!n&&!bs&&(Tn(e,a?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},OH=function(e,t,n){var i;if(n>t)for(i=e._first;i&&i._start<=n;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=n;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},ac=function(e,t,n,i){var r=e._repeat,a=qt(t)||0,l=e._tTime/e._tDur;return l&&!i&&(e._time*=a/e._dur),e._dur=a,e._tDur=r?r<0?1e10:qt(a*(r+1)+e._rDelay*r):a,l>0&&!i&&kp(e,e._tTime=e._tDur*l),e.parent&&Mp(e),n||_o(e.parent,e),e},BC=function(e){return e instanceof zs?_o(e):ac(e,e._dur)},FH={_start:0,endTime:ju,totalDuration:ju},Wn=function s(e,t,n){var i=e.labels,r=e._recent||FH,a=e.duration()>=sr?r.endTime(!1):e._dur,l,c,f;return ms(t)&&(isNaN(t)||t in i)?(c=t.charAt(0),f=t.substr(-1)==="%",l=t.indexOf("="),c==="<"||c===">"?(l>=0&&(t=t.replace(/=/,"")),(c==="<"?r._start:r.endTime(r._repeat>=0))+(parseFloat(t.substr(1))||0)*(f?(l<0?r:n).totalDuration()/100:1)):l<0?(t in i||(i[t]=a),i[t]):(c=parseFloat(t.charAt(l-1)+t.substr(l+1)),f&&n&&(c=c/100*(Ds(n)?n[0]:n).totalDuration()),l>1?s(e,t.substr(0,l-1),n)+c:a+c)):t==null?a:+t},tu=function(e,t,n){var i=zr(t[1]),r=(i?2:1)+(e<2?0:1),a=t[r],l,c;if(i&&(a.duration=t[1]),a.parent=n,e){for(l=a,c=n;c&&!("immediateRender"in l);)l=c.vars.defaults||{},c=on(c.vars.inherit)&&c.parent;a.immediateRender=on(l.immediateRender),e<2?a.runBackwards=1:a.startAt=t[r-1]}return new Jt(t[0],a,t[r+1])},Va=function(e,t){return e||e===0?t(e):t},hd=function(e,t,n){return n<e?e:n>t?t:n},Ms=function(e,t){return!ms(e)||!(t=EH.exec(e))?"":t[1]},zH=function(e,t,n){return Va(n,function(i){return hd(e,t,i)})},gb=[].slice,eI=function(e,t){return e&&lr(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&lr(e[0]))&&!e.nodeType&&e!==Ui},BH=function(e,t,n){return n===void 0&&(n=[]),e.forEach(function(i){var r;return ms(i)&&!t||eI(i,1)?(r=n).push.apply(r,Jn(i)):n.push(i)})||n},Jn=function(e,t,n){return Lt&&!t&&Lt.selector?Lt.selector(e):ms(e)&&!n&&(db||!oc())?gb.call((t||m2).querySelectorAll(e),0):Ds(e)?BH(e,n):eI(e)?gb.call(e,0):e?[e]:[]},xb=function(e){return e=Jn(e)[0]||Tu("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return Jn(t,n.querySelectorAll?n:n===e?Tu("Invalid scope")||m2.createElement("div"):e)}},tI=function(e){return e.sort(function(){return .5-Math.random()})},sI=function(e){if(Ft(e))return e;var t=lr(e)?e:{each:e},n=Ao(t.ease),i=t.from||0,r=parseFloat(t.base)||0,a={},l=i>0&&i<1,c=isNaN(i)||l,f=t.axis,u=i,h=i;return ms(i)?u=h={center:.5,edges:.5,end:1}[i]||0:!l&&c&&(u=i[0],h=i[1]),function(p,g,x){var y=(x||t).length,v=a[y],w,L,S,j,E,M,N,I,A;if(!v){if(A=t.grid==="auto"?0:(t.grid||[1,sr])[1],!A){for(N=-1e8;N<(N=x[A++].getBoundingClientRect().left)&&A<y;);A<y&&A--}for(v=a[y]=[],w=c?Math.min(A,y)*u-.5:i%A,L=A===sr?0:c?y*h/A-.5:i/A|0,N=0,I=sr,M=0;M<y;M++)S=M%A-w,j=L-(M/A|0),v[M]=E=f?Math.abs(f==="y"?j:S):Ok(S*S+j*j),E>N&&(N=E),E<I&&(I=E);i==="random"&&tI(v),v.max=N-I,v.min=I,v.v=y=(parseFloat(t.amount)||parseFloat(t.each)*(A>y?y-1:f?f==="y"?y/A:A:Math.max(A,y/A))||0)*(i==="edges"?-1:1),v.b=y<0?r-y:r,v.u=Ms(t.amount||t.each)||0,n=n&&y<0?dI(n):n}return y=(v[p]-v.min)/v.max||0,qt(v.b+(n?n(y):y)*v.v)+v.u}},yb=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var i=qt(Math.round(parseFloat(n)/e)*e*t);return(i-i%1)/t+(zr(n)?0:Ms(n))}},nI=function(e,t){var n=Ds(e),i,r;return!n&&lr(e)&&(i=n=e.radius||sr,e.values?(e=Jn(e.values),(r=!zr(e[0]))&&(i*=i)):e=yb(e.increment)),Va(t,n?Ft(e)?function(a){return r=e(a),Math.abs(r-a)<=i?r:a}:function(a){for(var l=parseFloat(r?a.x:a),c=parseFloat(r?a.y:0),f=sr,u=0,h=e.length,p,g;h--;)r?(p=e[h].x-l,g=e[h].y-c,p=p*p+g*g):p=Math.abs(e[h]-l),p<f&&(f=p,u=h);return u=!i||f<=i?e[u]:a,r||u===a||zr(a)?u:u+Ms(a)}:yb(e))},iI=function(e,t,n,i){return Va(Ds(e)?!t:n===!0?!!(n=0):!i,function(){return Ds(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+n*.99))/n)*n*i)/i})},UH=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){return t.reduce(function(r,a){return a(r)},i)}},$H=function(e,t){return function(n){return e(parseFloat(n))+(t||Ms(n))}},VH=function(e,t,n){return aI(e,t,0,1,n)},rI=function(e,t,n){return Va(n,function(i){return e[~~t(i)]})},GH=function s(e,t,n){var i=t-e;return Ds(e)?rI(e,s(0,e.length),t):Va(n,function(r){return(i+(r-e)%i)%i+e})},HH=function s(e,t,n){var i=t-e,r=i*2;return Ds(e)?rI(e,s(0,e.length-1),t):Va(n,function(a){return a=(r+(a-e)%r)%r||0,e+(a>i?r-a:a)})},Eu=function(e){for(var t=0,n="",i,r,a,l;~(i=e.indexOf("random(",t));)a=e.indexOf(")",i),l=e.charAt(i+7)==="[",r=e.substr(i+7,a-i-7).match(l?Uk:ub),n+=e.substr(t,i-t)+iI(l?r:+r[0],l?0:+r[1],+r[2]||1e-5),t=a+1;return n+e.substr(t,e.length-t)},aI=function(e,t,n,i,r){var a=t-e,l=i-n;return Va(r,function(c){return n+((c-e)/a*l||0)})},YH=function s(e,t,n,i){var r=isNaN(e+t)?0:function(g){return(1-g)*e+g*t};if(!r){var a=ms(e),l={},c,f,u,h,p;if(n===!0&&(i=1)&&(n=null),a)e={p:e},t={p:t};else if(Ds(e)&&!Ds(t)){for(u=[],h=e.length,p=h-2,f=1;f<h;f++)u.push(s(e[f-1],e[f]));h--,r=function(x){x*=h;var y=Math.min(p,~~x);return u[y](x-y)},n=t}else i||(e=ic(Ds(e)?[]:{},e));if(!u){for(c in t)v2.call(l,e,c,"get",t[c]);r=function(x){return C2(x,l)||(a?e.p:e)}}}return Va(n,r)},UC=function(e,t,n){var i=e.labels,r=sr,a,l,c;for(a in i)l=i[a]-t,l<0==!!n&&l&&r>(l=Math.abs(l))&&(c=a,r=l);return c},Tn=function(e,t,n){var i=e.vars,r=i[t],a=Lt,l=e._ctx,c,f,u;if(r)return c=i[t+"Params"],f=i.callbackScope||e,n&&Ma.length&&jm(),l&&(Lt=l),u=c?r.apply(f,c):r.call(f),Lt=a,u},Of=function(e){return Da(e),e.scrollTrigger&&e.scrollTrigger.kill(!!bs),e.progress()<1&&Tn(e,"onInterrupt"),e},Ol,oI=[],lI=function(e){if(e)if(e=!e.name&&e.default||e,h2()||e.headless){var t=e.name,n=Ft(e),i=t&&!n&&e.init?function(){this._props=[]}:e,r={init:ju,render:C2,add:v2,kill:lY,modifier:oY,rawVars:0},a={targetTest:0,get:0,getSetter:L2,aliases:{},register:0};if(oc(),e!==i){if(vn[t])return;_n(i,_n(Em(e,r),a)),ic(i.prototype,ic(r,Em(e,a))),vn[i.prop=t]=i,e.targetTest&&(V0.push(i),g2[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}Gk(t,i),e.register&&e.register(un,i,cn)}else oI.push(e)},xt=255,Ff={aqua:[0,xt,xt],lime:[0,xt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,xt],navy:[0,0,128],white:[xt,xt,xt],olive:[128,128,0],yellow:[xt,xt,0],orange:[xt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[xt,0,0],pink:[xt,192,203],cyan:[0,xt,xt],transparent:[xt,xt,xt,0]},gx=function(e,t,n){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(n-t)*e*6:e<.5?n:e*3<2?t+(n-t)*(2/3-e)*6:t)*xt+.5|0},cI=function(e,t,n){var i=e?zr(e)?[e>>16,e>>8&xt,e&xt]:0:Ff.black,r,a,l,c,f,u,h,p,g,x;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Ff[e])i=Ff[e];else if(e.charAt(0)==="#"){if(e.length<6&&(r=e.charAt(1),a=e.charAt(2),l=e.charAt(3),e="#"+r+r+a+a+l+l+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&xt,i&xt,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&xt,e&xt]}else if(e.substr(0,3)==="hsl"){if(i=x=e.match(ub),!t)c=+i[0]%360/360,f=+i[1]/100,u=+i[2]/100,a=u<=.5?u*(f+1):u+f-u*f,r=u*2-a,i.length>3&&(i[3]*=1),i[0]=gx(c+1/3,r,a),i[1]=gx(c,r,a),i[2]=gx(c-1/3,r,a);else if(~e.indexOf("="))return i=e.match(zk),n&&i.length<4&&(i[3]=1),i}else i=e.match(ub)||Ff.transparent;i=i.map(Number)}return t&&!x&&(r=i[0]/xt,a=i[1]/xt,l=i[2]/xt,h=Math.max(r,a,l),p=Math.min(r,a,l),u=(h+p)/2,h===p?c=f=0:(g=h-p,f=u>.5?g/(2-h-p):g/(h+p),c=h===r?(a-l)/g+(a<l?6:0):h===a?(l-r)/g+2:(r-a)/g+4,c*=60),i[0]=~~(c+.5),i[1]=~~(f*100+.5),i[2]=~~(u*100+.5)),n&&i.length<4&&(i[3]=1),i},fI=function(e){var t=[],n=[],i=-1;return e.split(ka).forEach(function(r){var a=r.match(Rl)||[];t.push.apply(t,a),n.push(i+=a.length+1)}),t.c=n,t},$C=function(e,t,n){var i="",r=(e+i).match(ka),a=t?"hsla(":"rgba(",l=0,c,f,u,h;if(!r)return e;if(r=r.map(function(p){return(p=cI(p,t,1))&&a+(t?p[0]+","+p[1]+"%,"+p[2]+"%,"+p[3]:p.join(","))+")"}),n&&(u=fI(e),c=n.c,c.join(i)!==u.c.join(i)))for(f=e.replace(ka,"1").split(Rl),h=f.length-1;l<h;l++)i+=f[l]+(~c.indexOf(l)?r.shift()||a+"0,0,0,0)":(u.length?u:r.length?r:n).shift());if(!f)for(f=e.split(ka),h=f.length-1;l<h;l++)i+=f[l]+r[l];return i+f[h]},ka=function(){var s="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Ff)s+="|"+e+"\\b";return new RegExp(s+")","gi")}(),WH=/hsl[a]?\(/,uI=function(e){var t=e.join(" "),n;if(ka.lastIndex=0,ka.test(t))return n=WH.test(t),e[1]=$C(e[1],n),e[0]=$C(e[0],n,fI(e[1])),!0},Nu,Ln=function(){var s=Date.now,e=500,t=33,n=s(),i=n,r=1e3/240,a=r,l=[],c,f,u,h,p,g,x=function y(v){var w=s()-i,L=v===!0,S,j,E,M;if((w>e||w<0)&&(n+=w-t),i+=w,E=i-n,S=E-a,(S>0||L)&&(M=++h.frame,p=E-h.time*1e3,h.time=E=E/1e3,a+=S+(S>=r?4:r-S),j=1),L||(c=f(y)),j)for(g=0;g<l.length;g++)l[g](E,p,M,v)};return h={time:0,frame:0,tick:function(){x(!0)},deltaRatio:function(v){return p/(1e3/(v||60))},wake:function(){$k&&(!db&&h2()&&(Ui=db=window,m2=Ui.document||{},In.gsap=un,(Ui.gsapVersions||(Ui.gsapVersions=[])).push(un.version),Vk(Tm||Ui.GreenSockGlobals||!Ui.gsap&&Ui||{}),oI.forEach(lI)),u=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&h.sleep(),f=u||function(v){return setTimeout(v,a-h.time*1e3+1|0)},Nu=1,x(2))},sleep:function(){(u?cancelAnimationFrame:clearTimeout)(c),Nu=0,f=ju},lagSmoothing:function(v,w){e=v||1/0,t=Math.min(w||33,e)},fps:function(v){r=1e3/(v||240),a=h.time*1e3+r},add:function(v,w,L){var S=w?function(j,E,M,N){v(j,E,M,N),h.remove(S)}:v;return h.remove(v),l[L?"unshift":"push"](S),oc(),S},remove:function(v,w){~(w=l.indexOf(v))&&l.splice(w,1)&&g>=w&&g--},_listeners:l},h}(),oc=function(){return!Nu&&Ln.wake()},nt={},QH=/^[\d.\-M][\d.\-,\s]/,KH=/["']/g,JH=function(e){for(var t={},n=e.substr(1,e.length-3).split(":"),i=n[0],r=1,a=n.length,l,c,f;r<a;r++)c=n[r],l=r!==a-1?c.lastIndexOf(","):c.length,f=c.substr(0,l),t[i]=isNaN(f)?f.replace(KH,"").trim():+f,i=c.substr(l+1).trim();return t},qH=function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<n?e.indexOf(")",n+1):n)},ZH=function(e){var t=(e+"").split("("),n=nt[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[JH(t[1])]:qH(e).split(",").map(Qk)):nt._CE&&QH.test(e)?nt._CE("",e):n},dI=function(e){return function(t){return 1-e(1-t)}},hI=function s(e,t){for(var n=e._first,i;n;)n instanceof zs?s(n,t):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==t&&(n.timeline?s(n.timeline,t):(i=n._ease,n._ease=n._yEase,n._yEase=i,n._yoyo=t)),n=n._next},Ao=function(e,t){return e&&(Ft(e)?e:nt[e]||ZH(e))||t},Yo=function(e,t,n,i){n===void 0&&(n=function(c){return 1-t(1-c)}),i===void 0&&(i=function(c){return c<.5?t(c*2)/2:1-t((1-c)*2)/2});var r={easeIn:t,easeOut:n,easeInOut:i},a;return ln(e,function(l){nt[l]=In[l]=r,nt[a=l.toLowerCase()]=n;for(var c in r)nt[a+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=nt[l+"."+c]=r[c]}),r},mI=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},xx=function s(e,t,n){var i=t>=1?t:1,r=(n||(e?.3:.45))/(t<1?t:1),a=r/fb*(Math.asin(1/i)||0),l=function(u){return u===1?1:i*Math.pow(2,-10*u)*jH((u-a)*r)+1},c=e==="out"?l:e==="in"?function(f){return 1-l(1-f)}:mI(l);return r=fb/r,c.config=function(f,u){return s(e,f,u)},c},yx=function s(e,t){t===void 0&&(t=1.70158);var n=function(a){return a?--a*a*((t+1)*a+t)+1:0},i=e==="out"?n:e==="in"?function(r){return 1-n(1-r)}:mI(n);return i.config=function(r){return s(e,r)},i};ln("Linear,Quad,Cubic,Quart,Quint,Strong",function(s,e){var t=e<5?e+1:e;Yo(s+",Power"+(t-1),e?function(n){return Math.pow(n,t)}:function(n){return n},function(n){return 1-Math.pow(1-n,t)},function(n){return n<.5?Math.pow(n*2,t)/2:1-Math.pow((1-n)*2,t)/2})});nt.Linear.easeNone=nt.none=nt.Linear.easeIn;Yo("Elastic",xx("in"),xx("out"),xx());(function(s,e){var t=1/e,n=2*t,i=2.5*t,r=function(l){return l<t?s*l*l:l<n?s*Math.pow(l-1.5/e,2)+.75:l<i?s*(l-=2.25/e)*l+.9375:s*Math.pow(l-2.625/e,2)+.984375};Yo("Bounce",function(a){return 1-r(1-a)},r)})(7.5625,2.75);Yo("Expo",function(s){return Math.pow(2,10*(s-1))*s+s*s*s*s*s*s*(1-s)});Yo("Circ",function(s){return-(Ok(1-s*s)-1)});Yo("Sine",function(s){return s===1?1:-TH(s*LH)+1});Yo("Back",yx("in"),yx("out"),yx());nt.SteppedEase=nt.steps=In.SteppedEase={config:function(e,t){e===void 0&&(e=1);var n=1/e,i=e+(t?0:1),r=t?1:0,a=1-Is;return function(l){return((i*hd(0,a,l)|0)+r)*n}}};nc.ease=nt["quad.out"];ln("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(s){return x2+=s+","+s+"Params,"});var pI=function(e,t){this.id=CH++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:Yk,this.set=t?t.getSetter:L2},Mu=function(){function s(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,ac(this,+t.duration,1,1),this.data=t.data,Lt&&(this._ctx=Lt,Lt.data.push(this)),Nu||Ln.wake()}var e=s.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,ac(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,i){if(oc(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for(kp(this,n),!r._dp||r.parent||qk(r,this);r&&r.parent;)r.parent._time!==r._start+(r._ts>=0?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&Gi(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===Is||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),Wk(this,n,i)),this},e.time=function(n,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+zC(this))%(this._dur+this._rDelay)||(n?this._dur:0),i):this._time},e.totalProgress=function(n,i){return arguments.length?this.totalTime(this.totalDuration()*n,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(n,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+zC(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,i){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*r,i):this._repeat?rc(this._tTime,r)+1:1},e.timeScale=function(n,i){if(!arguments.length)return this._rts===-1e-8?0:this._rts;if(this._rts===n)return this;var r=this.parent&&this._ts?Nm(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-1e-8?0:this._rts,this.totalTime(hd(-Math.abs(this._delay),this.totalDuration(),r),i!==!1),Mp(this),AH(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(oc(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Is&&(this._tTime-=Is)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Gi(i,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(on(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var i=this.parent||this._dp;return i?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Nm(i.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=MH);var i=bs;return bs=n,b2(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),bs=i,this},e.globalTime=function(n){for(var i=this,r=arguments.length?n:i.rawTime();i;)r=i._start+r/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(n):r},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,BC(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var i=this._time;return this._rDelay=n,BC(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,i){return this.totalTime(Wn(this,n),on(i))},e.restart=function(n,i){return this.play().totalTime(n?-this._delay:0,on(i)),this._dur||(this._zTime=-1e-8),this},e.play=function(n,i){return n!=null&&this.seek(n,i),this.reversed(!1).paused(!1)},e.reverse=function(n,i){return n!=null&&this.seek(n||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(n,i){return n!=null&&this.seek(n,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var n=this.parent||this._dp,i=this._start,r;return!!(!n||this._ts&&this._initted&&n.isActive()&&(r=n.rawTime(!0))>=i&&r<this.endTime(!0)-Is)},e.eventCallback=function(n,i,r){var a=this.vars;return arguments.length>1?(i?(a[n]=i,r&&(a[n+"Params"]=r),n==="onUpdate"&&(this._onUpdate=i)):delete a[n],this):a[n]},e.then=function(n){var i=this;return new Promise(function(r){var a=Ft(n)?n:Kk,l=function(){var f=i.then;i.then=null,Ft(a)&&(a=a(i))&&(a.then||a===i)&&(i.then=f),r(a),i.then=f};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?l():i._prom=l})},e.kill=function(){Of(this)},s}();_n(Mu.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var zs=function(s){Rk(e,s);function e(n,i){var r;return n===void 0&&(n={}),r=s.call(this,n)||this,r.labels={},r.smoothChildTiming=!!n.smoothChildTiming,r.autoRemoveChildren=!!n.autoRemoveChildren,r._sort=on(n.sortChildren),kt&&Gi(n.parent||kt,Er(r),i),n.reversed&&r.reverse(),n.paused&&r.paused(!0),n.scrollTrigger&&Zk(Er(r),n.scrollTrigger),r}var t=e.prototype;return t.to=function(i,r,a){return tu(0,arguments,this),this},t.from=function(i,r,a){return tu(1,arguments,this),this},t.fromTo=function(i,r,a,l){return tu(2,arguments,this),this},t.set=function(i,r,a){return r.duration=0,r.parent=this,eu(r).repeatDelay||(r.repeat=0),r.immediateRender=!!r.immediateRender,new Jt(i,r,Wn(this,a),1),this},t.call=function(i,r,a){return Gi(this,Jt.delayedCall(0,i,r),a)},t.staggerTo=function(i,r,a,l,c,f,u){return a.duration=r,a.stagger=a.stagger||l,a.onComplete=f,a.onCompleteParams=u,a.parent=this,new Jt(i,a,Wn(this,c)),this},t.staggerFrom=function(i,r,a,l,c,f,u){return a.runBackwards=1,eu(a).immediateRender=on(a.immediateRender),this.staggerTo(i,r,a,l,c,f,u)},t.staggerFromTo=function(i,r,a,l,c,f,u,h){return l.startAt=a,eu(l).immediateRender=on(l.immediateRender),this.staggerTo(i,r,l,c,f,u,h)},t.render=function(i,r,a){var l=this._time,c=this._dirty?this.totalDuration():this._tDur,f=this._dur,u=i<=0?0:qt(i),h=this._zTime<0!=i<0&&(this._initted||!f),p,g,x,y,v,w,L,S,j,E,M,N;if(this!==kt&&u>c&&i>=0&&(u=c),u!==this._tTime||a||h){if(l!==this._time&&f&&(u+=this._time-l,i+=this._time-l),p=u,j=this._start,S=this._ts,w=!S,h&&(f||(l=this._zTime),(i||!r)&&(this._zTime=i)),this._repeat){if(M=this._yoyo,v=f+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(v*100+i,r,a);if(p=qt(u%v),u===c?(y=this._repeat,p=f):(E=qt(u/v),y=~~E,y&&y===E&&(p=f,y--),p>f&&(p=f)),E=rc(this._tTime,v),!l&&this._tTime&&E!==y&&this._tTime-E*v-this._dur<=0&&(E=y),M&&y&1&&(p=f-p,N=1),y!==E&&!this._lock){var I=M&&E&1,A=I===(M&&y&1);if(y<E&&(I=!I),l=I?0:u%f?f:u,this._lock=1,this.render(l||(N?0:qt(y*v)),r,!f)._lock=0,this._tTime=u,!r&&this.parent&&Tn(this,"onRepeat"),this.vars.repeatRefresh&&!N&&(this.invalidate()._lock=1),l&&l!==this._time||w!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(f=this._dur,c=this._tDur,A&&(this._lock=2,l=I?f:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!N&&this.invalidate()),this._lock=0,!this._ts&&!w)return this;hI(this,N)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(L=OH(this,qt(l),qt(p)),L&&(u-=p-(p=L._start))),this._tTime=u,this._time=p,this._act=!S,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,l=0),!l&&u&&!r&&!E&&(Tn(this,"onStart"),this._tTime!==u))return this;if(p>=l&&i>=0)for(g=this._first;g;){if(x=g._next,(g._act||p>=g._start)&&g._ts&&L!==g){if(g.parent!==this)return this.render(i,r,a);if(g.render(g._ts>0?(p-g._start)*g._ts:(g._dirty?g.totalDuration():g._tDur)+(p-g._start)*g._ts,r,a),p!==this._time||!this._ts&&!w){L=0,x&&(u+=this._zTime=-1e-8);break}}g=x}else{g=this._last;for(var D=i<0?i:p;g;){if(x=g._prev,(g._act||D<=g._end)&&g._ts&&L!==g){if(g.parent!==this)return this.render(i,r,a);if(g.render(g._ts>0?(D-g._start)*g._ts:(g._dirty?g.totalDuration():g._tDur)+(D-g._start)*g._ts,r,a||bs&&b2(g)),p!==this._time||!this._ts&&!w){L=0,x&&(u+=this._zTime=D?-1e-8:Is);break}}g=x}}if(L&&!r&&(this.pause(),L.render(p>=l?0:-1e-8)._zTime=p>=l?1:-1,this._ts))return this._start=j,Mp(this),this.render(i,r,a);this._onUpdate&&!r&&Tn(this,"onUpdate",!0),(u===c&&this._tTime>=this.totalDuration()||!u&&l)&&(j===this._start||Math.abs(S)!==Math.abs(this._ts))&&(this._lock||((i||!f)&&(u===c&&this._ts>0||!u&&this._ts<0)&&Da(this,1),!r&&!(i<0&&!l)&&(u||l||!c)&&(Tn(this,u===c&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<c&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,r){var a=this;if(zr(r)||(r=Wn(this,r,i)),!(i instanceof Mu)){if(Ds(i))return i.forEach(function(l){return a.add(l,r)}),this;if(ms(i))return this.addLabel(i,r);if(Ft(i))i=Jt.delayedCall(0,i);else return this}return this!==i?Gi(this,i,r):this},t.getChildren=function(i,r,a,l){i===void 0&&(i=!0),r===void 0&&(r=!0),a===void 0&&(a=!0),l===void 0&&(l=-1e8);for(var c=[],f=this._first;f;)f._start>=l&&(f instanceof Jt?r&&c.push(f):(a&&c.push(f),i&&c.push.apply(c,f.getChildren(!0,r,a)))),f=f._next;return c},t.getById=function(i){for(var r=this.getChildren(1,1,1),a=r.length;a--;)if(r[a].vars.id===i)return r[a]},t.remove=function(i){return ms(i)?this.removeLabel(i):Ft(i)?this.killTweensOf(i):(i.parent===this&&Np(this,i),i===this._recent&&(this._recent=this._last),_o(this))},t.totalTime=function(i,r){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=qt(Ln.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),s.prototype.totalTime.call(this,i,r),this._forcing=0,this):this._tTime},t.addLabel=function(i,r){return this.labels[i]=Wn(this,r),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,r,a){var l=Jt.delayedCall(0,r||ju,a);return l.data="isPause",this._hasPause=1,Gi(this,l,Wn(this,i))},t.removePause=function(i){var r=this._first;for(i=Wn(this,i);r;)r._start===i&&r.data==="isPause"&&Da(r),r=r._next},t.killTweensOf=function(i,r,a){for(var l=this.getTweensOf(i,a),c=l.length;c--;)wa!==l[c]&&l[c].kill(i,r);return this},t.getTweensOf=function(i,r){for(var a=[],l=Jn(i),c=this._first,f=zr(r),u;c;)c instanceof Jt?kH(c._targets,l)&&(f?(!wa||c._initted&&c._ts)&&c.globalTime(0)<=r&&c.globalTime(c.totalDuration())>r:!r||c.isActive())&&a.push(c):(u=c.getTweensOf(l,r)).length&&a.push.apply(a,u),c=c._next;return a},t.tweenTo=function(i,r){r=r||{};var a=this,l=Wn(a,i),c=r,f=c.startAt,u=c.onStart,h=c.onStartParams,p=c.immediateRender,g,x=Jt.to(a,_n({ease:r.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:r.duration||Math.abs((l-(f&&"time"in f?f.time:a._time))/a.timeScale())||Is,onStart:function(){if(a.pause(),!g){var v=r.duration||Math.abs((l-(f&&"time"in f?f.time:a._time))/a.timeScale());x._dur!==v&&ac(x,v,0,1).render(x._time,!0,!0),g=1}u&&u.apply(x,h||[])}},r));return p?x.render(0):x},t.tweenFromTo=function(i,r,a){return this.tweenTo(r,_n({startAt:{time:Wn(this,i)}},a))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),UC(this,Wn(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),UC(this,Wn(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+Is)},t.shiftChildren=function(i,r,a){a===void 0&&(a=0);for(var l=this._first,c=this.labels,f;l;)l._start>=a&&(l._start+=i,l._end+=i),l=l._next;if(r)for(f in c)c[f]>=a&&(c[f]+=i);return _o(this)},t.invalidate=function(i){var r=this._first;for(this._lock=0;r;)r.invalidate(i),r=r._next;return s.prototype.invalidate.call(this,i)},t.clear=function(i){i===void 0&&(i=!0);for(var r=this._first,a;r;)a=r._next,this.remove(r),r=a;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),_o(this)},t.totalDuration=function(i){var r=0,a=this,l=a._last,c=sr,f,u,h;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-i:i));if(a._dirty){for(h=a.parent;l;)f=l._prev,l._dirty&&l.totalDuration(),u=l._start,u>c&&a._sort&&l._ts&&!a._lock?(a._lock=1,Gi(a,l,u-l._delay,1)._lock=0):c=u,u<0&&l._ts&&(r-=u,(!h&&!a._dp||h&&h.smoothChildTiming)&&(a._start+=u/a._ts,a._time-=u,a._tTime-=u),a.shiftChildren(-u,!1,-1/0),c=0),l._end>r&&l._ts&&(r=l._end),l=f;ac(a,a===kt&&a._time>r?a._time:r,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(i){if(kt._ts&&(Wk(kt,Nm(i,kt)),Hk=Ln.frame),Ln.frame>=OC){OC+=Nn.autoSleep||120;var r=kt._first;if((!r||!r._ts)&&Nn.autoSleep&&Ln._listeners.length<2){for(;r&&!r._ts;)r=r._next;r||Ln.sleep()}}},e}(Mu);_n(zs.prototype,{_lock:0,_hasPause:0,_forcing:0});var XH=function(e,t,n,i,r,a,l){var c=new cn(this._pt,e,t,0,1,wI,null,r),f=0,u=0,h,p,g,x,y,v,w,L;for(c.b=n,c.e=i,n+="",i+="",(w=~i.indexOf("random("))&&(i=Eu(i)),a&&(L=[n,i],a(L,e,t),n=L[0],i=L[1]),p=n.match(mx)||[];h=mx.exec(i);)x=h[0],y=i.substring(f,h.index),g?g=(g+1)%5:y.substr(-5)==="rgba("&&(g=1),x!==p[u++]&&(v=parseFloat(p[u-1])||0,c._pt={_next:c._pt,p:y||u===1?y:",",s:v,c:x.charAt(1)==="="?Gl(v,x)-v:parseFloat(x)-v,m:g&&g<4?Math.round:0},f=mx.lastIndex);return c.c=f<i.length?i.substring(f,i.length):"",c.fp=l,(Bk.test(i)||w)&&(c.e=0),this._pt=c,c},v2=function(e,t,n,i,r,a,l,c,f,u){Ft(i)&&(i=i(r||0,e,a));var h=e[t],p=n!=="get"?n:Ft(h)?f?e[t.indexOf("set")||!Ft(e["get"+t.substr(3)])?t:"get"+t.substr(3)](f):e[t]():h,g=Ft(h)?f?iY:bI:S2,x;if(ms(i)&&(~i.indexOf("random(")&&(i=Eu(i)),i.charAt(1)==="="&&(x=Gl(p,i)+(Ms(p)||0),(x||x===0)&&(i=x))),!u||p!==i||bb)return!isNaN(p*i)&&i!==""?(x=new cn(this._pt,e,t,+p||0,i-(p||0),typeof h=="boolean"?aY:vI,0,g),f&&(x.fp=f),l&&x.modifier(l,this,e),this._pt=x):(!h&&!(t in e)&&p2(t,i),XH.call(this,e,t,p,i,g,c||Nn.stringFilter,f))},eY=function(e,t,n,i,r){if(Ft(e)&&(e=su(e,r,t,n,i)),!lr(e)||e.style&&e.nodeType||Ds(e)||Fk(e))return ms(e)?su(e,r,t,n,i):e;var a={},l;for(l in e)a[l]=su(e[l],r,t,n,i);return a},gI=function(e,t,n,i,r,a){var l,c,f,u;if(vn[e]&&(l=new vn[e]).init(r,l.rawVars?t[e]:eY(t[e],i,r,a,n),n,i,a)!==!1&&(n._pt=c=new cn(n._pt,r,e,0,1,l.render,l,0,l.priority),n!==Ol))for(f=n._ptLookup[n._targets.indexOf(r)],u=l._props.length;u--;)f[l._props[u]]=c;return l},wa,bb,w2=function s(e,t,n){var i=e.vars,r=i.ease,a=i.startAt,l=i.immediateRender,c=i.lazy,f=i.onUpdate,u=i.runBackwards,h=i.yoyoEase,p=i.keyframes,g=i.autoRevert,x=e._dur,y=e._startAt,v=e._targets,w=e.parent,L=w&&w.data==="nested"?w.vars.targets:v,S=e._overwrite==="auto"&&!u2,j=e.timeline,E,M,N,I,A,D,z,O,Y,q,Z,V,H;if(j&&(!p||!r)&&(r="none"),e._ease=Ao(r,nc.ease),e._yEase=h?dI(Ao(h===!0?r:h,nc.ease)):0,h&&e._yoyo&&!e._repeat&&(h=e._yEase,e._yEase=e._ease,e._ease=h),e._from=!j&&!!i.runBackwards,!j||p&&!i.stagger){if(O=v[0]?Io(v[0]).harness:0,V=O&&i[O.prop],E=Em(i,g2),y&&(y._zTime<0&&y.progress(1),t<0&&u&&l&&!g?y.render(-1,!0):y.revert(u&&x?$0:NH),y._lazy=0),a){if(Da(e._startAt=Jt.set(v,_n({data:"isStart",overwrite:!1,parent:w,immediateRender:!0,lazy:!y&&on(c),startAt:null,delay:0,onUpdate:f&&function(){return Tn(e,"onUpdate")},stagger:0},a))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(bs||!l&&!g)&&e._startAt.revert($0),l&&x&&t<=0&&n<=0){t&&(e._zTime=t);return}}else if(u&&x&&!y){if(t&&(l=!1),N=_n({overwrite:!1,data:"isFromStart",lazy:l&&!y&&on(c),immediateRender:l,stagger:0,parent:w},E),V&&(N[O.prop]=V),Da(e._startAt=Jt.set(v,N)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(bs?e._startAt.revert($0):e._startAt.render(-1,!0)),e._zTime=t,!l)s(e._startAt,Is,Is);else if(!t)return}for(e._pt=e._ptCache=0,c=x&&on(c)||c&&!x,M=0;M<v.length;M++){if(A=v[M],z=A._gsap||y2(v)[M]._gsap,e._ptLookup[M]=q={},hb[z.id]&&Ma.length&&jm(),Z=L===v?M:L.indexOf(A),O&&(Y=new O).init(A,V||E,e,Z,L)!==!1&&(e._pt=I=new cn(e._pt,A,Y.name,0,1,Y.render,Y,0,Y.priority),Y._props.forEach(function(F){q[F]=I}),Y.priority&&(D=1)),!O||V)for(N in E)vn[N]&&(Y=gI(N,E,e,Z,A,L))?Y.priority&&(D=1):q[N]=I=v2.call(e,A,N,"get",E[N],Z,L,0,i.stringFilter);e._op&&e._op[M]&&e.kill(A,e._op[M]),S&&e._pt&&(wa=e,kt.killTweensOf(A,q,e.globalTime(t)),H=!e.parent,wa=0),e._pt&&c&&(hb[z.id]=1)}D&&SI(e),e._onInit&&e._onInit(e)}e._onUpdate=f,e._initted=(!e._op||e._pt)&&!H,p&&t<=0&&j.render(sr,!0,!0)},tY=function(e,t,n,i,r,a,l,c){var f=(e._pt&&e._ptCache||(e._ptCache={}))[t],u,h,p,g;if(!f)for(f=e._ptCache[t]=[],p=e._ptLookup,g=e._targets.length;g--;){if(u=p[g][t],u&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==t&&u.fp!==t;)u=u._next;if(!u)return bb=1,e.vars[t]="+=0",w2(e,l),bb=0,c?Tu(t+" not eligible for reset"):1;f.push(u)}for(g=f.length;g--;)h=f[g],u=h._pt||h,u.s=(i||i===0)&&!r?i:u.s+(i||0)+a*u.c,u.c=n-u.s,h.e&&(h.e=Wt(n)+Ms(h.e)),h.b&&(h.b=u.s+Ms(h.b))},sY=function(e,t){var n=e[0]?Io(e[0]).harness:0,i=n&&n.aliases,r,a,l,c;if(!i)return t;r=ic({},t);for(a in i)if(a in r)for(c=i[a].split(","),l=c.length;l--;)r[c[l]]=r[a];return r},nY=function(e,t,n,i){var r=t.ease||i||"power1.inOut",a,l;if(Ds(t))l=n[e]||(n[e]=[]),t.forEach(function(c,f){return l.push({t:f/(t.length-1)*100,v:c,e:r})});else for(a in t)l=n[a]||(n[a]=[]),a==="ease"||l.push({t:parseFloat(e),v:t[a],e:r})},su=function(e,t,n,i,r){return Ft(e)?e.call(t,n,i,r):ms(e)&&~e.indexOf("random(")?Eu(e):e},xI=x2+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",yI={};ln(xI+",id,stagger,delay,duration,paused,scrollTrigger",function(s){return yI[s]=1});var Jt=function(s){Rk(e,s);function e(n,i,r,a){var l;typeof i=="number"&&(r.duration=i,i=r,r=null),l=s.call(this,a?i:eu(i))||this;var c=l.vars,f=c.duration,u=c.delay,h=c.immediateRender,p=c.stagger,g=c.overwrite,x=c.keyframes,y=c.defaults,v=c.scrollTrigger,w=c.yoyoEase,L=i.parent||kt,S=(Ds(n)||Fk(n)?zr(n[0]):"length"in i)?[n]:Jn(n),j,E,M,N,I,A,D,z;if(l._targets=S.length?y2(S):Tu("GSAP target "+n+" not found. https://gsap.com",!Nn.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=g,x||p||Fh(f)||Fh(u)){if(i=l.vars,j=l.timeline=new zs({data:"nested",defaults:y||{},targets:L&&L.data==="nested"?L.vars.targets:S}),j.kill(),j.parent=j._dp=Er(l),j._start=0,p||Fh(f)||Fh(u)){if(N=S.length,D=p&&sI(p),lr(p))for(I in p)~xI.indexOf(I)&&(z||(z={}),z[I]=p[I]);for(E=0;E<N;E++)M=Em(i,yI),M.stagger=0,w&&(M.yoyoEase=w),z&&ic(M,z),A=S[E],M.duration=+su(f,Er(l),E,A,S),M.delay=(+su(u,Er(l),E,A,S)||0)-l._delay,!p&&N===1&&M.delay&&(l._delay=u=M.delay,l._start+=u,M.delay=0),j.to(A,M,D?D(E,A,S):0),j._ease=nt.none;j.duration()?f=u=0:l.timeline=0}else if(x){eu(_n(j.vars.defaults,{ease:"none"})),j._ease=Ao(x.ease||i.ease||"none");var O=0,Y,q,Z;if(Ds(x))x.forEach(function(V){return j.to(S,V,">")}),j.duration();else{M={};for(I in x)I==="ease"||I==="easeEach"||nY(I,x[I],M,x.easeEach);for(I in M)for(Y=M[I].sort(function(V,H){return V.t-H.t}),O=0,E=0;E<Y.length;E++)q=Y[E],Z={ease:q.e,duration:(q.t-(E?Y[E-1].t:0))/100*f},Z[I]=q.v,j.to(S,Z,O),O+=Z.duration;j.duration()<f&&j.to({},{duration:f-j.duration()})}}f||l.duration(f=j.duration())}else l.timeline=0;return g===!0&&!u2&&(wa=Er(l),kt.killTweensOf(S),wa=0),Gi(L,Er(l),r),i.reversed&&l.reverse(),i.paused&&l.paused(!0),(h||!f&&!x&&l._start===qt(L._time)&&on(h)&&DH(Er(l))&&L.data!=="nested")&&(l._tTime=-1e-8,l.render(Math.max(0,-u)||0)),v&&Zk(Er(l),v),l}var t=e.prototype;return t.render=function(i,r,a){var l=this._time,c=this._tDur,f=this._dur,u=i<0,h=i>c-Is&&!u?c:i<Is?0:i,p,g,x,y,v,w,L,S,j;if(!f)RH(this,i,r,a);else if(h!==this._tTime||!i||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u||this._lazy){if(p=h,S=this.timeline,this._repeat){if(y=f+this._rDelay,this._repeat<-1&&u)return this.totalTime(y*100+i,r,a);if(p=qt(h%y),h===c?(x=this._repeat,p=f):(v=qt(h/y),x=~~v,x&&x===v?(p=f,x--):p>f&&(p=f)),w=this._yoyo&&x&1,w&&(j=this._yEase,p=f-p),v=rc(this._tTime,y),p===l&&!a&&this._initted&&x===v)return this._tTime=h,this;x!==v&&(S&&this._yEase&&hI(S,w),this.vars.repeatRefresh&&!w&&!this._lock&&p!==y&&this._initted&&(this._lock=a=1,this.render(qt(y*x),!0).invalidate()._lock=0))}if(!this._initted){if(Xk(this,u?i:p,a,r,h))return this._tTime=0,this;if(l!==this._time&&!(a&&this.vars.repeatRefresh&&x!==v))return this;if(f!==this._dur)return this.render(i,r,a)}if(this._tTime=h,this._time=p,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=L=(j||this._ease)(p/f),this._from&&(this.ratio=L=1-L),!l&&h&&!r&&!v&&(Tn(this,"onStart"),this._tTime!==h))return this;for(g=this._pt;g;)g.r(L,g.d),g=g._next;S&&S.render(i<0?i:S._dur*S._ease(p/this._dur),r,a)||this._startAt&&(this._zTime=i),this._onUpdate&&!r&&(u&&mb(this,i,r,a),Tn(this,"onUpdate")),this._repeat&&x!==v&&this.vars.onRepeat&&!r&&this.parent&&Tn(this,"onRepeat"),(h===this._tDur||!h)&&this._tTime===h&&(u&&!this._onUpdate&&mb(this,i,!0,!0),(i||!f)&&(h===this._tDur&&this._ts>0||!h&&this._ts<0)&&Da(this,1),!r&&!(u&&!l)&&(h||l||w)&&(Tn(this,h===c?"onComplete":"onReverseComplete",!0),this._prom&&!(h<c&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),s.prototype.invalidate.call(this,i)},t.resetTo=function(i,r,a,l,c){Nu||Ln.wake(),this._ts||this.play();var f=Math.min(this._dur,(this._dp._time-this._start)*this._ts),u;return this._initted||w2(this,f),u=this._ease(f/this._dur),tY(this,i,r,a,l,u,f,c)?this.resetTo(i,r,a,l,1):(kp(this,0),this.parent||Jk(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,r){if(r===void 0&&(r="all"),!i&&(!r||r==="all"))return this._lazy=this._pt=0,this.parent?Of(this):this.scrollTrigger&&this.scrollTrigger.kill(!!bs),this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(i,r,wa&&wa.vars.overwrite!==!0)._first||Of(this),this.parent&&a!==this.timeline.totalDuration()&&ac(this,this._dur*this.timeline._tDur/a,0,1),this}var l=this._targets,c=i?Jn(i):l,f=this._ptLookup,u=this._pt,h,p,g,x,y,v,w;if((!r||r==="all")&&_H(l,c))return r==="all"&&(this._pt=0),Of(this);for(h=this._op=this._op||[],r!=="all"&&(ms(r)&&(y={},ln(r,function(L){return y[L]=1}),r=y),r=sY(l,r)),w=l.length;w--;)if(~c.indexOf(l[w])){p=f[w],r==="all"?(h[w]=r,x=p,g={}):(g=h[w]=h[w]||{},x=r);for(y in x)v=p&&p[y],v&&((!("kill"in v.d)||v.d.kill(y)===!0)&&Np(this,v,"_pt"),delete p[y]),g!=="all"&&(g[y]=1)}return this._initted&&!this._pt&&u&&Of(this),this},e.to=function(i,r){return new e(i,r,arguments[2])},e.from=function(i,r){return tu(1,arguments)},e.delayedCall=function(i,r,a,l){return new e(r,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:r,onReverseComplete:r,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:l})},e.fromTo=function(i,r,a){return tu(2,arguments)},e.set=function(i,r){return r.duration=0,r.repeatDelay||(r.repeat=0),new e(i,r)},e.killTweensOf=function(i,r,a){return kt.killTweensOf(i,r,a)},e}(Mu);_n(Jt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});ln("staggerTo,staggerFrom,staggerFromTo",function(s){Jt[s]=function(){var e=new zs,t=gb.call(arguments,0);return t.splice(s==="staggerFromTo"?5:4,0,0),e[s].apply(e,t)}});var S2=function(e,t,n){return e[t]=n},bI=function(e,t,n){return e[t](n)},iY=function(e,t,n,i){return e[t](i.fp,n)},rY=function(e,t,n){return e.setAttribute(t,n)},L2=function(e,t){return Ft(e[t])?bI:d2(e[t])&&e.setAttribute?rY:S2},vI=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},aY=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},wI=function(e,t){var n=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;n;)i=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+i,n=n._next;i+=t.c}t.set(t.t,t.p,i,t)},C2=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},oY=function(e,t,n,i){for(var r=this._pt,a;r;)a=r._next,r.p===i&&r.modifier(e,t,n),r=a},lY=function(e){for(var t=this._pt,n,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?Np(this,t,"_pt"):t.dep||(n=1),t=i;return!n},cY=function(e,t,n,i){i.mSet(e,t,i.m.call(i.tween,n,i.mt),i)},SI=function(e){for(var t=e._pt,n,i,r,a;t;){for(n=t._next,i=r;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:a)?t._prev._next=t:r=t,(t._next=i)?i._prev=t:a=t,t=n}e._pt=r},cn=function(){function s(t,n,i,r,a,l,c,f,u){this.t=n,this.s=r,this.c=a,this.p=i,this.r=l||vI,this.d=c||this,this.set=f||S2,this.pr=u||0,this._next=t,t&&(t._prev=this)}var e=s.prototype;return e.modifier=function(n,i,r){this.mSet=this.mSet||this.set,this.set=cY,this.m=n,this.mt=r,this.tween=i},s}();ln(x2+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(s){return g2[s]=1});In.TweenMax=In.TweenLite=Jt;In.TimelineLite=In.TimelineMax=zs;kt=new zs({sortChildren:!1,defaults:nc,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Nn.stringFilter=uI;var Do=[],G0={},fY=[],VC=0,uY=0,bx=function(e){return(G0[e]||fY).map(function(t){return t()})},vb=function(){var e=Date.now(),t=[];e-VC>2&&(bx("matchMediaInit"),Do.forEach(function(n){var i=n.queries,r=n.conditions,a,l,c,f;for(l in i)a=Ui.matchMedia(i[l]).matches,a&&(c=1),a!==r[l]&&(r[l]=a,f=1);f&&(n.revert(),c&&t.push(n))}),bx("matchMediaRevert"),t.forEach(function(n){return n.onMatch(n,function(i){return n.add(null,i)})}),VC=e,bx("matchMedia"))},LI=function(){function s(t,n){this.selector=n&&xb(n),this.data=[],this._r=[],this.isReverted=!1,this.id=uY++,t&&this.add(t)}var e=s.prototype;return e.add=function(n,i,r){Ft(n)&&(r=i,i=n,n=Ft);var a=this,l=function(){var f=Lt,u=a.selector,h;return f&&f!==a&&f.data.push(a),r&&(a.selector=xb(r)),Lt=a,h=i.apply(a,arguments),Ft(h)&&a._r.push(h),Lt=f,a.selector=u,a.isReverted=!1,h};return a.last=l,n===Ft?l(a,function(c){return a.add(null,c)}):n?a[n]=l:l},e.ignore=function(n){var i=Lt;Lt=null,n(this),Lt=i},e.getTweens=function(){var n=[];return this.data.forEach(function(i){return i instanceof s?n.push.apply(n,i.getTweens()):i instanceof Jt&&!(i.parent&&i.parent.data==="nested")&&n.push(i)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,i){var r=this;if(n?function(){for(var l=r.getTweens(),c=r.data.length,f;c--;)f=r.data[c],f.data==="isFlip"&&(f.revert(),f.getChildren(!0,!0,!1).forEach(function(u){return l.splice(l.indexOf(u),1)}));for(l.map(function(u){return{g:u._dur||u._delay||u._sat&&!u._sat.vars.immediateRender?u.globalTime(0):-1/0,t:u}}).sort(function(u,h){return h.g-u.g||-1/0}).forEach(function(u){return u.t.revert(n)}),c=r.data.length;c--;)f=r.data[c],f instanceof zs?f.data!=="nested"&&(f.scrollTrigger&&f.scrollTrigger.revert(),f.kill()):!(f instanceof Jt)&&f.revert&&f.revert(n);r._r.forEach(function(u){return u(n,r)}),r.isReverted=!0}():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),i)for(var a=Do.length;a--;)Do[a].id===this.id&&Do.splice(a,1)},e.revert=function(n){this.kill(n||{})},s}(),dY=function(){function s(t){this.contexts=[],this.scope=t,Lt&&Lt.data.push(this)}var e=s.prototype;return e.add=function(n,i,r){lr(n)||(n={matches:n});var a=new LI(0,r||this.scope),l=a.conditions={},c,f,u;Lt&&!a.selector&&(a.selector=Lt.selector),this.contexts.push(a),i=a.add("onMatch",i),a.queries=n;for(f in n)f==="all"?u=1:(c=Ui.matchMedia(n[f]),c&&(Do.indexOf(a)<0&&Do.push(a),(l[f]=c.matches)&&(u=1),c.addListener?c.addListener(vb):c.addEventListener("change",vb)));return u&&i(a,function(h){return a.add(null,h)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(i){return i.kill(n,!0)})},s}(),Mm={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(i){return lI(i)})},timeline:function(e){return new zs(e)},getTweensOf:function(e,t){return kt.getTweensOf(e,t)},getProperty:function(e,t,n,i){ms(e)&&(e=Jn(e)[0]);var r=Io(e||{}).get,a=n?Kk:Qk;return n==="native"&&(n=""),e&&(t?a((vn[t]&&vn[t].get||r)(e,t,n,i)):function(l,c,f){return a((vn[l]&&vn[l].get||r)(e,l,c,f))})},quickSetter:function(e,t,n){if(e=Jn(e),e.length>1){var i=e.map(function(u){return un.quickSetter(u,t,n)}),r=i.length;return function(u){for(var h=r;h--;)i[h](u)}}e=e[0]||{};var a=vn[t],l=Io(e),c=l.harness&&(l.harness.aliases||{})[t]||t,f=a?function(u){var h=new a;Ol._pt=0,h.init(e,n?u+n:u,Ol,0,[e]),h.render(1,h),Ol._pt&&C2(1,Ol)}:l.set(e,c);return a?f:function(u){return f(e,c,n?u+n:u,l,1)}},quickTo:function(e,t,n){var i,r=un.to(e,_n((i={},i[t]="+=0.1",i.paused=!0,i.stagger=0,i),n||{})),a=function(c,f,u){return r.resetTo(t,c,f,u)};return a.tween=r,a},isTweening:function(e){return kt.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Ao(e.ease,nc.ease)),FC(nc,e||{})},config:function(e){return FC(Nn,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,i=e.plugins,r=e.defaults,a=e.extendTimeline;(i||"").split(",").forEach(function(l){return l&&!vn[l]&&!In[l]&&Tu(t+" effect requires "+l+" plugin.")}),px[t]=function(l,c,f){return n(Jn(l),_n(c||{},r),f)},a&&(zs.prototype[t]=function(l,c,f){return this.add(px[t](l,lr(c)?c:(f=c)&&{},this),f)})},registerEase:function(e,t){nt[e]=Ao(t)},parseEase:function(e,t){return arguments.length?Ao(e,t):nt},getById:function(e){return kt.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var n=new zs(e),i,r;for(n.smoothChildTiming=on(e.smoothChildTiming),kt.remove(n),n._dp=0,n._time=n._tTime=kt._time,i=kt._first;i;)r=i._next,(t||!(!i._dur&&i instanceof Jt&&i.vars.onComplete===i._targets[0]))&&Gi(n,i,i._start-i._delay),i=r;return Gi(kt,n,0),n},context:function(e,t){return e?new LI(e,t):Lt},matchMedia:function(e){return new dY(e)},matchMediaRefresh:function(){return Do.forEach(function(e){var t=e.conditions,n,i;for(i in t)t[i]&&(t[i]=!1,n=1);n&&e.revert()})||vb()},addEventListener:function(e,t){var n=G0[e]||(G0[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=G0[e],i=n&&n.indexOf(t);i>=0&&n.splice(i,1)},utils:{wrap:GH,wrapYoyo:HH,distribute:sI,random:iI,snap:nI,normalize:VH,getUnit:Ms,clamp:zH,splitColor:cI,toArray:Jn,selector:xb,mapRange:aI,pipe:UH,unitize:$H,interpolate:YH,shuffle:tI},install:Vk,effects:px,ticker:Ln,updateRoot:zs.updateRoot,plugins:vn,globalTimeline:kt,core:{PropTween:cn,globals:Gk,Tween:Jt,Timeline:zs,Animation:Mu,getCache:Io,_removeLinkedListItem:Np,reverting:function(){return bs},context:function(e){return e&&Lt&&(Lt.data.push(e),e._ctx=Lt),Lt},suppressOverwrites:function(e){return u2=e}}};ln("to,from,fromTo,delayedCall,set,killTweensOf",function(s){return Mm[s]=Jt[s]});Ln.add(zs.updateRoot);Ol=Mm.to({},{duration:0});var hY=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},mY=function(e,t){var n=e._targets,i,r,a;for(i in t)for(r=n.length;r--;)a=e._ptLookup[r][i],a&&(a=a.d)&&(a._pt&&(a=hY(a,i)),a&&a.modifier&&a.modifier(t[i],e,n[r],i))},vx=function(e,t){return{name:e,headless:1,rawVars:1,init:function(i,r,a){a._onInit=function(l){var c,f;if(ms(r)&&(c={},ln(r,function(u){return c[u]=1}),r=c),t){c={};for(f in r)c[f]=t(r[f]);r=c}mY(l,r)}}}},un=Mm.registerPlugin({name:"attr",init:function(e,t,n,i,r){var a,l,c;this.tween=n;for(a in t)c=e.getAttribute(a)||"",l=this.add(e,"setAttribute",(c||0)+"",t[a],i,r,0,0,a),l.op=a,l.b=c,this._props.push(a)},render:function(e,t){for(var n=t._pt;n;)bs?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",headless:1,init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},vx("roundProps",yb),vx("modifiers"),vx("snap",nI))||Mm;Jt.version=zs.version=un.version="3.13.0";$k=1;h2()&&oc();nt.Power0;nt.Power1;nt.Power2;nt.Power3;nt.Power4;nt.Linear;nt.Quad;nt.Cubic;nt.Quart;nt.Quint;nt.Strong;nt.Elastic;nt.Back;nt.SteppedEase;nt.Bounce;nt.Sine;nt.Expo;nt.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var GC,Sa,Hl,T2,Lo,HC,j2,pY=function(){return typeof window<"u"},Br={},go=180/Math.PI,Yl=Math.PI/180,Cl=Math.atan2,YC=1e8,E2=/([A-Z])/g,gY=/(left|right|width|margin|padding|x)/i,xY=/[\s,\(]\S/,Wi={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},wb=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},yY=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},bY=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},vY=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},CI=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},TI=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},wY=function(e,t,n){return e.style[t]=n},SY=function(e,t,n){return e.style.setProperty(t,n)},LY=function(e,t,n){return e._gsap[t]=n},CY=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},TY=function(e,t,n,i,r){var a=e._gsap;a.scaleX=a.scaleY=n,a.renderTransform(r,a)},jY=function(e,t,n,i,r){var a=e._gsap;a[t]=n,a.renderTransform(r,a)},_t="transform",fn=_t+"Origin",EY=function s(e,t){var n=this,i=this.target,r=i.style,a=i._gsap;if(e in Br&&r){if(this.tfm=this.tfm||{},e!=="transform")e=Wi[e]||e,~e.indexOf(",")?e.split(",").forEach(function(l){return n.tfm[l]=kr(i,l)}):this.tfm[e]=a.x?a[e]:kr(i,e),e===fn&&(this.tfm.zOrigin=a.zOrigin);else return Wi.transform.split(",").forEach(function(l){return s.call(n,l,t)});if(this.props.indexOf(_t)>=0)return;a.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(fn,t,"")),e=_t}(r||t)&&this.props.push(e,t,r[e])},jI=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},NY=function(){var e=this.props,t=this.target,n=t.style,i=t._gsap,r,a;for(r=0;r<e.length;r+=3)e[r+1]?e[r+1]===2?t[e[r]](e[r+2]):t[e[r]]=e[r+2]:e[r+2]?n[e[r]]=e[r+2]:n.removeProperty(e[r].substr(0,2)==="--"?e[r]:e[r].replace(E2,"-$1").toLowerCase());if(this.tfm){for(a in this.tfm)i[a]=this.tfm[a];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),r=j2(),(!r||!r.isStart)&&!n[_t]&&(jI(n),i.zOrigin&&n[fn]&&(n[fn]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},EI=function(e,t){var n={target:e,props:[],revert:NY,save:EY};return e._gsap||un.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(i){return n.save(i)}),n},NI,Sb=function(e,t){var n=Sa.createElementNS?Sa.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Sa.createElement(e);return n&&n.style?n:Sa.createElement(e)},qn=function s(e,t,n){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(E2,"-$1").toLowerCase())||i.getPropertyValue(t)||!n&&s(e,lc(t)||t,1)||""},WC="O,Moz,ms,Ms,Webkit".split(","),lc=function(e,t,n){var i=t||Lo,r=i.style,a=5;if(e in r&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);a--&&!(WC[a]+e in r););return a<0?null:(a===3?"ms":a>=0?WC[a]:"")+e},Lb=function(){pY()&&window.document&&(GC=window,Sa=GC.document,Hl=Sa.documentElement,Lo=Sb("div")||{style:{}},Sb("div"),_t=lc(_t),fn=_t+"Origin",Lo.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",NI=!!lc("perspective"),j2=un.core.reverting,T2=1)},QC=function(e){var t=e.ownerSVGElement,n=Sb("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0),r;i.style.display="block",n.appendChild(i),Hl.appendChild(n);try{r=i.getBBox()}catch{}return n.removeChild(i),Hl.removeChild(n),r},KC=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},MI=function(e){var t,n;try{t=e.getBBox()}catch{t=QC(e),n=1}return t&&(t.width||t.height)||n||(t=QC(e)),t&&!t.width&&!t.x&&!t.y?{x:+KC(e,["x","cx","x1"])||0,y:+KC(e,["y","cy","y1"])||0,width:0,height:0}:t},kI=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&MI(e))},Uo=function(e,t){if(t){var n=e.style,i;t in Br&&t!==fn&&(t=_t),n.removeProperty?(i=t.substr(0,2),(i==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),n.removeProperty(i==="--"?t:t.replace(E2,"-$1").toLowerCase())):n.removeAttribute(t)}},La=function(e,t,n,i,r,a){var l=new cn(e._pt,t,n,0,1,a?TI:CI);return e._pt=l,l.b=i,l.e=r,e._props.push(n),l},JC={deg:1,rad:1,turn:1},MY={grid:1,flex:1},Pa=function s(e,t,n,i){var r=parseFloat(n)||0,a=(n+"").trim().substr((r+"").length)||"px",l=Lo.style,c=gY.test(t),f=e.tagName.toLowerCase()==="svg",u=(f?"client":"offset")+(c?"Width":"Height"),h=100,p=i==="px",g=i==="%",x,y,v,w;if(i===a||!r||JC[i]||JC[a])return r;if(a!=="px"&&!p&&(r=s(e,t,n,"px")),w=e.getCTM&&kI(e),(g||a==="%")&&(Br[t]||~t.indexOf("adius")))return x=w?e.getBBox()[c?"width":"height"]:e[u],Wt(g?r/x*h:r/100*x);if(l[c?"width":"height"]=h+(p?a:i),y=i!=="rem"&&~t.indexOf("adius")||i==="em"&&e.appendChild&&!f?e:e.parentNode,w&&(y=(e.ownerSVGElement||{}).parentNode),(!y||y===Sa||!y.appendChild)&&(y=Sa.body),v=y._gsap,v&&g&&v.width&&c&&v.time===Ln.time&&!v.uncache)return Wt(r/v.width*h);if(g&&(t==="height"||t==="width")){var L=e.style[t];e.style[t]=h+i,x=e[u],L?e.style[t]=L:Uo(e,t)}else(g||a==="%")&&!MY[qn(y,"display")]&&(l.position=qn(e,"position")),y===e&&(l.position="static"),y.appendChild(Lo),x=Lo[u],y.removeChild(Lo),l.position="absolute";return c&&g&&(v=Io(y),v.time=Ln.time,v.width=y[u]),Wt(p?x*r/h:x&&r?h/x*r:0)},kr=function(e,t,n,i){var r;return T2||Lb(),t in Wi&&t!=="transform"&&(t=Wi[t],~t.indexOf(",")&&(t=t.split(",")[0])),Br[t]&&t!=="transform"?(r=Iu(e,i),r=t!=="transformOrigin"?r[t]:r.svg?r.origin:Im(qn(e,fn))+" "+r.zOrigin+"px"):(r=e.style[t],(!r||r==="auto"||i||~(r+"").indexOf("calc("))&&(r=km[t]&&km[t](e,t,n)||qn(e,t)||Yk(e,t)||(t==="opacity"?1:0))),n&&!~(r+"").trim().indexOf(" ")?Pa(e,t,r,n)+n:r},kY=function(e,t,n,i){if(!n||n==="none"){var r=lc(t,e,1),a=r&&qn(e,r,1);a&&a!==n?(t=r,n=a):t==="borderColor"&&(n=qn(e,"borderTopColor"))}var l=new cn(this._pt,e.style,t,0,1,wI),c=0,f=0,u,h,p,g,x,y,v,w,L,S,j,E;if(l.b=n,l.e=i,n+="",i+="",i.substring(0,6)==="var(--"&&(i=qn(e,i.substring(4,i.indexOf(")")))),i==="auto"&&(y=e.style[t],e.style[t]=i,i=qn(e,t)||i,y?e.style[t]=y:Uo(e,t)),u=[n,i],uI(u),n=u[0],i=u[1],p=n.match(Rl)||[],E=i.match(Rl)||[],E.length){for(;h=Rl.exec(i);)v=h[0],L=i.substring(c,h.index),x?x=(x+1)%5:(L.substr(-5)==="rgba("||L.substr(-5)==="hsla(")&&(x=1),v!==(y=p[f++]||"")&&(g=parseFloat(y)||0,j=y.substr((g+"").length),v.charAt(1)==="="&&(v=Gl(g,v)+j),w=parseFloat(v),S=v.substr((w+"").length),c=Rl.lastIndex-S.length,S||(S=S||Nn.units[t]||j,c===i.length&&(i+=S,l.e+=S)),j!==S&&(g=Pa(e,t,y,S)||0),l._pt={_next:l._pt,p:L||f===1?L:",",s:g,c:w-g,m:x&&x<4||t==="zIndex"?Math.round:0});l.c=c<i.length?i.substring(c,i.length):""}else l.r=t==="display"&&i==="none"?TI:CI;return Bk.test(i)&&(l.e=0),this._pt=l,l},qC={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},IY=function(e){var t=e.split(" "),n=t[0],i=t[1]||"50%";return(n==="top"||n==="bottom"||i==="left"||i==="right")&&(e=n,n=i,i=e),t[0]=qC[n]||n,t[1]=qC[i]||i,t.join(" ")},_Y=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n=t.t,i=n.style,r=t.u,a=n._gsap,l,c,f;if(r==="all"||r===!0)i.cssText="",c=1;else for(r=r.split(","),f=r.length;--f>-1;)l=r[f],Br[l]&&(c=1,l=l==="transformOrigin"?fn:_t),Uo(n,l);c&&(Uo(n,_t),a&&(a.svg&&n.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",Iu(n,1),a.uncache=1,jI(i)))}},km={clearProps:function(e,t,n,i,r){if(r.data!=="isFromStart"){var a=e._pt=new cn(e._pt,t,n,0,0,_Y);return a.u=i,a.pr=-10,a.tween=r,e._props.push(n),1}}},ku=[1,0,0,1,0,0],II={},_I=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},ZC=function(e){var t=qn(e,_t);return _I(t)?ku:t.substr(7).match(zk).map(Wt)},N2=function(e,t){var n=e._gsap||Io(e),i=e.style,r=ZC(e),a,l,c,f;return n.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,r=[c.a,c.b,c.c,c.d,c.e,c.f],r.join(",")==="1,0,0,1,0,0"?ku:r):(r===ku&&!e.offsetParent&&e!==Hl&&!n.svg&&(c=i.display,i.display="block",a=e.parentNode,(!a||!e.offsetParent&&!e.getBoundingClientRect().width)&&(f=1,l=e.nextElementSibling,Hl.appendChild(e)),r=ZC(e),c?i.display=c:Uo(e,"display"),f&&(l?a.insertBefore(e,l):a?a.appendChild(e):Hl.removeChild(e))),t&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r)},Cb=function(e,t,n,i,r,a){var l=e._gsap,c=r||N2(e,!0),f=l.xOrigin||0,u=l.yOrigin||0,h=l.xOffset||0,p=l.yOffset||0,g=c[0],x=c[1],y=c[2],v=c[3],w=c[4],L=c[5],S=t.split(" "),j=parseFloat(S[0])||0,E=parseFloat(S[1])||0,M,N,I,A;n?c!==ku&&(N=g*v-x*y)&&(I=j*(v/N)+E*(-y/N)+(y*L-v*w)/N,A=j*(-x/N)+E*(g/N)-(g*L-x*w)/N,j=I,E=A):(M=MI(e),j=M.x+(~S[0].indexOf("%")?j/100*M.width:j),E=M.y+(~(S[1]||S[0]).indexOf("%")?E/100*M.height:E)),i||i!==!1&&l.smooth?(w=j-f,L=E-u,l.xOffset=h+(w*g+L*y)-w,l.yOffset=p+(w*x+L*v)-L):l.xOffset=l.yOffset=0,l.xOrigin=j,l.yOrigin=E,l.smooth=!!i,l.origin=t,l.originIsAbsolute=!!n,e.style[fn]="0px 0px",a&&(La(a,l,"xOrigin",f,j),La(a,l,"yOrigin",u,E),La(a,l,"xOffset",h,l.xOffset),La(a,l,"yOffset",p,l.yOffset)),e.setAttribute("data-svg-origin",j+" "+E)},Iu=function(e,t){var n=e._gsap||new pI(e);if("x"in n&&!t&&!n.uncache)return n;var i=e.style,r=n.scaleX<0,a="px",l="deg",c=getComputedStyle(e),f=qn(e,fn)||"0",u,h,p,g,x,y,v,w,L,S,j,E,M,N,I,A,D,z,O,Y,q,Z,V,H,F,B,U,$,K,ce,he,xe;return u=h=p=y=v=w=L=S=j=0,g=x=1,n.svg=!!(e.getCTM&&kI(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(i[_t]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[_t]!=="none"?c[_t]:"")),i.scale=i.rotate=i.translate="none"),N=N2(e,n.svg),n.svg&&(n.uncache?(F=e.getBBox(),f=n.xOrigin-F.x+"px "+(n.yOrigin-F.y)+"px",H=""):H=!t&&e.getAttribute("data-svg-origin"),Cb(e,H||f,!!H||n.originIsAbsolute,n.smooth!==!1,N)),E=n.xOrigin||0,M=n.yOrigin||0,N!==ku&&(z=N[0],O=N[1],Y=N[2],q=N[3],u=Z=N[4],h=V=N[5],N.length===6?(g=Math.sqrt(z*z+O*O),x=Math.sqrt(q*q+Y*Y),y=z||O?Cl(O,z)*go:0,L=Y||q?Cl(Y,q)*go+y:0,L&&(x*=Math.abs(Math.cos(L*Yl))),n.svg&&(u-=E-(E*z+M*Y),h-=M-(E*O+M*q))):(xe=N[6],ce=N[7],U=N[8],$=N[9],K=N[10],he=N[11],u=N[12],h=N[13],p=N[14],I=Cl(xe,K),v=I*go,I&&(A=Math.cos(-I),D=Math.sin(-I),H=Z*A+U*D,F=V*A+$*D,B=xe*A+K*D,U=Z*-D+U*A,$=V*-D+$*A,K=xe*-D+K*A,he=ce*-D+he*A,Z=H,V=F,xe=B),I=Cl(-Y,K),w=I*go,I&&(A=Math.cos(-I),D=Math.sin(-I),H=z*A-U*D,F=O*A-$*D,B=Y*A-K*D,he=q*D+he*A,z=H,O=F,Y=B),I=Cl(O,z),y=I*go,I&&(A=Math.cos(I),D=Math.sin(I),H=z*A+O*D,F=Z*A+V*D,O=O*A-z*D,V=V*A-Z*D,z=H,Z=F),v&&Math.abs(v)+Math.abs(y)>359.9&&(v=y=0,w=180-w),g=Wt(Math.sqrt(z*z+O*O+Y*Y)),x=Wt(Math.sqrt(V*V+xe*xe)),I=Cl(Z,V),L=Math.abs(I)>2e-4?I*go:0,j=he?1/(he<0?-he:he):0),n.svg&&(H=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!_I(qn(e,_t)),H&&e.setAttribute("transform",H))),Math.abs(L)>90&&Math.abs(L)<270&&(r?(g*=-1,L+=y<=0?180:-180,y+=y<=0?180:-180):(x*=-1,L+=L<=0?180:-180)),t=t||n.uncache,n.x=u-((n.xPercent=u&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-u)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+a,n.y=h-((n.yPercent=h&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-h)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+a,n.z=p+a,n.scaleX=Wt(g),n.scaleY=Wt(x),n.rotation=Wt(y)+l,n.rotationX=Wt(v)+l,n.rotationY=Wt(w)+l,n.skewX=L+l,n.skewY=S+l,n.transformPerspective=j+a,(n.zOrigin=parseFloat(f.split(" ")[2])||!t&&n.zOrigin||0)&&(i[fn]=Im(f)),n.xOffset=n.yOffset=0,n.force3D=Nn.force3D,n.renderTransform=n.svg?DY:NI?AI:AY,n.uncache=0,n},Im=function(e){return(e=e.split(" "))[0]+" "+e[1]},wx=function(e,t,n){var i=Ms(t);return Wt(parseFloat(t)+parseFloat(Pa(e,"x",n+"px",i)))+i},AY=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,AI(e,t)},lo="0deg",vf="0px",co=") ",AI=function(e,t){var n=t||this,i=n.xPercent,r=n.yPercent,a=n.x,l=n.y,c=n.z,f=n.rotation,u=n.rotationY,h=n.rotationX,p=n.skewX,g=n.skewY,x=n.scaleX,y=n.scaleY,v=n.transformPerspective,w=n.force3D,L=n.target,S=n.zOrigin,j="",E=w==="auto"&&e&&e!==1||w===!0;if(S&&(h!==lo||u!==lo)){var M=parseFloat(u)*Yl,N=Math.sin(M),I=Math.cos(M),A;M=parseFloat(h)*Yl,A=Math.cos(M),a=wx(L,a,N*A*-S),l=wx(L,l,-Math.sin(M)*-S),c=wx(L,c,I*A*-S+S)}v!==vf&&(j+="perspective("+v+co),(i||r)&&(j+="translate("+i+"%, "+r+"%) "),(E||a!==vf||l!==vf||c!==vf)&&(j+=c!==vf||E?"translate3d("+a+", "+l+", "+c+") ":"translate("+a+", "+l+co),f!==lo&&(j+="rotate("+f+co),u!==lo&&(j+="rotateY("+u+co),h!==lo&&(j+="rotateX("+h+co),(p!==lo||g!==lo)&&(j+="skew("+p+", "+g+co),(x!==1||y!==1)&&(j+="scale("+x+", "+y+co),L.style[_t]=j||"translate(0, 0)"},DY=function(e,t){var n=t||this,i=n.xPercent,r=n.yPercent,a=n.x,l=n.y,c=n.rotation,f=n.skewX,u=n.skewY,h=n.scaleX,p=n.scaleY,g=n.target,x=n.xOrigin,y=n.yOrigin,v=n.xOffset,w=n.yOffset,L=n.forceCSS,S=parseFloat(a),j=parseFloat(l),E,M,N,I,A;c=parseFloat(c),f=parseFloat(f),u=parseFloat(u),u&&(u=parseFloat(u),f+=u,c+=u),c||f?(c*=Yl,f*=Yl,E=Math.cos(c)*h,M=Math.sin(c)*h,N=Math.sin(c-f)*-p,I=Math.cos(c-f)*p,f&&(u*=Yl,A=Math.tan(f-u),A=Math.sqrt(1+A*A),N*=A,I*=A,u&&(A=Math.tan(u),A=Math.sqrt(1+A*A),E*=A,M*=A)),E=Wt(E),M=Wt(M),N=Wt(N),I=Wt(I)):(E=h,I=p,M=N=0),(S&&!~(a+"").indexOf("px")||j&&!~(l+"").indexOf("px"))&&(S=Pa(g,"x",a,"px"),j=Pa(g,"y",l,"px")),(x||y||v||w)&&(S=Wt(S+x-(x*E+y*N)+v),j=Wt(j+y-(x*M+y*I)+w)),(i||r)&&(A=g.getBBox(),S=Wt(S+i/100*A.width),j=Wt(j+r/100*A.height)),A="matrix("+E+","+M+","+N+","+I+","+S+","+j+")",g.setAttribute("transform",A),L&&(g.style[_t]=A)},PY=function(e,t,n,i,r){var a=360,l=ms(r),c=parseFloat(r)*(l&&~r.indexOf("rad")?go:1),f=c-i,u=i+f+"deg",h,p;return l&&(h=r.split("_")[1],h==="short"&&(f%=a,f!==f%(a/2)&&(f+=f<0?a:-360)),h==="cw"&&f<0?f=(f+a*YC)%a-~~(f/a)*a:h==="ccw"&&f>0&&(f=(f-a*YC)%a-~~(f/a)*a)),e._pt=p=new cn(e._pt,t,n,i,f,yY),p.e=u,p.u="deg",e._props.push(n),p},XC=function(e,t){for(var n in t)e[n]=t[n];return e},RY=function(e,t,n){var i=XC({},n._gsap),r="perspective,force3D,transformOrigin,svgOrigin",a=n.style,l,c,f,u,h,p,g,x;i.svg?(f=n.getAttribute("transform"),n.setAttribute("transform",""),a[_t]=t,l=Iu(n,1),Uo(n,_t),n.setAttribute("transform",f)):(f=getComputedStyle(n)[_t],a[_t]=t,l=Iu(n,1),a[_t]=f);for(c in Br)f=i[c],u=l[c],f!==u&&r.indexOf(c)<0&&(g=Ms(f),x=Ms(u),h=g!==x?Pa(n,c,f,x):parseFloat(f),p=parseFloat(u),e._pt=new cn(e._pt,l,c,h,p-h,wb),e._pt.u=x||0,e._props.push(c));XC(l,i)};ln("padding,margin,Width,Radius",function(s,e){var t="Top",n="Right",i="Bottom",r="Left",a=(e<3?[t,n,i,r]:[t+r,t+n,i+n,i+r]).map(function(l){return e<2?s+l:"border"+l+s});km[e>1?"border"+s:s]=function(l,c,f,u,h){var p,g;if(arguments.length<4)return p=a.map(function(x){return kr(l,x,f)}),g=p.join(" "),g.split(p[0]).length===5?p[0]:g;p=(u+"").split(" "),g={},a.forEach(function(x,y){return g[x]=p[y]=p[y]||p[(y-1)/2|0]}),l.init(c,g,h)}});var DI={name:"css",register:Lb,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,i,r){var a=this._props,l=e.style,c=n.vars.startAt,f,u,h,p,g,x,y,v,w,L,S,j,E,M,N,I;T2||Lb(),this.styles=this.styles||EI(e),I=this.styles.props,this.tween=n;for(y in t)if(y!=="autoRound"&&(u=t[y],!(vn[y]&&gI(y,t,n,i,e,r)))){if(g=typeof u,x=km[y],g==="function"&&(u=u.call(n,i,e,r),g=typeof u),g==="string"&&~u.indexOf("random(")&&(u=Eu(u)),x)x(this,e,y,u,n)&&(N=1);else if(y.substr(0,2)==="--")f=(getComputedStyle(e).getPropertyValue(y)+"").trim(),u+="",ka.lastIndex=0,ka.test(f)||(v=Ms(f),w=Ms(u)),w?v!==w&&(f=Pa(e,y,f,w)+w):v&&(u+=v),this.add(l,"setProperty",f,u,i,r,0,0,y),a.push(y),I.push(y,0,l[y]);else if(g!=="undefined"){if(c&&y in c?(f=typeof c[y]=="function"?c[y].call(n,i,e,r):c[y],ms(f)&&~f.indexOf("random(")&&(f=Eu(f)),Ms(f+"")||f==="auto"||(f+=Nn.units[y]||Ms(kr(e,y))||""),(f+"").charAt(1)==="="&&(f=kr(e,y))):f=kr(e,y),p=parseFloat(f),L=g==="string"&&u.charAt(1)==="="&&u.substr(0,2),L&&(u=u.substr(2)),h=parseFloat(u),y in Wi&&(y==="autoAlpha"&&(p===1&&kr(e,"visibility")==="hidden"&&h&&(p=0),I.push("visibility",0,l.visibility),La(this,l,"visibility",p?"inherit":"hidden",h?"inherit":"hidden",!h)),y!=="scale"&&y!=="transform"&&(y=Wi[y],~y.indexOf(",")&&(y=y.split(",")[0]))),S=y in Br,S){if(this.styles.save(y),g==="string"&&u.substring(0,6)==="var(--"&&(u=qn(e,u.substring(4,u.indexOf(")"))),h=parseFloat(u)),j||(E=e._gsap,E.renderTransform&&!t.parseTransform||Iu(e,t.parseTransform),M=t.smoothOrigin!==!1&&E.smooth,j=this._pt=new cn(this._pt,l,_t,0,1,E.renderTransform,E,0,-1),j.dep=1),y==="scale")this._pt=new cn(this._pt,E,"scaleY",E.scaleY,(L?Gl(E.scaleY,L+h):h)-E.scaleY||0,wb),this._pt.u=0,a.push("scaleY",y),y+="X";else if(y==="transformOrigin"){I.push(fn,0,l[fn]),u=IY(u),E.svg?Cb(e,u,0,M,0,this):(w=parseFloat(u.split(" ")[2])||0,w!==E.zOrigin&&La(this,E,"zOrigin",E.zOrigin,w),La(this,l,y,Im(f),Im(u)));continue}else if(y==="svgOrigin"){Cb(e,u,1,M,0,this);continue}else if(y in II){PY(this,E,y,p,L?Gl(p,L+u):u);continue}else if(y==="smoothOrigin"){La(this,E,"smooth",E.smooth,u);continue}else if(y==="force3D"){E[y]=u;continue}else if(y==="transform"){RY(this,u,e);continue}}else y in l||(y=lc(y)||y);if(S||(h||h===0)&&(p||p===0)&&!xY.test(u)&&y in l)v=(f+"").substr((p+"").length),h||(h=0),w=Ms(u)||(y in Nn.units?Nn.units[y]:v),v!==w&&(p=Pa(e,y,f,w)),this._pt=new cn(this._pt,S?E:l,y,p,(L?Gl(p,L+h):h)-p,!S&&(w==="px"||y==="zIndex")&&t.autoRound!==!1?vY:wb),this._pt.u=w||0,v!==w&&w!=="%"&&(this._pt.b=f,this._pt.r=bY);else if(y in l)kY.call(this,e,y,f,L?L+u:u);else if(y in e)this.add(e,y,f||e[y],L?L+u:u,i,r);else if(y!=="parseTransform"){p2(y,u);continue}S||(y in l?I.push(y,0,l[y]):typeof e[y]=="function"?I.push(y,2,e[y]()):I.push(y,1,f||e[y])),a.push(y)}}N&&SI(this)},render:function(e,t){if(t.tween._time||!j2())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:kr,aliases:Wi,getSetter:function(e,t,n){var i=Wi[t];return i&&i.indexOf(",")<0&&(t=i),t in Br&&t!==fn&&(e._gsap.x||kr(e,"x"))?n&&HC===n?t==="scale"?CY:LY:(HC=n||{})&&(t==="scale"?TY:jY):e.style&&!d2(e.style[t])?wY:~t.indexOf("-")?SY:L2(e,t)},core:{_removeProperty:Uo,_getMatrix:N2}};un.utils.checkPrefix=lc;un.core.getStyleSaver=EI;(function(s,e,t,n){var i=ln(s+","+e+","+t,function(r){Br[r]=1});ln(e,function(r){Nn.units[r]="deg",II[r]=1}),Wi[i[13]]=s+","+e,ln(n,function(r){var a=r.split(":");Wi[a[1]]=i[a[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");ln("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(s){Nn.units[s]="px"});un.registerPlugin(DI);var M2=un.registerPlugin(DI)||un;M2.core.Tween;const OY=({title:s,subtitle:e,backgroundVideo:t,primaryButtonText:n,primaryButtonLink:i,secondaryButtonText:r,secondaryButtonLink:a,className:l=""})=>{const c=T.useRef(null),f=T.useRef(null),{scrollYProgress:u}=Ep(),h=ko(u,[0,.2],[1,0]),p=ko(u,[0,.2],[1,.95]),g=ko(u,[0,.2],[0,100]);return T.useEffect(()=>{if(!c.current||!f.current)return;const x=c.current,y=f.current,v=w=>{const{clientX:L,clientY:S}=w,j=(L-window.innerWidth/2)/20,E=(S-window.innerHeight/2)/20;M2.to(y,{rotationY:j*.5,rotationX:-E*.5,transformPerspective:1e3,ease:"power2.out",duration:.5})};return x.addEventListener("mousemove",v),()=>{x.removeEventListener("mousemove",v)}},[]),o.jsxs(lt.div,{ref:c,style:{opacity:h,scale:p},className:`relative h-screen flex items-center justify-center overflow-hidden ${l}`,children:[o.jsxs("div",{className:"absolute inset-0 z-0",children:[o.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"absolute w-full h-full object-cover",children:o.jsx("source",{src:t,type:"video/mp4"})}),o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60"})]}),o.jsx("div",{className:"container mx-auto px-6 z-10 text-center",children:o.jsxs(lt.div,{ref:f,style:{y:g},className:"transform-gpu",children:[o.jsx(lt.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-5xl md:text-7xl font-bold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:s}),o.jsx(lt.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"text-xl md:text-2xl mb-10 max-w-3xl mx-auto text-white",children:e}),o.jsxs(lt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[n&&o.jsx("a",{href:i,className:"px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full text-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition-all duration-300 transform hover:scale-105",children:n}),r&&o.jsx("a",{href:a,className:"px-8 py-4 bg-transparent border-2 border-white rounded-full text-lg font-semibold hover:bg-white hover:text-black transition-all duration-300 transform hover:scale-105",children:r})]})]})}),o.jsx("div",{className:"absolute bottom-10 left-1/2 transform -translate-x-1/2 animate-bounce",children:o.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})})]})},FY=({items:s,direction:e="left",speed:t=25,className:n=""})=>{const i=s.length*(100/t);return o.jsx("div",{className:`overflow-hidden whitespace-nowrap ${n}`,children:o.jsxs("div",{className:"inline-block",children:[o.jsx(lt.div,{className:"inline-block",animate:{x:e==="left"?[0,-100*s.length]:[-100*s.length,0]},transition:{repeat:1/0,repeatType:"loop",duration:i,ease:"linear"},children:s.map((r,a)=>o.jsx("div",{className:"inline-block mx-8",children:r},a))}),o.jsx(lt.div,{className:"inline-block",animate:{x:e==="left"?[100*s.length,0]:[0,100*s.length]},transition:{repeat:1/0,repeatType:"loop",duration:i,ease:"linear"},children:s.map((r,a)=>o.jsx("div",{className:"inline-block mx-8",children:r},a))})]})})},zY=({children:s,className:e="",speed:t=.5})=>{const n=T.useRef(null),{scrollYProgress:i}=Ep({target:n,offset:["start end","end start"]}),r=ko(i,[0,1],["0%",`-${100*t}%`]);return o.jsx("div",{ref:n,className:`relative overflow-hidden ${e}`,children:o.jsx(lt.div,{style:{x:r},className:"flex",children:s})})},eT=({children:s,backgroundImage:e,backgroundVideo:t,overlayOpacity:n=.6,speed:i=.2,className:r=""})=>{const a=T.useRef(null),{scrollYProgress:l}=Ep({target:a,offset:["start end","end start"]}),c=ko(l,[0,1],["0%",`${i*100}%`]),f=ko(l,[0,1],[1,1+i]);return ko(l,[0,.5,1],[1,.8,.6]),o.jsxs("div",{ref:a,className:`relative overflow-hidden ${r}`,children:[o.jsxs(lt.div,{className:"absolute inset-0 w-full h-full",style:{y:c,scale:f},children:[t?o.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"absolute w-full h-full object-cover",children:o.jsx("source",{src:t,type:"video/mp4"})}):e?o.jsx("img",{src:e,alt:"Background",className:"w-full h-full object-cover"}):null,o.jsx("div",{className:"absolute inset-0 bg-black",style:{opacity:n}})]}),o.jsx("div",{className:"relative z-10",children:s})]})},BY=({title:s,description:e,image:t,category:n,link:i="#",className:r=""})=>{const[a,l]=T.useState(!1);return o.jsx(lt.div,{className:`relative overflow-hidden rounded-xl ${r}`,onHoverStart:()=>l(!0),onHoverEnd:()=>l(!1),whileHover:{y:-10},transition:{duration:.3},children:o.jsxs("a",{href:i,className:"block",children:[o.jsx("div",{className:"overflow-hidden aspect-video",children:o.jsx(lt.img,{src:t,alt:s,className:"w-full h-full object-cover",animate:{scale:a?1.05:1},transition:{duration:.5}})}),o.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent p-6 flex flex-col justify-end",children:[o.jsxs("div",{className:"transform transition-transform duration-300",style:{transform:a?"translateY(-20px)":"translateY(0)"},children:[o.jsx("span",{className:"text-sm text-blue-400 font-medium mb-2 inline-block",children:n}),o.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:s}),o.jsx(lt.p,{className:"text-gray-300 text-sm",animate:{opacity:a?1:0},transition:{duration:.3},children:e})]}),o.jsx(lt.div,{className:"absolute bottom-6 right-6",animate:{opacity:a?1:0,x:a?0:-20},transition:{duration:.3},children:o.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})})})]})]})})},UY=({stats:s,className:e=""})=>o.jsx("div",{className:`grid grid-cols-2 md:grid-cols-4 gap-8 ${e}`,children:s.map((t,n)=>o.jsx($Y,{value:t.value,label:t.label,suffix:t.suffix,color:t.color,delay:n*.1},n))}),$Y=({value:s,label:e,suffix:t="",color:n="text-blue-500",delay:i=0})=>{const[r,a]=T.useState(0),l=T.useRef(null),c=UV(l,{once:!0,amount:.5});return T.useEffect(()=>{if(c){let f=0;const h=s/(2e3/16),p=setInterval(()=>{f+=h,f>s?(a(s),clearInterval(p)):a(Math.floor(f))},16);return()=>clearInterval(p)}},[c,s]),o.jsxs(lt.div,{ref:l,initial:{opacity:0,y:20},animate:c?{opacity:1,y:0}:{},transition:{duration:.5,delay:i},className:"text-center",children:[o.jsxs("div",{className:`text-4xl font-bold ${n}`,children:[r,t]}),o.jsx("p",{className:"text-gray-400 mt-2",children:e})]})},VY=()=>{const[s,e]=T.useState(0),{scrollYProgress:t}=Ep(),n=T.useRef(null),i=T.useRef(null);T.useEffect(()=>{const h=i.current;if(!h)return;const p=g=>{M2.to(h,{x:g.clientX,y:g.clientY,duration:.5,ease:"power2.out"})};return window.addEventListener("mousemove",p),()=>{window.removeEventListener("mousemove",p)}},[]);const r=[{title:"High Performance Streaming",description:"Optimized video delivery with adaptive bitrate streaming that works flawlessly even with billions of concurrent users.",icon:"",color:"from-blue-500 to-cyan-500"},{title:"Interactive Live Courses",description:"Engage with instructors in real-time with our low-latency streaming technology.",icon:"",color:"from-purple-500 to-pink-500"},{title:"Personalized Learning Path",description:"AI-powered recommendations to customize your educational journey.",icon:"",color:"from-green-500 to-emerald-500"},{title:"Community Collaboration",description:"Connect with peers, share insights, and collaborate on projects.",icon:"",color:"from-yellow-500 to-orange-500"},{title:"Global Scale Infrastructure",description:"Built on a distributed architecture that can handle billions of users without performance degradation.",icon:"",color:"from-red-500 to-rose-500"},{title:"Advanced Analytics",description:"Gain insights into your learning patterns and progress with detailed analytics.",icon:"",color:"from-indigo-500 to-violet-500"}],a=[o.jsx("img",{src:"/assets/logos/logo1.svg",alt:"Client 1",className:"h-12"}),o.jsx("img",{src:"/assets/logos/logo2.svg",alt:"Client 2",className:"h-12"}),o.jsx("img",{src:"/assets/logos/logo3.svg",alt:"Client 3",className:"h-12"}),o.jsx("img",{src:"/assets/logos/logo4.svg",alt:"Client 4",className:"h-12"}),o.jsx("img",{src:"/assets/logos/logo5.svg",alt:"Client 5",className:"h-12"})],l=[{title:"Educational Platform Scaling",description:"How we helped an educational platform scale to support 10 million concurrent users.",image:"/assets/case-studies/placeholder1.svg",category:"Infrastructure",link:"#"},{title:"Video Streaming Optimization",description:"Reducing buffering by 95% while maintaining high video quality.",image:"/assets/case-studies/placeholder2.svg",category:"Performance",link:"#"},{title:"Interactive Learning Experience",description:"Creating an immersive learning environment with real-time collaboration.",image:"/assets/case-studies/placeholder3.svg",category:"User Experience",link:"#"}],c=[{name:"Sarah Johnson",role:"Software Engineer at Google",text:"This platform transformed how I approach continuous learning. The video quality is exceptional even on my slow connection, and I've never experienced any downtime despite millions of concurrent users.",avatar:"https://randomuser.me/api/portraits/women/32.jpg",rating:5},{name:"Michael Chen",role:"Data Scientist at Microsoft",text:"I've tried many learning platforms, but none match the performance and user experience here. The ability to handle billions of users without any lag is truly impressive.",avatar:"https://randomuser.me/api/portraits/men/44.jpg",rating:5},{name:"Aisha Patel",role:"UX Designer at Apple",text:"The interactive features and smooth video playback make this my go-to platform for design courses. Even during peak hours with millions of users, the platform remains responsive and reliable.",avatar:"https://randomuser.me/api/portraits/women/65.jpg",rating:5},{name:"James Wilson",role:"Product Manager at Amazon",text:"The scalability of this platform is unmatched. We've used it for company-wide training with thousands of employees simultaneously without any issues.",avatar:"https://randomuser.me/api/portraits/men/22.jpg",rating:5},{name:"Elena Rodriguez",role:"CTO at Startup Inc.",text:"As someone who manages large-scale systems, I'm impressed by how this platform handles billions of users without compromising on quality or performance.",avatar:"https://randomuser.me/api/portraits/women/45.jpg",rating:5}],f=[{value:10,suffix:"B+",label:"Active Users",color:"text-blue-500"},{value:99.999,suffix:"%",label:"Uptime",color:"text-green-500"},{value:.1,suffix:"s",label:"Avg. Load Time",color:"text-purple-500"},{value:24,suffix:"/7",label:"Support",color:"text-yellow-500"}],u=[{question:"How does the platform handle billions of users?",answer:"We use a globally distributed CDN architecture with edge caching, adaptive streaming, and microservices that automatically scale based on demand. Our infrastructure is designed to handle sudden traffic spikes and maintain performance even with billions of concurrent users."},{question:"What makes your video streaming different?",answer:"Our proprietary compression algorithm and adaptive bitrate technology optimize video delivery based on your connection, ensuring buffer-free playback. We also use predictive preloading and edge computing to minimize latency and provide a seamless experience regardless of user load."},{question:"Can I access content offline?",answer:"Yes, premium users can download videos for offline viewing through our mobile apps. Our advanced syncing technology ensures that your progress is updated when you reconnect, even if you've watched content offline."},{question:"How do you ensure content quality?",answer:"All courses undergo a rigorous review process by industry experts before publication. We also use AI-powered quality assessment tools to ensure video and audio clarity meet our high standards."},{question:"What security measures do you have in place?",answer:"We implement end-to-end encryption, multi-factor authentication, and regular security audits. Our platform is compliant with GDPR, CCPA, and other global privacy regulations to ensure your data remains secure."},{question:"How do you handle peak traffic periods?",answer:"Our elastic infrastructure automatically scales to accommodate traffic spikes. We use predictive analytics to anticipate high-demand periods and pre-allocate resources accordingly, ensuring consistent performance even during global events."}];return o.jsxs("div",{className:"min-h-screen bg-black text-white overflow-hidden",children:[o.jsx(lt.div,{ref:i,className:"fixed w-6 h-6 rounded-full bg-blue-500 bg-opacity-50 pointer-events-none z-50 hidden md:block",style:{x:0,y:0,mixBlendMode:"difference"}}),o.jsx(Ae,{}),o.jsx(OY,{title:"Redefining Online Learning",subtitle:"Experience lightning-fast video streaming and interactive courses that scale to billions of users without compromise.",backgroundVideo:"/assets/hero-background.mp4",primaryButtonText:"Explore Courses",primaryButtonLink:"/feed",secondaryButtonText:"Join Now",secondaryButtonLink:"/register"}),o.jsx("section",{className:"py-12 bg-black border-t border-b border-gray-800",children:o.jsxs("div",{className:"container mx-auto px-6",children:[o.jsx("h3",{className:"text-center text-gray-400 mb-8 text-sm uppercase tracking-wider",children:"Trusted by industry leaders"}),o.jsx(FY,{items:a,speed:15})]})}),o.jsx("section",{className:"py-20 bg-gradient-to-b from-black to-gray-900",ref:n,children:o.jsxs("div",{className:"container mx-auto px-6",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsxs(lt.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-5xl font-bold mb-4",children:["Built for ",o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-600",children:"Billions"})]}),o.jsx(lt.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Our platform combines performance with innovation to deliver an unmatched learning experience that scales effortlessly"})]}),o.jsx(zY,{className:"py-10 mb-10",children:r.map((h,p)=>o.jsx(lt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:p*.1},viewport:{once:!0},className:"min-w-[300px] md:min-w-[400px] mr-8 last:mr-0",children:o.jsxs("div",{className:"bg-gray-800 rounded-xl p-8 h-full border-t-4 border-transparent hover:border-t-4 hover:border-blue-500 transition-all duration-300 transform hover:-translate-y-2",children:[o.jsx("div",{className:`text-4xl mb-6 bg-gradient-to-br ${h.color} inline-block p-4 rounded-lg`,children:h.icon}),o.jsx("h3",{className:"text-2xl font-semibold mb-3",children:h.title}),o.jsx("p",{className:"text-gray-400",children:h.description})]})},p))})]})}),o.jsx(eT,{className:"py-24",backgroundImage:"/assets/case-studies/placeholder1.svg",overlayOpacity:.85,children:o.jsxs("div",{className:"container mx-auto px-6",children:[o.jsxs(lt.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-5xl font-bold mb-16 text-center",children:["Unmatched ",o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-600",children:"Performance"})]}),o.jsx(UY,{stats:f})]})}),o.jsx("section",{className:"py-20 bg-black",children:o.jsxs("div",{className:"container mx-auto px-6",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx(lt.span,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},className:"text-blue-500 uppercase tracking-wider font-medium",children:"Case Studies"}),o.jsx(lt.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"text-5xl font-bold mt-2 mb-4",children:"Success Stories"}),o.jsx(lt.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"See how our platform has helped organizations scale their educational content to billions of users"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:l.map((h,p)=>o.jsx(BY,{title:h.title,description:h.description,image:h.image,category:h.category,link:h.link},p))})]})}),o.jsx("section",{className:"py-20 bg-gradient-to-b from-gray-900 to-black",children:o.jsxs("div",{className:"container mx-auto px-6",children:[o.jsxs(lt.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-5xl font-bold mb-16 text-center",children:["What Our ",o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-600",children:"Users"})," Say"]}),o.jsx(Ak,{modules:[xH,yH,bH,SH],effect:"coverflow",coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!1},spaceBetween:30,slidesPerView:1,centeredSlides:!0,loop:!0,breakpoints:{640:{slidesPerView:1.5},1024:{slidesPerView:2.5}},pagination:{clickable:!0},autoplay:{delay:5e3},className:"testimonial-swiper",children:c.map((h,p)=>o.jsx(Dk,{children:o.jsxs(lt.div,{whileHover:{y:-10},className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-8 h-full shadow-xl",children:[o.jsx("div",{className:"flex mb-4",children:[...Array(5)].map((g,x)=>o.jsx("svg",{className:`w-5 h-5 ${x<h.rating?"text-yellow-500":"text-gray-600"}`,fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},x))}),o.jsxs("p",{className:"text-gray-300 italic text-lg mb-6",children:['"',h.text,'"']}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("img",{src:h.avatar,alt:h.name,className:"w-12 h-12 rounded-full mr-4 border-2 border-blue-500"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold",children:h.name}),o.jsx("p",{className:"text-gray-400 text-sm",children:h.role})]})]})]})},p))})]})}),o.jsx("section",{className:"py-20 bg-black",children:o.jsxs("div",{className:"container mx-auto px-6",children:[o.jsxs(lt.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-5xl font-bold mb-16 text-center",children:["Frequently Asked ",o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-600",children:"Questions"})]}),o.jsx("div",{className:"max-w-3xl mx-auto",children:u.map((h,p)=>o.jsxs(lt.div,{className:"mb-4",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:p*.1},children:[o.jsxs("button",{className:`w-full text-left p-6 rounded-lg flex justify-between items-center ${s===p?"bg-gradient-to-r from-blue-900 to-purple-900":"bg-gray-900"} transition-all duration-300`,onClick:()=>e(s===p?null:p),children:[o.jsx("span",{className:"font-semibold text-lg",children:h.question}),o.jsx(lt.div,{animate:{rotate:s===p?180:0},transition:{duration:.3},children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),o.jsx(lt.div,{initial:{height:0,opacity:0},animate:{height:s===p?"auto":0,opacity:s===p?1:0},transition:{duration:.3},className:"overflow-hidden",children:o.jsx("div",{className:"p-6 bg-gray-800 rounded-b-lg",children:o.jsx("p",{className:"text-gray-300",children:h.answer})})})]},p))})]})}),o.jsx(eT,{className:"py-24",backgroundVideo:"/assets/hero-background.mp4",overlayOpacity:.7,speed:.1,children:o.jsxs("div",{className:"container mx-auto px-6 text-center",children:[o.jsx(lt.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-5xl font-bold mb-6",children:"Ready to Transform Your Learning?"}),o.jsx(lt.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"text-xl mb-10 max-w-3xl mx-auto",children:"Join billions of learners worldwide on our high-performance platform."}),o.jsx(lt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},whileHover:{scale:1.05},children:o.jsx(le,{to:"/register",className:"px-10 py-5 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full text-xl font-semibold hover:from-blue-700 hover:to-purple-700 transition-all duration-300 inline-block",children:"Get Started For Free"})})]})}),o.jsx(it,{})]})},GY=()=>{const[s,e]=T.useState(null),t=He();return T.useEffect(()=>{(async()=>{try{const i=await Q.get("http://localhost:5000/api/auth/check",{withCredentials:!0});e(i.data.user),i.data.user.role==="admin"?t("/admindashboard"):i.data.user.role==="creator"?t("/studio"):t("/studentdashboard")}catch{t("/login")}})()},[t]),o.jsx("div",{className:"p-6",children:s?o.jsxs("h2",{children:["Welcome, ",s.name,"!"]}):o.jsx("p",{children:"You are not logged in."})})},HY=()=>{const[s,e]=T.useState([]),[t,n]=T.useState(!0),[i,r]=T.useState({}),[a,l]=T.useState(""),[c,f]=T.useState(null);return T.useRef({}),He(),T.useEffect(()=>{const u=async()=>{try{const p=await Q.get("http://localhost:5000/api/student/courses",{withCredentials:!0});e(p.data),r(p.data.reduce((g,x)=>({...g,[x._id]:0}),{}))}catch(p){console.error("Error fetching courses:",p)}finally{n(!1)}},h=async()=>{try{const p=await Q.get("http://localhost:5000/api/student/profile",{withCredentials:!0});f(p.data)}catch(p){console.error("Error fetching user data:",p)}};u(),h()},[]),t?o.jsx("p",{className:"text-white",children:"Loading..."}):o.jsxs(o.Fragment,{children:[o.jsx(Ae,{}),o.jsx("div",{className:"p-6 bg-black text-white",children:o.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Student Dashboard"})}),o.jsx(it,{})]})},YY=()=>{const[s,e]=T.useState(null),[t,n]=T.useState([]),[i,r]=T.useState({title:"",description:"",price:"",instructor:"",duration:"",category:"",image:null,videos:[],paymentOptions:{jazzCash:!1,easyPaisa:!1,payFast:!1,bankTransfer:!1}}),[a,l]=T.useState(!1),[c,f]=T.useState(null),[u,h]=T.useState(!0),[p,g]=T.useState(!1),[x,y]=T.useState(0),[v,w]=T.useState("courseInfo"),L=He();T.useEffect(()=>{(async()=>{try{const I=await Q.get("http://localhost:5000/api/auth/check",{withCredentials:!0});I.data.user.role!=="admin"?L("/"):e(I.data.user)}catch{L("/login")}finally{h(!1)}})(),S()},[L]);const S=async()=>{try{const N=await Q.get("http://localhost:5000/api/admin/courses");n(N.data)}catch(N){console.error("Error fetching courses:",N)}},j=N=>{r({title:N.title,description:N.description,price:N.price,instructor:N.instructor,duration:N.duration,category:N.category,image:null,videos:N.videos.map(I=>({file:null,thumbnail:null,title:I.title,description:I.description}))}),l(!0),f(N._id)},E=async N=>{if(window.confirm("Are you sure you want to delete this course?"))try{await Q.delete(`http://localhost:5000/api/admin/courses/${N}`,{withCredentials:!0}),alert("Course Deleted Successfully!"),S()}catch(I){console.error("Error deleting course:",I),alert("Failed to delete course.")}},M=async()=>{try{await Q.post("http://localhost:5000/api/auth/logout",{},{withCredentials:!0}),L("/login")}catch(N){console.error("Logout failed:",N),alert("Failed to logout.")}};return u?o.jsx("p",{children:"Loading..."}):o.jsxs(o.Fragment,{children:[o.jsx(Ae,{}),o.jsxs("div",{className:"mx-auto p-6 bg-black shadow-lg",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-white",children:"Admin Dashboard"}),o.jsxs("div",{className:"text-white mb-5 flex items-center justify-between flex-wrap gap-2",children:[o.jsx(le,{to:"user-admin-dashboard",className:"px-4 py-2 rounded-md bg-blue-500",children:"Manage Users"}),o.jsx(le,{to:"video-admin-dashboard",className:"px-4 py-2 rounded-md bg-blue-500",children:"Manage Videos"}),o.jsx(le,{to:"course-dashboard",className:"px-4 py-2 rounded-md bg-indigo-500",children:"Manage Courses"}),o.jsx(le,{to:"course-review",className:"px-4 py-2 rounded-md bg-yellow-500",children:"Review Creator Courses"}),o.jsx(le,{to:"earnings-dashboard",className:"px-4 py-2 rounded-md bg-green-500",children:"Earnings Dashboard"}),o.jsx(le,{to:"withdrawals-dashboard",className:"px-4 py-2 rounded-md bg-purple-500",children:"Manage Withdrawals"})]}),s&&o.jsxs("div",{className:"bg-[#111111] text-white p-4 rounded shadow mb-4 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-semibold",children:["Admin: ",s.name]}),o.jsxs("p",{children:["Email: ",s.email]})]}),o.jsx("button",{onClick:M,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md transition",children:"Logout"})]}),o.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Available Courses"}),o.jsx("ul",{className:"space-y-2",children:t.map(N=>o.jsxs("li",{className:"p-4 border rounded-lg shadow-md flex justify-between items-center bg-[#111111]",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[N.image&&o.jsx("img",{src:`http://localhost:5000${N.image}`,alt:N.title,className:"w-20 h-20 object-cover rounded"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl text-white font-semibold",children:N.title}),o.jsx("p",{className:"text-white",children:N.description}),o.jsxs("p",{className:"text-white",children:["Price: $",N.price]}),o.jsxs("p",{className:"text-white",children:["Instructor: ",N.instructor]}),o.jsxs("p",{className:"text-white",children:["Duration: ",N.duration]}),o.jsxs("p",{className:"text-white",children:["Category: ",N.category]})]})]}),o.jsxs("div",{children:[o.jsx("button",{onClick:()=>L(`/course/${N._id}`),className:"bg-blue-500 text-white px-3 py-1 rounded mr-2",children:"View Details"}),o.jsx("button",{onClick:()=>j(N),className:"bg-yellow-500 text-white px-3 py-1 rounded mr-2",children:"Edit"}),o.jsx("button",{onClick:()=>E(N._id),className:"bg-red-500 text-white px-3 py-1 rounded",children:"Delete"})]})]},N._id))}),o.jsx(it,{})]})]})},WY=()=>{const[s,e]=T.useState([]),[t,n]=T.useState([]),[i,r]=T.useState(!0),[a,l]=T.useState(null),[c,f]=T.useState(new Set),u=He();return T.useEffect(()=>{const h=async()=>{try{const v=await Q.get("http://localhost:5000/api/auth/check",{withCredentials:!0});return l(v.data.user),v.data.user}catch{return console.log("User not logged in"),null}},p=async y=>{if(y)try{const w=await Q.get("http://localhost:5000/api/student/purchased-courses",{withCredentials:!0});if(w.data.success){n(w.data.courses);const L=new Set(w.data.courses.map(S=>S._id));f(L)}}catch(v){console.error("Error fetching purchased courses:",v)}},g=async()=>{r(!0);try{const v=await Q.get("http://localhost:5000/api/admin/courses");e(v.data)}catch(y){console.error("Error fetching courses:",y)}finally{r(!1)}};(async()=>{const y=await h();await Promise.all([g(),p(y)])})()},[]),o.jsxs(o.Fragment,{children:[o.jsx(Ae,{}),o.jsxs("div",{className:"min-h-screen bg-[#000] text-white",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-900 to-purple-900 py-16",children:o.jsxs("div",{className:"max-w-6xl mx-auto px-6 text-center",children:[o.jsx("h1",{className:"text-5xl font-bold mb-4",children:"Explore Our Courses"}),o.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Discover a wide range of courses designed to help you master new skills and advance your career"})]})}),o.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-12",children:[a&&t.length>0&&o.jsxs("div",{className:"mb-16",children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(NN,{className:"text-blue-500 text-3xl mr-3"}),o.jsx("h2",{className:"text-3xl font-bold",children:"Your Courses"})]}),o.jsxs("div",{className:"text-gray-400",children:[t.length," ",t.length===1?"course":"courses"," purchased"]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:t.map(h=>o.jsxs("div",{className:"bg-[#111111] rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow border border-blue-600",children:[o.jsxs("div",{className:"relative h-52 overflow-hidden group",children:[h.image?o.jsx("img",{src:h.image.startsWith("http")?h.image:`http://localhost:5000${h.image}`,alt:h.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110",onError:p=>{p.target.src="https://via.placeholder.com/640x360?text=Course+Thumbnail"}}):o.jsx("div",{className:"w-full h-full bg-gray-800 flex items-center justify-center",children:o.jsx("span",{className:"text-gray-400",children:"No thumbnail available"})}),o.jsx("div",{className:"absolute top-0 right-0 bg-blue-600 text-white px-3 py-1 m-2 rounded-full text-xs font-bold",children:"Purchased"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end",children:o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:h.title}),o.jsx("p",{className:"text-blue-400",children:h.instructor})]})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-xl font-semibold mb-2",children:h.title}),o.jsx("p",{className:"text-gray-400 text-sm mb-3 line-clamp-2",children:h.description}),o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsxs("p",{className:"text-green-500 font-bold text-lg",children:["",h.price]}),o.jsx("div",{className:"flex items-center text-sm text-gray-400",children:o.jsx("span",{className:"bg-gray-800 px-2 py-1 rounded",children:h.category})})]}),o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsxs("p",{className:"text-blue-400 text-sm",children:["By: ",h.instructor]}),o.jsx("p",{className:"text-gray-400 text-sm",children:h.duration})]}),o.jsx("button",{onClick:()=>u(`/course-videos/${h._id}`),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md mt-2 block w-full text-center transition-colors duration-200",children:"Continue Learning"})]})]},h._id))})]}),o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(rF,{className:"text-blue-500 text-3xl mr-3"}),o.jsx("h2",{className:"text-3xl font-bold",children:"All Courses"})]}),!i&&o.jsxs("div",{className:"text-gray-400",children:["Showing ",s.length," courses"]})]}),i?o.jsx("div",{className:"flex justify-center items-center py-20",children:o.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-500"})}):s.length===0?o.jsxs("div",{className:"bg-gray-900 rounded-lg p-8 text-center",children:[o.jsx("h3",{className:"text-2xl font-bold mb-2",children:"No courses available"}),o.jsx("p",{className:"text-gray-400 mb-4",children:"Check back later for new courses"})]}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:s.map(h=>{const p=c.has(h._id);return o.jsxs("div",{className:`bg-[#111111] rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow ${p?"border border-blue-600":""}`,children:[o.jsxs("div",{className:"relative h-52 overflow-hidden group",children:[h.image?o.jsx("img",{src:h.image.startsWith("http")?h.image:`http://localhost:5000${h.image}`,alt:h.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110",onError:g=>{g.target.src="https://via.placeholder.com/640x360?text=Course+Thumbnail"}}):o.jsx("div",{className:"w-full h-full bg-gray-800 flex items-center justify-center",children:o.jsx("span",{className:"text-gray-400",children:"No thumbnail available"})}),p&&o.jsx("div",{className:"absolute top-0 right-0 bg-blue-600 text-white px-3 py-1 m-2 rounded-full text-xs font-bold",children:"Purchased"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end",children:o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:h.title}),o.jsx("p",{className:"text-blue-400",children:h.instructor})]})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-xl font-semibold mb-2",children:h.title}),o.jsx("p",{className:"text-gray-400 text-sm mb-3 line-clamp-2",children:h.description}),o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsxs("p",{className:"text-green-500 font-bold text-lg",children:["",h.price]}),o.jsx("div",{className:"flex items-center text-sm text-gray-400",children:o.jsx("span",{className:"bg-gray-800 px-2 py-1 rounded",children:h.category})})]}),o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsxs("p",{className:"text-blue-400 text-sm",children:["By: ",h.instructor]}),o.jsx("p",{className:"text-gray-400 text-sm",children:h.duration})]}),p?o.jsx("button",{onClick:()=>u(`/course-videos/${h._id}`),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md mt-2 block w-full text-center transition-colors duration-200",children:"Continue Learning"}):o.jsx("button",{onClick:()=>u(`/course/${h._id}`),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md mt-2 block w-full text-center transition-colors duration-200",children:"View Course"})]})]},h._id)})})]}),o.jsx(it,{})]})]})},QY=({isOpen:s,onClose:e,course:t})=>{const[n,i]=T.useState("jazzCash"),[r,a]=T.useState(!1),l=He();if(console.log("PaymentModal rendered with props:",{isOpen:s,course:t}),!s||!t)return console.log("PaymentModal not showing because:",{isOpen:s,hasCourse:!!t}),null;const c=u=>{i(u)},f=async()=>{var u,h;if(!n){ae.error("Please select a payment method");return}a(!0);try{const p="http://localhost:5000";await new Promise(g=>setTimeout(g,1500)),await Q.post(`${p}/api/student/purchase-course/${t._id}`,{},{withCredentials:!0}),ae.success("Course purchased successfully!"),l(`/course-videos/${t._id}`)}catch(p){console.error("Error processing payment:",p),((u=p.response)==null?void 0:u.status)===401?(ae.error("Please login to purchase this course"),l("/login")):((h=p.response)==null?void 0:h.status)===400&&p.response.data.message==="Course already purchased"?(ae.info("You've already purchased this course"),l(`/course-videos/${t._id}`)):ae.error("Payment failed. Please try again.")}finally{a(!1),e()}};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 w-full max-w-md relative",children:[o.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:""}),o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx("div",{className:"bg-blue-600 p-3 rounded-full mr-4",children:o.jsx($s,{className:"text-white text-xl"})}),o.jsx("h2",{className:"text-2xl font-bold",children:"Payment"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("p",{className:"text-gray-300 mb-2",children:"Amount to Pay:"}),o.jsxs("p",{className:"text-3xl font-bold text-green-500",children:[" ",t==null?void 0:t.price]}),o.jsxs("p",{className:"text-gray-400 mt-1",children:["Purchase of course: ",t==null?void 0:t.title]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("p",{className:"text-gray-300 mb-2",children:"Select Payment Method:"}),o.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[o.jsxs("div",{className:`p-3 border rounded-lg cursor-pointer flex items-center ${n==="jazzCash"?"border-red-500 bg-red-900 bg-opacity-20":"border-gray-700"}`,onClick:()=>c("jazzCash"),children:[o.jsx(_a,{className:"text-red-500 text-xl mr-3"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"JazzCash"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Mobile payment service"})]}),o.jsx("input",{type:"radio",className:"ml-auto",checked:n==="jazzCash",onChange:()=>c("jazzCash")})]}),o.jsxs("div",{className:`p-3 border rounded-lg cursor-pointer flex items-center ${n==="easyPaisa"?"border-green-500 bg-green-900 bg-opacity-20":"border-gray-700"}`,onClick:()=>c("easyPaisa"),children:[o.jsx(_a,{className:"text-green-500 text-xl mr-3"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"EasyPaisa"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Mobile payment service"})]}),o.jsx("input",{type:"radio",className:"ml-auto",checked:n==="easyPaisa",onChange:()=>c("easyPaisa")})]}),o.jsxs("div",{className:`p-3 border rounded-lg cursor-pointer flex items-center ${n==="payFast"?"border-blue-500 bg-blue-900 bg-opacity-20":"border-gray-700"}`,onClick:()=>c("payFast"),children:[o.jsx(yp,{className:"text-blue-500 text-xl mr-3"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"PayFast"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Credit/debit card payments"})]}),o.jsx("input",{type:"radio",className:"ml-auto",checked:n==="payFast",onChange:()=>c("payFast")})]}),o.jsxs("div",{className:`p-3 border rounded-lg cursor-pointer flex items-center ${n==="bankTransfer"?"border-gray-400 bg-gray-800":"border-gray-700"}`,onClick:()=>c("bankTransfer"),children:[o.jsx(Sp,{className:"text-gray-400 text-xl mr-3"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Bank Transfer"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Direct bank transfer"})]}),o.jsx("input",{type:"radio",className:"ml-auto",checked:n==="bankTransfer",onChange:()=>c("bankTransfer")})]})]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("button",{onClick:e,className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded",children:"Cancel"}),o.jsx("button",{onClick:f,disabled:r,className:`${r?"bg-gray-600":"bg-green-600 hover:bg-green-700"} text-white px-6 py-2 rounded flex items-center`,children:r?"Processing...":"Pay Now"})]})]})})},KY=()=>{var j,E;const{id:s}=nd(),e=He(),[t,n]=T.useState(null),[i,r]=T.useState(!0),[a,l]=T.useState([]),[c,f]=T.useState(""),[u,h]=T.useState(""),[p,g]=T.useState(!1),[x,y]=T.useState(null),[v,w]=T.useState(!1);T.useEffect(()=>{const M=async()=>{try{const A=await Q.get(`http://localhost:5000/api/courses/${s}`);A.data.success?n(A.data.course):n(A.data)}catch(I){console.error("Error fetching course details:",I),ae.error("Failed to load course details")}finally{r(!1)}},N=async()=>{try{const I="http://localhost:5000",A=await Q.get(`${I}/api/auth/check`,{withCredentials:!0});if(y(A.data.user),A.data.user){const z=(await Q.get(`${I}/api/student/purchased-courses`,{withCredentials:!0})).data.some(O=>O._id===s);w(z)}}catch{console.log("User not logged in or error checking status")}};M(),N()},[s]);const L=async()=>{if(c.trim()!==""&&u.trim()!==""){const M={courseId:s,studentName:c,comment:u};try{const N=await Q.post("http://localhost:5000/api/reviews",M);l([...a,N.data]),f(""),h("")}catch(N){console.error("Error submitting review:",N)}}else alert("Please provide a name and a review.")};T.useEffect(()=>{(async()=>{try{const I=await Q.get(`http://localhost:5000/api/reviews/${s}`);l(I.data)}catch(N){console.error("Error fetching reviews:",N)}})()},[s]);const S=()=>{if(console.log("Buy Now button clicked"),console.log("User:",x),console.log("Has Purchased:",v),!x){ae.error("Please login to purchase this course"),e("/login");return}if(v){e(`/course-videos/${s}`);return}console.log("Setting showPaymentForm to true"),g(!0)};return i?o.jsx("p",{className:"text-white text-center mt-10",children:"Loading..."}):o.jsxs("div",{className:"bg-black text-white min-h-screen",children:[o.jsx(Ae,{}),o.jsx(QY,{isOpen:p,onClose:()=>g(!1),course:t}),o.jsxs("div",{className:"max-w-6xl mx-auto py-10 px-5 flex flex-col lg:flex-row items-start gap-10",children:[o.jsxs("div",{className:"lg:w-2/3",children:[o.jsx("h1",{className:"text-5xl font-bold",children:t==null?void 0:t.title}),o.jsx("p",{className:"text-gray-400 mt-3",children:t==null?void 0:t.description}),o.jsxs("p",{className:"mt-3 text-sm text-gray-500",children:[o.jsx("span",{className:"font-semibold text-white",children:"Instructor:"})," ",t==null?void 0:t.instructor]}),o.jsxs("p",{className:"text-sm text-gray-500",children:[o.jsx("span",{className:"font-semibold text-white",children:"Duration:"})," ",t==null?void 0:t.duration," hours"]}),o.jsxs("p",{className:"text-sm text-gray-500",children:[o.jsx("span",{className:"font-semibold text-white",children:"Category:"})," ",t==null?void 0:t.category]}),(t==null?void 0:t.creatorId)&&o.jsxs("div",{className:"mt-4 flex items-center bg-gray-800 p-3 rounded-lg",children:[t.creatorId.profileImageUrl?o.jsx("img",{src:t.creatorId.profileImageUrl,alt:t.creatorId.name,className:"w-10 h-10 rounded-full mr-3"}):o.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center mr-3",children:o.jsx("span",{className:"text-white font-bold",children:(j=t.creatorId.name)==null?void 0:j.charAt(0)})}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-semibold",children:["Created by: ",t.creatorId.name]}),o.jsx("p",{className:"text-sm text-gray-400",children:"Creator"})]})]}),o.jsx("div",{className:"mt-6",children:o.jsxs("p",{className:"text-lg font-semibold",children:["Price: ",o.jsxs("span",{className:"text-green-400 text-3xl font-bold",children:[" ",t==null?void 0:t.price]})," ",o.jsx("span",{className:"line-through text-gray-500 text-xl",children:" 5999"})," ","(+ GST)"]})}),o.jsxs("div",{className:"mt-10 flex gap-4",children:[o.jsx("button",{onClick:S,className:"bg-green-500 text-black text-lg font-semibold px-6 py-3 rounded-lg hover:bg-green-400 transition",children:v?"Go to Course":"Buy Now"}),!v&&o.jsx("button",{onClick:()=>{x?(ae.info("Processing direct purchase..."),Q.post(`http://localhost:5000/api/student/purchase-course/${t._id}`,{},{withCredentials:!0}).then(()=>{ae.success("Course purchased successfully!"),e(`/course-videos/${t._id}`)}).catch(N=>{console.error("Error:",N),ae.error("Purchase failed. Please try again.")})):(ae.error("Please login to purchase this course"),e("/login"))},className:"bg-blue-500 text-white text-lg font-semibold px-6 py-3 rounded-lg hover:bg-blue-400 transition",children:"Quick Purchase (Test)"})]})]}),o.jsxs("div",{className:"lg:w-1/3 w-[97%]",children:[o.jsxs("div",{className:"relative z-[1]",children:[o.jsx("img",{src:(E=t==null?void 0:t.image)!=null&&E.startsWith("http")?t==null?void 0:t.image:`http://localhost:5000${t==null?void 0:t.image}`,alt:t==null?void 0:t.title,className:"w-full h-auto rounded-lg"}),o.jsx("div",{className:"absolute top-2 right-2 bg-black px-3 py-1 rounded-md text-sm",children:"PLACEMENT"})]}),o.jsxs("div",{className:"bg-gray-800 mt-6 p-5 rounded-lg grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("p",{children:[o.jsx("span",{className:"text-gray-400",children:"Language:"})," ",o.jsx("span",{className:"text-green-400",children:"English"})]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-gray-400",children:"Certificate:"})," ",o.jsx("span",{className:"text-green-400",children:"YES"})]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-gray-400",children:"Schedule:"})," ",o.jsx("span",{className:"text-blue-400",children:"Weekends"})]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-gray-400",children:"Total Content:"})," ",o.jsx("span",{className:"text-green-400",children:"40 Hours"})]})]})]})]}),o.jsxs("div",{className:"max-w-6xl mx-auto px-5 py-10",children:[o.jsx("h2",{className:"text-4xl font-bold mb-5",children:"Student Reviews"}),o.jsxs("div",{className:"flex flex-col gap-3 mb-6",children:[o.jsx("input",{type:"text",className:"p-3 bg-gray-800 text-white w-full rounded-md",placeholder:"Your Name",value:c,onChange:M=>f(M.target.value)}),o.jsx("textarea",{className:"p-3 bg-gray-800 text-white w-full rounded-md",rows:"3",placeholder:"Write your review here...",value:u,onChange:M=>h(M.target.value)}),o.jsx("button",{className:"bg-green-500 px-5 py-2 rounded-md text-black font-semibold hover:bg-green-400 transition",onClick:L,children:"Submit Review"})]}),a.length>0?o.jsx("ul",{className:"bg-gray-800 p-5 rounded-md space-y-3",children:a.map((M,N)=>o.jsxs("li",{className:"p-3 border-b border-gray-700 last:border-none",children:[o.jsx("h3",{className:"text-lg font-semibold text-green-400",children:M.studentName}),o.jsx("p",{className:"text-gray-400",children:M.comment})]},N))}):o.jsx("p",{className:"text-gray-500",children:"No reviews yet. Be the first to review!"})]}),o.jsxs("div",{className:"max-w-6xl mx-auto text-center py-20 px-5",children:[o.jsx("h1",{className:"text-6xl font-bold bg-gradient-to-r from-red-500 to-yellow-500 text-transparent bg-clip-text",children:"Zero To Job-Ready"}),o.jsx("h2",{className:"text-3xl mt-4",children:"In 5 Months*"}),o.jsxs("div",{className:"mt-10 flex fixed left-0 bottom-10 w-full justify-center gap-5",children:[o.jsx(le,{to:"/courses",className:"bg-gray-800 px-6 py-3 rounded-md",children:"Courses"}),o.jsx(le,{to:"/callback",className:"bg-gray-800 px-6 py-3 rounded-md",children:"Request Callback"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:S,className:"bg-green-500 px-6 py-3 rounded-md text-black font-semibold hover:bg-green-400 transition",children:v?"Go to Course":"Buy Now"}),!v&&o.jsx("button",{onClick:()=>{x?(ae.info("Processing direct purchase..."),Q.post(`http://localhost:5000/api/student/purchase-course/${t._id}`,{},{withCredentials:!0}).then(()=>{ae.success("Course purchased successfully!"),e(`/course-videos/${t._id}`)}).catch(N=>{console.error("Error:",N),ae.error("Purchase failed. Please try again.")})):(ae.error("Please login to purchase this course"),e("/login"))},className:"bg-blue-500 px-6 py-3 rounded-md text-white font-semibold hover:bg-blue-400 transition",children:"Quick Buy (Test)"})]})]})]}),o.jsx("div",{children:o.jsx("img",{src:"https://ik.imagekit.io/sheryians/Job%20Ready%20Live%20Batch/graphweb01%20Large_ysaVk2HDm.png?updatedAt=1735828215514",alt:""})}),o.jsxs("div",{children:[o.jsx("h1",{className:"xl:text-9xl text-5xl font-[gilroy] xl:ml-20 ml-5",children:"Syllabus"}),o.jsx("h2",{className:"text-gray-400 text-3xl xl:text-6xl word-spacing-3 xl:ml-20 ml-5 font-bold",children:"Dominate From Start To Victory."}),o.jsx("div",{className:"flex p-10 items-center justify-center",children:o.jsx("button",{className:"px-5 py-3 bg-green-500 rounded-md",children:"View Complete Syllabus"})}),o.jsx(it,{})]})]})},JY=({onClose:s})=>{const[e,t]=T.useState({name:"",phone:"",dateTime:"",enquiryType:"Online Courses (Website)"}),[n,i]=T.useState(!1),[r,a]=T.useState(""),l=f=>{t({...e,[f.target.name]:f.target.value})},c=async f=>{f.preventDefault(),i(!0);try{await Q.post("http://localhost:5000/api/request-callback",e),a("Your request has been submitted successfully!")}catch{a("Failed to send request. Try again.")}i(!1)};return o.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"bg-gray-900 p-6 rounded-lg w-96 text-black",children:[o.jsx("button",{className:"absolute top-2 right-2 text-white",onClick:s,children:""}),o.jsx("h2",{className:"text-lg font-bold",children:"Request a Callback"}),o.jsxs("form",{onSubmit:c,className:"mt-4",children:[o.jsx("input",{type:"text",name:"name",placeholder:"Name",className:"w-full p-2 mb-3",onChange:l,required:!0}),o.jsx("input",{type:"tel",name:"phone",placeholder:"Phone",className:"w-full p-2 mb-3",onChange:l,required:!0}),o.jsx("input",{type:"datetime-local",name:"dateTime",className:"w-full p-2 mb-3",onChange:l,required:!0}),o.jsxs("select",{name:"enquiryType",className:"w-full p-2 mb-3",onChange:l,children:[o.jsx("option",{children:"Online Courses (Website)"}),o.jsx("option",{children:"Offline Classes"})]}),o.jsx("button",{type:"submit",className:"w-full bg-green-500 p-2",disabled:n,children:n?"Submitting...":"Submit"})]}),r&&o.jsx("p",{className:"mt-2 text-center",children:r})]})})},qY="http://localhost:5000",tT=({courseId:s})=>{const[e,t]=T.useState(!0),[n,i]=T.useState(null),r=He(),a=Ti();T.useEffect(()=>{(async()=>{try{const x=new URLSearchParams(a.search).get("paymentId")||localStorage.getItem("pendingPaymentId");if(!x){if(s){t(!1);return}r("/");return}t(!0);const y=await Q.get(`${qY}/api/payments/details/${x}`,{withCredentials:!0});y.data.success?(i(y.data.data.payment),localStorage.removeItem("pendingPaymentId")):(de("Failed to load payment details"),r("/"))}catch(g){console.error("Error fetching payment details:",g),de("Error loading payment details"),r("/")}finally{t(!1)}})()},[r,a.search,s]);const l=p=>new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0}).format(p||0),c=p=>new Date(p).toLocaleDateString("en-PK",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),f=p=>{switch(p){case"subscription":return"Channel Subscription";case"donation":return"Creator Donation";case"premium":return"Premium Subscription";case"adCredit":return"Advertising Credit";case"course":return"Course Purchase";default:return"Payment"}},u=p=>{switch(p){case"jazzCash":return"JazzCash";case"easyPaisa":return"EasyPaisa";case"payFast":return"PayFast";case"bankTransfer":return"Bank Transfer";default:return p}},h=()=>{if(s)return`/course-videos/${s}`;if(!n)return"/";switch(n.purpose){case"subscription":return`/channel/${n.referenceId}`;case"premium":return"/premium";case"adCredit":return"/studio/ads";case"course":return`/course-videos/${n.referenceId}`;default:return"/"}};return e?o.jsxs("div",{className:"bg-black min-h-screen text-white",children:[o.jsx(Ae,{}),o.jsx("div",{className:"flex justify-center items-center h-screen",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white"})})]}):s&&!n?o.jsxs("div",{className:"bg-black text-white min-h-screen flex flex-col items-center justify-center",children:[o.jsx("h1",{className:"text-5xl font-bold",children:"Payment Successful!"}),o.jsx("p",{className:"text-lg mt-4",children:"Thank you for purchasing the course."}),o.jsx("p",{className:"text-lg mt-4",children:"You can now access the course videos and start learning!"}),o.jsx(le,{to:`/course-videos/${s}`,className:"mt-8 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg",children:"Go to Course"})]}):o.jsxs("div",{className:"bg-black min-h-screen text-white",children:[o.jsx(Ae,{}),o.jsx("div",{className:"max-w-3xl mx-auto p-6",children:o.jsxs("div",{className:"bg-gray-900 rounded-lg p-8 text-center",children:[o.jsx("div",{className:"bg-green-900 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-6",children:o.jsx(Cn,{className:"text-green-400 text-4xl"})}),o.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Payment Successful!"}),o.jsx("p",{className:"text-gray-300 mb-8",children:"Thank you for your payment. Your transaction has been completed successfully."}),o.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4 text-left",children:"Payment Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-left",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-400 text-sm",children:"Transaction ID"}),o.jsx("p",{className:"font-medium",children:n.transactionId||"N/A"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-400 text-sm",children:"Date"}),o.jsx("p",{className:"font-medium",children:c(n.createdAt)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-400 text-sm",children:"Amount"}),o.jsx("p",{className:"font-medium text-green-500",children:l(n.amount)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-400 text-sm",children:"Payment Method"}),o.jsx("p",{className:"font-medium",children:u(n.gateway)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-400 text-sm",children:"Purpose"}),o.jsx("p",{className:"font-medium",children:f(n.purpose)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-400 text-sm",children:"Status"}),o.jsx("p",{className:"font-medium text-green-500",children:"Completed"})]})]})]}),o.jsxs("div",{className:"flex justify-center space-x-4",children:[o.jsxs("button",{onClick:()=>r("/payment/history"),className:"bg-gray-800 hover:bg-gray-700 text-white px-6 py-3 rounded-lg flex items-center",children:[o.jsx(LN,{className:"mr-2"})," Payment History"]}),o.jsxs("button",{onClick:()=>r(h()),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg flex items-center",children:[o.jsx(wp,{className:"mr-2"})," Continue"]})]})]})}),o.jsx(it,{})]})},ZY=()=>{var f;const[s,e]=T.useState([]),[t,n]=T.useState(!0),[i,r]=T.useState(null),a=He();T.useEffect(()=>{const u=async()=>{try{const x=await Q.get("http://localhost:5000/api/auth/check",{withCredentials:!0});return r(x.data.user),x.data.user}catch{return ae.error("Please login to access your courses"),a("/login"),null}},h=async()=>{try{n(!0);const x=await Q.get("http://localhost:5000/api/student/purchased-courses",{withCredentials:!0});e(x.data)}catch(g){console.error("Error fetching purchased courses:",g),ae.error("Failed to load your courses")}finally{n(!1)}};(async()=>{await u()&&h()})()},[a]);const l=u=>{const h={year:"numeric",month:"short",day:"numeric"};return new Date(u).toLocaleDateString(void 0,h)},c=()=>Math.floor(Math.random()*100);return t?o.jsxs("div",{className:"min-h-screen bg-black text-white",children:[o.jsx(Ae,{}),o.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-64px)]",children:o.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-500"})})]}):o.jsxs("div",{className:"min-h-screen bg-black text-white",children:[o.jsx(Ae,{}),o.jsx("div",{className:"bg-gradient-to-r from-blue-900 to-purple-900 py-12",children:o.jsx("div",{className:"max-w-7xl mx-auto px-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-bold mb-2",children:"My Learning Dashboard"}),o.jsx("p",{className:"text-xl text-gray-300",children:"Continue your learning journey"})]}),i&&o.jsx("div",{className:"mt-4 md:mt-0 bg-black/30 backdrop-blur-sm px-6 py-4 rounded-lg",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-600 flex items-center justify-center text-xl font-bold",children:((f=i.name)==null?void 0:f.charAt(0).toUpperCase())||"U"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-lg",children:i.name}),o.jsx("p",{className:"text-gray-300 text-sm",children:i.email})]})]})})]})})}),o.jsx("div",{className:"max-w-7xl mx-auto px-6 py-12",children:s.length===0?o.jsxs("div",{className:"bg-gray-900 rounded-lg p-8 text-center",children:[o.jsx(gu,{className:"text-5xl text-blue-500 mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold mb-2",children:"No courses purchased yet"}),o.jsx("p",{className:"text-gray-400 mb-6",children:"Explore our course catalog and start learning today!"}),o.jsx("button",{onClick:()=>a("/courses"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition-colors",children:"Browse Courses"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[o.jsx("div",{className:"bg-gray-900 rounded-lg p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-400",children:"Courses Enrolled"}),o.jsx("h3",{className:"text-3xl font-bold",children:s.length})]}),o.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-900/50 flex items-center justify-center",children:o.jsx(gu,{className:"text-blue-500 text-xl"})})]})}),o.jsx("div",{className:"bg-gray-900 rounded-lg p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-400",children:"Total Videos"}),o.jsx("h3",{className:"text-3xl font-bold",children:s.reduce((u,h)=>{var p;return u+(((p=h.videos)==null?void 0:p.length)||0)},0)})]}),o.jsx("div",{className:"w-12 h-12 rounded-full bg-green-900/50 flex items-center justify-center",children:o.jsx(ar,{className:"text-green-500 text-xl"})})]})}),o.jsx("div",{className:"bg-gray-900 rounded-lg p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-400",children:"Last Activity"}),o.jsx("h3",{className:"text-xl font-bold",children:s.length>0?l(s[0].updatedAt||s[0].createdAt):"N/A"})]}),o.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-900/50 flex items-center justify-center",children:o.jsx(dm,{className:"text-purple-500 text-xl"})})]})})]}),o.jsxs("div",{className:"mb-12",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"My Courses"}),o.jsx("button",{onClick:()=>a("/courses"),className:"text-blue-500 hover:text-blue-400 transition-colors",children:"Browse more courses"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(u=>{var h;return o.jsxs("div",{className:"bg-gray-900 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-shadow",children:[o.jsxs("div",{className:"relative h-48 overflow-hidden",children:[u.image?o.jsx("img",{src:u.image.startsWith("http")?u.image:`http://localhost:5000${u.image}`,alt:u.title,className:"w-full h-full object-cover",onError:p=>{p.target.src="https://via.placeholder.com/640x360?text=Course+Thumbnail"}}):o.jsx("div",{className:"w-full h-full bg-gray-800 flex items-center justify-center",children:o.jsx("span",{className:"text-gray-400",children:"No thumbnail available"})}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent flex items-end",children:o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:u.title}),o.jsx("p",{className:"text-blue-400",children:u.instructor})]})})]}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-1",children:[o.jsx("span",{className:"text-sm text-gray-400",children:"Progress"}),o.jsxs("span",{className:"text-sm text-gray-400",children:[c(),"%"]})]}),o.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:o.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${c()}%`}})})]}),o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{className:"flex items-center text-sm text-gray-400",children:[o.jsx(dm,{className:"mr-1"}),o.jsxs("span",{children:["Purchased: ",l(u.createdAt)]})]}),o.jsxs("div",{className:"flex items-center text-sm text-gray-400",children:[o.jsx(Or,{className:"mr-1"}),o.jsx("span",{children:u.duration})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"text-sm text-gray-400",children:[o.jsx("span",{className:"text-green-500 font-bold",children:((h=u.videos)==null?void 0:h.length)||0})," videos"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>a(`/course/${u._id}`),className:"bg-gray-800 hover:bg-gray-700 text-white px-3 py-1 rounded-md text-sm transition-colors",children:"Details"}),o.jsxs("button",{onClick:()=>a(`/course-videos/${u._id}`),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded-md text-sm flex items-center transition-colors",children:[o.jsx(ar,{className:"mr-1 text-xs"})," Continue"]})]})]})]})]},u._id)})})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Recommended Learning Path"}),o.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center mr-4",children:o.jsx(NN,{className:"text-white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold",children:"Continue Your Learning Journey"}),o.jsx("p",{className:"text-gray-400",children:"Based on your enrolled courses"})]})]}),o.jsx("div",{className:"space-y-4",children:s.slice(0,3).map((u,h)=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-800 flex items-center justify-center mr-4",children:o.jsx("span",{className:"font-bold",children:h+1})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold",children:u.title}),o.jsx("div",{className:"w-full bg-gray-800 rounded-full h-1 mt-1",children:o.jsx("div",{className:"bg-blue-500 h-1 rounded-full",style:{width:`${c()}%`}})})]}),o.jsx("button",{onClick:()=>a(`/course-videos/${u._id}`),className:"ml-4 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded-md text-sm transition-colors",children:"Continue"})]},u._id))})]})]})]})}),o.jsx(it,{})]})},sT=({livestreams:s,title:e,emptyMessage:t,linkTo:n="/watch"})=>{if(!s||s.length===0)return o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-100",children:e}),o.jsx("p",{className:"text-gray-400",children:t})]});const i=r=>r?new Date(r).toLocaleString():"";return o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-100",children:e}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:s.map(r=>{var a;return o.jsxs(le,{to:`${n}/${r._id}`,className:"block bg-[#111111] rounded-lg overflow-hidden hover:bg-gray-800 transition-colors duration-200",children:[o.jsx("div",{className:"relative",children:o.jsxs("div",{className:"w-full h-40 bg-gray-800 flex items-center justify-center",children:[r.status==="active"?o.jsx("span",{className:"absolute top-2 right-2 bg-red-600 text-white text-xs px-2 py-1 rounded-full",children:"LIVE"}):r.endedAt&&o.jsx("span",{className:"absolute top-2 right-2 bg-gray-600 text-white text-xs px-2 py-1 rounded-full",children:"ENDED"}),o.jsx("div",{className:"text-4xl text-gray-600",children:r.isScreenSharing?o.jsx("i",{className:"fas fa-desktop"}):o.jsx("i",{className:"fas fa-video"})})]})}),o.jsxs("div",{className:"p-3",children:[o.jsx("h3",{className:"text-md font-semibold text-gray-100 truncate",children:r.name}),o.jsx("p",{className:"text-sm text-gray-400 mt-1",children:((a=r.user)==null?void 0:a.name)||"Anonymous"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r.status==="active"?`Started: ${i(r.startedAt)}`:r.endedAt?`Ended: ${i(r.endedAt)}`:"Not started yet"})]})]},r._id)})})]})},An=({user:s,subscriptions:e=[]})=>{const t=Ti(),n=[{path:"/feed",icon:o.jsx(wp,{className:"text-xl"}),label:"Home"},{path:"/shorts",icon:o.jsx(ar,{className:"text-xl"}),label:"Shorts"},{path:"/subscriptions",icon:o.jsx(CN,{className:"text-xl"}),label:"Subscriptions"}],i=[{path:"/history",icon:o.jsx(vp,{className:"text-xl"}),label:"History"},{path:"/playlists",icon:o.jsx(yF,{className:"text-xl"}),label:"Playlists"},{path:"/your-videos",icon:o.jsx(kn,{className:"text-xl"}),label:"Your videos"},{path:"/watch-later",icon:o.jsx(Or,{className:"text-xl"}),label:"Watch later"},{path:"/liked-videos",icon:o.jsx(wi,{className:"text-xl"}),label:"Liked videos"},{path:"/downloads",icon:o.jsx(bp,{className:"text-xl"}),label:"Downloads"},{path:"/your-clips",icon:o.jsx(zy,{className:"text-xl"}),label:"Your clips"}],r=[{path:"/premium",icon:o.jsx(SN,{className:"text-xl"}),label:"Rerose Premium"},{path:"/studio",icon:o.jsx(kn,{className:"text-xl"}),label:"Rerose Studio"},{path:"/music",icon:o.jsx(LF,{className:"text-xl"}),label:"Rerose Music"},{path:"/kids",icon:o.jsx(uF,{className:"text-xl"}),label:"Rerose Kids"}],a=[{path:"/settings",icon:o.jsx(TN,{className:"text-xl"}),label:"Settings"},{path:"/report-history",icon:o.jsx(EN,{className:"text-xl"}),label:"Report history"},{path:"/help",icon:o.jsx(_N,{className:"text-xl"}),label:"Help"},{path:"/feedback",icon:o.jsx(dF,{className:"text-xl"}),label:"Send feedback"}],l=[{label:"About",path:"/about"},{label:"Press",path:"/press"},{label:"Copyright",path:"/copyright"},{label:"Contact us",path:"/contact"},{label:"Creators",path:"/creators"},{label:"Advertise",path:"/advertise"},{label:"Developers",path:"/developers"},{label:"Terms",path:"/terms"},{label:"Privacy",path:"/privacy"},{label:"Policy & Safety",path:"/policy"},{label:"How Rerose works",path:"/how-rerose-works"},{label:"Test new features",path:"/test-features"}],c=f=>{const u=t.pathname===f.path;return o.jsxs(le,{to:f.path,className:`flex items-center p-3 rounded-lg transition-colors ${u?"bg-gray-800 text-white":"text-gray-300 hover:bg-gray-800"}`,children:[o.jsx("span",{className:"mr-4",children:f.icon}),o.jsx("span",{className:"text-sm",children:f.label})]},f.path)};return o.jsxs("div",{className:"bg-black text-white h-full overflow-y-auto scrollbar-hide",children:[o.jsx("div",{className:"py-2",children:n.map(c)}),o.jsxs("div",{className:"py-2 border-t border-gray-800",children:[o.jsx("h3",{className:"px-3 py-2 text-sm font-semibold text-gray-400",children:"Library"}),i.map(c)]}),s&&o.jsxs("div",{className:"py-2 border-t border-gray-800",children:[o.jsx("h3",{className:"px-3 py-2 text-sm font-semibold text-gray-400",children:"Subscriptions"}),e.length>0?e.map(f=>o.jsxs(le,{to:`/channel/${f._id}`,className:"flex items-center p-3 rounded-lg text-gray-300 hover:bg-gray-800 transition-colors",children:[f.profileImageUrl?o.jsx("img",{src:f.profileImageUrl,alt:f.name,className:"w-6 h-6 rounded-full mr-4"}):o.jsx("div",{className:"w-6 h-6 rounded-full bg-red-600 flex items-center justify-center mr-4",children:o.jsx("span",{className:"text-xs text-white",children:f.name.charAt(0)})}),o.jsx("span",{className:"text-sm",children:f.name})]},f._id)):o.jsx("p",{className:"px-3 py-2 text-sm text-gray-500",children:"No subscriptions yet"})]}),o.jsx("div",{className:"py-2 border-t border-gray-800",children:o.jsxs(le,{to:"/trending",className:"flex items-center p-3 rounded-lg text-gray-300 hover:bg-gray-800 transition-colors",children:[o.jsx("span",{className:"mr-4",children:o.jsx(wv,{className:"text-xl"})}),o.jsx("span",{className:"text-sm",children:"Trending"})]})}),o.jsxs("div",{className:"py-2 border-t border-gray-800",children:[o.jsx("h3",{className:"px-3 py-2 text-sm font-semibold text-gray-400",children:"More from Rerose"}),r.map(c)]}),o.jsx("div",{className:"py-2 border-t border-gray-800",children:a.map(c)}),o.jsxs("div",{className:"py-4 px-3 border-t border-gray-800 text-xs text-gray-500",children:[o.jsx("div",{className:"flex flex-wrap gap-2",children:l.slice(0,6).map((f,u)=>o.jsx(le,{to:f.path,className:"hover:text-gray-300",children:f.label},u))}),o.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:l.slice(6).map((f,u)=>o.jsx(le,{to:f.path,className:"hover:text-gray-300",children:f.label},u))}),o.jsx("div",{className:"mt-4",children:" 2025 Rerose Academy"})]})]})},XY=({onSearchResult:s})=>{const[e,t]=T.useState(!1),[n,i]=T.useState(""),r=()=>"SpeechRecognition"in window||"webkitSpeechRecognition"in window,a=()=>{if(!r()){ae.error("Your browser does not support voice search");return}t(!0),i("");const l=window.SpeechRecognition||window.webkitSpeechRecognition,c=new l;c.continuous=!1,c.interimResults=!1,c.lang="en-US",c.onstart=()=>{console.log("Voice recognition started")},c.onresult=f=>{const u=f.resultIndex,h=f.results[u][0].transcript;i(h),s&&s(h)},c.onerror=f=>{console.error("Speech recognition error",f.error),ae.error(`Voice search error: ${f.error}`),t(!1)},c.onend=()=>{console.log("Voice recognition ended"),t(!1)},c.start()};return o.jsx("button",{onClick:a,disabled:e,className:`p-2 rounded-full ${e?"bg-red-600 animate-pulse":"bg-gray-700 hover:bg-gray-600"} transition-colors`,title:"Search with voice","aria-label":"Search with voice",children:e?o.jsx(pm,{className:"animate-spin text-white"}):o.jsx(SF,{className:"text-white"})})},eW=()=>{const[s,e]=T.useState([]),[t,n]=T.useState([]),[i,r]=T.useState([]),[a,l]=T.useState([]),[c,f]=T.useState([]),[u,h]=T.useState(!0),[p,g]=T.useState(null),[x,y]=T.useState(null),[v,w]=T.useState(""),[L,S]=T.useState([]),[j,E]=T.useState([]),[M,N]=T.useState(!1);He(),T.useEffect(()=>{const O=JSON.parse(localStorage.getItem("user"));y(O);const Y=async()=>{try{const H=(await Q.get("http://localhost:5000/api/free-videos/feed",{withCredentials:!0})).data;e(H.filter(B=>B.type==="video")),n(H.filter(B=>B.type==="short")),O&&r(H.filter(B=>B.uploader===O.name));const F=[...H].sort((B,U)=>U.views-B.views).slice(0,10);E(F),h(!1)}catch{g("Failed to fetch videos"),h(!1)}},q=async()=>{try{const V=await Q.get("http://localhost:5000/api/livestream/active");l(V.data.data||[]);const H=await Q.get("http://localhost:5000/api/livestream/ended");f(H.data.data||[])}catch(V){console.error("Failed to fetch livestreams:",V)}},Z=async()=>{if(O)try{const V=await Q.get("http://localhost:5000/api/subscriptions/my-subscriptions",{withCredentials:!0});V.data.success&&S(V.data.subscriptions||[])}catch(V){console.error("Failed to fetch subscriptions:",V)}};Y(),q(),Z()},[]);const I=O=>{if(!v.trim())return O;const Y=v.toLowerCase();return O.filter(q=>{const Z=q.title.toLowerCase().includes(Y),V=q.uploader.toLowerCase().includes(Y);return Z||V}).sort((q,Z)=>{const V=q.title.toLowerCase()===Y,H=Z.title.toLowerCase()===Y;return V&&!H?-1:!V&&H?1:Z.views-q.views})},A=O=>{O.preventDefault(),D()},D=()=>{v.trim()&&(N(!0),N(!1))},z=O=>{w(O),D()};return u?o.jsx("div",{className:"text-center text-xl mt-10 text-gray-300",children:"Loading..."}):p?o.jsx("div",{className:"text-center text-red-400 mt-10",children:p}):o.jsxs("div",{className:"min-h-screen bg-[#000000] text-white",children:[o.jsx(Ae,{}),o.jsxs("div",{className:"flex flex-col md:flex-row",children:[o.jsx("div",{className:"hidden md:block md:w-64 lg:w-72 h-[calc(100vh-64px)] sticky top-16 overflow-y-auto",children:o.jsx(An,{user:x,subscriptions:L})}),o.jsxs("div",{className:"flex-1 p-4",children:[o.jsx("div",{className:"mb-6",children:o.jsxs("form",{onSubmit:A,className:"flex items-center gap-2 max-w-3xl mx-auto",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx("input",{type:"text",placeholder:"Search videos...",value:v,onChange:O=>w(O.target.value),className:"w-full px-4 py-2 pl-10 rounded-full text-black bg-white outline-none border border-gray-300 focus:border-blue-500"}),o.jsx(Ei,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"})]}),o.jsx(XY,{onSearchResult:z}),o.jsx("button",{type:"submit",className:"bg-gray-800 hover:bg-gray-700 text-white px-4 py-2 rounded-full",disabled:M,children:M?"Searching...":"Search"})]})}),o.jsxs("div",{className:"flex justify-center gap-4 mb-8",children:[o.jsx(le,{to:"/upload-video",className:"px-4 py-2 bg-[#111111] text-gray-200 rounded-lg hover:bg-gray-600 transition-colors",children:"Upload Video"}),o.jsx(le,{to:"/upload-short",className:"px-4 py-2 bg-[#111111] text-gray-200 rounded-lg hover:bg-gray-600 transition-colors",children:"Upload Short"}),o.jsx(le,{to:"/live-course",className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Go Live"})]}),a.length>0&&o.jsx(sT,{livestreams:a,title:"Live Now",emptyMessage:"No active livestreams at the moment.",linkTo:"/watch-livestream"}),j.length>0&&v.trim()===""&&o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(wv,{className:"text-red-500 mr-2"}),o.jsx("h2",{className:"text-2xl font-semibold text-gray-100",children:"Trending"})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:j.slice(0,8).map(O=>o.jsxs(le,{to:`/watch/${O._id}`,className:"block rounded-lg overflow-hidden bg-[#111111] hover:bg-gray-700 transition-colors duration-200",children:[o.jsx("img",{src:`${O.thumbnailUrl}`,alt:O.title,className:"w-full h-48 object-cover"}),o.jsxs("div",{className:"p-3",children:[o.jsx("h3",{className:"text-md font-semibold text-gray-100 truncate",children:O.title}),o.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:[O.uploader,"  ",O.views," views"]})]})]},O._id))})]}),x&&I(i).length>0&&o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-100",children:"Your Videos"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:I(i).map(O=>o.jsxs(le,{to:`/watch/${O._id}`,className:"block rounded-lg overflow-hidden bg-[#111111] hover:bg-gray-700 transition-colors duration-200",children:[o.jsx("img",{src:O.thumbnailUrl,alt:O.title,className:"w-full h-48 object-cover"}),o.jsxs("div",{className:"p-3",children:[o.jsx("h3",{className:"text-md font-semibold text-gray-100 truncate",children:O.title}),o.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:[O.uploader,"  ",O.views," views"]})]})]},O._id))})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-100",children:v?`Search Results for "${v}"`:"Recommended Videos"}),I(s).length>0?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:I(s).map(O=>o.jsxs(le,{to:`/watch/${O._id}`,className:"block rounded-lg overflow-hidden bg-[#111111] hover:bg-gray-700 transition-colors duration-200",children:[o.jsx("img",{src:`${O.thumbnailUrl}`,alt:O.title,className:"w-full h-48 object-cover"}),o.jsxs("div",{className:"p-3",children:[o.jsx("h3",{className:"text-md font-semibold text-gray-100 truncate",children:O.title}),o.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:[O.uploader,"  ",O.views," views"]})]})]},O._id))}):o.jsx("div",{className:"text-center py-8 bg-[#111111] rounded-lg",children:o.jsx("p",{className:"text-gray-400",children:"No videos found matching your search."})})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-100",children:"Shorts"}),I(t).length>0?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:I(t).map(O=>o.jsxs(le,{to:`/watch/${O._id}`,className:"block rounded-lg overflow-hidden bg-[#111111] hover:bg-gray-700 transition-colors duration-200",children:[o.jsxs("div",{className:"relative pb-[177%]",children:[" ",o.jsx("img",{src:O.thumbnailUrl.startsWith("http")?O.thumbnailUrl:`http://localhost:5000${O.thumbnailUrl}`,alt:O.title,className:"absolute inset-0 w-full h-full object-cover"})]}),o.jsxs("div",{className:"p-3",children:[o.jsx("h3",{className:"text-md font-semibold text-gray-100 truncate",children:O.title}),o.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:[O.views," views"]})]})]},O._id))}):o.jsx("div",{className:"text-center py-8 bg-[#111111] rounded-lg",children:o.jsx("p",{className:"text-gray-400",children:"No shorts found."})})]}),c.length>0&&o.jsx(sT,{livestreams:c,title:"Recent Livestreams",emptyMessage:"No recent livestreams available.",linkTo:"/watch-livestream"}),o.jsxs("div",{className:"mt-12 p-6 bg-[#111111] rounded-lg",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Monetization Information"}),o.jsx("p",{className:"text-gray-300 mb-3",children:"The earnings generated through this platform represent real money. Creators can earn through:"}),o.jsxs("ul",{className:"list-disc pl-6 text-gray-300 space-y-2",children:[o.jsx("li",{children:"Video views (based on watch time)"}),o.jsx("li",{children:"Ad impressions and clicks"}),o.jsx("li",{children:"Livestream views and donations"})]}),o.jsx("p",{className:"text-gray-300 mt-3",children:"Payments are processed through JazzCash, Easypaisa, or PayFast for the Pakistani market. Visit the Creator Studio for more details on monetization eligibility and earnings."})]}),o.jsxs("div",{className:"mt-12 py-6 border-t border-gray-800",children:[o.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-2 text-sm text-gray-400",children:[o.jsx(le,{to:"/about",className:"hover:text-gray-200",children:"About"}),o.jsx(le,{to:"/press",className:"hover:text-gray-200",children:"Press"}),o.jsx(le,{to:"/copyright",className:"hover:text-gray-200",children:"Copyright"}),o.jsx(le,{to:"/contact",className:"hover:text-gray-200",children:"Contact us"}),o.jsx(le,{to:"/creators",className:"hover:text-gray-200",children:"Creators"}),o.jsx(le,{to:"/advertise",className:"hover:text-gray-200",children:"Advertise"}),o.jsx(le,{to:"/developers",className:"hover:text-gray-200",children:"Developers"})]}),o.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-2 text-sm text-gray-400 mt-4",children:[o.jsx(le,{to:"/terms",className:"hover:text-gray-200",children:"Terms"}),o.jsx(le,{to:"/privacy",className:"hover:text-gray-200",children:"Privacy"}),o.jsx(le,{to:"/policy",className:"hover:text-gray-200",children:"Policy & Safety"}),o.jsx(le,{to:"/how-rerose-works",className:"hover:text-gray-200",children:"How Rerose works"}),o.jsx(le,{to:"/test-features",className:"hover:text-gray-200",children:"Test new features"})]}),o.jsx("div",{className:"mt-4 text-sm text-gray-500",children:" 2025 Rerose Academy"})]})]})]})]})},PI=({channelId:s,channelName:e})=>{const[t,n]=T.useState(!1),[i,r]=T.useState(0),[a,l]=T.useState(!1),[c,f]=T.useState(null);T.useEffect(()=>{const h=JSON.parse(localStorage.getItem("user"));h&&f(h);const p=async()=>{if(!(!s||!h))try{const x=await nn.get(`/api/subscriptions/check/${s}`);x.data.success&&n(x.data.isSubscribed)}catch(x){console.error("Error checking subscription:",x)}},g=async()=>{if(s)try{const x=await nn.get(`/api/subscriptions/count/${s}`);x.data.success&&r(x.data.subscriberCount)}catch(x){console.error("Error getting subscriber count:",x)}};p(),g()},[s]);const u=async()=>{var h,p;if(!c){de("Please log in to subscribe to channels");return}if(c._id===s){de("You cannot subscribe to your own channel");return}l(!0);try{t?(await nn.post("/api/subscriptions/unsubscribe",{channelId:s})).data.success&&(n(!1),r(x=>Math.max(0,x-1)),Be(`Unsubscribed from ${e}`)):(await nn.post("/api/subscriptions/subscribe",{channelId:s})).data.success&&(n(!0),r(x=>x+1),Be(`Subscribed to ${e}`))}catch(g){console.error("Subscription error:",g),de(((p=(h=g.response)==null?void 0:h.data)==null?void 0:p.message)||"Error updating subscription")}finally{l(!1)}};return o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:u,disabled:a||!c||c._id===s,className:`px-4 py-1.5 rounded-full font-medium text-sm transition-colors ${t?"bg-gray-700 hover:bg-gray-600 text-white":"bg-red-600 hover:bg-red-700 text-white"} ${a?"opacity-50 cursor-not-allowed":""}`,children:a?"Loading...":t?"Subscribed":"Subscribe"}),o.jsxs("span",{className:"text-sm text-gray-400",children:[i," ",i===1?"subscriber":"subscribers"]})]})},Ht="http://localhost:5000",tW=()=>{var li;const{id:s}=nd(),[e,t]=T.useState(null),[n,i]=T.useState([]),[r,a]=T.useState([]),[l,c]=T.useState(""),[f,u]=T.useState(!0),[h,p]=T.useState(null),[g,x]=T.useState(""),[y,v]=T.useState(""),[w,L]=T.useState(null),[S,j]=T.useState(!1),[E,M]=T.useState(!1),[N,I]=T.useState(!1),[A,D]=T.useState(null),[z,O]=T.useState(0),[Y,q]=T.useState(0),[Z,V]=T.useState(!1),[H,F]=T.useState(!1),[B,U]=T.useState(!1),[$,K]=T.useState(0),[ce,he]=T.useState(!1),[xe,ve]=T.useState(!1),[ye,be]=T.useState(null);T.useEffect(()=>{(async()=>{try{const Le=localStorage.getItem("user");Le&&be(JSON.parse(Le));const Ve=await Q.get(`${Ht}/api/users/profile`,{withCredentials:!0});Ve.data&&(be(Ve.data),localStorage.setItem("user",JSON.stringify(Ve.data)))}catch(Le){console.log("User not logged in or authentication failed:",Le.message)}})()},[]);const ze=je.useRef(null),[jt,Ys]=T.useState(0),[Pn,ai]=T.useState(null),ur=()=>{if(!ye||!ze.current)return;Pn&&clearInterval(Pn);const oe=setInterval(()=>{ze.current&&!ze.current.paused&&Ys(Le=>Le+5)},5e3);ai(oe)},Nc=()=>{Pn&&(clearInterval(Pn),ai(null))};T.useEffect(()=>()=>{Pn&&clearInterval(Pn),ye&&jt>=5&&e&&Q.post(`${Ht}/api/library/history`,{videoId:s,watchTimeSeconds:jt},{withCredentials:!0}).catch(oe=>console.error("Error recording watch history:",oe))},[s,ye,jt,e,Pn]),T.useEffect(()=>{(async()=>{var Le,Ve,Ye,gs;try{const Ze=await Q.get(`${Ht}/api/free-videos/${s}`);if(t(Ze.data),Ze.data){O(((Le=Ze.data.likes)==null?void 0:Le.length)||0),q(((Ve=Ze.data.dislikes)==null?void 0:Ve.length)||0),ye&&Ze.data.likes&&Ze.data.dislikes&&(V(Ze.data.likes.includes(ye._id)),F(Ze.data.dislikes.includes(ye._id)));try{await Q.post(`${Ht}/api/earnings/record-video-view`,{videoId:s})}catch($t){console.error("Error recording monetized view:",$t)}}if(Ze.data.uploaderId)try{const $t=await Q.get(`${Ht}/api/subscriptions/count/${Ze.data.uploaderId}`);$t.data.success&&K($t.data.subscriberCount);const dr=await Q.get(`${Ht}/api/free-videos/${s}/uploader`);D(dr.data)}catch($t){console.error("Error fetching uploader info:",$t)}const mn=(await Q.get(`${Ht}/api/free-videos/feed`)).data.filter($t=>$t._id!==s).slice(0,10);i(mn),a(mn),u(!1)}catch(Ze){p(((gs=(Ye=Ze.response)==null?void 0:Ye.data)==null?void 0:gs.error)||"Failed to fetch video"),u(!1)}})()},[s,ye]);const qe=async()=>{if(!ye){de("Please log in to like this video");return}if(!B){U(!0);try{const oe=await Q.post(`${Ht}/api/free-videos/${s}/like`,{},{withCredentials:!0});O(oe.data.likes),q(oe.data.dislikes),V(oe.data.hasLiked),F(oe.data.hasDisliked),oe.data.hasLiked&&Be("Added to liked videos")}catch(oe){console.error("Error liking video:",oe),de("Failed to like video. Please try again.")}finally{U(!1)}}},Pt=async()=>{if(!ye){de("Please log in to dislike this video");return}if(!B){U(!0);try{const oe=await Q.post(`${Ht}/api/free-videos/${s}/dislike`,{},{withCredentials:!0});O(oe.data.likes),q(oe.data.dislikes),V(oe.data.hasLiked),F(oe.data.hasDisliked),oe.data.hasDisliked&&Be("Added to disliked videos")}catch(oe){console.error("Error disliking video:",oe),de("Failed to dislike video. Please try again.")}finally{U(!1)}}},ps=async oe=>{if(oe.preventDefault(),!l.trim()){i(r);return}I(!0);try{const Ve=(await Q.get(`${Ht}/api/free-videos/search`,{params:{q:l.trim()}})).data.filter(Ye=>Ye._id!==s).slice(0,10);i(Ve)}catch(Le){console.error("Error searching videos:",Le);const Ve=r.filter(Ye=>Ye.title.toLowerCase().includes(l.toLowerCase()));i(Ve)}finally{I(!1)}},dn=async()=>{try{await navigator.clipboard.writeText(window.location.href),Be("Video URL copied to clipboard!")}catch(oe){console.error("Error copying to clipboard:",oe),de("Failed to copy URL. Please copy it manually.")}},es=async()=>{if(!ye){de("Please log in to add to Watch Later");return}if(!xe){ve(!0);try{ce?(await Q.delete(`${Ht}/api/library/watch-later/${s}`,{withCredentials:!0}),he(!1),Be("Removed from Watch Later")):(await Q.post(`${Ht}/api/library/watch-later`,{videoId:s},{withCredentials:!0}),he(!0),Be("Added to Watch Later"))}catch(oe){console.error("Error updating Watch Later:",oe),de("Failed to update Watch Later. Please try again.")}finally{ve(!1)}}};T.useEffect(()=>{(async()=>{if(!(!ye||!s))try{const Le=await Q.get(`${Ht}/api/library/watch-later`,{withCredentials:!0});if(Le.data.success){const Ve=Le.data.watchLater.some(Ye=>Ye.video&&Ye.video._id===s);he(Ve)}}catch(Le){console.error("Error checking watch later status:",Le)}})()},[ye,s]);const Rs=async()=>{if(!ye){alert("Please log in to comment");return}if(!g.trim()){alert("Please enter a comment");return}j(!0);try{const oe=await Q.post(`${Ht}/api/free-videos/${s}/comment`,{text:g.trim()},{withCredentials:!0});t(Le=>({...Le,comments:[...Le.comments||[],oe.data]})),x("")}catch(oe){console.error("Error adding comment:",oe),alert("Failed to add comment. Please try again.")}finally{j(!1)}},hn=async()=>{if(!ye){alert("Please log in to reply");return}if(w){if(!y.trim()){alert("Please enter a reply");return}M(!0);try{const oe=await Q.post(`${Ht}/api/free-videos/${s}/comment/${w._id}/reply`,{text:y.trim()},{withCredentials:!0});t(Le=>{const Ve=Le.comments.map(Ye=>Ye._id===w._id?{...Ye,replies:[...Ye.replies||[],oe.data]}:Ye);return{...Le,comments:Ve}}),v(""),L(null)}catch(oe){console.error("Error adding reply:",oe),alert("Failed to add reply. Please try again.")}finally{M(!1)}}},Wa=async oe=>{var Le;if(!ye){alert("Please log in");return}try{const Ve=await Q.post(`${Ht}/api/free-videos/${s}/comment/${oe}/pin`,{},{withCredentials:!0});t(Ye=>{const gs=Ye.comments.map(Ze=>Ze._id===oe?{...Ze,pinned:Ve.data.pinned}:Ve.data.pinned?{...Ze,pinned:!1}:Ze);return{...Ye,comments:gs}})}catch(Ve){console.error("Error pinning comment:",Ve),((Le=Ve.response)==null?void 0:Le.status)===403?alert("Only the video creator can pin comments"):alert("Failed to pin comment. Please try again.")}},Ni=async(oe,Le)=>{if(!ye){alert("Please log in to react to comments");return}try{const Ve=await Q.post(`${Ht}/api/free-videos/${s}/comment/${oe}/react`,{type:Le},{withCredentials:!0});t(Ye=>{const gs=Ye.comments.map(Ze=>Ze._id===oe?{...Ze,likesCount:Ve.data.likes,dislikesCount:Ve.data.dislikes,userReaction:Ve.data.userReaction}:Ze);return{...Ye,comments:gs}})}catch(Ve){console.error("Error reacting to comment:",Ve),alert("Failed to react to comment. Please try again.")}},Vr=async(oe,Le,Ve)=>{if(!ye){alert("Please log in to react to replies");return}try{const Ye=await Q.post(`${Ht}/api/free-videos/${s}/comment/${oe}/reply/${Le}/react`,{type:Ve},{withCredentials:!0});t(gs=>{const Ze=gs.comments.map(vs=>{if(vs._id===oe){const mn=vs.replies.map($t=>$t._id===Le?{...$t,likesCount:Ye.data.likes,dislikesCount:Ye.data.dislikes,userReaction:Ye.data.userReaction}:$t);return{...vs,replies:mn}}return vs});return{...gs,comments:Ze}})}catch(Ye){console.error("Error reacting to reply:",Ye),alert("Failed to react to reply. Please try again.")}},Mi=async oe=>{var Le;if(!ye){alert("Please log in");return}if(window.confirm("Are you sure you want to delete this comment?"))try{await Q.delete(`${Ht}/api/free-videos/${s}/comment/${oe}`,{withCredentials:!0}),t(Ve=>({...Ve,comments:Ve.comments.filter(Ye=>Ye._id!==oe)}))}catch(Ve){console.error("Error deleting comment:",Ve),((Le=Ve.response)==null?void 0:Le.status)===403?alert("You can only delete your own comments"):alert("Failed to delete comment. Please try again.")}},Gr=async(oe,Le)=>{var Ve;if(!ye){alert("Please log in");return}if(window.confirm("Are you sure you want to delete this reply?"))try{await Q.delete(`${Ht}/api/free-videos/${s}/comment/${oe}/reply/${Le}`,{withCredentials:!0}),t(Ye=>{const gs=Ye.comments.map(Ze=>Ze._id===oe?{...Ze,replies:Ze.replies.filter(vs=>vs._id!==Le)}:Ze);return{...Ye,comments:gs}})}catch(Ye){console.error("Error deleting reply:",Ye),((Ve=Ye.response)==null?void 0:Ve.status)===403?alert("You can only delete your own replies"):alert("Failed to delete reply. Please try again.")}},oi=oe=>{if(!oe)return"unknown time";const Le=new Date(oe),Ye=new Date-Le,gs=Math.floor(Ye/1e3),Ze=Math.floor(gs/60),vs=Math.floor(Ze/60),mn=Math.floor(vs/24),$t=Math.floor(mn/30),dr=Math.floor($t/12);return dr>0?`${dr} year${dr>1?"s":""} ago`:$t>0?`${$t} month${$t>1?"s":""} ago`:mn>0?`${mn} day${mn>1?"s":""} ago`:vs>0?`${vs} hour${vs>1?"s":""} ago`:Ze>0?`${Ze} minute${Ze>1?"s":""} ago`:`${gs} second${gs!==1?"s":""} ago`},Hr=e!=null&&e.comments?[...e.comments].sort((oe,Le)=>oe.pinned&&!Le.pinned?-1:!oe.pinned&&Le.pinned?1:new Date(Le.createdAt)-new Date(oe.createdAt)):[];return f?o.jsx("div",{className:"text-center py-10",children:"Loading..."}):h?o.jsx("div",{className:"text-center py-10 text-red-500",children:h}):e?o.jsxs("div",{className:"min-h-screen bg-black text-white",children:[o.jsx(Ae,{}),o.jsx("div",{className:"container mx-auto px-4 py-6",children:o.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[o.jsxs("div",{className:"lg:w-2/3 ",children:[o.jsx("div",{className:"mb-4",children:o.jsx("video",{ref:ze,src:e.videoUrl,className:"w-full h-96 rounded-lg",controls:!0,autoPlay:!0,onPlay:ur,onPause:Nc})}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold",children:e.title}),o.jsxs("div",{className:"flex items-center text-gray-400 mt-1",children:[o.jsxs("span",{children:[e.views," views"]}),o.jsx("span",{className:"mx-2",children:""}),o.jsx("span",{children:oi(e.createdAt)})]}),o.jsxs("div",{className:"flex items-center justify-between mt-4 pb-4 border-b border-gray-800",children:[o.jsxs(le,{to:`/channel/${e.uploaderId}`,className:"flex items-center",children:[A&&A.profileImageUrl?o.jsx("img",{src:A.profileImageUrl.startsWith("http")?A.profileImageUrl:`${Ht}${A.profileImageUrl}`,alt:e.uploader,className:"w-12 h-12 rounded-full object-cover mr-3",onError:oe=>{oe.target.onerror=null,oe.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(e.uploader)}&background=random`}}):o.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center mr-3",children:e.uploader?e.uploader.charAt(0).toUpperCase():"U"}),o.jsx("div",{children:o.jsx("p",{className:"font-semibold",children:e.uploader})})]}),o.jsx(PI,{channelId:e.uploaderId,channelName:e.uploader})]}),o.jsx("div",{className:"flex items-center mt-4",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("button",{onClick:qe,className:"flex items-center space-x-1",disabled:B,children:[Z?o.jsx(wi,{className:"text-blue-500"}):o.jsx(Tv,{}),o.jsx("span",{children:z})]}),o.jsxs("button",{onClick:Pt,className:"flex items-center space-x-1",disabled:B,children:[H?o.jsx(P0,{className:"text-blue-500"}):o.jsx(RN,{}),o.jsx("span",{children:Y})]}),o.jsxs("button",{onClick:dn,className:"flex items-center space-x-1",children:[o.jsx(AN,{}),o.jsx("span",{children:"Share"})]}),o.jsxs("a",{href:e.videoUrl,download:!0,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1",children:[o.jsx(bp,{}),o.jsx("span",{children:"Download"})]}),o.jsxs("button",{onClick:es,className:"flex items-center space-x-1",disabled:xe,children:[o.jsx(Or,{className:ce?"text-blue-500":""}),o.jsx("span",{children:ce?"Added to Watch Later":"Watch Later"})]})]})})]}),o.jsxs("div",{className:"mt-6",children:[o.jsxs("h3",{className:"text-xl font-semibold mb-4",children:[((li=e.comments)==null?void 0:li.length)||0," Comments"]}),ye?o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0",children:ye.username?ye.username.charAt(0).toUpperCase():"U"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("textarea",{value:g,onChange:oe=>x(oe.target.value),placeholder:"Add a comment...",className:"w-full p-3 bg-gray-800 rounded-lg min-h-[80px]"}),o.jsxs("div",{className:"flex justify-end mt-2",children:[o.jsx("button",{onClick:()=>x(""),className:"px-4 py-2 mr-2 text-gray-300",children:"Cancel"}),o.jsx("button",{onClick:Rs,disabled:S||!g.trim(),className:`px-4 py-2 bg-blue-600 rounded-lg ${S||!g.trim()?"opacity-50 cursor-not-allowed":"hover:bg-blue-700"}`,children:S?"Adding...":"Comment"})]})]})]})}):o.jsx("div",{className:"mb-6 p-4 bg-gray-800 rounded-lg",children:o.jsxs("p",{children:["Please ",o.jsx(le,{to:"/login",className:"text-blue-400 hover:underline",children:"log in"})," to comment on this video."]})}),o.jsx("div",{className:"space-y-6",children:Hr.length>0?Hr.map(oe=>o.jsx("div",{className:`border-l-4 ${oe.pinned?"border-blue-500":"border-transparent"} pl-3`,children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${oe.isCreator?"bg-red-600":"bg-gray-600"}`,children:oe.username?oe.username.charAt(0).toUpperCase():"U"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"font-medium",children:oe.username}),oe.isCreator&&o.jsx("span",{className:"ml-2 text-xs bg-red-600 px-2 py-0.5 rounded-full",children:"Creator"}),oe.pinned&&o.jsxs("span",{className:"ml-2 text-xs text-blue-400 flex items-center",children:[o.jsx(xp,{size:10,className:"mr-1"})," Pinned"]}),o.jsx("span",{className:"ml-2 text-xs text-gray-400",children:oi(oe.createdAt)})]}),o.jsx("p",{className:"mt-1",children:oe.text}),o.jsxs("div",{className:"flex items-center mt-2 text-sm text-gray-400",children:[o.jsxs("button",{onClick:()=>Ni(oe._id,"like"),className:`flex items-center mr-3 ${oe.userReaction==="like"?"text-blue-500":""}`,disabled:!ye,children:[o.jsx(wi,{size:14,className:"mr-1"}),o.jsx("span",{children:oe.likesCount||0})]}),o.jsxs("button",{onClick:()=>Ni(oe._id,"dislike"),className:`flex items-center mr-3 ${oe.userReaction==="dislike"?"text-blue-500":""}`,disabled:!ye,children:[o.jsx(P0,{size:14,className:"mr-1"}),o.jsx("span",{children:oe.dislikesCount||0})]}),o.jsxs("button",{onClick:()=>L(oe),className:"flex items-center mr-3",disabled:!ye,children:[o.jsx(Sv,{size:14,className:"mr-1"}),o.jsx("span",{children:"Reply"})]}),ye&&(ye._id===e.uploaderId||ye._id===oe.userId)&&o.jsxs("div",{className:"ml-auto relative group",children:[o.jsx("button",{className:"p-1",children:o.jsx(bv,{size:14})}),o.jsxs("div",{className:"hidden group-hover:block absolute right-0 mt-1 w-32 bg-gray-800 rounded-lg shadow-lg z-10",children:[ye._id===e.uploaderId&&o.jsx("button",{onClick:()=>Wa(oe._id),className:"block w-full text-left p-2 hover:bg-gray-700",children:oe.pinned?"Unpin":"Pin comment"}),o.jsx("button",{onClick:()=>Mi(oe._id),className:"block w-full text-left p-2 hover:bg-gray-700 text-red-400",children:"Delete"})]})]})]}),w&&w._id===oe._id&&o.jsxs("div",{className:"mt-3 bg-gray-800 p-3 rounded-lg",children:[o.jsx("textarea",{value:y,onChange:Le=>v(Le.target.value),placeholder:`Replying to ${oe.username}...`,className:"w-full p-2 bg-gray-700 rounded-lg"}),o.jsxs("div",{className:"flex justify-end mt-2",children:[o.jsx("button",{onClick:()=>{L(null),v("")},className:"px-3 py-1 mr-2 text-gray-300",children:"Cancel"}),o.jsx("button",{onClick:hn,disabled:E||!y.trim(),className:`px-3 py-1 bg-blue-600 rounded-lg ${E||!y.trim()?"opacity-50 cursor-not-allowed":"hover:bg-blue-700"}`,children:E?"Replying...":"Reply"})]})]}),oe.replies&&oe.replies.length>0&&o.jsx("div",{className:"ml-1 mt-3 pl-3 border-l border-gray-700 space-y-3",children:oe.replies.map(Le=>o.jsx("div",{className:"mt-2",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${Le.isCreator?"bg-red-600":"bg-gray-600"}`,children:Le.username?Le.username.charAt(0).toUpperCase():"U"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"font-medium text-sm",children:Le.username}),Le.isCreator&&o.jsx("span",{className:"ml-2 text-xs bg-red-600 px-1.5 py-0.5 rounded-full",children:"Creator"}),o.jsx("span",{className:"ml-2 text-xs text-gray-400",children:oi(Le.createdAt)})]}),o.jsx("p",{className:"mt-1 text-sm",children:Le.text}),o.jsxs("div",{className:"flex items-center mt-1 text-xs text-gray-400",children:[o.jsxs("button",{onClick:()=>Vr(oe._id,Le._id,"like"),className:`flex items-center mr-3 ${Le.userReaction==="like"?"text-blue-500":""}`,disabled:!ye,children:[o.jsx(wi,{size:12,className:"mr-1"}),o.jsx("span",{children:Le.likesCount||0})]}),o.jsxs("button",{onClick:()=>Vr(oe._id,Le._id,"dislike"),className:`flex items-center mr-3 ${Le.userReaction==="dislike"?"text-blue-500":""}`,disabled:!ye,children:[o.jsx(P0,{size:12,className:"mr-1"}),o.jsx("span",{children:Le.dislikesCount||0})]}),ye&&(ye._id===e.uploaderId||ye._id===oe.userId||ye._id===Le.userId)&&o.jsx("button",{onClick:()=>Gr(oe._id,Le._id),className:"ml-auto text-red-400",children:o.jsx(Gs,{size:12})})]})]})]})},Le._id))})]})]})},oe._id)):o.jsx("div",{className:"text-center py-8 text-gray-400",children:"No comments yet. Be the first to comment!"})})]})]}),o.jsxs("div",{className:"lg:w-1/3",children:[o.jsx("div",{className:"mb-4",children:o.jsxs("form",{onSubmit:ps,className:"flex",children:[o.jsx("input",{type:"text",value:l,onChange:oe=>c(oe.target.value),placeholder:"Search videos...",className:"flex-1 p-2 bg-gray-800 rounded-l-lg"}),o.jsx("button",{type:"submit",className:"bg-gray-700 px-4 py-2 rounded-r-lg",disabled:N,children:N?"...":o.jsx(Ei,{})})]})}),o.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Recommended Videos"}),o.jsx("div",{className:"space-y-4",children:n.length>0?n.map(oe=>o.jsxs(le,{to:`/watch/${oe._id}`,className:"flex  rounded-lg overflow-hidden hover:bg-gray-800",children:[o.jsx("div",{className:"w-2/5",children:o.jsx("img",{src:oe.thumbnailUrl,alt:oe.title,className:"w-full h-28 object-cover",onError:Le=>{Le.target.onerror=null,Le.target.src="https://via.placeholder.com/150?text=No+Image"}})}),o.jsxs("div",{className:"w-3/5 p-3",children:[o.jsx("h4",{className:"font-medium line-clamp-2",children:oe.title}),o.jsx(le,{to:`/channel/${oe.uploaderId}`,className:"text-sm text-gray-400 mt-1 hover:text-gray-300",onClick:Le=>Le.stopPropagation(),children:oe.uploader}),o.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[o.jsxs("span",{children:[oe.views," views"]}),o.jsx("span",{className:"mx-1",children:""}),o.jsx("span",{children:oi(oe.createdAt)})]})]})]},oe._id)):o.jsx("div",{className:"text-center py-8 text-gray-400",children:"No videos found"})})]})]})})]}):o.jsx("div",{className:"text-center py-10",children:"Video not found"})},sW=()=>{const[s,e]=T.useState(""),[t,n]=T.useState(null),[i,r]=T.useState(null),[a,l]=T.useState(null),[c,f]=T.useState(null),[u,h]=T.useState(!1),[p,g]=T.useState(null);T.useEffect(()=>{const y=JSON.parse(localStorage.getItem("user"));y?g(y):l("You must be logged in to upload a video.")},[]);const x=async y=>{var w,L;if(y.preventDefault(),!p){l("Please log in to upload a video."),xu("Please log in to upload a video.");return}if(!t||!i||!s.trim()){l("Please fill in all required fields."),xu("Please fill in all required fields.");return}const v=new FormData;v.append("title",s.trim()),v.append("uploader",p.name),v.append("type","video"),v.append("video",t),v.append("thumbnail",i);try{h(!0),l(null),f(null),await Q.post("http://localhost:5000/api/free-videos/upload-video",v,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}),f(" Video uploaded successfully!"),Be("Video uploaded successfully! It will appear in your feed shortly."),e(""),n(null),r(null)}catch(S){console.error("Upload error:",S);const j=((L=(w=S.response)==null?void 0:w.data)==null?void 0:L.message)||"An error occurred during upload.";l(j),de(j)}finally{h(!1)}};return o.jsxs("div",{className:"min-h-screen bg-black text-white p-4",children:[o.jsx(Ae,{}),o.jsxs("div",{className:"container mx-auto",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-100",children:"Upload a Video"}),a&&o.jsx("p",{className:"text-red-400 mb-4",children:a}),c&&o.jsxs("div",{className:"mb-4",children:[o.jsx("p",{className:"text-green-500",children:c}),o.jsx(le,{to:"/feed",className:"text-blue-400 hover:underline",children:"Go to Feed"})]}),p?o.jsxs("form",{onSubmit:x,className:"space-y-6 max-w-xl",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:"Title"}),o.jsx("input",{type:"text",value:s,onChange:y=>e(y.target.value),className:"w-full p-2 bg-gray-800 text-white border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Enter video title",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:"Video File"}),o.jsx("input",{type:"file",accept:"video/*",onChange:y=>n(y.target.files[0]),className:"w-full p-2 bg-gray-800 text-white border border-gray-600 rounded-lg",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:"Thumbnail Image"}),o.jsx("input",{type:"file",accept:"image/*",onChange:y=>r(y.target.files[0]),className:"w-full p-2 bg-gray-800 text-white border border-gray-600 rounded-lg",required:!0})]}),o.jsx("button",{type:"submit",disabled:u,className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors disabled:opacity-50",children:u?"Uploading...":"Upload Video"})]}):o.jsxs("p",{className:"text-gray-400",children:["Please"," ",o.jsx(le,{to:"/login",className:"text-blue-400 hover:underline",children:"log in"})," ","to upload a video."]})]}),o.jsx(it,{})]})},nW=()=>{const[s,e]=T.useState(""),[t,n]=T.useState(""),[i,r]=T.useState(null),[a,l]=T.useState(null),[c,f]=T.useState(null),[u,h]=T.useState(null);T.useEffect(()=>{const g=JSON.parse(localStorage.getItem("user"));g?n(g.name):f("You must be logged in to upload a short.")},[]);const p=async g=>{var y,v;if(g.preventDefault(),!s||!i||!a){f("Please fill out all fields."),xu("Please fill out all fields.");return}const x=new FormData;x.append("title",s),x.append("uploader",t),x.append("type","short"),x.append("video",i),x.append("thumbnail",a);try{await Q.post("http://localhost:5000/api/free-videos/upload-short",x,{headers:{"Content-Type":"multipart/form-data"}}),h("Short uploaded successfully!"),Be("Short uploaded successfully! It will appear in your feed shortly."),f(null),e(""),r(null),l(null)}catch(w){const L=((v=(y=w.response)==null?void 0:y.data)==null?void 0:v.message)||"Error uploading short";f(L),de(L),h(null)}};return o.jsxs("div",{className:"w-full h-screen bg-black",children:[o.jsx(Ae,{}),o.jsxs("div",{className:"container text-white mx-auto p-4",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Upload a Short"}),c&&o.jsx("p",{className:"text-red-500 mb-4",children:c}),u&&o.jsxs("div",{className:"mb-4",children:[o.jsx("p",{className:"text-green-500",children:u}),o.jsx(le,{to:"/feed",className:"text-blue-500 hover:underline",children:"Go to Feed"})]}),o.jsxs("form",{onSubmit:p,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Title"}),o.jsx("input",{type:"text",value:s,onChange:g=>e(g.target.value),className:"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Your Username"}),o.jsx("input",{type:"text",value:t,readOnly:!0,className:"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Short Video File"}),o.jsx("input",{type:"file",accept:"video/*",onChange:g=>r(g.target.files[0]),className:"w-full p-2 border rounded-lg",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Thumbnail Image"}),o.jsx("input",{type:"file",accept:"image/*",onChange:g=>l(g.target.files[0]),className:"w-full p-2 border rounded-lg",required:!0})]}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Upload Short"})]})]}),o.jsx(it,{})]})},zh="http://localhost:5000",iW=()=>{const[s,e]=T.useState([]),[t,n]=T.useState(!0),[i,r]=T.useState(null),[a,l]=T.useState(null),[c,f]=T.useState(""),[u,h]=T.useState([]),p=He();T.useEffect(()=>{const S=JSON.parse(localStorage.getItem("user"));if(!S){p("/login");return}l(S);const j=async()=>{try{n(!0);const M=await Q.get(`${zh}/api/library/history`,{withCredentials:!0});M.data.success&&e(M.data.history),n(!1)}catch(M){console.error("Error fetching history:",M),r("Failed to load watch history"),n(!1)}},E=async()=>{try{const M=await Q.get(`${zh}/api/subscriptions/my-subscriptions`,{withCredentials:!0});M.data.success&&h(M.data.subscriptions||[])}catch(M){console.error("Failed to fetch subscriptions:",M)}};j(),E()},[p]);const g=S=>new Date(S).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),x=S=>{if(!S)return"0s";const j=Math.floor(S/60),E=S%60;return j===0?`${E}s`:E===0?`${j}m`:`${j}m ${E}s`},y=async S=>{try{await Q.delete(`${zh}/api/library/history/${S}`,{withCredentials:!0}),e(j=>j.filter(E=>E.video._id!==S)),Be("Video removed from history")}catch(j){console.error("Error removing from history:",j),de("Failed to remove video from history")}},v=async()=>{if(window.confirm("Are you sure you want to clear your entire watch history?"))try{await Q.delete(`${zh}/api/library/history`,{withCredentials:!0}),e([]),Be("Watch history cleared")}catch(S){console.error("Error clearing history:",S),de("Failed to clear watch history")}},w=s.filter(S=>S.video&&S.video.title.toLowerCase().includes(c.toLowerCase())),L=w.reduce((S,j)=>{const E=new Date(j.watchedAt).toLocaleDateString();return S[E]||(S[E]=[]),S[E].push(j),S},{});return o.jsxs("div",{className:"min-h-screen bg-[#000000] text-white",children:[o.jsx(Ae,{}),o.jsxs("div",{className:"flex flex-col md:flex-row",children:[o.jsx("div",{className:"hidden md:block md:w-64 lg:w-72 h-[calc(100vh-64px)] sticky top-16 overflow-y-auto",children:o.jsx(An,{user:a,subscriptions:u})}),o.jsx("div",{className:"flex-1 p-4",children:o.jsxs("div",{className:"max-w-5xl mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h1",{className:"text-2xl font-bold flex items-center",children:[o.jsx(vp,{className:"mr-2"})," Watch History"]}),s.length>0&&o.jsxs("button",{onClick:v,className:"flex items-center px-3 py-1 bg-red-600 hover:bg-red-700 rounded-lg text-sm",children:[o.jsx(Gs,{className:"mr-1"})," Clear All History"]})]}),o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"Search watch history...",value:c,onChange:S=>f(S.target.value),className:"w-full px-4 py-2 pl-10 rounded-full text-black bg-white outline-none border border-gray-300 focus:border-blue-500"}),o.jsx(Ei,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"})]})}),t?o.jsxs("div",{className:"text-center py-10",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white mx-auto"}),o.jsx("p",{className:"mt-4",children:"Loading your watch history..."})]}):i?o.jsx("div",{className:"text-center py-10 text-red-500",children:o.jsx("p",{children:i})}):w.length===0?o.jsx("div",{className:"text-center py-10",children:c?o.jsxs("p",{children:['No videos found matching "',c,'"']}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-xl mb-2",children:"Your watch history is empty"}),o.jsx("p",{className:"text-gray-400",children:"Videos you watch will appear here"}),o.jsx(le,{to:"/feed",className:"mt-4 inline-block px-4 py-2 bg-blue-600 rounded-lg",children:"Browse videos"})]})}):o.jsx("div",{children:Object.entries(L).map(([S,j])=>o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-300",children:g(j[0].watchedAt)}),o.jsx("div",{className:"space-y-4",children:j.map(E=>o.jsxs("div",{className:"flex bg-[#111111] rounded-lg overflow-hidden hover:bg-gray-800 transition-colors",children:[o.jsxs(le,{to:`/watch/${E.video._id}`,className:"flex flex-1",children:[o.jsx("div",{className:"w-48 h-28 flex-shrink-0",children:o.jsx("img",{src:E.video.thumbnailUrl,alt:E.video.title,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"p-3 flex-1",children:[o.jsx("h3",{className:"font-medium text-lg",children:E.video.title}),o.jsxs("div",{className:"flex items-center text-sm text-gray-400 mt-1",children:[o.jsx("span",{children:E.video.uploader}),o.jsx("span",{className:"mx-1",children:""}),o.jsxs("span",{children:[E.video.views," views"]}),E.watchTimeSeconds>0&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"mx-1",children:""}),o.jsxs("span",{children:["Watched for ",x(E.watchTimeSeconds)]})]})]})]})]}),o.jsx("button",{onClick:()=>y(E.video._id),className:"px-4 flex items-center justify-center text-gray-400 hover:text-red-500",title:"Remove from history",children:o.jsx(Gs,{})})]},E._id))})]},S))})]})})]})]})},Bh="http://localhost:5000",rW=()=>{const[s,e]=T.useState([]),[t,n]=T.useState(!0),[i,r]=T.useState(null),[a,l]=T.useState(null),[c,f]=T.useState(""),[u,h]=T.useState([]),p=He();T.useEffect(()=>{const w=JSON.parse(localStorage.getItem("user"));if(!w){p("/login");return}l(w);const L=async()=>{try{n(!0);const j=await Q.get(`${Bh}/api/library/watch-later`,{withCredentials:!0});j.data.success&&e(j.data.watchLater),n(!1)}catch(j){console.error("Error fetching watch later:",j),r("Failed to load watch later list"),n(!1)}},S=async()=>{try{const j=await Q.get(`${Bh}/api/subscriptions/my-subscriptions`,{withCredentials:!0});j.data.success&&h(j.data.subscriptions||[])}catch(j){console.error("Failed to fetch subscriptions:",j)}};L(),S()},[p]);const g=w=>new Date(w).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),x=async w=>{try{await Q.delete(`${Bh}/api/library/watch-later/${w}`,{withCredentials:!0}),e(L=>L.filter(S=>S.video._id!==w)),Be("Video removed from Watch Later")}catch(L){console.error("Error removing from watch later:",L),de("Failed to remove video from Watch Later")}},y=async()=>{if(window.confirm("Are you sure you want to clear your entire Watch Later list?"))try{await Q.delete(`${Bh}/api/library/watch-later`,{withCredentials:!0}),e([]),Be("Watch Later list cleared")}catch(w){console.error("Error clearing watch later:",w),de("Failed to clear Watch Later list")}},v=s.filter(w=>w.video&&w.video.title.toLowerCase().includes(c.toLowerCase()));return o.jsxs("div",{className:"min-h-screen bg-[#000000] text-white",children:[o.jsx(Ae,{}),o.jsxs("div",{className:"flex flex-col md:flex-row",children:[o.jsx("div",{className:"hidden md:block md:w-64 lg:w-72 h-[calc(100vh-64px)] sticky top-16 overflow-y-auto",children:o.jsx(An,{user:a,subscriptions:u})}),o.jsx("div",{className:"flex-1 p-4",children:o.jsxs("div",{className:"max-w-5xl mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h1",{className:"text-2xl font-bold flex items-center",children:[o.jsx(Or,{className:"mr-2"})," Watch Later"]}),s.length>0&&o.jsxs("button",{onClick:y,className:"flex items-center px-3 py-1 bg-red-600 hover:bg-red-700 rounded-lg text-sm",children:[o.jsx(Gs,{className:"mr-1"})," Clear Watch Later"]})]}),o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"Search watch later...",value:c,onChange:w=>f(w.target.value),className:"w-full px-4 py-2 pl-10 rounded-full text-black bg-white outline-none border border-gray-300 focus:border-blue-500"}),o.jsx(Ei,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"})]})}),t?o.jsxs("div",{className:"text-center py-10",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white mx-auto"}),o.jsx("p",{className:"mt-4",children:"Loading your Watch Later list..."})]}):i?o.jsx("div",{className:"text-center py-10 text-red-500",children:o.jsx("p",{children:i})}):v.length===0?o.jsx("div",{className:"text-center py-10",children:c?o.jsxs("p",{children:['No videos found matching "',c,'"']}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-xl mb-2",children:"Your Watch Later list is empty"}),o.jsx("p",{className:"text-gray-400",children:"Save videos to watch later by clicking the clock icon"}),o.jsx(le,{to:"/feed",className:"mt-4 inline-block px-4 py-2 bg-blue-600 rounded-lg",children:"Browse videos"})]})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(w=>o.jsxs("div",{className:"bg-[#111111] rounded-lg overflow-hidden hover:bg-gray-800 transition-colors",children:[o.jsxs(le,{to:`/watch/${w.video._id}`,className:"block",children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:w.video.thumbnailUrl,alt:w.video.title,className:"w-full h-48 object-cover"}),o.jsxs("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-70 px-2 py-1 text-xs rounded",children:["Added ",g(w.addedAt)]})]}),o.jsxs("div",{className:"p-3",children:[o.jsx("h3",{className:"font-medium text-lg line-clamp-2",children:w.video.title}),o.jsxs("div",{className:"flex items-center text-sm text-gray-400 mt-1",children:[o.jsx("span",{children:w.video.uploader}),o.jsx("span",{className:"mx-1",children:""}),o.jsxs("span",{children:[w.video.views," views"]})]})]})]}),o.jsx("div",{className:"px-3 pb-3 flex justify-end",children:o.jsx("button",{onClick:()=>x(w.video._id),className:"text-gray-400 hover:text-red-500",title:"Remove from Watch Later",children:o.jsx(Gs,{})})})]},w._id))})]})})]})]})},Sx="http://localhost:5000",aW=()=>{const[s,e]=T.useState([]),[t,n]=T.useState(!0),[i,r]=T.useState(null),[a,l]=T.useState(null),[c,f]=T.useState(""),[u,h]=T.useState([]),p=He();T.useEffect(()=>{const v=JSON.parse(localStorage.getItem("user"));if(!v){p("/login");return}l(v);const w=async()=>{try{n(!0);const S=await Q.get(`${Sx}/api/library/liked-videos`,{withCredentials:!0});S.data.success&&e(S.data.likedVideos),n(!1)}catch(S){console.error("Error fetching liked videos:",S),r("Failed to load liked videos"),n(!1)}},L=async()=>{try{const S=await Q.get(`${Sx}/api/subscriptions/my-subscriptions`,{withCredentials:!0});S.data.success&&h(S.data.subscriptions||[])}catch(S){console.error("Failed to fetch subscriptions:",S)}};w(),L()},[p]);const g=v=>new Date(v).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),x=async v=>{try{await Q.post(`${Sx}/api/free-videos/${v}/like`,{},{withCredentials:!0}),e(w=>w.filter(L=>L._id!==v))}catch(w){console.error("Error unliking video:",w),de("Failed to unlike video")}},y=s.filter(v=>v.title.toLowerCase().includes(c.toLowerCase()));return o.jsxs("div",{className:"min-h-screen bg-[#000000] text-white",children:[o.jsx(Ae,{}),o.jsxs("div",{className:"flex flex-col md:flex-row",children:[o.jsx("div",{className:"hidden md:block md:w-64 lg:w-72 h-[calc(100vh-64px)] sticky top-16 overflow-y-auto",children:o.jsx(An,{user:a,subscriptions:u})}),o.jsx("div",{className:"flex-1 p-4",children:o.jsxs("div",{className:"max-w-5xl mx-auto",children:[o.jsx("div",{className:"flex items-center justify-between mb-6",children:o.jsxs("h1",{className:"text-2xl font-bold flex items-center",children:[o.jsx(wi,{className:"mr-2"})," Liked Videos"]})}),o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"Search liked videos...",value:c,onChange:v=>f(v.target.value),className:"w-full px-4 py-2 pl-10 rounded-full text-black bg-white outline-none border border-gray-300 focus:border-blue-500"}),o.jsx(Ei,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"})]})}),t?o.jsxs("div",{className:"text-center py-10",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white mx-auto"}),o.jsx("p",{className:"mt-4",children:"Loading your liked videos..."})]}):i?o.jsx("div",{className:"text-center py-10 text-red-500",children:o.jsx("p",{children:i})}):y.length===0?o.jsx("div",{className:"text-center py-10",children:c?o.jsxs("p",{children:['No videos found matching "',c,'"']}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-xl mb-2",children:"No liked videos yet"}),o.jsx("p",{className:"text-gray-400",children:"Videos you like will appear here"}),o.jsx(le,{to:"/feed",className:"mt-4 inline-block px-4 py-2 bg-blue-600 rounded-lg",children:"Browse videos"})]})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.map(v=>o.jsxs("div",{className:"bg-[#111111] rounded-lg overflow-hidden hover:bg-gray-800 transition-colors",children:[o.jsxs(le,{to:`/watch/${v._id}`,className:"block",children:[o.jsx("img",{src:v.thumbnailUrl,alt:v.title,className:"w-full h-48 object-cover"}),o.jsxs("div",{className:"p-3",children:[o.jsx("h3",{className:"font-medium text-lg line-clamp-2",children:v.title}),o.jsxs("div",{className:"flex items-center text-sm text-gray-400 mt-1",children:[o.jsx("span",{children:v.uploader}),o.jsx("span",{className:"mx-1",children:""}),o.jsxs("span",{children:[v.views," views"]})]}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:g(v.createdAt)})]})]}),o.jsx("div",{className:"px-3 pb-3 flex justify-end",children:o.jsxs("button",{onClick:()=>x(v._id),className:"flex items-center text-blue-500 hover:text-blue-400",title:"Unlike video",children:[o.jsx(wi,{className:"mr-1"}),o.jsx("span",{className:"text-sm",children:"Liked"})]})})]},v._id))})]})})]})]})},nT="http://localhost:5000",oW=()=>{const[s,e]=T.useState([]),[t,n]=T.useState(!0),[i,r]=T.useState(null),[a,l]=T.useState(null),[c,f]=T.useState(""),[u,h]=T.useState([]),[p,g]=T.useState("all");T.useEffect(()=>{const v=JSON.parse(localStorage.getItem("user"));l(v);const w=async()=>{try{n(!0);const S=await Q.get(`${nT}/api/free-videos/trending`);e(S.data),n(!1)}catch(S){console.error("Error fetching trending videos:",S),r("Failed to load trending videos"),n(!1)}},L=async()=>{if(v)try{const S=await Q.get(`${nT}/api/subscriptions/my-subscriptions`,{withCredentials:!0});S.data.success&&h(S.data.subscriptions||[])}catch(S){console.error("Failed to fetch subscriptions:",S)}};w(),L()},[]);const x=v=>{const w=new Date(v),S=new Date-w,j=Math.floor(S/1e3),E=Math.floor(j/60),M=Math.floor(E/60),N=Math.floor(M/24),I=Math.floor(N/30),A=Math.floor(I/12);return A>0?`${A} year${A>1?"s":""} ago`:I>0?`${I} month${I>1?"s":""} ago`:N>0?`${N} day${N>1?"s":""} ago`:M>0?`${M} hour${M>1?"s":""} ago`:E>0?`${E} minute${E>1?"s":""} ago`:`${j} second${j!==1?"s":""} ago`},y=s.filter(v=>{const w=v.title.toLowerCase().includes(c.toLowerCase()),L=p==="all"||v.type===p;return w&&L});return o.jsxs("div",{className:"min-h-screen bg-[#000000] text-white",children:[o.jsx(Ae,{}),o.jsxs("div",{className:"flex flex-col md:flex-row",children:[o.jsx("div",{className:"hidden md:block md:w-64 lg:w-72 h-[calc(100vh-64px)] sticky top-16 overflow-y-auto",children:o.jsx(An,{user:a,subscriptions:u})}),o.jsx("div",{className:"flex-1 p-4",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx(wv,{className:"text-red-500 text-2xl mr-2"}),o.jsx("h1",{className:"text-2xl font-bold",children:"Trending"})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx("input",{type:"text",placeholder:"Search trending videos...",value:c,onChange:v=>f(v.target.value),className:"w-full px-4 py-2 pl-10 rounded-full text-black bg-white outline-none border border-gray-300 focus:border-blue-500"}),o.jsx(Ei,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>g("all"),className:`px-4 py-2 rounded-full ${p==="all"?"bg-red-600":"bg-gray-800"}`,children:"All"}),o.jsx("button",{onClick:()=>g("video"),className:`px-4 py-2 rounded-full ${p==="video"?"bg-red-600":"bg-gray-800"}`,children:"Videos"}),o.jsx("button",{onClick:()=>g("short"),className:`px-4 py-2 rounded-full ${p==="short"?"bg-red-600":"bg-gray-800"}`,children:"Shorts"})]})]}),t?o.jsxs("div",{className:"text-center py-10",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white mx-auto"}),o.jsx("p",{className:"mt-4",children:"Loading trending videos..."})]}):i?o.jsx("div",{className:"text-center py-10 text-red-500",children:o.jsx("p",{children:i})}):y.length===0?o.jsx("div",{className:"text-center py-10",children:c?o.jsxs("p",{children:['No trending videos found matching "',c,'"']}):o.jsx("p",{children:"No trending videos available"})}):o.jsx("div",{children:o.jsx("div",{className:"space-y-4",children:y.map((v,w)=>o.jsxs(le,{to:`/watch/${v._id}`,className:"flex bg-[#111111] rounded-lg overflow-hidden hover:bg-gray-800 transition-colors",children:[o.jsx("div",{className:"w-12 flex-shrink-0 bg-gray-800 flex items-center justify-center text-2xl font-bold",children:w+1}),o.jsx("div",{className:"w-64 h-36 flex-shrink-0",children:o.jsx("img",{src:v.thumbnailUrl,alt:v.title,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"p-4 flex-1",children:[o.jsx("h3",{className:"font-medium text-lg",children:v.title}),o.jsxs("div",{className:"flex items-center text-sm text-gray-400 mt-1",children:[o.jsx("span",{children:v.uploader}),o.jsx("span",{className:"mx-1",children:""}),o.jsxs("span",{children:[v.views.toLocaleString()," views"]}),o.jsx("span",{className:"mx-1",children:""}),o.jsx("span",{children:x(v.createdAt)})]}),o.jsxs("div",{className:"mt-2 flex items-center",children:[o.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${v.type==="short"?"bg-red-600":"bg-blue-600"}`,children:v.type==="short"?"Short":"Video"}),o.jsxs("span",{className:"ml-2 text-xs bg-gray-700 px-2 py-0.5 rounded-full",children:["Trending #",w+1]})]})]})]},v._id))})})]})})]})]})},lW="http://localhost:5000",cW=()=>{const[s,e]=T.useState([]),[t,n]=T.useState(!0),[i,r]=T.useState(null),[a,l]=T.useState(null),[c,f]=T.useState(""),[u,h]=T.useState([]);T.useEffect(()=>{const g=JSON.parse(localStorage.getItem("user"));l(g);const x=async()=>{try{n(!0);const w=(await Q.get("http://localhost:5000/api/free-videos/feed",{withCredentials:!0})).data.filter(L=>L.type==="short");e(w),n(!1)}catch(v){console.error("Error fetching shorts:",v),r("Failed to load shorts"),n(!1)}},y=async()=>{if(g)try{const v=await Q.get(`${lW}/api/subscriptions/my-subscriptions`,{withCredentials:!0});v.data.success&&h(v.data.subscriptions||[])}catch(v){console.error("Failed to fetch subscriptions:",v)}};x(),y()},[]);const p=s.filter(g=>g.title.toLowerCase().includes(c.toLowerCase()));return o.jsxs("div",{className:"min-h-screen bg-[#000000] text-white",children:[o.jsx(Ae,{}),o.jsxs("div",{className:"flex flex-col md:flex-row",children:[o.jsx("div",{className:"hidden md:block md:w-64 lg:w-72 h-[calc(100vh-64px)] sticky top-16 overflow-y-auto",children:o.jsx(An,{user:a,subscriptions:u})}),o.jsx("div",{className:"flex-1 p-4",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx(ar,{className:"text-red-500 text-2xl mr-2"}),o.jsx("h1",{className:"text-2xl font-bold",children:"Shorts"})]}),o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"Search shorts...",value:c,onChange:g=>f(g.target.value),className:"w-full px-4 py-2 pl-10 rounded-full text-black bg-white outline-none border border-gray-300 focus:border-blue-500"}),o.jsx(Ei,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"})]})}),o.jsx("div",{className:"flex justify-center mb-6",children:o.jsx(le,{to:"/upload-short",className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Upload Short"})}),t?o.jsxs("div",{className:"text-center py-10",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white mx-auto"}),o.jsx("p",{className:"mt-4",children:"Loading shorts..."})]}):i?o.jsx("div",{className:"text-center py-10 text-red-500",children:o.jsx("p",{children:i})}):p.length===0?o.jsx("div",{className:"text-center py-10",children:c?o.jsxs("p",{children:['No shorts found matching "',c,'"']}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-xl mb-2",children:"No shorts available"}),o.jsx("p",{className:"text-gray-400",children:"Be the first to upload a short!"})]})}):o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:p.map(g=>o.jsxs(le,{to:`/watch/${g._id}`,className:"block rounded-lg overflow-hidden bg-[#111111] hover:bg-gray-700 transition-colors",children:[o.jsxs("div",{className:"relative pb-[177%]",children:[" ",o.jsx("img",{src:g.thumbnailUrl.startsWith("http")?g.thumbnailUrl:`http://localhost:5000${g.thumbnailUrl}`,alt:g.title,className:"absolute inset-0 w-full h-full object-cover"})]}),o.jsxs("div",{className:"p-3",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-100 line-clamp-2",children:g.title}),o.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[g.views," views"]})]})]},g._id))})]})})]})]})},iT="http://localhost:5000",fW=()=>{const[s,e]=T.useState([]),[t,n]=T.useState([]),[i,r]=T.useState(!0),[a,l]=T.useState(null),[c,f]=T.useState(null),[u,h]=T.useState(""),p=He();T.useEffect(()=>{const y=JSON.parse(localStorage.getItem("user"));if(!y){p("/login");return}f(y);const v=async()=>{try{r(!0);const L=await Q.get(`${iT}/api/subscriptions/my-subscriptions`,{withCredentials:!0});L.data.success?(e(L.data.subscriptions||[]),L.data.subscriptions&&L.data.subscriptions.length>0?await w(L.data.subscriptions):r(!1)):r(!1)}catch(L){console.error("Error fetching subscriptions:",L),l("Failed to load subscriptions"),r(!1)}},w=async L=>{try{const S=await Q.get(`${iT}/api/free-videos/feed`,{withCredentials:!0}),j=L.map(M=>M.name),E=S.data.filter(M=>j.includes(M.uploader));E.sort((M,N)=>new Date(N.createdAt)-new Date(M.createdAt)),n(E),r(!1)}catch(S){console.error("Error fetching subscription videos:",S),l("Failed to load videos from subscribed channels"),r(!1)}};v()},[p]);const g=y=>{const v=new Date(y),L=new Date-v,S=Math.floor(L/1e3),j=Math.floor(S/60),E=Math.floor(j/60),M=Math.floor(E/24),N=Math.floor(M/30),I=Math.floor(N/12);return I>0?`${I} year${I>1?"s":""} ago`:N>0?`${N} month${N>1?"s":""} ago`:M>0?`${M} day${M>1?"s":""} ago`:E>0?`${E} hour${E>1?"s":""} ago`:j>0?`${j} minute${j>1?"s":""} ago`:`${S} second${S!==1?"s":""} ago`},x=t.filter(y=>y.title.toLowerCase().includes(u.toLowerCase())||y.uploader.toLowerCase().includes(u.toLowerCase()));return o.jsxs("div",{className:"min-h-screen bg-[#000000] text-white",children:[o.jsx(Ae,{}),o.jsxs("div",{className:"flex flex-col md:flex-row",children:[o.jsx("div",{className:"hidden md:block md:w-64 lg:w-72 h-[calc(100vh-64px)] sticky top-16 overflow-y-auto",children:o.jsx(An,{user:c,subscriptions:s})}),o.jsx("div",{className:"flex-1 p-4",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx(CN,{className:"text-red-500 text-2xl mr-2"}),o.jsx("h1",{className:"text-2xl font-bold",children:"Subscriptions"})]}),o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"Search subscription videos...",value:u,onChange:y=>h(y.target.value),className:"w-full px-4 py-2 pl-10 rounded-full text-black bg-white outline-none border border-gray-300 focus:border-blue-500"}),o.jsx(Ei,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"})]})}),s.length>0&&o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Subscribed Channels"}),o.jsx("div",{className:"flex flex-wrap gap-4",children:s.map(y=>o.jsxs(le,{to:`/channel/${y._id}`,className:"flex flex-col items-center",children:[y.profileImageUrl?o.jsx("img",{src:y.profileImageUrl,alt:y.name,className:"w-16 h-16 rounded-full object-cover"}):o.jsx("div",{className:"w-16 h-16 rounded-full bg-red-600 flex items-center justify-center",children:o.jsx("span",{className:"text-xl text-white",children:y.name.charAt(0)})}),o.jsx("span",{className:"mt-2 text-sm text-center",children:y.name})]},y._id))})]}),i?o.jsxs("div",{className:"text-center py-10",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white mx-auto"}),o.jsx("p",{className:"mt-4",children:"Loading subscription videos..."})]}):a?o.jsx("div",{className:"text-center py-10 text-red-500",children:o.jsx("p",{children:a})}):s.length===0?o.jsxs("div",{className:"text-center py-10",children:[o.jsx("p",{className:"text-xl mb-2",children:"You haven't subscribed to any channels yet"}),o.jsx("p",{className:"text-gray-400 mb-4",children:"Subscribe to channels to see their latest videos here"}),o.jsx(le,{to:"/feed",className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Explore Videos"})]}):x.length===0?o.jsx("div",{className:"text-center py-10",children:u?o.jsxs("p",{children:['No videos found matching "',u,'"']}):o.jsx("p",{children:"No videos from your subscribed channels"})}):o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Latest Videos"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:x.map(y=>o.jsxs(le,{to:`/watch/${y._id}`,className:"block rounded-lg overflow-hidden bg-[#111111] hover:bg-gray-700 transition-colors",children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:y.thumbnailUrl.startsWith("http")?y.thumbnailUrl:`http://localhost:5000${y.thumbnailUrl}`,alt:y.title,className:"w-full h-48 object-cover"}),y.type==="short"&&o.jsx("div",{className:"absolute bottom-2 right-2 bg-red-600 text-white text-xs px-2 py-1 rounded",children:"Short"})]}),o.jsxs("div",{className:"p-3",children:[o.jsx("h3",{className:"font-medium text-gray-100 line-clamp-2",children:y.title}),o.jsxs("div",{className:"flex items-center text-sm text-gray-400 mt-1",children:[o.jsx("span",{children:y.uploader}),o.jsx("span",{className:"mx-1",children:""}),o.jsxs("span",{children:[y.views," views"]})]}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:g(y.createdAt)})]})]},y._id))})]})]})})]})]})},Lx="http://localhost:5000",uW=()=>{const[s,e]=T.useState([]),[t,n]=T.useState(!0),[i,r]=T.useState(null),[a,l]=T.useState(null),[c,f]=T.useState(""),[u,h]=T.useState([]),[p,g]=T.useState("all"),x=He();T.useEffect(()=>{const L=JSON.parse(localStorage.getItem("user"));if(!L){x("/login");return}l(L);const S=async()=>{try{n(!0);const M=(await Q.get(`${Lx}/api/free-videos/feed`,{withCredentials:!0})).data.filter(N=>N.uploader===L.name);e(M),n(!1)}catch(E){console.error("Error fetching user videos:",E),r("Failed to load your videos"),n(!1)}},j=async()=>{try{const E=await Q.get(`${Lx}/api/subscriptions/my-subscriptions`,{withCredentials:!0});E.data.success&&h(E.data.subscriptions||[])}catch(E){console.error("Failed to fetch subscriptions:",E)}};S(),j()},[x]);const y=L=>new Date(L).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),v=s.filter(L=>{const S=L.title.toLowerCase().includes(c.toLowerCase()),j=p==="all"||L.type===p;return S&&j}),w=async L=>{if(window.confirm("Are you sure you want to delete this video? This action cannot be undone."))try{await Q.delete(`${Lx}/api/free-videos/${L}`,{withCredentials:!0}),e(S=>S.filter(j=>j._id!==L)),Be("Video deleted successfully")}catch(S){console.error("Error deleting video:",S),de("Failed to delete video")}};return o.jsxs("div",{className:"min-h-screen bg-[#000000] text-white",children:[o.jsx(Ae,{}),o.jsxs("div",{className:"flex flex-col md:flex-row",children:[o.jsx("div",{className:"hidden md:block md:w-64 lg:w-72 h-[calc(100vh-64px)] sticky top-16 overflow-y-auto",children:o.jsx(An,{user:a,subscriptions:u})}),o.jsx("div",{className:"flex-1 p-4",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx(kn,{className:"text-red-500 text-2xl mr-2"}),o.jsx("h1",{className:"text-2xl font-bold",children:"Your Videos"})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx("input",{type:"text",placeholder:"Search your videos...",value:c,onChange:L=>f(L.target.value),className:"w-full px-4 py-2 pl-10 rounded-full text-black bg-white outline-none border border-gray-300 focus:border-blue-500"}),o.jsx(Ei,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>g("all"),className:`px-4 py-2 rounded-full ${p==="all"?"bg-red-600":"bg-gray-800"}`,children:"All"}),o.jsx("button",{onClick:()=>g("video"),className:`px-4 py-2 rounded-full ${p==="video"?"bg-red-600":"bg-gray-800"}`,children:"Videos"}),o.jsx("button",{onClick:()=>g("short"),className:`px-4 py-2 rounded-full ${p==="short"?"bg-red-600":"bg-gray-800"}`,children:"Shorts"})]})]}),o.jsxs("div",{className:"flex justify-center gap-4 mb-8",children:[o.jsx(le,{to:"/upload-video",className:"px-4 py-2 bg-[#111111] text-gray-200 rounded-lg hover:bg-gray-600 transition-colors",children:"Upload Video"}),o.jsx(le,{to:"/upload-short",className:"px-4 py-2 bg-[#111111] text-gray-200 rounded-lg hover:bg-gray-600 transition-colors",children:"Upload Short"}),o.jsx(le,{to:"/live-course",className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Go Live"})]}),t?o.jsxs("div",{className:"text-center py-10",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white mx-auto"}),o.jsx("p",{className:"mt-4",children:"Loading your videos..."})]}):i?o.jsx("div",{className:"text-center py-10 text-red-500",children:o.jsx("p",{children:i})}):v.length===0?o.jsx("div",{className:"text-center py-10",children:c||p!=="all"?o.jsx("p",{children:"No videos found matching your filters"}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-xl mb-2",children:"You haven't uploaded any videos yet"}),o.jsx("p",{className:"text-gray-400 mb-4",children:"Your uploaded videos will appear here"})]})}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full bg-[#111111] rounded-lg overflow-hidden",children:[o.jsx("thead",{className:"bg-gray-800",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3 text-left",children:"Video"}),o.jsx("th",{className:"p-3 text-left",children:"Visibility"}),o.jsx("th",{className:"p-3 text-left",children:"Date"}),o.jsx("th",{className:"p-3 text-left",children:"Views"}),o.jsx("th",{className:"p-3 text-left",children:"Actions"})]})}),o.jsx("tbody",{children:v.map(L=>{var S;return o.jsxs("tr",{className:"border-t border-gray-700",children:[o.jsx("td",{className:"p-3",children:o.jsx("div",{className:"flex items-center",children:o.jsxs(le,{to:`/watch/${L._id}`,className:"flex items-center",children:[o.jsx("div",{className:"w-24 h-16 flex-shrink-0 mr-3",children:o.jsx("img",{src:L.thumbnailUrl.startsWith("http")?L.thumbnailUrl:`http://localhost:5000${L.thumbnailUrl}`,alt:L.title,className:"w-full h-full object-cover rounded"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:L.title}),o.jsxs("p",{className:"text-xs text-gray-400",children:[(S=L.description)==null?void 0:S.substring(0,50),"..."]})]})]})})}),o.jsx("td",{className:"p-3",children:o.jsx("span",{className:"px-2 py-1 bg-green-800 text-green-100 rounded-full text-xs",children:"Public"})}),o.jsx("td",{className:"p-3 text-gray-300",children:y(L.createdAt)}),o.jsx("td",{className:"p-3 text-gray-300",children:L.views}),o.jsx("td",{className:"p-3",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(le,{to:`/edit-video/${L._id}`,className:"p-1 bg-blue-600 text-white rounded hover:bg-blue-700",title:"Edit video",children:o.jsx(Ua,{})}),o.jsx("button",{onClick:()=>w(L._id),className:"p-1 bg-red-600 text-white rounded hover:bg-red-700",title:"Delete video",children:o.jsx(Gs,{})})]})})]},L._id)})})]})})]})})]})]})},dW=()=>{const[s,e]=T.useState(""),[t,n]=T.useState(null),[i,r]=T.useState(null),[a,l]=T.useState(null),[c,f]=T.useState(null),[u,h]=T.useState(!1),p=He();T.useEffect(()=>{const y=JSON.parse(localStorage.getItem("user"));y?e(y.name||""):p("/login")},[p]);const g=y=>{const v=y.target.files[0];if(v){n(v);const w=new FileReader;w.onloadend=()=>{r(w.result)},w.readAsDataURL(v)}},x=async y=>{var w,L;if(y.preventDefault(),h(!0),l(null),f(null),!s){l("Name is required"),xu("Name is required"),h(!1);return}if(!t&&!i){l("Profile image is required"),xu("Profile image is required"),h(!1);return}const v=new FormData;v.append("name",s),t&&v.append("profileImage",t);try{const j=(await Q.put("http://localhost:5000/api/auth/profile",v,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0})).data.user;localStorage.setItem("user",JSON.stringify(j)),f("Profile updated successfully!"),Be("Profile updated successfully! Redirecting to your dashboard...");const E=j.role||"student";setTimeout(()=>{p(E==="admin"?"/admindashboard":"/feed")},1500)}catch(S){const j=((L=(w=S.response)==null?void 0:w.data)==null?void 0:L.message)||"Failed to update profile";l(j),de(j)}finally{h(!1)}};return o.jsxs(o.Fragment,{children:[o.jsx(Ae,{}),o.jsxs("div",{className:"flex pt-20 items-center justify-center min-h-screen bg-black flex-col text-white",children:[o.jsxs("form",{onSubmit:x,className:"bg-gradient-to-r from-gray-900 to-gray-800 p-8 rounded-lg shadow-lg w-96 border border-gray-700",children:[o.jsx("h2",{className:"text-3xl font-bold mb-6 text-center",children:"Setup Your Profile"}),a&&o.jsx("p",{className:"text-red-400 mb-4 text-center",children:a}),c&&o.jsx("p",{className:"text-green-400 mb-4 text-center",children:c}),o.jsx("div",{className:"mb-6 flex justify-center",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-700 flex items-center justify-center overflow-hidden",style:i?{backgroundImage:`url(${i})`,backgroundSize:"cover",backgroundPosition:"center"}:{},children:!i&&o.jsx("span",{className:"text-gray-400 text-5xl",children:""})}),o.jsx("label",{htmlFor:"profile-image-upload",className:"absolute bottom-0 right-0 bg-blue-500 hover:bg-blue-600 rounded-full p-2 cursor-pointer",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:"Name"}),o.jsx("input",{type:"text",value:s,onChange:y=>e(y.target.value),placeholder:"Enter your name",className:"w-full p-3 border border-gray-600 bg-gray-900 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("input",{id:"profile-image-upload",type:"file",accept:"image/*",onChange:g,className:"hidden"}),o.jsx("label",{htmlFor:"profile-image-upload",className:"w-full block text-center p-3 border border-dashed border-gray-500 bg-gray-800 rounded cursor-pointer hover:bg-gray-700 transition-colors",children:t?t.name:"Select profile image"})]}),o.jsx("button",{className:`w-full bg-blue-600 hover:bg-blue-700 text-white p-3 rounded transition-all duration-300 ${u?"opacity-70 cursor-not-allowed":""}`,disabled:u,children:u?"Saving...":"Save Profile"})]}),o.jsx(it,{})]})]})},hW=()=>{const[s,e]=T.useState([]),[t,n]=T.useState(!0);He(),T.useEffect(()=>{(async()=>{try{const c=await Q.get("http://localhost:5000/api/users",{withCredentials:!0});e(c.data)}catch(c){alert("Failed to load users"),console.error(c)}n(!1)})()},[]);const i=async l=>{if(window.confirm("Are you sure you want to delete this user?"))try{await Q.delete(`http://localhost:5000/api/users/${l}`,{withCredentials:!0}),e(s.filter(f=>f._id!==l)),alert("User deleted successfully")}catch(f){alert("Failed to delete user"),console.error(f)}},r=async l=>{try{await Q.patch(`http://localhost:5000/api/users/${l}/promote`,{},{withCredentials:!0}),e(s.map(c=>c._id===l?{...c,role:"admin"}:c)),alert("User promoted to admin")}catch(c){alert("Failed to promote user"),console.error(c)}},a=async l=>{try{await Q.patch(`http://localhost:5000/api/users/${l}/demote`,{},{withCredentials:!0}),e(s.map(c=>c._id===l?{...c,role:"student"}:c)),alert("User demoted to student")}catch(c){alert("Failed to demote user"),console.error(c)}};return t?o.jsx("div",{className:"text-center text-white mt-10",children:"Loading..."}):o.jsxs(o.Fragment,{children:[o.jsx(Ae,{}),o.jsxs("div",{className:"min-h-screen bg-black text-white p-6",children:[o.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Admin Dashboard - Manage Users"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"table-auto w-full bg-gray-800 rounded-lg",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2 text-left",children:"Username"}),o.jsx("th",{className:"px-4 py-2 text-left",children:"Email"}),o.jsx("th",{className:"px-4 py-2 text-left",children:"Role"}),o.jsx("th",{className:"px-4 py-2 text-left",children:"Actions"})]})}),o.jsx("tbody",{children:s.map(l=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-2",children:l.name}),o.jsx("td",{className:"px-4 py-2",children:l.email}),o.jsx("td",{className:"px-4 py-2",children:l.role}),o.jsxs("td",{className:"px-4 py-2",children:[l.role!=="admin"&&o.jsx("button",{onClick:()=>r(l._id),className:"bg-blue-500 text-white px-4 py-2 rounded-md mr-2",children:"Promote to Admin"}),l.role!=="student"&&o.jsx("button",{onClick:()=>a(l._id),className:"bg-yellow-500 text-white px-4 py-2 rounded-md mr-2",children:"Demote to Student"}),o.jsx("button",{onClick:()=>i(l._id),className:"bg-red-500 text-white px-4 py-2 rounded-md",children:"Delete"})]})]},l._id))})]})})]}),o.jsx(it,{})]})},mW=()=>{const[s,e]=T.useState(null),[t,n]=T.useState([]),[i,r]=T.useState([]),[a,l]=T.useState(!0),[c,f]=T.useState(!1),[u,h]=T.useState(null),p=He(),g="http://localhost:5000";T.useEffect(()=>{(async()=>{var j;try{const E=await Q.get(`${g}/api/auth/check`,{withCredentials:!0});E.data.user.role!=="admin"?p("/"):e(E.data.user);const M=await Q.get(`${g}/api/admin/courses`,{withCredentials:!0});n(M.data);const N=await Q.get(`${g}/api/free-videos/feed`,{withCredentials:!0});r(N.data)}catch(E){((j=E.response)==null?void 0:j.status)===401?p("/login"):h("Failed to load dashboard data")}finally{l(!1)}})()},[p]);const x=async S=>{var j,E;if(window.confirm("Are you sure you want to delete this course?")){f(!0);try{await Q.delete(`${g}/api/admin/courses/${S}`,{withCredentials:!0}),n(t.filter(M=>M._id!==S)),alert("Course deleted successfully!")}catch(M){h("Failed to delete course: "+(((E=(j=M.response)==null?void 0:j.data)==null?void 0:E.message)||"Unknown error"))}finally{f(!1)}}},y=async()=>{var S,j;if(window.confirm("Are you sure you want to delete ALL courses? This action cannot be undone.")){f(!0);try{await Q.delete(`${g}/api/admin/courses`,{withCredentials:!0}),n([]),alert("All courses deleted successfully!")}catch(E){h("Failed to delete all courses: "+(((j=(S=E.response)==null?void 0:S.data)==null?void 0:j.message)||"Unknown error"))}finally{f(!1)}}},v=async S=>{var j,E;if(window.confirm("Are you sure you want to delete this video?")){f(!0);try{await Q.delete(`${g}/api/free-videos/${S}`,{withCredentials:!0}),r(i.filter(M=>M._id!==S)),alert("Video deleted successfully!")}catch(M){h("Failed to delete video: "+(((E=(j=M.response)==null?void 0:j.data)==null?void 0:E.message)||"Unknown error"))}finally{f(!1)}}},w=async()=>{var S,j;if(window.confirm("Are you sure you want to delete ALL videos? This action cannot be undone.")){f(!0);try{await Q.delete(`${g}/api/free-videos/all`,{withCredentials:!0}),r([]),alert("All videos deleted successfully!")}catch(E){h("Failed to delete all videos: "+(((j=(S=E.response)==null?void 0:S.data)==null?void 0:j.message)||"Unknown error"))}finally{f(!1)}}},L=async()=>{var S,j;try{await Q.post(`${g}/api/auth/logout`,{},{withCredentials:!0}),p("/login")}catch(E){h("Failed to logout: "+(((j=(S=E.response)==null?void 0:S.data)==null?void 0:j.message)||"Unknown error"))}};return a?o.jsx("div",{className:"text-center text-xl mt-10 text-gray-300",children:"Loading..."}):u?o.jsx("div",{className:"text-center text-red-400 mt-10",children:u}):o.jsxs("div",{className:"min-h-screen bg-[#000000] text-white",children:[o.jsx(Ae,{}),o.jsxs("div",{className:"container mx-auto p-6",children:[c&&o.jsx("div",{className:"text-center text-xl mb-4 text-gray-300",children:"Deleting..."}),o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Admin Video Management"}),o.jsx("button",{onClick:L,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md transition","aria-label":"Logout",children:"Logout"})]}),s&&o.jsxs("div",{className:"bg-[#111111] p-4 rounded shadow mb-6",children:[o.jsxs("h2",{className:"text-xl font-semibold",children:["Admin: ",s.name]}),o.jsxs("p",{children:["Email: ",s.email]})]}),o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{className:"space-x-4",children:[o.jsx("button",{onClick:y,className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-md transition","aria-label":"Delete all courses",disabled:c,children:"Delete All Courses"}),o.jsx("button",{onClick:w,className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-md transition","aria-label":"Delete all videos",disabled:c,children:"Delete All Videos"})]}),o.jsx("button",{onClick:()=>p("/admindashboard"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition","aria-label":"Back to admin dashboard",children:"Back to Admin Dashboard"})]}),o.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Courses List"}),t.length===0?o.jsx("p",{className:"text-gray-400 mb-8",children:"No courses available."}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:t.map(S=>o.jsxs("div",{className:"bg-[#111111] rounded-lg overflow-hidden shadow-md hover:shadow-lg transition",children:[S.image&&o.jsx("img",{src:S.image,alt:S.title,className:"w-full h-48 object-cover"}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-100 truncate",children:S.title}),o.jsx("p",{className:"text-gray-400 mt-1 truncate",children:S.description}),o.jsxs("p",{className:"text-gray-400 mt-1",children:["Price: $",S.price]}),o.jsxs("p",{className:"text-gray-400 mt-1",children:["Instructor: ",S.instructor]}),o.jsxs("p",{className:"text-gray-400 mt-1",children:["Duration: ",S.duration]}),o.jsxs("p",{className:"text-gray-400 mt-1",children:["Category: ",S.category]}),o.jsx("button",{onClick:()=>x(S._id),className:"mt-4 w-full bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md transition","aria-label":`Delete course ${S.title}`,disabled:c,children:"Delete Course"})]})]},S._id))}),o.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Standalone Videos List"}),i.length===0?o.jsx("p",{className:"text-gray-400",children:"No videos available."}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(S=>o.jsxs("div",{className:"bg-[#111111] rounded-lg overflow-hidden shadow-md hover:shadow-lg transition",children:[S.thumbnailUrl&&o.jsx("img",{src:S.thumbnailUrl,alt:S.title,className:"w-full h-48 object-cover"}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-100 truncate",children:S.title}),o.jsxs("p",{className:"text-gray-400 mt-1",children:["Uploader: ",S.uploader]}),o.jsxs("p",{className:"text-gray-400 mt-1",children:["Views: ",S.views]}),o.jsxs("p",{className:"text-gray-400 mt-1",children:["Type: ",S.type]}),o.jsx("button",{onClick:()=>v(S._id),className:"mt-4 w-full bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md transition","aria-label":`Delete video ${S.title}`,disabled:c,children:"Delete Video"})]})]},S._id))})]}),o.jsx(it,{})]})},pW=({editMode:s,editCourseId:e,initialData:t,onSuccess:n})=>{const[i,r]=T.useState(t||{title:"",description:"",price:"",instructor:"",duration:"",category:"",image:null,videos:[],paymentOptions:{jazzCash:!1,easyPaisa:!1,payFast:!1,bankTransfer:!1}}),[a,l]=T.useState("courseInfo"),[c,f]=T.useState(!1),[u,h]=T.useState(0),p=T.useRef(null),g=T.useRef(null),x=E=>{r({...i,[E.target.name]:E.target.value})},y=E=>{const M=E.target.files[0];if(M&&M.size>1e4*1024*1024){ae.error("Image file size exceeds 1GB limit.");return}r({...i,image:M})},v=E=>{const M=Array.from(E.target.files);if(M.length===0)return;if(M.find(A=>A.size>1e4*1024*1024)){ae.error("One or more video files exceed the 1GB limit.");return}const I=M.map(A=>({file:A,thumbnail:null,title:A.name.split(".").slice(0,-1).join("."),description:""}));r(A=>({...A,videos:I})),ae.success(`${M.length} video${M.length>1?"s":""} selected successfully.`)},w=(E,M,N)=>{const I=[...i.videos];I[E][M]=N,r({...i,videos:I})},L=(E,M)=>{if(M&&M.size>1e4*1024*1024){ae.error("Thumbnail file size exceeds 1GB limit.");return}const N=[...i.videos];N[E].thumbnail=M,r({...i,videos:N})},S=E=>{r({...i,paymentOptions:{...i.paymentOptions,[E]:!i.paymentOptions[E]}})},j=async E=>{var N,I,A;E.preventDefault(),f(!0),h(0);const M=new FormData;M.append("title",i.title),M.append("description",i.description),M.append("price",i.price),M.append("instructor",i.instructor),M.append("duration",i.duration),M.append("category",i.category),Object.keys(i.paymentOptions).forEach(D=>{M.append(`paymentOptions[${D}]`,i.paymentOptions[D])}),i.image&&M.append("image",i.image),i.videos.forEach((D,z)=>{D.file&&(M.append("videos",D.file),M.append(`videoTitles[${z}]`,D.title),M.append(`videoDescriptions[${z}]`,D.description),D.thumbnail&&M.append("thumbnails",D.thumbnail))});try{const D="http://localhost:5000";s?(await Q.put(`${D}/api/admin/courses/${e}`,M,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0,onUploadProgress:z=>{const O=Math.round(z.loaded*100/z.total);h(O)}}),ae.success("Course Updated Successfully!")):(await Q.post(`${D}/api/admin/create-course`,M,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0,onUploadProgress:z=>{const O=Math.round(z.loaded*100/z.total);h(O)}}),ae.success("Course Created Successfully!")),r({title:"",description:"",price:"",instructor:"",duration:"",category:"",image:null,videos:[],paymentOptions:{jazzCash:!1,easyPaisa:!1,payFast:!1,bankTransfer:!1}}),n&&n()}catch(D){console.error("Error:",((N=D.response)==null?void 0:N.data)||D),ae.error("Failed to save course: "+(((A=(I=D.response)==null?void 0:I.data)==null?void 0:A.message)||"Unknown error"))}finally{f(!1),h(0)}};return o.jsxs("div",{className:"bg-[#111111] text-white p-4 rounded shadow mb-6",children:[o.jsxs("div",{className:"flex border-b border-gray-700 mb-4",children:[o.jsx("button",{className:`py-2 px-4 ${a==="courseInfo"?"border-b-2 border-blue-500 text-blue-500":"text-gray-400"}`,onClick:()=>l("courseInfo"),children:"Course Info"}),o.jsx("button",{className:`py-2 px-4 ${a==="videos"?"border-b-2 border-blue-500 text-blue-500":"text-gray-400"}`,onClick:()=>l("videos"),children:"Videos"}),o.jsx("button",{className:`py-2 px-4 ${a==="payment"?"border-b-2 border-blue-500 text-blue-500":"text-gray-400"}`,onClick:()=>l("payment"),children:"Payment Options"})]}),o.jsxs("form",{onSubmit:j,children:[a==="courseInfo"&&o.jsxs("div",{children:[o.jsx("input",{name:"title",value:i.title,onChange:x,placeholder:"Course Title",className:"w-full p-3 mb-3 border rounded",required:!0}),o.jsx("textarea",{name:"description",value:i.description,onChange:x,placeholder:"Course Description",className:"w-full p-3 mb-3 border rounded",required:!0}),o.jsx("input",{name:"price",type:"number",value:i.price,onChange:x,placeholder:"Course Price",className:"w-full p-3 mb-3 border rounded",required:!0}),o.jsx("input",{name:"instructor",value:i.instructor,onChange:x,placeholder:"Instructor",className:"w-full p-3 mb-3 border rounded",required:!0}),o.jsx("input",{name:"duration",value:i.duration,onChange:x,placeholder:"Duration",className:"w-full p-3 mb-3 border rounded",required:!0}),o.jsx("input",{name:"category",value:i.category,onChange:x,placeholder:"Category",className:"w-full p-3 mb-3 border rounded",required:!0}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"block mb-2",children:"Course Thumbnail"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{ref:g,type:"file",accept:"image/*",onChange:y,className:"hidden"}),o.jsxs("button",{type:"button",onClick:()=>g.current.click(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md flex items-center",children:[o.jsx(Hf,{className:"mr-2"})," Upload Thumbnail"]}),i.image&&o.jsx("span",{className:"ml-3 text-green-400",children:typeof i.image=="string"?"Current thumbnail will be kept":`Selected: ${i.image.name}`})]})]})]}),a==="videos"&&o.jsxs("div",{children:[o.jsxs("div",{className:"mb-4 flex items-center",children:[o.jsx(Hf,{className:"text-blue-500 text-2xl mr-2"}),o.jsx("h3",{className:"text-xl font-semibold",children:"Upload Course Videos"})]}),o.jsx("div",{className:"mb-4 p-4 border border-dashed border-gray-600 rounded-lg",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx(kn,{className:"text-blue-500 text-4xl mb-2"}),o.jsx("span",{className:"text-gray-300 mb-2",children:"Select video files to upload"}),o.jsx("span",{className:"text-xs text-gray-500 mb-2",children:"MP4 format, max 1GB per file"}),o.jsx("input",{ref:p,type:"file",accept:"video/*",multiple:!0,onChange:v,className:"hidden"}),o.jsx("button",{type:"button",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md",onClick:()=>p.current.click(),children:"Select Videos"}),i.videos.length>0&&o.jsxs("span",{className:"mt-2 text-green-400",children:[i.videos.length," video",i.videos.length>1?"s":""," selected"]})]})}),i.videos.length>0&&o.jsxs("div",{className:"mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Video Details"}),i.videos.map((E,M)=>{var N;return o.jsxs("div",{className:"mb-4 p-4 border rounded bg-[#1a1a1a]",children:[o.jsxs("p",{className:"mb-2 text-sm text-gray-300",children:["Video ",M+1,": ",((N=E.file)==null?void 0:N.name)||"Existing Video"]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Video Thumbnail"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:`video-thumbnail-${M}`,type:"file",accept:"image/*",onChange:I=>L(M,I.target.files[0]),className:"hidden"}),o.jsxs("button",{type:"button",onClick:()=>document.getElementById(`video-thumbnail-${M}`).click(),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded-md flex items-center text-sm",children:[o.jsx(Hf,{className:"mr-1"})," Upload Thumbnail"]}),E.thumbnail&&o.jsx("span",{className:"ml-3 text-green-400 text-sm",children:typeof E.thumbnail=="string"?"Current thumbnail will be kept":`Selected: ${E.thumbnail.name}`})]})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Video Title"}),o.jsx("input",{type:"text",value:E.title,onChange:I=>w(M,"title",I.target.value),className:"w-full p-2 border rounded",placeholder:"Video Title"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Video Description"}),o.jsx("textarea",{value:E.description,onChange:I=>w(M,"description",I.target.value),className:"w-full p-2 border rounded",placeholder:"Video Description"})]})]},M)})]})]}),a==="payment"&&o.jsxs("div",{children:[o.jsxs("div",{className:"mb-4 flex items-center",children:[o.jsx($s,{className:"text-green-500 text-2xl mr-2"}),o.jsx("h3",{className:"text-xl font-semibold",children:"Payment Gateways"})]}),o.jsx("p",{className:"text-gray-400 mb-4",children:"Select the payment methods that will be available for this course:"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[o.jsxs("div",{className:`p-4 border rounded-lg cursor-pointer flex items-center ${i.paymentOptions.jazzCash?"border-red-500 bg-red-900 bg-opacity-20":"border-gray-700"}`,onClick:()=>S("jazzCash"),children:[o.jsx(_a,{className:"text-red-500 text-2xl mr-3"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"JazzCash"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Mobile payment service"})]}),o.jsx("input",{type:"checkbox",className:"ml-auto",checked:i.paymentOptions.jazzCash,onChange:()=>S("jazzCash")})]}),o.jsxs("div",{className:`p-4 border rounded-lg cursor-pointer flex items-center ${i.paymentOptions.easyPaisa?"border-green-500 bg-green-900 bg-opacity-20":"border-gray-700"}`,onClick:()=>S("easyPaisa"),children:[o.jsx(_a,{className:"text-green-500 text-2xl mr-3"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"EasyPaisa"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Mobile payment service"})]}),o.jsx("input",{type:"checkbox",className:"ml-auto",checked:i.paymentOptions.easyPaisa,onChange:()=>S("easyPaisa")})]}),o.jsxs("div",{className:`p-4 border rounded-lg cursor-pointer flex items-center ${i.paymentOptions.payFast?"border-blue-500 bg-blue-900 bg-opacity-20":"border-gray-700"}`,onClick:()=>S("payFast"),children:[o.jsx(yp,{className:"text-blue-500 text-2xl mr-3"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"PayFast"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Credit/debit card payments"})]}),o.jsx("input",{type:"checkbox",className:"ml-auto",checked:i.paymentOptions.payFast,onChange:()=>S("payFast")})]}),o.jsxs("div",{className:`p-4 border rounded-lg cursor-pointer flex items-center ${i.paymentOptions.bankTransfer?"border-gray-400 bg-gray-800":"border-gray-700"}`,onClick:()=>S("bankTransfer"),children:[o.jsx(Sp,{className:"text-gray-400 text-2xl mr-3"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Bank Transfer"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Direct bank transfer"})]}),o.jsx("input",{type:"checkbox",className:"ml-auto",checked:i.paymentOptions.bankTransfer,onChange:()=>S("bankTransfer")})]})]})]}),c&&o.jsxs("div",{className:"mb-4",children:[o.jsxs("p",{className:"text-white mb-2",children:["Uploading to Cloudinary: ",u,"%"]}),o.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:o.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${u}%`}})})]}),o.jsxs("div",{className:"flex justify-between mt-6",children:[o.jsx("button",{type:"button",onClick:()=>l(a==="courseInfo"?"videos":a==="videos"?"payment":"courseInfo"),className:"bg-gray-600 hover:bg-gray-700 text-white px-5 py-2 rounded-md transition",children:a==="courseInfo"?"Next: Videos":a==="videos"?"Next: Payment":"Back to Info"}),o.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-5 py-2 rounded-md transition",disabled:c,children:s?"Update Course":"Create Course"})]})]})]})},gW=({course:s,onEdit:e,onDelete:t,onView:n})=>{var i,r,a,l;return o.jsxs("li",{className:"p-4 border rounded-lg shadow-md flex flex-col md:flex-row justify-between items-start md:items-center bg-[#111111] mb-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center space-y-3 md:space-y-0 md:space-x-4 mb-4 md:mb-0",children:[s.image&&o.jsx("img",{src:s.image.startsWith("http")?s.image:`http://localhost:5000${s.image}`,alt:s.title,className:"w-full md:w-24 h-40 md:h-24 object-cover rounded"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl text-white font-semibold",children:s.title}),o.jsxs("p",{className:"text-gray-300 text-sm",children:[s.description.substring(0,100),"..."]}),o.jsxs("div",{className:"grid grid-cols-2 gap-x-4 mt-2",children:[o.jsxs("p",{className:"text-white text-sm",children:["Price: ",s.price]}),o.jsxs("p",{className:"text-white text-sm",children:["Instructor: ",s.instructor]}),o.jsxs("p",{className:"text-white text-sm",children:["Duration: ",s.duration]}),o.jsxs("p",{className:"text-white text-sm",children:["Category: ",s.category]})]}),o.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[((i=s.paymentOptions)==null?void 0:i.jazzCash)&&o.jsxs("span",{className:"bg-red-900 bg-opacity-30 text-red-400 text-xs px-2 py-1 rounded flex items-center",children:[o.jsx(_a,{className:"mr-1"})," JazzCash"]}),((r=s.paymentOptions)==null?void 0:r.easyPaisa)&&o.jsxs("span",{className:"bg-green-900 bg-opacity-30 text-green-400 text-xs px-2 py-1 rounded flex items-center",children:[o.jsx(_a,{className:"mr-1"})," EasyPaisa"]}),((a=s.paymentOptions)==null?void 0:a.payFast)&&o.jsxs("span",{className:"bg-blue-900 bg-opacity-30 text-blue-400 text-xs px-2 py-1 rounded flex items-center",children:[o.jsx(yp,{className:"mr-1"})," PayFast"]}),((l=s.paymentOptions)==null?void 0:l.bankTransfer)&&o.jsxs("span",{className:"bg-gray-700 text-gray-300 text-xs px-2 py-1 rounded flex items-center",children:[o.jsx(Sp,{className:"mr-1"})," Bank Transfer"]})]})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs("button",{onClick:()=>n(s._id),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded flex items-center",children:[o.jsx(qi,{className:"mr-1"})," View"]}),o.jsxs("button",{onClick:()=>e(s),className:"bg-yellow-600 hover:bg-yellow-700 text-white px-3 py-1 rounded flex items-center",children:[o.jsx(Ua,{className:"mr-1"})," Edit"]}),o.jsxs("button",{onClick:()=>t(s._id),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded flex items-center",children:[o.jsx(Gs,{className:"mr-1"})," Delete"]})]})]})},xW=()=>{const[s,e]=T.useState(null),[t,n]=T.useState([]),[i,r]=T.useState(!1),[a,l]=T.useState(null),[c,f]=T.useState(null),[u,h]=T.useState(!0),p=He();T.useEffect(()=>{(async()=>{try{const j=await Q.get("http://localhost:5000/api/auth/check",{withCredentials:!0});j.data.user.role!=="admin"?(p("/"),ae.error("You don't have permission to access this page")):e(j.data.user)}catch{p("/login"),ae.error("Please login to access this page")}finally{h(!1)}})(),g()},[p]);const g=async()=>{try{const S=await Q.get("http://localhost:5000/api/admin/courses");n(S.data)}catch(L){console.error("Error fetching courses:",L),ae.error("Failed to fetch courses")}},x=L=>{r(!0),l(L._id),f({title:L.title,description:L.description,price:L.price,instructor:L.instructor,duration:L.duration,category:L.category,image:null,videos:L.videos.map(S=>({file:null,thumbnail:null,title:S.title,description:S.description})),paymentOptions:L.paymentOptions||{jazzCash:!1,easyPaisa:!1,payFast:!1,bankTransfer:!1}})},y=async L=>{if(window.confirm("Are you sure you want to delete this course?"))try{await Q.delete(`http://localhost:5000/api/admin/courses/${L}`,{withCredentials:!0}),ae.success("Course Deleted Successfully!"),g()}catch(S){console.error("Error deleting course:",S),ae.error("Failed to delete course.")}},v=()=>{r(!1),l(null),f(null),g()},w=L=>{p(`/course/${L}`)};return u?o.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):o.jsxs(o.Fragment,{children:[o.jsx(Ae,{}),o.jsxs("div",{className:"min-h-screen bg-black text-white p-6",children:[o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Admin Course Dashboard"}),s&&o.jsxs("div",{className:"bg-[#111111] p-4 rounded-lg shadow-md mb-6 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-semibold",children:["Admin: ",s.name]}),o.jsx("p",{className:"text-gray-400",children:"Manage your courses and videos"})]}),o.jsx("button",{onClick:()=>p("/admindashboard"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",children:"Back to Dashboard"})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-2xl font-semibold mb-4",children:i?"Edit Course":"Create New Course"}),o.jsx(pW,{editMode:i,editCourseId:a,initialData:c,onSuccess:v})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Available Courses"}),t.length===0?o.jsx("p",{className:"text-gray-400",children:"No courses available. Create your first course above."}):o.jsx("ul",{children:t.map(L=>o.jsx(gW,{course:L,onEdit:x,onDelete:y,onView:w},L._id))})]})]}),o.jsx(it,{})]})]})},Uh="http://localhost:5000",yW=({course:s,videoIndex:e,onVideoChange:t,currentUser:n})=>{var q,Z,V,H;const[i,r]=T.useState(e||0),[a,l]=T.useState(!0),[c,f]=T.useState(""),[u,h]=T.useState(""),[p,g]=T.useState(null),[x,y]=T.useState(!1),[v,w]=T.useState(!1),[L,S]=T.useState(0),[j,E]=T.useState(0),M=T.useRef(null),N=T.useRef(null);T.useEffect(()=>{e!==void 0&&e!==i&&r(e)},[e]),T.useEffect(()=>{if(s&&s.videos&&s.videos[i]){const F=s.videos[i];n&&F.likes&&(y(F.likes.includes(n._id)),S(F.likes.length)),n&&F.dislikes&&(w(F.dislikes.includes(n._id)),E(F.dislikes.length))}},[s,i,n]);const I=F=>{r(F),t&&t(F),M.current&&(M.current.pause(),M.current.currentTime=0,M.current.load(),M.current.play().catch(B=>console.log("Auto-play prevented:",B)))},A=async()=>{if(!n){ae.error("Please log in to like videos");return}try{const F=await Q.post(`${Uh}/api/creator/courses/${s._id}/videos/${i}/like`,{},{withCredentials:!0});F.data.success&&(y(!x),v&&w(!1),S(F.data.likes),E(F.data.dislikes))}catch(F){console.error("Error liking video:",F),ae.error("Failed to like video")}},D=async()=>{if(!n){ae.error("Please log in to dislike videos");return}try{const F=await Q.post(`${Uh}/api/creator/courses/${s._id}/videos/${i}/dislike`,{},{withCredentials:!0});F.data.success&&(w(!v),x&&y(!1),S(F.data.likes),E(F.data.dislikes))}catch(F){console.error("Error disliking video:",F),ae.error("Failed to dislike video")}},z=async F=>{if(F.preventDefault(),!n){ae.error("Please log in to comment");return}if(!c.trim()){ae.error("Comment cannot be empty");return}try{const B=await Q.post(`${Uh}/api/creator/courses/${s._id}/videos/${i}/comment`,{comment:c.trim()},{withCredentials:!0});if(B.data.success){const U={...s};U.videos[i].comments.push(B.data.comment),t&&t(i,U),f(""),ae.success("Comment added successfully"),N.current&&(N.current.scrollTop=N.current.scrollHeight)}}catch(B){console.error("Error adding comment:",B),ae.error("Failed to add comment")}},O=async F=>{if(!n){ae.error("Please log in to reply");return}if(!u.trim()){ae.error("Reply cannot be empty");return}try{const B=await Q.post(`${Uh}/api/creator/courses/${s._id}/videos/${i}/comments/${F}/reply`,{comment:u.trim()},{withCredentials:!0});if(B.data.success){const U={...s},$=U.videos[i].comments.findIndex(K=>K._id===F);$!==-1&&(U.videos[i].comments[$].replies.push(B.data.reply),t&&t(i,U),h(""),g(null),ae.success("Reply added successfully"))}}catch(B){console.error("Error adding reply:",B),ae.error("Failed to add reply")}};if(!s||!s.videos||s.videos.length===0)return o.jsx("div",{className:"bg-gray-900 rounded-lg p-6 text-center",children:o.jsx("p",{className:"text-gray-400",children:"No videos available for this course"})});const Y=s.videos[i];return o.jsx("div",{className:"bg-black text-white",children:o.jsxs("div",{className:"flex flex-col lg:flex-row",children:[o.jsxs("div",{className:"flex-1 lg:max-w-[70%]",children:[o.jsx("div",{className:"w-full bg-black",children:o.jsx("div",{className:"aspect-video bg-black relative",children:o.jsx("video",{ref:M,src:Y.url,className:"w-full h-full",controls:!0,controlsList:"nodownload",onContextMenu:F=>F.preventDefault(),poster:Y.thumbnail,preload:"metadata"})})}),o.jsxs("div",{className:"p-4",children:[o.jsx("h1",{className:"text-xl md:text-2xl font-bold mb-2",children:Y.title}),o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between py-3",children:[s.creatorId&&o.jsxs("div",{className:"flex items-center mb-3 md:mb-0",children:[s.creatorId.profileImageUrl?o.jsx("img",{src:s.creatorId.profileImageUrl,alt:s.creatorId.name,className:"w-10 h-10 rounded-full mr-3"}):o.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center mr-3",children:o.jsx("span",{className:"text-white font-bold",children:(q=s.creatorId.name)==null?void 0:q.charAt(0)})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:s.creatorId.name}),o.jsx("div",{className:"text-gray-400 text-sm",children:s.title})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("button",{onClick:A,className:`flex items-center space-x-1 ${x?"text-blue-500":"text-gray-400"} hover:text-blue-500`,children:[x?o.jsx(wi,{size:20}):o.jsx(Tv,{size:20}),o.jsx("span",{children:L})]}),o.jsxs("button",{onClick:D,className:`flex items-center space-x-1 ${v?"text-red-500":"text-gray-400"} hover:text-red-500`,children:[v?o.jsx(P0,{size:20}):o.jsx(RN,{size:20}),o.jsx("span",{children:j})]}),o.jsxs("button",{onClick:()=>l(!a),className:"flex items-center space-x-1 text-gray-400 hover:text-white",children:[o.jsx(hm,{size:20}),o.jsx("span",{children:((Z=Y.comments)==null?void 0:Z.length)||0})]})]})]}),o.jsx("div",{className:"mt-4 p-3 bg-gray-900 rounded-lg",children:Y.description?o.jsx("p",{className:"text-gray-300",children:Y.description}):o.jsx("p",{className:"text-gray-500 italic",children:"No description available"})}),a&&o.jsxs("div",{className:"mt-6",children:[o.jsxs("h3",{className:"text-lg font-medium mb-4",children:["Comments ",o.jsxs("span",{className:"text-gray-400",children:["(",((V=Y.comments)==null?void 0:V.length)||0,")"]})]}),o.jsx("form",{onSubmit:z,className:"mb-6",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[n!=null&&n.profileImageUrl?o.jsx("img",{src:n.profileImageUrl,alt:n.name,className:"w-10 h-10 rounded-full"}):o.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold",children:((H=n==null?void 0:n.name)==null?void 0:H.charAt(0))||"G"})}),o.jsxs("div",{className:"flex-grow",children:[o.jsx("textarea",{value:c,onChange:F=>f(F.target.value),className:"w-full bg-gray-800 text-white border border-gray-700 rounded-md px-3 py-2 focus:outline-none focus:border-blue-500",placeholder:"Add a comment...",rows:"2"}),o.jsx("div",{className:"flex justify-end mt-2",children:o.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-1.5 rounded-md",disabled:!c.trim(),children:"Comment"})})]})]})}),o.jsx("div",{ref:N,className:"space-y-6",children:Y.comments&&Y.comments.length>0?Y.comments.map(F=>{var B,U;return o.jsx("div",{className:"border-b border-gray-800 pb-6 last:border-0",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[F.profileImage?o.jsx("img",{src:F.profileImage,alt:F.username,className:"w-10 h-10 rounded-full"}):o.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-700 flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold",children:(B=F.username)==null?void 0:B.charAt(0)})}),o.jsxs("div",{className:"flex-grow",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"font-medium mr-2",children:F.username}),F.isCreator&&o.jsx("span",{className:"bg-blue-900 text-blue-300 text-xs px-2 py-0.5 rounded",children:"Creator"}),o.jsx("span",{className:"text-gray-500 text-sm ml-2",children:new Date(F.createdAt).toLocaleDateString()})]}),o.jsx("p",{className:"text-gray-300 mt-1",children:F.comment}),o.jsx("div",{className:"flex items-center mt-2 text-sm",children:o.jsxs("button",{onClick:()=>g(F._id),className:"flex items-center text-gray-400 hover:text-white",children:[o.jsx(Sv,{className:"mr-1"}),"Reply"]})}),p===F._id&&o.jsx("div",{className:"mt-3 pl-4 border-l-2 border-gray-700",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[n!=null&&n.profileImageUrl?o.jsx("img",{src:n.profileImageUrl,alt:n.name,className:"w-8 h-8 rounded-full"}):o.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-xs",children:((U=n==null?void 0:n.name)==null?void 0:U.charAt(0))||"G"})}),o.jsxs("div",{className:"flex-grow",children:[o.jsx("textarea",{value:u,onChange:$=>h($.target.value),className:"w-full bg-gray-800 text-white border border-gray-700 rounded-md px-3 py-2 focus:outline-none focus:border-blue-500",placeholder:"Add a reply...",rows:"2"}),o.jsxs("div",{className:"flex justify-end mt-2 space-x-2",children:[o.jsx("button",{type:"button",onClick:()=>g(null),className:"bg-gray-700 hover:bg-gray-600 text-white px-3 py-1 rounded-md",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>O(F._id),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded-md",disabled:!u.trim(),children:"Reply"})]})]})]})}),F.replies&&F.replies.length>0&&o.jsx("div",{className:"mt-3 pl-4 border-l-2 border-gray-700 space-y-3",children:F.replies.map(($,K)=>{var ce;return o.jsxs("div",{className:"flex items-start space-x-3 pt-3",children:[$.profileImage?o.jsx("img",{src:$.profileImage,alt:$.username,className:"w-8 h-8 rounded-full"}):o.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-xs",children:(ce=$.username)==null?void 0:ce.charAt(0)})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"font-medium text-sm mr-2",children:$.username}),$.isCreator&&o.jsx("span",{className:"bg-blue-900 text-blue-300 text-xs px-1.5 py-0.5 rounded text-[10px]",children:"Creator"}),o.jsx("span",{className:"text-gray-500 text-xs ml-2",children:new Date($.createdAt).toLocaleDateString()})]}),o.jsx("p",{className:"text-gray-300 text-sm mt-1",children:$.comment})]})]},K)})})]})]})},F._id)}):o.jsxs("div",{className:"text-center py-8 bg-gray-900 rounded-lg",children:[o.jsx(hm,{className:"mx-auto text-gray-600 text-3xl mb-3"}),o.jsx("p",{className:"text-gray-400",children:"No comments yet. Be the first to comment!"})]})})]})]})]}),o.jsx("div",{className:"lg:w-[30%] p-4",children:o.jsxs("div",{className:"bg-gray-900 rounded-lg p-3",children:[o.jsx("h3",{className:"font-medium mb-3 text-lg",children:"Course Videos"}),o.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto pr-1",children:s.videos.map((F,B)=>{var U;return o.jsxs("div",{className:`p-2 rounded-md cursor-pointer flex items-start ${B===i?"bg-gray-800":"hover:bg-gray-800"}`,onClick:()=>I(B),children:[o.jsx("div",{className:"w-24 h-14 bg-gray-800 rounded overflow-hidden flex-shrink-0 mr-2",children:F.thumbnail?o.jsx("img",{src:F.thumbnail,alt:F.title,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center",children:o.jsx("span",{className:"text-gray-600 text-xs",children:"No Thumbnail"})})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:`text-sm line-clamp-2 ${B===i?"font-medium text-blue-400":""}`,children:F.title}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:((U=s.creatorId)==null?void 0:U.name)||"Course Creator"})]})]},B)})})]})})]})})},bW=()=>{const{courseId:s}=nd(),e=He(),[t,n]=T.useState(null),[i,r]=T.useState(!0),[a,l]=T.useState(0),[c,f]=T.useState(null);T.useRef(null),T.useEffect(()=>{const h=async()=>{try{const y=await Q.get("http://localhost:5000/api/auth/check",{withCredentials:!0});return f(y.data.user),y.data.user}catch{return ae.error("Please login to access this page"),e("/login"),null}},p=async x=>{var y;if(x)try{r(!0);const v="http://localhost:5000";if(!(await Q.get(`${v}/api/student/purchased-courses`,{withCredentials:!0})).data.courses.some(j=>j._id===s)){ae.error("You need to purchase this course to access the videos"),e(`/course/${s}`);return}const S=await Q.get(`${v}/api/student/course/${s}`,{withCredentials:!0});S.data.success?n(S.data.course):(ae.error(S.data.message||"Failed to load course videos"),e(`/course/${s}`))}catch(v){console.error("Error fetching course videos:",v),((y=v.response)==null?void 0:y.status)===403?(ae.error("You need to purchase this course to access the videos"),e(`/course/${s}`)):ae.error("Failed to load course videos")}finally{r(!1)}};(async()=>{const x=await h();x&&p(x)})()},[s,e]);const u=(h,p=null)=>{l(h),p&&n(p)};return i?o.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):t?o.jsxs("div",{className:"min-h-screen bg-black text-white",children:[o.jsx(Ae,{}),o.jsx("div",{className:"w-full max-w-[2160px] mx-auto px-4 py-4",children:o.jsx(yW,{course:t,videoIndex:a,onVideoChange:u,currentUser:c})}),o.jsx(it,{})]}):o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col items-center justify-center",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Course Not Found"}),o.jsx("p",{className:"mb-6",children:"The course you're looking for doesn't exist or you don't have access to it."}),o.jsx("button",{onClick:()=>e("/courses"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded",children:"Browse Courses"})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function md(s){return s+.5|0}const Ca=(s,e,t)=>Math.max(Math.min(s,t),e);function zf(s){return Ca(md(s*2.55),0,255)}function Ia(s){return Ca(md(s*255),0,255)}function Ir(s){return Ca(md(s/2.55)/100,0,1)}function rT(s){return Ca(md(s*100),0,100)}const Vn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Tb=[..."0123456789ABCDEF"],vW=s=>Tb[s&15],wW=s=>Tb[(s&240)>>4]+Tb[s&15],$h=s=>(s&240)>>4===(s&15),SW=s=>$h(s.r)&&$h(s.g)&&$h(s.b)&&$h(s.a);function LW(s){var e=s.length,t;return s[0]==="#"&&(e===4||e===5?t={r:255&Vn[s[1]]*17,g:255&Vn[s[2]]*17,b:255&Vn[s[3]]*17,a:e===5?Vn[s[4]]*17:255}:(e===7||e===9)&&(t={r:Vn[s[1]]<<4|Vn[s[2]],g:Vn[s[3]]<<4|Vn[s[4]],b:Vn[s[5]]<<4|Vn[s[6]],a:e===9?Vn[s[7]]<<4|Vn[s[8]]:255})),t}const CW=(s,e)=>s<255?e(s):"";function TW(s){var e=SW(s)?vW:wW;return s?"#"+e(s.r)+e(s.g)+e(s.b)+CW(s.a,e):void 0}const jW=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function RI(s,e,t){const n=e*Math.min(t,1-t),i=(r,a=(r+s/30)%12)=>t-n*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function EW(s,e,t){const n=(i,r=(i+s/60)%6)=>t-t*e*Math.max(Math.min(r,4-r,1),0);return[n(5),n(3),n(1)]}function NW(s,e,t){const n=RI(s,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)n[i]*=1-e-t,n[i]+=e;return n}function MW(s,e,t,n,i){return s===i?(e-t)/n+(e<t?6:0):e===i?(t-s)/n+2:(s-e)/n+4}function k2(s){const t=s.r/255,n=s.g/255,i=s.b/255,r=Math.max(t,n,i),a=Math.min(t,n,i),l=(r+a)/2;let c,f,u;return r!==a&&(u=r-a,f=l>.5?u/(2-r-a):u/(r+a),c=MW(t,n,i,u,r),c=c*60+.5),[c|0,f||0,l]}function I2(s,e,t,n){return(Array.isArray(e)?s(e[0],e[1],e[2]):s(e,t,n)).map(Ia)}function _2(s,e,t){return I2(RI,s,e,t)}function kW(s,e,t){return I2(NW,s,e,t)}function IW(s,e,t){return I2(EW,s,e,t)}function OI(s){return(s%360+360)%360}function _W(s){const e=jW.exec(s);let t=255,n;if(!e)return;e[5]!==n&&(t=e[6]?zf(+e[5]):Ia(+e[5]));const i=OI(+e[2]),r=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?n=kW(i,r,a):e[1]==="hsv"?n=IW(i,r,a):n=_2(i,r,a),{r:n[0],g:n[1],b:n[2],a:t}}function AW(s,e){var t=k2(s);t[0]=OI(t[0]+e),t=_2(t),s.r=t[0],s.g=t[1],s.b=t[2]}function DW(s){if(!s)return;const e=k2(s),t=e[0],n=rT(e[1]),i=rT(e[2]);return s.a<255?`hsla(${t}, ${n}%, ${i}%, ${Ir(s.a)})`:`hsl(${t}, ${n}%, ${i}%)`}const aT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},oT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function PW(){const s={},e=Object.keys(oT),t=Object.keys(aT);let n,i,r,a,l;for(n=0;n<e.length;n++){for(a=l=e[n],i=0;i<t.length;i++)r=t[i],l=l.replace(r,aT[r]);r=parseInt(oT[a],16),s[l]=[r>>16&255,r>>8&255,r&255]}return s}let Vh;function RW(s){Vh||(Vh=PW(),Vh.transparent=[0,0,0,0]);const e=Vh[s.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const OW=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function FW(s){const e=OW.exec(s);let t=255,n,i,r;if(e){if(e[7]!==n){const a=+e[7];t=e[8]?zf(a):Ca(a*255,0,255)}return n=+e[1],i=+e[3],r=+e[5],n=255&(e[2]?zf(n):Ca(n,0,255)),i=255&(e[4]?zf(i):Ca(i,0,255)),r=255&(e[6]?zf(r):Ca(r,0,255)),{r:n,g:i,b:r,a:t}}}function zW(s){return s&&(s.a<255?`rgba(${s.r}, ${s.g}, ${s.b}, ${Ir(s.a)})`:`rgb(${s.r}, ${s.g}, ${s.b})`)}const Cx=s=>s<=.0031308?s*12.92:Math.pow(s,1/2.4)*1.055-.055,Tl=s=>s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4);function BW(s,e,t){const n=Tl(Ir(s.r)),i=Tl(Ir(s.g)),r=Tl(Ir(s.b));return{r:Ia(Cx(n+t*(Tl(Ir(e.r))-n))),g:Ia(Cx(i+t*(Tl(Ir(e.g))-i))),b:Ia(Cx(r+t*(Tl(Ir(e.b))-r))),a:s.a+t*(e.a-s.a)}}function Gh(s,e,t){if(s){let n=k2(s);n[e]=Math.max(0,Math.min(n[e]+n[e]*t,e===0?360:1)),n=_2(n),s.r=n[0],s.g=n[1],s.b=n[2]}}function FI(s,e){return s&&Object.assign(e||{},s)}function lT(s){var e={r:0,g:0,b:0,a:255};return Array.isArray(s)?s.length>=3&&(e={r:s[0],g:s[1],b:s[2],a:255},s.length>3&&(e.a=Ia(s[3]))):(e=FI(s,{r:0,g:0,b:0,a:1}),e.a=Ia(e.a)),e}function UW(s){return s.charAt(0)==="r"?FW(s):_W(s)}class _u{constructor(e){if(e instanceof _u)return e;const t=typeof e;let n;t==="object"?n=lT(e):t==="string"&&(n=LW(e)||RW(e)||UW(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=FI(this._rgb);return e&&(e.a=Ir(e.a)),e}set rgb(e){this._rgb=lT(e)}rgbString(){return this._valid?zW(this._rgb):void 0}hexString(){return this._valid?TW(this._rgb):void 0}hslString(){return this._valid?DW(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,i=e.rgb;let r;const a=t===r?.5:t,l=2*a-1,c=n.a-i.a,f=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;r=1-f,n.r=255&f*n.r+r*i.r+.5,n.g=255&f*n.g+r*i.g+.5,n.b=255&f*n.b+r*i.b+.5,n.a=a*n.a+(1-a)*i.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=BW(this._rgb,e._rgb,t)),this}clone(){return new _u(this.rgb)}alpha(e){return this._rgb.a=Ia(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=md(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Gh(this._rgb,2,e),this}darken(e){return Gh(this._rgb,2,-e),this}saturate(e){return Gh(this._rgb,1,e),this}desaturate(e){return Gh(this._rgb,1,-e),this}rotate(e){return AW(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function wr(){}const $W=(()=>{let s=0;return()=>s++})();function ut(s){return s==null}function rs(s){if(Array.isArray&&Array.isArray(s))return!0;const e=Object.prototype.toString.call(s);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function at(s){return s!==null&&Object.prototype.toString.call(s)==="[object Object]"}function ti(s){return(typeof s=="number"||s instanceof Number)&&isFinite(+s)}function Ri(s,e){return ti(s)?s:e}function Xe(s,e){return typeof s>"u"?e:s}const VW=(s,e)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100:+s/e,zI=(s,e)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100*e:+s;function wt(s,e,t){if(s&&typeof s.call=="function")return s.apply(t,e)}function ht(s,e,t,n){let i,r,a;if(rs(s))for(r=s.length,i=0;i<r;i++)e.call(t,s[i],i);else if(at(s))for(a=Object.keys(s),r=a.length,i=0;i<r;i++)e.call(t,s[a[i]],a[i])}function _m(s,e){let t,n,i,r;if(!s||!e||s.length!==e.length)return!1;for(t=0,n=s.length;t<n;++t)if(i=s[t],r=e[t],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function Am(s){if(rs(s))return s.map(Am);if(at(s)){const e=Object.create(null),t=Object.keys(s),n=t.length;let i=0;for(;i<n;++i)e[t[i]]=Am(s[t[i]]);return e}return s}function BI(s){return["__proto__","prototype","constructor"].indexOf(s)===-1}function GW(s,e,t,n){if(!BI(s))return;const i=e[s],r=t[s];at(i)&&at(r)?Au(i,r,n):e[s]=Am(r)}function Au(s,e,t){const n=rs(e)?e:[e],i=n.length;if(!at(s))return s;t=t||{};const r=t.merger||GW;let a;for(let l=0;l<i;++l){if(a=n[l],!at(a))continue;const c=Object.keys(a);for(let f=0,u=c.length;f<u;++f)r(c[f],s,a,t)}return s}function nu(s,e){return Au(s,e,{merger:HW})}function HW(s,e,t){if(!BI(s))return;const n=e[s],i=t[s];at(n)&&at(i)?nu(n,i):Object.prototype.hasOwnProperty.call(e,s)||(e[s]=Am(i))}const cT={"":s=>s,x:s=>s.x,y:s=>s.y};function YW(s){const e=s.split("."),t=[];let n="";for(const i of e)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(t.push(n),n="");return t}function WW(s){const e=YW(s);return t=>{for(const n of e){if(n==="")break;t=t&&t[n]}return t}}function $o(s,e){return(cT[e]||(cT[e]=WW(e)))(s)}function A2(s){return s.charAt(0).toUpperCase()+s.slice(1)}const Du=s=>typeof s<"u",Ra=s=>typeof s=="function",fT=(s,e)=>{if(s.size!==e.size)return!1;for(const t of s)if(!e.has(t))return!1;return!0};function QW(s){return s.type==="mouseup"||s.type==="click"||s.type==="contextmenu"}const Bt=Math.PI,zt=2*Bt,KW=zt+Bt,Dm=Number.POSITIVE_INFINITY,JW=Bt/180,as=Bt/2,fo=Bt/4,uT=Bt*2/3,UI=Math.log10,nr=Math.sign;function iu(s,e,t){return Math.abs(s-e)<t}function dT(s){const e=Math.round(s);s=iu(s,e,s/1e3)?e:s;const t=Math.pow(10,Math.floor(UI(s))),n=s/t;return(n<=1?1:n<=2?2:n<=5?5:10)*t}function qW(s){const e=[],t=Math.sqrt(s);let n;for(n=1;n<t;n++)s%n===0&&(e.push(n),e.push(s/n));return t===(t|0)&&e.push(t),e.sort((i,r)=>i-r).pop(),e}function ZW(s){return typeof s=="symbol"||typeof s=="object"&&s!==null&&!(Symbol.toPrimitive in s||"toString"in s||"valueOf"in s)}function Pu(s){return!ZW(s)&&!isNaN(parseFloat(s))&&isFinite(s)}function XW(s,e){const t=Math.round(s);return t-e<=s&&t+e>=s}function eQ(s,e,t){let n,i,r;for(n=0,i=s.length;n<i;n++)r=s[n][t],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function _r(s){return s*(Bt/180)}function tQ(s){return s*(180/Bt)}function hT(s){if(!ti(s))return;let e=1,t=0;for(;Math.round(s*e)/e!==s;)e*=10,t++;return t}function $I(s,e){const t=e.x-s.x,n=e.y-s.y,i=Math.sqrt(t*t+n*n);let r=Math.atan2(n,t);return r<-.5*Bt&&(r+=zt),{angle:r,distance:i}}function jb(s,e){return Math.sqrt(Math.pow(e.x-s.x,2)+Math.pow(e.y-s.y,2))}function sQ(s,e){return(s-e+KW)%zt-Bt}function xa(s){return(s%zt+zt)%zt}function Ru(s,e,t,n){const i=xa(s),r=xa(e),a=xa(t),l=xa(r-i),c=xa(a-i),f=xa(i-r),u=xa(i-a);return i===r||i===a||n&&r===a||l>c&&f<u}function _s(s,e,t){return Math.max(e,Math.min(t,s))}function nQ(s){return _s(s,-32768,32767)}function Ta(s,e,t,n=1e-6){return s>=Math.min(e,t)-n&&s<=Math.max(e,t)+n}function D2(s,e,t){t=t||(a=>s[a]<e);let n=s.length-1,i=0,r;for(;n-i>1;)r=i+n>>1,t(r)?i=r:n=r;return{lo:i,hi:n}}const Co=(s,e,t,n)=>D2(s,t,n?i=>{const r=s[i][e];return r<t||r===t&&s[i+1][e]===t}:i=>s[i][e]<t),iQ=(s,e,t)=>D2(s,t,n=>s[n][e]>=t);function rQ(s,e,t){let n=0,i=s.length;for(;n<i&&s[n]<e;)n++;for(;i>n&&s[i-1]>t;)i--;return n>0||i<s.length?s.slice(n,i):s}const VI=["push","pop","shift","splice","unshift"];function aQ(s,e){if(s._chartjs){s._chartjs.listeners.push(e);return}Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),VI.forEach(t=>{const n="_onData"+A2(t),i=s[t];Object.defineProperty(s,t,{configurable:!0,enumerable:!1,value(...r){const a=i.apply(this,r);return s._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...r)}),a}})})}function mT(s,e){const t=s._chartjs;if(!t)return;const n=t.listeners,i=n.indexOf(e);i!==-1&&n.splice(i,1),!(n.length>0)&&(VI.forEach(r=>{delete s[r]}),delete s._chartjs)}function GI(s){const e=new Set(s);return e.size===s.length?s:Array.from(e)}const HI=function(){return typeof window>"u"?function(s){return s()}:window.requestAnimationFrame}();function YI(s,e){let t=[],n=!1;return function(...i){t=i,n||(n=!0,HI.call(window,()=>{n=!1,s.apply(e,t)}))}}function oQ(s,e){let t;return function(...n){return e?(clearTimeout(t),t=setTimeout(s,e,n)):s.apply(this,n),e}}const P2=s=>s==="start"?"left":s==="end"?"right":"center",Ts=(s,e,t)=>s==="start"?e:s==="end"?t:(e+t)/2,lQ=(s,e,t,n)=>s===(n?"left":"right")?t:s==="center"?(e+t)/2:e;function cQ(s,e,t){const n=e.length;let i=0,r=n;if(s._sorted){const{iScale:a,vScale:l,_parsed:c}=s,f=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null,u=a.axis,{min:h,max:p,minDefined:g,maxDefined:x}=a.getUserBounds();if(g){if(i=Math.min(Co(c,u,h).lo,t?n:Co(e,u,a.getPixelForValue(h)).lo),f){const y=c.slice(0,i+1).reverse().findIndex(v=>!ut(v[l.axis]));i-=Math.max(0,y)}i=_s(i,0,n-1)}if(x){let y=Math.max(Co(c,a.axis,p,!0).hi+1,t?0:Co(e,u,a.getPixelForValue(p),!0).hi+1);if(f){const v=c.slice(y-1).findIndex(w=>!ut(w[l.axis]));y+=Math.max(0,v)}r=_s(y,i,n)-i}else r=n-i}return{start:i,count:r}}function fQ(s){const{xScale:e,yScale:t,_scaleRanges:n}=s,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!n)return s._scaleRanges=i,!0;const r=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==t.min||n.ymax!==t.max;return Object.assign(n,i),r}const Hh=s=>s===0||s===1,pT=(s,e,t)=>-(Math.pow(2,10*(s-=1))*Math.sin((s-e)*zt/t)),gT=(s,e,t)=>Math.pow(2,-10*s)*Math.sin((s-e)*zt/t)+1,ru={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>-s*(s-2),easeInOutQuad:s=>(s/=.5)<1?.5*s*s:-.5*(--s*(s-2)-1),easeInCubic:s=>s*s*s,easeOutCubic:s=>(s-=1)*s*s+1,easeInOutCubic:s=>(s/=.5)<1?.5*s*s*s:.5*((s-=2)*s*s+2),easeInQuart:s=>s*s*s*s,easeOutQuart:s=>-((s-=1)*s*s*s-1),easeInOutQuart:s=>(s/=.5)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2),easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>(s-=1)*s*s*s*s+1,easeInOutQuint:s=>(s/=.5)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2),easeInSine:s=>-Math.cos(s*as)+1,easeOutSine:s=>Math.sin(s*as),easeInOutSine:s=>-.5*(Math.cos(Bt*s)-1),easeInExpo:s=>s===0?0:Math.pow(2,10*(s-1)),easeOutExpo:s=>s===1?1:-Math.pow(2,-10*s)+1,easeInOutExpo:s=>Hh(s)?s:s<.5?.5*Math.pow(2,10*(s*2-1)):.5*(-Math.pow(2,-10*(s*2-1))+2),easeInCirc:s=>s>=1?s:-(Math.sqrt(1-s*s)-1),easeOutCirc:s=>Math.sqrt(1-(s-=1)*s),easeInOutCirc:s=>(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1),easeInElastic:s=>Hh(s)?s:pT(s,.075,.3),easeOutElastic:s=>Hh(s)?s:gT(s,.075,.3),easeInOutElastic(s){return Hh(s)?s:s<.5?.5*pT(s*2,.1125,.45):.5+.5*gT(s*2-1,.1125,.45)},easeInBack(s){return s*s*((1.70158+1)*s-1.70158)},easeOutBack(s){return(s-=1)*s*((1.70158+1)*s+1.70158)+1},easeInOutBack(s){let e=1.70158;return(s/=.5)<1?.5*(s*s*(((e*=1.525)+1)*s-e)):.5*((s-=2)*s*(((e*=1.525)+1)*s+e)+2)},easeInBounce:s=>1-ru.easeOutBounce(1-s),easeOutBounce(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375},easeInOutBounce:s=>s<.5?ru.easeInBounce(s*2)*.5:ru.easeOutBounce(s*2-1)*.5+.5};function R2(s){if(s&&typeof s=="object"){const e=s.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function xT(s){return R2(s)?s:new _u(s)}function Tx(s){return R2(s)?s:new _u(s).saturate(.5).darken(.1).hexString()}const uQ=["x","y","borderWidth","radius","tension"],dQ=["color","borderColor","backgroundColor"];function hQ(s){s.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),s.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),s.set("animations",{colors:{type:"color",properties:dQ},numbers:{type:"number",properties:uQ}}),s.describe("animations",{_fallback:"animation"}),s.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function mQ(s){s.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const yT=new Map;function pQ(s,e){e=e||{};const t=s+JSON.stringify(e);let n=yT.get(t);return n||(n=new Intl.NumberFormat(s,e),yT.set(t,n)),n}function O2(s,e,t){return pQ(e,t).format(s)}const gQ={values(s){return rs(s)?s:""+s},numeric(s,e,t){if(s===0)return"0";const n=this.chart.options.locale;let i,r=s;if(t.length>1){const f=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(f<1e-4||f>1e15)&&(i="scientific"),r=xQ(s,t)}const a=UI(Math.abs(r)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:i,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),O2(s,n,c)}};function xQ(s,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&s!==Math.floor(s)&&(t=s-Math.floor(s)),t}var WI={formatters:gQ};function yQ(s){s.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:WI.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),s.route("scale.ticks","color","","color"),s.route("scale.grid","color","","borderColor"),s.route("scale.border","color","","borderColor"),s.route("scale.title","color","","color"),s.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),s.describe("scales",{_fallback:"scale"}),s.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Vo=Object.create(null),Eb=Object.create(null);function au(s,e){if(!e)return s;const t=e.split(".");for(let n=0,i=t.length;n<i;++n){const r=t[n];s=s[r]||(s[r]=Object.create(null))}return s}function jx(s,e,t){return typeof e=="string"?Au(au(s,e),t):Au(au(s,""),e)}class bQ{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>Tx(i.backgroundColor),this.hoverBorderColor=(n,i)=>Tx(i.borderColor),this.hoverColor=(n,i)=>Tx(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return jx(this,e,t)}get(e){return au(this,e)}describe(e,t){return jx(Eb,e,t)}override(e,t){return jx(Vo,e,t)}route(e,t,n,i){const r=au(this,e),a=au(this,n),l="_"+t;Object.defineProperties(r,{[l]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const c=this[l],f=a[i];return at(c)?Object.assign({},f,c):Xe(c,f)},set(c){this[l]=c}}})}apply(e){e.forEach(t=>t(this))}}var Qt=new bQ({_scriptable:s=>!s.startsWith("on"),_indexable:s=>s!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[hQ,mQ,yQ]);function vQ(s){return!s||ut(s.size)||ut(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family}function bT(s,e,t,n,i){let r=e[i];return r||(r=e[i]=s.measureText(i).width,t.push(i)),r>n&&(n=r),n}function uo(s,e,t){const n=s.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*n)/n+i}function vT(s,e){!e&&!s||(e=e||s.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,s.width,s.height),e.restore())}function Nb(s,e,t,n){QI(s,e,t,n,null)}function QI(s,e,t,n,i){let r,a,l,c,f,u,h,p;const g=e.pointStyle,x=e.rotation,y=e.radius;let v=(x||0)*JW;if(g&&typeof g=="object"&&(r=g.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){s.save(),s.translate(t,n),s.rotate(v),s.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),s.restore();return}if(!(isNaN(y)||y<=0)){switch(s.beginPath(),g){default:i?s.ellipse(t,n,i/2,y,0,0,zt):s.arc(t,n,y,0,zt),s.closePath();break;case"triangle":u=i?i/2:y,s.moveTo(t+Math.sin(v)*u,n-Math.cos(v)*y),v+=uT,s.lineTo(t+Math.sin(v)*u,n-Math.cos(v)*y),v+=uT,s.lineTo(t+Math.sin(v)*u,n-Math.cos(v)*y),s.closePath();break;case"rectRounded":f=y*.516,c=y-f,a=Math.cos(v+fo)*c,h=Math.cos(v+fo)*(i?i/2-f:c),l=Math.sin(v+fo)*c,p=Math.sin(v+fo)*(i?i/2-f:c),s.arc(t-h,n-l,f,v-Bt,v-as),s.arc(t+p,n-a,f,v-as,v),s.arc(t+h,n+l,f,v,v+as),s.arc(t-p,n+a,f,v+as,v+Bt),s.closePath();break;case"rect":if(!x){c=Math.SQRT1_2*y,u=i?i/2:c,s.rect(t-u,n-c,2*u,2*c);break}v+=fo;case"rectRot":h=Math.cos(v)*(i?i/2:y),a=Math.cos(v)*y,l=Math.sin(v)*y,p=Math.sin(v)*(i?i/2:y),s.moveTo(t-h,n-l),s.lineTo(t+p,n-a),s.lineTo(t+h,n+l),s.lineTo(t-p,n+a),s.closePath();break;case"crossRot":v+=fo;case"cross":h=Math.cos(v)*(i?i/2:y),a=Math.cos(v)*y,l=Math.sin(v)*y,p=Math.sin(v)*(i?i/2:y),s.moveTo(t-h,n-l),s.lineTo(t+h,n+l),s.moveTo(t+p,n-a),s.lineTo(t-p,n+a);break;case"star":h=Math.cos(v)*(i?i/2:y),a=Math.cos(v)*y,l=Math.sin(v)*y,p=Math.sin(v)*(i?i/2:y),s.moveTo(t-h,n-l),s.lineTo(t+h,n+l),s.moveTo(t+p,n-a),s.lineTo(t-p,n+a),v+=fo,h=Math.cos(v)*(i?i/2:y),a=Math.cos(v)*y,l=Math.sin(v)*y,p=Math.sin(v)*(i?i/2:y),s.moveTo(t-h,n-l),s.lineTo(t+h,n+l),s.moveTo(t+p,n-a),s.lineTo(t-p,n+a);break;case"line":a=i?i/2:Math.cos(v)*y,l=Math.sin(v)*y,s.moveTo(t-a,n-l),s.lineTo(t+a,n+l);break;case"dash":s.moveTo(t,n),s.lineTo(t+Math.cos(v)*(i?i/2:y),n+Math.sin(v)*y);break;case!1:s.closePath();break}s.fill(),e.borderWidth>0&&s.stroke()}}function Ou(s,e,t){return t=t||.5,!e||s&&s.x>e.left-t&&s.x<e.right+t&&s.y>e.top-t&&s.y<e.bottom+t}function F2(s,e){s.save(),s.beginPath(),s.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),s.clip()}function z2(s){s.restore()}function wQ(s,e,t,n,i){if(!e)return s.lineTo(t.x,t.y);if(i==="middle"){const r=(e.x+t.x)/2;s.lineTo(r,e.y),s.lineTo(r,t.y)}else i==="after"!=!!n?s.lineTo(e.x,t.y):s.lineTo(t.x,e.y);s.lineTo(t.x,t.y)}function SQ(s,e,t,n){if(!e)return s.lineTo(t.x,t.y);s.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?t.cp2x:t.cp1x,n?t.cp2y:t.cp1y,t.x,t.y)}function LQ(s,e){e.translation&&s.translate(e.translation[0],e.translation[1]),ut(e.rotation)||s.rotate(e.rotation),e.color&&(s.fillStyle=e.color),e.textAlign&&(s.textAlign=e.textAlign),e.textBaseline&&(s.textBaseline=e.textBaseline)}function CQ(s,e,t,n,i){if(i.strikethrough||i.underline){const r=s.measureText(n),a=e-r.actualBoundingBoxLeft,l=e+r.actualBoundingBoxRight,c=t-r.actualBoundingBoxAscent,f=t+r.actualBoundingBoxDescent,u=i.strikethrough?(c+f)/2:f;s.strokeStyle=s.fillStyle,s.beginPath(),s.lineWidth=i.decorationWidth||2,s.moveTo(a,u),s.lineTo(l,u),s.stroke()}}function TQ(s,e){const t=s.fillStyle;s.fillStyle=e.color,s.fillRect(e.left,e.top,e.width,e.height),s.fillStyle=t}function Fu(s,e,t,n,i,r={}){const a=rs(e)?e:[e],l=r.strokeWidth>0&&r.strokeColor!=="";let c,f;for(s.save(),s.font=i.string,LQ(s,r),c=0;c<a.length;++c)f=a[c],r.backdrop&&TQ(s,r.backdrop),l&&(r.strokeColor&&(s.strokeStyle=r.strokeColor),ut(r.strokeWidth)||(s.lineWidth=r.strokeWidth),s.strokeText(f,t,n,r.maxWidth)),s.fillText(f,t,n,r.maxWidth),CQ(s,t,n,f,r),n+=Number(i.lineHeight);s.restore()}function Pm(s,e){const{x:t,y:n,w:i,h:r,radius:a}=e;s.arc(t+a.topLeft,n+a.topLeft,a.topLeft,1.5*Bt,Bt,!0),s.lineTo(t,n+r-a.bottomLeft),s.arc(t+a.bottomLeft,n+r-a.bottomLeft,a.bottomLeft,Bt,as,!0),s.lineTo(t+i-a.bottomRight,n+r),s.arc(t+i-a.bottomRight,n+r-a.bottomRight,a.bottomRight,as,0,!0),s.lineTo(t+i,n+a.topRight),s.arc(t+i-a.topRight,n+a.topRight,a.topRight,0,-as,!0),s.lineTo(t+a.topLeft,n)}const jQ=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,EQ=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function NQ(s,e){const t=(""+s).match(jQ);if(!t||t[1]==="normal")return e*1.2;switch(s=+t[2],t[3]){case"px":return s;case"%":s/=100;break}return e*s}const MQ=s=>+s||0;function B2(s,e){const t={},n=at(e),i=n?Object.keys(e):e,r=at(s)?n?a=>Xe(s[a],s[e[a]]):a=>s[a]:()=>s;for(const a of i)t[a]=MQ(r(a));return t}function KI(s){return B2(s,{top:"y",right:"x",bottom:"y",left:"x"})}function Wl(s){return B2(s,["topLeft","topRight","bottomLeft","bottomRight"])}function si(s){const e=KI(s);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function As(s,e){s=s||{},e=e||Qt.font;let t=Xe(s.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let n=Xe(s.style,e.style);n&&!(""+n).match(EQ)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:Xe(s.family,e.family),lineHeight:NQ(Xe(s.lineHeight,e.lineHeight),t),size:t,style:n,weight:Xe(s.weight,e.weight),string:""};return i.string=vQ(i),i}function Yh(s,e,t,n){let i,r,a;for(i=0,r=s.length;i<r;++i)if(a=s[i],a!==void 0&&a!==void 0)return a}function kQ(s,e,t){const{min:n,max:i}=s,r=zI(e,(i-n)/2),a=(l,c)=>t&&l===0?0:l+c;return{min:a(n,-Math.abs(r)),max:a(i,r)}}function Wo(s,e){return Object.assign(Object.create(s),e)}function U2(s,e=[""],t,n,i=()=>s[0]){const r=t||s;typeof n>"u"&&(n=XI("_fallback",s));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:s,_rootScopes:r,_fallback:n,_getTarget:i,override:l=>U2([l,...s],e,r,n)};return new Proxy(a,{deleteProperty(l,c){return delete l[c],delete l._keys,delete s[0][c],!0},get(l,c){return qI(l,c,()=>FQ(c,e,s,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(s[0])},has(l,c){return ST(l).includes(c)},ownKeys(l){return ST(l)},set(l,c,f){const u=l._storage||(l._storage=i());return l[c]=u[c]=f,delete l._keys,!0}})}function cc(s,e,t,n){const i={_cacheable:!1,_proxy:s,_context:e,_subProxy:t,_stack:new Set,_descriptors:JI(s,n),setContext:r=>cc(s,r,t,n),override:r=>cc(s.override(r),e,t,n)};return new Proxy(i,{deleteProperty(r,a){return delete r[a],delete s[a],!0},get(r,a,l){return qI(r,a,()=>_Q(r,a,l))},getOwnPropertyDescriptor(r,a){return r._descriptors.allKeys?Reflect.has(s,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(s,a)},getPrototypeOf(){return Reflect.getPrototypeOf(s)},has(r,a){return Reflect.has(s,a)},ownKeys(){return Reflect.ownKeys(s)},set(r,a,l){return s[a]=l,delete r[a],!0}})}function JI(s,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=s;return{allKeys:i,scriptable:t,indexable:n,isScriptable:Ra(t)?t:()=>t,isIndexable:Ra(n)?n:()=>n}}const IQ=(s,e)=>s?s+A2(e):e,$2=(s,e)=>at(e)&&s!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function qI(s,e,t){if(Object.prototype.hasOwnProperty.call(s,e)||e==="constructor")return s[e];const n=t();return s[e]=n,n}function _Q(s,e,t){const{_proxy:n,_context:i,_subProxy:r,_descriptors:a}=s;let l=n[e];return Ra(l)&&a.isScriptable(e)&&(l=AQ(e,l,s,t)),rs(l)&&l.length&&(l=DQ(e,l,s,a.isIndexable)),$2(e,l)&&(l=cc(l,i,r&&r[e],a)),l}function AQ(s,e,t,n){const{_proxy:i,_context:r,_subProxy:a,_stack:l}=t;if(l.has(s))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+s);l.add(s);let c=e(r,a||n);return l.delete(s),$2(s,c)&&(c=V2(i._scopes,i,s,c)),c}function DQ(s,e,t,n){const{_proxy:i,_context:r,_subProxy:a,_descriptors:l}=t;if(typeof r.index<"u"&&n(s))return e[r.index%e.length];if(at(e[0])){const c=e,f=i._scopes.filter(u=>u!==c);e=[];for(const u of c){const h=V2(f,i,s,u);e.push(cc(h,r,a&&a[s],l))}}return e}function ZI(s,e,t){return Ra(s)?s(e,t):s}const PQ=(s,e)=>s===!0?e:typeof s=="string"?$o(e,s):void 0;function RQ(s,e,t,n,i){for(const r of e){const a=PQ(t,r);if(a){s.add(a);const l=ZI(a._fallback,t,i);if(typeof l<"u"&&l!==t&&l!==n)return l}else if(a===!1&&typeof n<"u"&&t!==n)return null}return!1}function V2(s,e,t,n){const i=e._rootScopes,r=ZI(e._fallback,t,n),a=[...s,...i],l=new Set;l.add(n);let c=wT(l,a,t,r||t,n);return c===null||typeof r<"u"&&r!==t&&(c=wT(l,a,r,c,n),c===null)?!1:U2(Array.from(l),[""],i,r,()=>OQ(e,t,n))}function wT(s,e,t,n,i){for(;t;)t=RQ(s,e,t,n,i);return t}function OQ(s,e,t){const n=s._getTarget();e in n||(n[e]={});const i=n[e];return rs(i)&&at(t)?t:i||{}}function FQ(s,e,t,n){let i;for(const r of e)if(i=XI(IQ(r,s),t),typeof i<"u")return $2(s,i)?V2(t,n,s,i):i}function XI(s,e){for(const t of e){if(!t)continue;const n=t[s];if(typeof n<"u")return n}}function ST(s){let e=s._keys;return e||(e=s._keys=zQ(s._scopes)),e}function zQ(s){const e=new Set;for(const t of s)for(const n of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(n);return Array.from(e)}const BQ=Number.EPSILON||1e-14,fc=(s,e)=>e<s.length&&!s[e].skip&&s[e],e_=s=>s==="x"?"y":"x";function UQ(s,e,t,n){const i=s.skip?e:s,r=e,a=t.skip?e:t,l=jb(r,i),c=jb(a,r);let f=l/(l+c),u=c/(l+c);f=isNaN(f)?0:f,u=isNaN(u)?0:u;const h=n*f,p=n*u;return{previous:{x:r.x-h*(a.x-i.x),y:r.y-h*(a.y-i.y)},next:{x:r.x+p*(a.x-i.x),y:r.y+p*(a.y-i.y)}}}function $Q(s,e,t){const n=s.length;let i,r,a,l,c,f=fc(s,0);for(let u=0;u<n-1;++u)if(c=f,f=fc(s,u+1),!(!c||!f)){if(iu(e[u],0,BQ)){t[u]=t[u+1]=0;continue}i=t[u]/e[u],r=t[u+1]/e[u],l=Math.pow(i,2)+Math.pow(r,2),!(l<=9)&&(a=3/Math.sqrt(l),t[u]=i*a*e[u],t[u+1]=r*a*e[u])}}function VQ(s,e,t="x"){const n=e_(t),i=s.length;let r,a,l,c=fc(s,0);for(let f=0;f<i;++f){if(a=l,l=c,c=fc(s,f+1),!l)continue;const u=l[t],h=l[n];a&&(r=(u-a[t])/3,l[`cp1${t}`]=u-r,l[`cp1${n}`]=h-r*e[f]),c&&(r=(c[t]-u)/3,l[`cp2${t}`]=u+r,l[`cp2${n}`]=h+r*e[f])}}function GQ(s,e="x"){const t=e_(e),n=s.length,i=Array(n).fill(0),r=Array(n);let a,l,c,f=fc(s,0);for(a=0;a<n;++a)if(l=c,c=f,f=fc(s,a+1),!!c){if(f){const u=f[e]-c[e];i[a]=u!==0?(f[t]-c[t])/u:0}r[a]=l?f?nr(i[a-1])!==nr(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}$Q(s,i,r),VQ(s,r,e)}function Wh(s,e,t){return Math.max(Math.min(s,t),e)}function HQ(s,e){let t,n,i,r,a,l=Ou(s[0],e);for(t=0,n=s.length;t<n;++t)a=r,r=l,l=t<n-1&&Ou(s[t+1],e),r&&(i=s[t],a&&(i.cp1x=Wh(i.cp1x,e.left,e.right),i.cp1y=Wh(i.cp1y,e.top,e.bottom)),l&&(i.cp2x=Wh(i.cp2x,e.left,e.right),i.cp2y=Wh(i.cp2y,e.top,e.bottom)))}function YQ(s,e,t,n,i){let r,a,l,c;if(e.spanGaps&&(s=s.filter(f=>!f.skip)),e.cubicInterpolationMode==="monotone")GQ(s,i);else{let f=n?s[s.length-1]:s[0];for(r=0,a=s.length;r<a;++r)l=s[r],c=UQ(f,l,s[Math.min(r+1,a-(n?0:1))%a],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,f=l}e.capBezierPoints&&HQ(s,t)}function G2(){return typeof window<"u"&&typeof document<"u"}function H2(s){let e=s.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Rm(s,e,t){let n;return typeof s=="string"?(n=parseInt(s,10),s.indexOf("%")!==-1&&(n=n/100*e.parentNode[t])):n=s,n}const Ip=s=>s.ownerDocument.defaultView.getComputedStyle(s,null);function WQ(s,e){return Ip(s).getPropertyValue(e)}const QQ=["top","right","bottom","left"];function Po(s,e,t){const n={};t=t?"-"+t:"";for(let i=0;i<4;i++){const r=QQ[i];n[r]=parseFloat(s[e+"-"+r+t])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const KQ=(s,e,t)=>(s>0||e>0)&&(!t||!t.shadowRoot);function JQ(s,e){const t=s.touches,n=t&&t.length?t[0]:s,{offsetX:i,offsetY:r}=n;let a=!1,l,c;if(KQ(i,r,s.target))l=i,c=r;else{const f=e.getBoundingClientRect();l=n.clientX-f.left,c=n.clientY-f.top,a=!0}return{x:l,y:c,box:a}}function xo(s,e){if("native"in s)return s;const{canvas:t,currentDevicePixelRatio:n}=e,i=Ip(t),r=i.boxSizing==="border-box",a=Po(i,"padding"),l=Po(i,"border","width"),{x:c,y:f,box:u}=JQ(s,t),h=a.left+(u&&l.left),p=a.top+(u&&l.top);let{width:g,height:x}=e;return r&&(g-=a.width+l.width,x-=a.height+l.height),{x:Math.round((c-h)/g*t.width/n),y:Math.round((f-p)/x*t.height/n)}}function qQ(s,e,t){let n,i;if(e===void 0||t===void 0){const r=s&&H2(s);if(!r)e=s.clientWidth,t=s.clientHeight;else{const a=r.getBoundingClientRect(),l=Ip(r),c=Po(l,"border","width"),f=Po(l,"padding");e=a.width-f.width-c.width,t=a.height-f.height-c.height,n=Rm(l.maxWidth,r,"clientWidth"),i=Rm(l.maxHeight,r,"clientHeight")}}return{width:e,height:t,maxWidth:n||Dm,maxHeight:i||Dm}}const Qh=s=>Math.round(s*10)/10;function ZQ(s,e,t,n){const i=Ip(s),r=Po(i,"margin"),a=Rm(i.maxWidth,s,"clientWidth")||Dm,l=Rm(i.maxHeight,s,"clientHeight")||Dm,c=qQ(s,e,t);let{width:f,height:u}=c;if(i.boxSizing==="content-box"){const p=Po(i,"border","width"),g=Po(i,"padding");f-=g.width+p.width,u-=g.height+p.height}return f=Math.max(0,f-r.width),u=Math.max(0,n?f/n:u-r.height),f=Qh(Math.min(f,a,c.maxWidth)),u=Qh(Math.min(u,l,c.maxHeight)),f&&!u&&(u=Qh(f/2)),(e!==void 0||t!==void 0)&&n&&c.height&&u>c.height&&(u=c.height,f=Qh(Math.floor(u*n))),{width:f,height:u}}function LT(s,e,t){const n=e||1,i=Math.floor(s.height*n),r=Math.floor(s.width*n);s.height=Math.floor(s.height),s.width=Math.floor(s.width);const a=s.canvas;return a.style&&(t||!a.style.height&&!a.style.width)&&(a.style.height=`${s.height}px`,a.style.width=`${s.width}px`),s.currentDevicePixelRatio!==n||a.height!==i||a.width!==r?(s.currentDevicePixelRatio=n,a.height=i,a.width=r,s.ctx.setTransform(n,0,0,n,0,0),!0):!1}const XQ=function(){let s=!1;try{const e={get passive(){return s=!0,!1}};G2()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return s}();function CT(s,e){const t=WQ(s,e),n=t&&t.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function yo(s,e,t,n){return{x:s.x+t*(e.x-s.x),y:s.y+t*(e.y-s.y)}}function eK(s,e,t,n){return{x:s.x+t*(e.x-s.x),y:n==="middle"?t<.5?s.y:e.y:n==="after"?t<1?s.y:e.y:t>0?e.y:s.y}}function tK(s,e,t,n){const i={x:s.cp2x,y:s.cp2y},r={x:e.cp1x,y:e.cp1y},a=yo(s,i,t),l=yo(i,r,t),c=yo(r,e,t),f=yo(a,l,t),u=yo(l,c,t);return yo(f,u,t)}const sK=function(s,e){return{x(t){return s+s+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,n){return t-n},leftForLtr(t,n){return t-n}}},nK=function(){return{x(s){return s},setWidth(s){},textAlign(s){return s},xPlus(s,e){return s+e},leftForLtr(s,e){return s}}};function Ql(s,e,t){return s?sK(e,t):nK()}function t_(s,e){let t,n;(e==="ltr"||e==="rtl")&&(t=s.canvas.style,n=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),s.prevTextDirection=n)}function s_(s,e){e!==void 0&&(delete s.prevTextDirection,s.canvas.style.setProperty("direction",e[0],e[1]))}function n_(s){return s==="angle"?{between:Ru,compare:sQ,normalize:xa}:{between:Ta,compare:(e,t)=>e-t,normalize:e=>e}}function TT({start:s,end:e,count:t,loop:n,style:i}){return{start:s%t,end:e%t,loop:n&&(e-s+1)%t===0,style:i}}function iK(s,e,t){const{property:n,start:i,end:r}=t,{between:a,normalize:l}=n_(n),c=e.length;let{start:f,end:u,loop:h}=s,p,g;if(h){for(f+=c,u+=c,p=0,g=c;p<g&&a(l(e[f%c][n]),i,r);++p)f--,u--;f%=c,u%=c}return u<f&&(u+=c),{start:f,end:u,loop:h,style:s.style}}function rK(s,e,t){if(!t)return[s];const{property:n,start:i,end:r}=t,a=e.length,{compare:l,between:c,normalize:f}=n_(n),{start:u,end:h,loop:p,style:g}=iK(s,e,t),x=[];let y=!1,v=null,w,L,S;const j=()=>c(i,S,w)&&l(i,S)!==0,E=()=>l(r,w)===0||c(r,S,w),M=()=>y||j(),N=()=>!y||E();for(let I=u,A=u;I<=h;++I)L=e[I%a],!L.skip&&(w=f(L[n]),w!==S&&(y=c(w,i,r),v===null&&M()&&(v=l(w,i)===0?I:A),v!==null&&N()&&(x.push(TT({start:v,end:I,loop:p,count:a,style:g})),v=null),A=I,S=w));return v!==null&&x.push(TT({start:v,end:h,loop:p,count:a,style:g})),x}function aK(s,e){const t=[],n=s.segments;for(let i=0;i<n.length;i++){const r=rK(n[i],s.points,e);r.length&&t.push(...r)}return t}function oK(s,e,t,n){let i=0,r=e-1;if(t&&!n)for(;i<e&&!s[i].skip;)i++;for(;i<e&&s[i].skip;)i++;for(i%=e,t&&(r+=i);r>i&&s[r%e].skip;)r--;return r%=e,{start:i,end:r}}function lK(s,e,t,n){const i=s.length,r=[];let a=e,l=s[e],c;for(c=e+1;c<=t;++c){const f=s[c%i];f.skip||f.stop?l.skip||(n=!1,r.push({start:e%i,end:(c-1)%i,loop:n}),e=a=f.stop?c:null):(a=c,l.skip&&(e=c)),l=f}return a!==null&&r.push({start:e%i,end:a%i,loop:n}),r}function cK(s,e){const t=s.points,n=s.options.spanGaps,i=t.length;if(!i)return[];const r=!!s._loop,{start:a,end:l}=oK(t,i,r,n);if(n===!0)return jT(s,[{start:a,end:l,loop:r}],t,e);const c=l<a?l+i:l,f=!!s._fullLoop&&a===0&&l===i-1;return jT(s,lK(t,a,c,f),t,e)}function jT(s,e,t,n){return!n||!n.setContext||!t?e:fK(s,e,t,n)}function fK(s,e,t,n){const i=s._chart.getContext(),r=ET(s.options),{_datasetIndex:a,options:{spanGaps:l}}=s,c=t.length,f=[];let u=r,h=e[0].start,p=h;function g(x,y,v,w){const L=l?-1:1;if(x!==y){for(x+=c;t[x%c].skip;)x-=L;for(;t[y%c].skip;)y+=L;x%c!==y%c&&(f.push({start:x%c,end:y%c,loop:v,style:w}),u=w,h=y%c)}}for(const x of e){h=l?h:x.start;let y=t[h%c],v;for(p=h+1;p<=x.end;p++){const w=t[p%c];v=ET(n.setContext(Wo(i,{type:"segment",p0:y,p1:w,p0DataIndex:(p-1)%c,p1DataIndex:p%c,datasetIndex:a}))),uK(v,u)&&g(h,p-1,x.loop,u),y=w,u=v}h<p-1&&g(h,p-1,x.loop,u)}return f}function ET(s){return{backgroundColor:s.backgroundColor,borderCapStyle:s.borderCapStyle,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderJoinStyle:s.borderJoinStyle,borderWidth:s.borderWidth,borderColor:s.borderColor}}function uK(s,e){if(!e)return!1;const t=[],n=function(i,r){return R2(r)?(t.includes(r)||t.push(r),t.indexOf(r)):r};return JSON.stringify(s,n)!==JSON.stringify(e,n)}function Kh(s,e,t){return s.options.clip?s[t]:e[t]}function dK(s,e){const{xScale:t,yScale:n}=s;return t&&n?{left:Kh(t,e,"left"),right:Kh(t,e,"right"),top:Kh(n,e,"top"),bottom:Kh(n,e,"bottom")}:e}function hK(s,e){const t=e._clip;if(t.disabled)return!1;const n=dK(e,s.chartArea);return{left:t.left===!1?0:n.left-(t.left===!0?0:t.left),right:t.right===!1?s.width:n.right+(t.right===!0?0:t.right),top:t.top===!1?0:n.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?s.height:n.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class mK{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,i){const r=t.listeners[i],a=t.duration;r.forEach(l=>l({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(n-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=HI.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const r=n.items;let a=r.length-1,l=!1,c;for(;a>=0;--a)c=r[a],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(e),l=!0):(r[a]=r[r.length-1],r.pop());l&&(i.draw(),this._notify(i,n,e,"progress")),r.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),t+=r.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Tr=new mK;const NT="transparent",pK={boolean(s,e,t){return t>.5?e:s},color(s,e,t){const n=xT(s||NT),i=n.valid&&xT(e||NT);return i&&i.valid?i.mix(n,t).hexString():e},number(s,e,t){return s+(e-s)*t}};class gK{constructor(e,t,n,i){const r=t[n];i=Yh([e.to,i,r,e.from]);const a=Yh([e.from,r,i]);this._active=!0,this._fn=e.fn||pK[e.type||typeof a],this._easing=ru[e.easing]||ru.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const i=this._target[this._prop],r=n-this._start,a=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Yh([e.to,t,i,e.from]),this._from=Yh([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,i=this._prop,r=this._from,a=this._loop,l=this._to;let c;if(this._active=r!==l&&(a||t<n),!this._active){this._target[i]=l,this._notify(!0);return}if(t<0){this._target[i]=r;return}c=t/n%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(r,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][t]()}}class i_{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!at(e))return;const t=Object.keys(Qt.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const r=e[i];if(!at(r))return;const a={};for(const l of t)a[l]=r[l];(rs(r.properties)&&r.properties||[i]).forEach(l=>{(l===i||!n.has(l))&&n.set(l,a)})})}_animateOptions(e,t){const n=t.options,i=yK(e,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&xK(e.options.$animations,n).then(()=>{e.options=n},()=>{}),r}_createAnimations(e,t){const n=this._properties,i=[],r=e.$animations||(e.$animations={}),a=Object.keys(t),l=Date.now();let c;for(c=a.length-1;c>=0;--c){const f=a[c];if(f.charAt(0)==="$")continue;if(f==="options"){i.push(...this._animateOptions(e,t));continue}const u=t[f];let h=r[f];const p=n.get(f);if(h)if(p&&h.active()){h.update(p,u,l);continue}else h.cancel();if(!p||!p.duration){e[f]=u;continue}r[f]=h=new gK(p,e,f,u),i.push(h)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const n=this._createAnimations(e,t);if(n.length)return Tr.add(this._chart,n),!0}}function xK(s,e){const t=[],n=Object.keys(e);for(let i=0;i<n.length;i++){const r=s[n[i]];r&&r.active()&&t.push(r.wait())}return Promise.all(t)}function yK(s,e){if(!e)return;let t=s.options;if(!t){s.options=e;return}return t.$shared&&(s.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function MT(s,e){const t=s&&s.options||{},n=t.reverse,i=t.min===void 0?e:0,r=t.max===void 0?e:0;return{start:n?r:i,end:n?i:r}}function bK(s,e,t){if(t===!1)return!1;const n=MT(s,t),i=MT(e,t);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function vK(s){let e,t,n,i;return at(s)?(e=s.top,t=s.right,n=s.bottom,i=s.left):e=t=n=i=s,{top:e,right:t,bottom:n,left:i,disabled:s===!1}}function r_(s,e){const t=[],n=s._getSortedDatasetMetas(e);let i,r;for(i=0,r=n.length;i<r;++i)t.push(n[i].index);return t}function kT(s,e,t,n={}){const i=s.keys,r=n.mode==="single";let a,l,c,f;if(e===null)return;let u=!1;for(a=0,l=i.length;a<l;++a){if(c=+i[a],c===t){if(u=!0,n.all)continue;break}f=s.values[c],ti(f)&&(r||e===0||nr(e)===nr(f))&&(e+=f)}return!u&&!n.all?0:e}function wK(s,e){const{iScale:t,vScale:n}=e,i=t.axis==="x"?"x":"y",r=n.axis==="x"?"x":"y",a=Object.keys(s),l=new Array(a.length);let c,f,u;for(c=0,f=a.length;c<f;++c)u=a[c],l[c]={[i]:u,[r]:s[u]};return l}function Ex(s,e){const t=s&&s.options.stacked;return t||t===void 0&&e.stack!==void 0}function SK(s,e,t){return`${s.id}.${e.id}.${t.stack||t.type}`}function LK(s){const{min:e,max:t,minDefined:n,maxDefined:i}=s.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function CK(s,e,t){const n=s[e]||(s[e]={});return n[t]||(n[t]={})}function IT(s,e,t,n){for(const i of e.getMatchingVisibleMetas(n).reverse()){const r=s[i.index];if(t&&r>0||!t&&r<0)return i.index}return null}function _T(s,e){const{chart:t,_cachedMeta:n}=s,i=t._stacks||(t._stacks={}),{iScale:r,vScale:a,index:l}=n,c=r.axis,f=a.axis,u=SK(r,a,n),h=e.length;let p;for(let g=0;g<h;++g){const x=e[g],{[c]:y,[f]:v}=x,w=x._stacks||(x._stacks={});p=w[f]=CK(i,u,y),p[l]=v,p._top=IT(p,a,!0,n.type),p._bottom=IT(p,a,!1,n.type);const L=p._visualValues||(p._visualValues={});L[l]=v}}function Nx(s,e){const t=s.scales;return Object.keys(t).filter(n=>t[n].axis===e).shift()}function TK(s,e){return Wo(s,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function jK(s,e,t){return Wo(s,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function wf(s,e){const t=s.controller.index,n=s.vScale&&s.vScale.axis;if(n){e=e||s._parsed;for(const i of e){const r=i._stacks;if(!r||r[n]===void 0||r[n][t]===void 0)return;delete r[n][t],r[n]._visualValues!==void 0&&r[n]._visualValues[t]!==void 0&&delete r[n]._visualValues[t]}}}const Mx=s=>s==="reset"||s==="none",AT=(s,e)=>e?s:Object.assign({},s),EK=(s,e,t)=>s&&!e.hidden&&e._stacked&&{keys:r_(t,!0),values:null};class Ro{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Ex(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&wf(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),i=(h,p,g,x)=>h==="x"?p:h==="r"?x:g,r=t.xAxisID=Xe(n.xAxisID,Nx(e,"x")),a=t.yAxisID=Xe(n.yAxisID,Nx(e,"y")),l=t.rAxisID=Xe(n.rAxisID,Nx(e,"r")),c=t.indexAxis,f=t.iAxisID=i(c,r,a,l),u=t.vAxisID=i(c,a,r,l);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(l),t.iScale=this.getScaleForId(f),t.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&mT(this._data,this),e._stacked&&wf(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(at(t)){const i=this._cachedMeta;this._data=wK(t,i)}else if(n!==t){if(n){mT(n,this);const i=this._cachedMeta;wf(i),i._parsed=[]}t&&Object.isExtensible(t)&&aQ(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const r=t._stacked;t._stacked=Ex(t.vScale,t),t.stack!==n.stack&&(i=!0,wf(t),t.stack=n.stack),this._resyncElements(e),(i||r!==t._stacked)&&(_T(this,t._parsed),t._stacked=Ex(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:i}=this,{iScale:r,_stacked:a}=n,l=r.axis;let c=e===0&&t===i.length?!0:n._sorted,f=e>0&&n._parsed[e-1],u,h,p;if(this._parsing===!1)n._parsed=i,n._sorted=!0,p=i;else{rs(i[e])?p=this.parseArrayData(n,i,e,t):at(i[e])?p=this.parseObjectData(n,i,e,t):p=this.parsePrimitiveData(n,i,e,t);const g=()=>h[l]===null||f&&h[l]<f[l];for(u=0;u<t;++u)n._parsed[u+e]=h=p[u],c&&(g()&&(c=!1),f=h);n._sorted=c}a&&_T(this,p)}parsePrimitiveData(e,t,n,i){const{iScale:r,vScale:a}=e,l=r.axis,c=a.axis,f=r.getLabels(),u=r===a,h=new Array(i);let p,g,x;for(p=0,g=i;p<g;++p)x=p+n,h[p]={[l]:u||r.parse(f[x],x),[c]:a.parse(t[x],x)};return h}parseArrayData(e,t,n,i){const{xScale:r,yScale:a}=e,l=new Array(i);let c,f,u,h;for(c=0,f=i;c<f;++c)u=c+n,h=t[u],l[c]={x:r.parse(h[0],u),y:a.parse(h[1],u)};return l}parseObjectData(e,t,n,i){const{xScale:r,yScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,f=new Array(i);let u,h,p,g;for(u=0,h=i;u<h;++u)p=u+n,g=t[p],f[u]={x:r.parse($o(g,l),p),y:a.parse($o(g,c),p)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const i=this.chart,r=this._cachedMeta,a=t[e.axis],l={keys:r_(i,!0),values:t._stacks[e.axis]._visualValues};return kT(l,a,r.index,{mode:n})}updateRangeFromParsed(e,t,n,i){const r=n[t.axis];let a=r===null?NaN:r;const l=i&&n._stacks[t.axis];i&&l&&(i.values=l,a=kT(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const n=this._cachedMeta,i=n._parsed,r=n._sorted&&e===n.iScale,a=i.length,l=this._getOtherScale(e),c=EK(t,n,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=LK(l);let p,g;function x(){g=i[p];const y=g[l.axis];return!ti(g[e.axis])||u>y||h<y}for(p=0;p<a&&!(!x()&&(this.updateRangeFromParsed(f,e,g,c),r));++p);if(r){for(p=a-1;p>=0;--p)if(!x()){this.updateRangeFromParsed(f,e,g,c);break}}return f}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let i,r,a;for(i=0,r=t.length;i<r;++i)a=t[i][e.axis],ti(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,i=t.vScale,r=this.getParsed(e);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=vK(Xe(this.options.clip,bK(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,i=n.data||[],r=t.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||i.length-l,f=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(e,r,l,c),u=l;u<l+c;++u){const h=i[u];h.hidden||(h.active&&f?a.push(h):h.draw(e,r))}for(u=0;u<a.length;++u)a[u].draw(e,r)}getStyle(e,t){const n=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];r=a.$context||(a.$context=jK(this.getContext(),e,a)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=TK(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=n,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const i=t==="active",r=this._cachedDataOpts,a=e+"-"+t,l=r[a],c=this.enableOptionSharing&&Du(n);if(l)return AT(l,c);const f=this.chart.config,u=f.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],p=f.getOptionScopes(this.getDataset(),u),g=Object.keys(Qt.elements[e]),x=()=>this.getContext(n,i,t),y=f.resolveNamedOptions(p,g,x,h);return y.$shared&&(y.$shared=c,r[a]=Object.freeze(AT(y,c))),y}_resolveAnimations(e,t,n){const i=this.chart,r=this._cachedDataOpts,a=`animation-${t}`,l=r[a];if(l)return l;let c;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,t),p=u.getOptionScopes(this.getDataset(),h);c=u.createResolver(p,this.getContext(e,n,t))}const f=new i_(i,c&&c.animations);return c&&c._cacheable&&(r[a]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Mx(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),i=this._sharedOptions,r=this.getSharedOptions(n),a=this.includeOptions(t,r)||r!==i;return this.updateSharedOptions(r,t,n),{sharedOptions:r,includeOptions:a}}updateElement(e,t,n,i){Mx(i)?Object.assign(e,n):this._resolveAnimations(t,i).update(e,n)}updateSharedOptions(e,t,n){e&&!Mx(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,i){e.active=i;const r=this.getStyle(t,i);this._resolveAnimations(t,n,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[l,c,f]of this._syncList)this[l](c,f);this._syncList=[];const i=n.length,r=t.length,a=Math.min(r,i);a&&this.parse(0,a),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,t,n=!0){const i=this._cachedMeta,r=i.data,a=e+t;let l;const c=f=>{for(f.length+=t,l=f.length-1;l>=a;l--)f[l]=f[l-t]};for(c(r),l=e;l<a;++l)r[l]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(e,t),n&&this.updateElements(r,e,t,"reset")}updateElements(e,t,n,i){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,t);n._stacked&&wf(n,i)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,i]=e;this[t](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ee(Ro,"defaults",{}),Ee(Ro,"datasetElementType",null),Ee(Ro,"dataElementType",null);function NK(s,e){if(!s._cache.$bar){const t=s.getMatchingVisibleMetas(e);let n=[];for(let i=0,r=t.length;i<r;i++)n=n.concat(t[i].controller.getAllParsedValues(s));s._cache.$bar=GI(n.sort((i,r)=>i-r))}return s._cache.$bar}function MK(s){const e=s.iScale,t=NK(e,s.type);let n=e._length,i,r,a,l;const c=()=>{a===32767||a===-32768||(Du(l)&&(n=Math.min(n,Math.abs(a-l)||n)),l=a)};for(i=0,r=t.length;i<r;++i)a=e.getPixelForValue(t[i]),c();for(l=void 0,i=0,r=e.ticks.length;i<r;++i)a=e.getPixelForTick(i),c();return n}function kK(s,e,t,n){const i=t.barThickness;let r,a;return ut(i)?(r=e.min*t.categoryPercentage,a=t.barPercentage):(r=i*n,a=1),{chunk:r/n,ratio:a,start:e.pixels[s]-r/2}}function IK(s,e,t,n){const i=e.pixels,r=i[s];let a=s>0?i[s-1]:null,l=s<i.length-1?i[s+1]:null;const c=t.categoryPercentage;a===null&&(a=r-(l===null?e.end-e.start:l-r)),l===null&&(l=r+r-a);const f=r-(r-Math.min(a,l))/2*c;return{chunk:Math.abs(l-a)/2*c/n,ratio:t.barPercentage,start:f}}function _K(s,e,t,n){const i=t.parse(s[0],n),r=t.parse(s[1],n),a=Math.min(i,r),l=Math.max(i,r);let c=a,f=l;Math.abs(a)>Math.abs(l)&&(c=l,f=a),e[t.axis]=f,e._custom={barStart:c,barEnd:f,start:i,end:r,min:a,max:l}}function a_(s,e,t,n){return rs(s)?_K(s,e,t,n):e[t.axis]=t.parse(s,n),e}function DT(s,e,t,n){const i=s.iScale,r=s.vScale,a=i.getLabels(),l=i===r,c=[];let f,u,h,p;for(f=t,u=t+n;f<u;++f)p=e[f],h={},h[i.axis]=l||i.parse(a[f],f),c.push(a_(p,h,r,f));return c}function kx(s){return s&&s.barStart!==void 0&&s.barEnd!==void 0}function AK(s,e,t){return s!==0?nr(s):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function DK(s){let e,t,n,i,r;return s.horizontal?(e=s.base>s.x,t="left",n="right"):(e=s.base<s.y,t="bottom",n="top"),e?(i="end",r="start"):(i="start",r="end"),{start:t,end:n,reverse:e,top:i,bottom:r}}function PK(s,e,t,n){let i=e.borderSkipped;const r={};if(!i){s.borderSkipped=r;return}if(i===!0){s.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:l,reverse:c,top:f,bottom:u}=DK(s);i==="middle"&&t&&(s.enableBorderRadius=!0,(t._top||0)===n?i=f:(t._bottom||0)===n?i=u:(r[PT(u,a,l,c)]=!0,i=f)),r[PT(i,a,l,c)]=!0,s.borderSkipped=r}function PT(s,e,t,n){return n?(s=RK(s,e,t),s=RT(s,t,e)):s=RT(s,e,t),s}function RK(s,e,t){return s===e?t:s===t?e:s}function RT(s,e,t){return s==="start"?e:s==="end"?t:s}function OK(s,{inflateAmount:e},t){s.inflateAmount=e==="auto"?t===1?.33:0:e}class H0 extends Ro{parsePrimitiveData(e,t,n,i){return DT(e,t,n,i)}parseArrayData(e,t,n,i){return DT(e,t,n,i)}parseObjectData(e,t,n,i){const{iScale:r,vScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,f=r.axis==="x"?l:c,u=a.axis==="x"?l:c,h=[];let p,g,x,y;for(p=n,g=n+i;p<g;++p)y=t[p],x={},x[r.axis]=r.parse($o(y,f),p),h.push(a_($o(y,u),x,a,p));return h}updateRangeFromParsed(e,t,n,i){super.updateRangeFromParsed(e,t,n,i);const r=n._custom;r&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:i}=t,r=this.getParsed(e),a=r._custom,l=kx(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,i){const r=i==="reset",{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),f=l.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:p}=this._getSharedOptions(t,i);for(let g=t;g<t+n;g++){const x=this.getParsed(g),y=r||ut(x[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(g),v=this._calculateBarIndexPixels(g,u),w=(x._stacks||{})[l.axis],L={horizontal:f,base:y.base,enableBorderRadius:!w||kx(x._custom)||a===w._top||a===w._bottom,x:f?y.head:v.center,y:f?v.center:y.head,height:f?v.size:Math.abs(y.size),width:f?Math.abs(y.size):v.size};p&&(L.options=h||this.resolveDataElementOptions(g,e[g].active?"active":i));const S=L.options||e[g].options;PK(L,S,w,a),OK(L,S,u.ratio),this.updateElement(e[g],g,L,i)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),r=n.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(t),c=l&&l[n.axis],f=u=>{const h=u._parsed.find(g=>g[n.axis]===c),p=h&&h[u.vScale.axis];if(ut(p)||isNaN(p))return!0};for(const u of i)if(!(t!==void 0&&f(u))&&((r===!1||a.indexOf(u.stack)===-1||r===void 0&&u.stack===void 0)&&a.push(u.stack),u.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,n){const i=this._getStacks(e,n),r=t!==void 0?i.indexOf(t):-1;return r===-1?i.length-1:r}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,i=[];let r,a;for(r=0,a=t.data.length;r<a;++r)i.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const l=e.barThickness;return{min:l||MK(t),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:i},options:{base:r,minBarLength:a}}=this,l=r||0,c=this.getParsed(e),f=c._custom,u=kx(f);let h=c[t.axis],p=0,g=n?this.applyStack(t,c,n):h,x,y;g!==h&&(p=g-h,g=h),u&&(h=f.barStart,g=f.barEnd-f.barStart,h!==0&&nr(h)!==nr(f.barEnd)&&(p=0),p+=h);const v=!ut(r)&&!u?r:p;let w=t.getPixelForValue(v);if(this.chart.getDataVisibility(e)?x=t.getPixelForValue(p+g):x=w,y=x-w,Math.abs(y)<a){y=AK(y,t,l)*a,h===l&&(w-=y/2);const L=t.getPixelForDecimal(0),S=t.getPixelForDecimal(1),j=Math.min(L,S),E=Math.max(L,S);w=Math.max(Math.min(w,E),j),x=w+y,n&&!u&&(c._stacks[t.axis]._visualValues[i]=t.getValueForPixel(x)-t.getValueForPixel(w))}if(w===t.getPixelForValue(l)){const L=nr(y)*t.getLineWidthForValue(l)/2;w+=L,y-=L}return{size:y,base:w,head:x,center:x+y/2}}_calculateBarIndexPixels(e,t){const n=t.scale,i=this.options,r=i.skipNull,a=Xe(i.maxBarThickness,1/0);let l,c;if(t.grouped){const f=r?this._getStackCount(e):t.stackCount,u=i.barThickness==="flex"?IK(e,t,i,f):kK(e,t,i,f),h=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);l=u.start+u.chunk*h+u.chunk/2,c=Math.min(a,u.chunk*u.ratio)}else l=n.getPixelForValue(this.getParsed(e)[n.axis],e),c=Math.min(a,t.min*t.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,i=n.length;let r=0;for(;r<i;++r)this.getParsed(r)[t.axis]!==null&&!n[r].hidden&&n[r].draw(this._ctx)}}Ee(H0,"id","bar"),Ee(H0,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Ee(H0,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function FK(s,e,t){let n=1,i=1,r=0,a=0;if(e<zt){const l=s,c=l+e,f=Math.cos(l),u=Math.sin(l),h=Math.cos(c),p=Math.sin(c),g=(S,j,E)=>Ru(S,l,c,!0)?1:Math.max(j,j*t,E,E*t),x=(S,j,E)=>Ru(S,l,c,!0)?-1:Math.min(j,j*t,E,E*t),y=g(0,f,h),v=g(as,u,p),w=x(Bt,f,h),L=x(Bt+as,u,p);n=(y-w)/2,i=(v-L)/2,r=-(y+w)/2,a=-(v+L)/2}return{ratioX:n,ratioY:i,offsetX:r,offsetY:a}}class Fl extends Ro{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let r=c=>+n[c];if(at(n[e])){const{key:c="value"}=this._parsing;r=f=>+$o(n[f],c)}let a,l;for(a=e,l=e+t;a<l;++a)i._parsed[a]=r(a)}}_getRotation(){return _r(this.options.rotation-90)}_getCircumference(){return _r(this.options.circumference)}_getRotationExtents(){let e=zt,t=-zt;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,r=i._getRotation(),a=i._getCircumference();e=Math.min(e,r),t=Math.max(t,r+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,i=this._cachedMeta,r=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-a)/2,0),c=Math.min(VW(this.options.cutout,l),1),f=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:p,ratioY:g,offsetX:x,offsetY:y}=FK(h,u,c),v=(n.width-a)/p,w=(n.height-a)/g,L=Math.max(Math.min(v,w)/2,0),S=zI(this.options.radius,L),j=Math.max(S*c,0),E=(S-j)/this._getVisibleDatasetWeightTotal();this.offsetX=x*S,this.offsetY=y*S,i.total=this.calculateTotal(),this.outerRadius=S-E*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-E*f,0),this.updateElements(r,0,r.length,e)}_circumference(e,t){const n=this.options,i=this._cachedMeta,r=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/zt)}updateElements(e,t,n,i){const r=i==="reset",a=this.chart,l=a.chartArea,f=a.options.animation,u=(l.left+l.right)/2,h=(l.top+l.bottom)/2,p=r&&f.animateScale,g=p?0:this.innerRadius,x=p?0:this.outerRadius,{sharedOptions:y,includeOptions:v}=this._getSharedOptions(t,i);let w=this._getRotation(),L;for(L=0;L<t;++L)w+=this._circumference(L,r);for(L=t;L<t+n;++L){const S=this._circumference(L,r),j=e[L],E={x:u+this.offsetX,y:h+this.offsetY,startAngle:w,endAngle:w+S,circumference:S,outerRadius:x,innerRadius:g};v&&(E.options=y||this.resolveDataElementOptions(L,j.active?"active":i)),w+=S,this.updateElement(j,L,E,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n=0,i;for(i=0;i<t.length;i++){const r=e._parsed[i];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(n+=Math.abs(r))}return n}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?zt*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=O2(t._parsed[e],n.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let t=0;const n=this.chart;let i,r,a,l,c;if(!e){for(i=0,r=n.data.datasets.length;i<r;++i)if(n.isDatasetVisible(i)){a=n.getDatasetMeta(i),e=a.data,l=a.controller;break}}if(!e)return 0;for(i=0,r=e.length;i<r;++i)c=l.resolveDataElementOptions(i),c.borderAlign!=="inner"&&(t=Math.max(t,c.borderWidth||0,c.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,i=e.length;n<i;++n){const r=this.resolveDataElementOptions(n);t=Math.max(t,r.offset||0,r.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(Xe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Ee(Fl,"id","doughnut"),Ee(Fl,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Ee(Fl,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Ee(Fl,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return t.labels.map((r,a)=>{const c=e.getDatasetMeta(0).controller.getStyle(a);return{text:r,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:i,lineWidth:c.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}});class Y0 extends Ro{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:i=[],_dataset:r}=t,a=this.chart._animationsDisabled;let{start:l,count:c}=cQ(t,i,a);this._drawStart=l,this._drawCount=c,fQ(t)&&(l=0,c=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=i;const f=this.resolveDatasetElementOptions(e);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:f},e),this.updateElements(i,l,c,e)}updateElements(e,t,n,i){const r=i==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:f}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(t,i),p=a.axis,g=l.axis,{spanGaps:x,segment:y}=this.options,v=Pu(x)?x:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||r||i==="none",L=t+n,S=e.length;let j=t>0&&this.getParsed(t-1);for(let E=0;E<S;++E){const M=e[E],N=w?M:{};if(E<t||E>=L){N.skip=!0;continue}const I=this.getParsed(E),A=ut(I[g]),D=N[p]=a.getPixelForValue(I[p],E),z=N[g]=r||A?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,I,c):I[g],E);N.skip=isNaN(D)||isNaN(z)||A,N.stop=E>0&&Math.abs(I[p]-j[p])>v,y&&(N.parsed=I,N.raw=f.data[E]),h&&(N.options=u||this.resolveDataElementOptions(E,M.active?"active":i)),w||this.updateElement(M,E,N,i),j=I}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const r=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,r,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Ee(Y0,"id","line"),Ee(Y0,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ee(Y0,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Mb extends Fl{}Ee(Mb,"id","pie"),Ee(Mb,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function ho(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Y2{constructor(e){Ee(this,"options");this.options=e||{}}static override(e){Object.assign(Y2.prototype,e)}init(){}formats(){return ho()}parse(){return ho()}format(){return ho()}add(){return ho()}diff(){return ho()}startOf(){return ho()}endOf(){return ho()}}var zK={_date:Y2};function BK(s,e,t,n){const{controller:i,data:r,_sorted:a}=s,l=i._cachedMeta.iScale,c=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&a&&r.length){const f=l._reversePixels?iQ:Co;if(n){if(i._sharedOptions){const u=r[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const p=f(r,e,t-h),g=f(r,e,t+h);return{lo:p.lo,hi:g.hi}}}}else{const u=f(r,e,t);if(c){const{vScale:h}=i._cachedMeta,{_parsed:p}=s,g=p.slice(0,u.lo+1).reverse().findIndex(y=>!ut(y[h.axis]));u.lo-=Math.max(0,g);const x=p.slice(u.hi).findIndex(y=>!ut(y[h.axis]));u.hi+=Math.max(0,x)}return u}}return{lo:0,hi:r.length-1}}function _p(s,e,t,n,i){const r=s.getSortedVisibleDatasetMetas(),a=t[e];for(let l=0,c=r.length;l<c;++l){const{index:f,data:u}=r[l],{lo:h,hi:p}=BK(r[l],e,a,i);for(let g=h;g<=p;++g){const x=u[g];x.skip||n(x,f,g)}}}function UK(s){const e=s.indexOf("x")!==-1,t=s.indexOf("y")!==-1;return function(n,i){const r=e?Math.abs(n.x-i.x):0,a=t?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}function Ix(s,e,t,n,i){const r=[];return!i&&!s.isPointInArea(e)||_p(s,t,e,function(l,c,f){!i&&!Ou(l,s.chartArea,0)||l.inRange(e.x,e.y,n)&&r.push({element:l,datasetIndex:c,index:f})},!0),r}function $K(s,e,t,n){let i=[];function r(a,l,c){const{startAngle:f,endAngle:u}=a.getProps(["startAngle","endAngle"],n),{angle:h}=$I(a,{x:e.x,y:e.y});Ru(h,f,u)&&i.push({element:a,datasetIndex:l,index:c})}return _p(s,t,e,r),i}function VK(s,e,t,n,i,r){let a=[];const l=UK(t);let c=Number.POSITIVE_INFINITY;function f(u,h,p){const g=u.inRange(e.x,e.y,i);if(n&&!g)return;const x=u.getCenterPoint(i);if(!(!!r||s.isPointInArea(x))&&!g)return;const v=l(e,x);v<c?(a=[{element:u,datasetIndex:h,index:p}],c=v):v===c&&a.push({element:u,datasetIndex:h,index:p})}return _p(s,t,e,f),a}function _x(s,e,t,n,i,r){return!r&&!s.isPointInArea(e)?[]:t==="r"&&!n?$K(s,e,t,i):VK(s,e,t,n,i,r)}function OT(s,e,t,n,i){const r=[],a=t==="x"?"inXRange":"inYRange";let l=!1;return _p(s,t,e,(c,f,u)=>{c[a]&&c[a](e[t],i)&&(r.push({element:c,datasetIndex:f,index:u}),l=l||c.inRange(e.x,e.y,i))}),n&&!l?[]:r}var GK={modes:{index(s,e,t,n){const i=xo(e,s),r=t.axis||"x",a=t.includeInvisible||!1,l=t.intersect?Ix(s,i,r,n,a):_x(s,i,r,!1,n,a),c=[];return l.length?(s.getSortedVisibleDatasetMetas().forEach(f=>{const u=l[0].index,h=f.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:f.index,index:u})}),c):[]},dataset(s,e,t,n){const i=xo(e,s),r=t.axis||"xy",a=t.includeInvisible||!1;let l=t.intersect?Ix(s,i,r,n,a):_x(s,i,r,!1,n,a);if(l.length>0){const c=l[0].datasetIndex,f=s.getDatasetMeta(c).data;l=[];for(let u=0;u<f.length;++u)l.push({element:f[u],datasetIndex:c,index:u})}return l},point(s,e,t,n){const i=xo(e,s),r=t.axis||"xy",a=t.includeInvisible||!1;return Ix(s,i,r,n,a)},nearest(s,e,t,n){const i=xo(e,s),r=t.axis||"xy",a=t.includeInvisible||!1;return _x(s,i,r,t.intersect,n,a)},x(s,e,t,n){const i=xo(e,s);return OT(s,i,"x",t.intersect,n)},y(s,e,t,n){const i=xo(e,s);return OT(s,i,"y",t.intersect,n)}}};const o_=["left","top","right","bottom"];function Sf(s,e){return s.filter(t=>t.pos===e)}function FT(s,e){return s.filter(t=>o_.indexOf(t.pos)===-1&&t.box.axis===e)}function Lf(s,e){return s.sort((t,n)=>{const i=e?n:t,r=e?t:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function HK(s){const e=[];let t,n,i,r,a,l;for(t=0,n=(s||[]).length;t<n;++t)i=s[t],{position:r,options:{stack:a,stackWeight:l=1}}=i,e.push({index:t,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&r+a,stackWeight:l});return e}function YK(s){const e={};for(const t of s){const{stack:n,pos:i,stackWeight:r}=t;if(!n||!o_.includes(i))continue;const a=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return e}function WK(s,e){const t=YK(s),{vBoxMaxWidth:n,hBoxMaxHeight:i}=e;let r,a,l;for(r=0,a=s.length;r<a;++r){l=s[r];const{fullSize:c}=l.box,f=t[l.stack],u=f&&l.stackWeight/f.weight;l.horizontal?(l.width=u?u*n:c&&e.availableWidth,l.height=i):(l.width=n,l.height=u?u*i:c&&e.availableHeight)}return t}function QK(s){const e=HK(s),t=Lf(e.filter(f=>f.box.fullSize),!0),n=Lf(Sf(e,"left"),!0),i=Lf(Sf(e,"right")),r=Lf(Sf(e,"top"),!0),a=Lf(Sf(e,"bottom")),l=FT(e,"x"),c=FT(e,"y");return{fullSize:t,leftAndTop:n.concat(r),rightAndBottom:i.concat(c).concat(a).concat(l),chartArea:Sf(e,"chartArea"),vertical:n.concat(i).concat(c),horizontal:r.concat(a).concat(l)}}function zT(s,e,t,n){return Math.max(s[t],e[t])+Math.max(s[n],e[n])}function l_(s,e){s.top=Math.max(s.top,e.top),s.left=Math.max(s.left,e.left),s.bottom=Math.max(s.bottom,e.bottom),s.right=Math.max(s.right,e.right)}function KK(s,e,t,n){const{pos:i,box:r}=t,a=s.maxPadding;if(!at(i)){t.size&&(s[i]-=t.size);const h=n[t.stack]||{size:0,count:1};h.size=Math.max(h.size,t.horizontal?r.height:r.width),t.size=h.size/h.count,s[i]+=t.size}r.getPadding&&l_(a,r.getPadding());const l=Math.max(0,e.outerWidth-zT(a,s,"left","right")),c=Math.max(0,e.outerHeight-zT(a,s,"top","bottom")),f=l!==s.w,u=c!==s.h;return s.w=l,s.h=c,t.horizontal?{same:f,other:u}:{same:u,other:f}}function JK(s){const e=s.maxPadding;function t(n){const i=Math.max(e[n]-s[n],0);return s[n]+=i,i}s.y+=t("top"),s.x+=t("left"),t("right"),t("bottom")}function qK(s,e){const t=e.maxPadding;function n(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{r[a]=Math.max(e[a],t[a])}),r}return n(s?["left","right"]:["top","bottom"])}function Bf(s,e,t,n){const i=[];let r,a,l,c,f,u;for(r=0,a=s.length,f=0;r<a;++r){l=s[r],c=l.box,c.update(l.width||e.w,l.height||e.h,qK(l.horizontal,e));const{same:h,other:p}=KK(e,t,l,n);f|=h&&i.length,u=u||p,c.fullSize||i.push(l)}return f&&Bf(i,e,t,n)||u}function Jh(s,e,t,n,i){s.top=t,s.left=e,s.right=e+n,s.bottom=t+i,s.width=n,s.height=i}function BT(s,e,t,n){const i=t.padding;let{x:r,y:a}=e;for(const l of s){const c=l.box,f=n[l.stack]||{placed:0,weight:1},u=l.stackWeight/f.weight||1;if(l.horizontal){const h=e.w*u,p=f.size||c.height;Du(f.start)&&(a=f.start),c.fullSize?Jh(c,i.left,a,t.outerWidth-i.right-i.left,p):Jh(c,e.left+f.placed,a,h,p),f.start=a,f.placed+=h,a=c.bottom}else{const h=e.h*u,p=f.size||c.width;Du(f.start)&&(r=f.start),c.fullSize?Jh(c,r,i.top,p,t.outerHeight-i.bottom-i.top):Jh(c,r,e.top+f.placed,p,h),f.start=r,f.placed+=h,r=c.right}}e.x=r,e.y=a}var Zn={addBox(s,e){s.boxes||(s.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},s.boxes.push(e)},removeBox(s,e){const t=s.boxes?s.boxes.indexOf(e):-1;t!==-1&&s.boxes.splice(t,1)},configure(s,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(s,e,t,n){if(!s)return;const i=si(s.options.layout.padding),r=Math.max(e-i.width,0),a=Math.max(t-i.height,0),l=QK(s.boxes),c=l.vertical,f=l.horizontal;ht(s.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const u=c.reduce((y,v)=>v.box.options&&v.box.options.display===!1?y:y+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:r,availableHeight:a,vBoxMaxWidth:r/2/u,hBoxMaxHeight:a/2}),p=Object.assign({},i);l_(p,si(n));const g=Object.assign({maxPadding:p,w:r,h:a,x:i.left,y:i.top},i),x=WK(c.concat(f),h);Bf(l.fullSize,g,h,x),Bf(c,g,h,x),Bf(f,g,h,x)&&Bf(c,g,h,x),JK(g),BT(l.leftAndTop,g,h,x),g.x+=g.w,g.y+=g.h,BT(l.rightAndBottom,g,h,x),s.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},ht(l.chartArea,y=>{const v=y.box;Object.assign(v,s.chartArea),v.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class c_{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,i){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):n)}}isAttached(e){return!0}updateConfig(e){}}class ZK extends c_{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const W0="$chartjs",XK={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},UT=s=>s===null||s==="";function eJ(s,e){const t=s.style,n=s.getAttribute("height"),i=s.getAttribute("width");if(s[W0]={initial:{height:n,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",UT(i)){const r=CT(s,"width");r!==void 0&&(s.width=r)}if(UT(n))if(s.style.height==="")s.height=s.width/(e||2);else{const r=CT(s,"height");r!==void 0&&(s.height=r)}return s}const f_=XQ?{passive:!0}:!1;function tJ(s,e,t){s&&s.addEventListener(e,t,f_)}function sJ(s,e,t){s&&s.canvas&&s.canvas.removeEventListener(e,t,f_)}function nJ(s,e){const t=XK[s.type]||s.type,{x:n,y:i}=xo(s,e);return{type:t,chart:e,native:s,x:n!==void 0?n:null,y:i!==void 0?i:null}}function Om(s,e){for(const t of s)if(t===e||t.contains(e))return!0}function iJ(s,e,t){const n=s.canvas,i=new MutationObserver(r=>{let a=!1;for(const l of r)a=a||Om(l.addedNodes,n),a=a&&!Om(l.removedNodes,n);a&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function rJ(s,e,t){const n=s.canvas,i=new MutationObserver(r=>{let a=!1;for(const l of r)a=a||Om(l.removedNodes,n),a=a&&!Om(l.addedNodes,n);a&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const zu=new Map;let $T=0;function u_(){const s=window.devicePixelRatio;s!==$T&&($T=s,zu.forEach((e,t)=>{t.currentDevicePixelRatio!==s&&e()}))}function aJ(s,e){zu.size||window.addEventListener("resize",u_),zu.set(s,e)}function oJ(s){zu.delete(s),zu.size||window.removeEventListener("resize",u_)}function lJ(s,e,t){const n=s.canvas,i=n&&H2(n);if(!i)return;const r=YI((l,c)=>{const f=i.clientWidth;t(l,c),f<i.clientWidth&&t()},window),a=new ResizeObserver(l=>{const c=l[0],f=c.contentRect.width,u=c.contentRect.height;f===0&&u===0||r(f,u)});return a.observe(i),aJ(s,r),a}function Ax(s,e,t){t&&t.disconnect(),e==="resize"&&oJ(s)}function cJ(s,e,t){const n=s.canvas,i=YI(r=>{s.ctx!==null&&t(nJ(r,s))},s);return tJ(n,e,i),i}class fJ extends c_{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(eJ(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[W0])return!1;const n=t[W0].initial;["height","width"].forEach(r=>{const a=n[r];ut(a)?t.removeAttribute(r):t.setAttribute(r,a)});const i=n.style||{};return Object.keys(i).forEach(r=>{t.style[r]=i[r]}),t.width=t.width,delete t[W0],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),a={attach:iJ,detach:rJ,resize:lJ}[t]||cJ;i[t]=a(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),i=n[t];if(!i)return;({attach:Ax,detach:Ax,resize:Ax}[t]||sJ)(e,t,i),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,i){return ZQ(e,t,n,i)}isAttached(e){const t=e&&H2(e);return!!(t&&t.isConnected)}}function uJ(s){return!G2()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?ZK:fJ}var L0;let Ur=(L0=class{constructor(){Ee(this,"x");Ee(this,"y");Ee(this,"active",!1);Ee(this,"options");Ee(this,"$animations")}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return Pu(this.x)&&Pu(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const i={};return e.forEach(r=>{i[r]=n[r]&&n[r].active()?n[r]._to:this[r]}),i}},Ee(L0,"defaults",{}),Ee(L0,"defaultRoutes"),L0);function dJ(s,e){const t=s.options.ticks,n=hJ(s),i=Math.min(t.maxTicksLimit||n,n),r=t.major.enabled?pJ(e):[],a=r.length,l=r[0],c=r[a-1],f=[];if(a>i)return gJ(e,f,r,a/i),f;const u=mJ(r,e,i);if(a>0){let h,p;const g=a>1?Math.round((c-l)/(a-1)):null;for(qh(e,f,u,ut(g)?0:l-g,l),h=0,p=a-1;h<p;h++)qh(e,f,u,r[h],r[h+1]);return qh(e,f,u,c,ut(g)?e.length:c+g),f}return qh(e,f,u),f}function hJ(s){const e=s.options.offset,t=s._tickSize(),n=s._length/t+(e?0:1),i=s._maxLength/t;return Math.floor(Math.min(n,i))}function mJ(s,e,t){const n=xJ(s),i=e.length/t;if(!n)return Math.max(i,1);const r=qW(n);for(let a=0,l=r.length-1;a<l;a++){const c=r[a];if(c>i)return c}return Math.max(i,1)}function pJ(s){const e=[];let t,n;for(t=0,n=s.length;t<n;t++)s[t].major&&e.push(t);return e}function gJ(s,e,t,n){let i=0,r=t[0],a;for(n=Math.ceil(n),a=0;a<s.length;a++)a===r&&(e.push(s[a]),i++,r=t[i*n])}function qh(s,e,t,n,i){const r=Xe(n,0),a=Math.min(Xe(i,s.length),s.length);let l=0,c,f,u;for(t=Math.ceil(t),i&&(c=i-n,t=c/Math.floor(c/t)),u=r;u<0;)l++,u=Math.round(r+l*t);for(f=Math.max(r,0);f<a;f++)f===u&&(e.push(s[f]),l++,u=Math.round(r+l*t))}function xJ(s){const e=s.length;let t,n;if(e<2)return!1;for(n=s[0],t=1;t<e;++t)if(s[t]-s[t-1]!==n)return!1;return n}const yJ=s=>s==="left"?"right":s==="right"?"left":s,VT=(s,e,t)=>e==="top"||e==="left"?s[e]+t:s[e]-t,GT=(s,e)=>Math.min(e||s,s);function HT(s,e){const t=[],n=s.length/e,i=s.length;let r=0;for(;r<i;r+=n)t.push(s[Math.floor(r)]);return t}function bJ(s,e,t){const n=s.ticks.length,i=Math.min(e,n-1),r=s._startPixel,a=s._endPixel,l=1e-6;let c=s.getPixelForTick(i),f;if(!(t&&(n===1?f=Math.max(c-r,a-c):e===0?f=(s.getPixelForTick(1)-c)/2:f=(c-s.getPixelForTick(i-1))/2,c+=i<e?f:-f,c<r-l||c>a+l)))return c}function vJ(s,e){ht(s,t=>{const n=t.gc,i=n.length/2;let r;if(i>e){for(r=0;r<i;++r)delete t.data[n[r]];n.splice(0,i)}})}function Cf(s){return s.drawTicks?s.tickLength:0}function YT(s,e){if(!s.display)return 0;const t=As(s.font,e),n=si(s.padding);return(rs(s.text)?s.text.length:1)*t.lineHeight+n.height}function wJ(s,e){return Wo(s,{scale:e,type:"scale"})}function SJ(s,e,t){return Wo(s,{tick:t,index:e,type:"tick"})}function LJ(s,e,t){let n=P2(s);return(t&&e!=="right"||!t&&e==="right")&&(n=yJ(n)),n}function CJ(s,e,t,n){const{top:i,left:r,bottom:a,right:l,chart:c}=s,{chartArea:f,scales:u}=c;let h=0,p,g,x;const y=a-i,v=l-r;if(s.isHorizontal()){if(g=Ts(n,r,l),at(t)){const w=Object.keys(t)[0],L=t[w];x=u[w].getPixelForValue(L)+y-e}else t==="center"?x=(f.bottom+f.top)/2+y-e:x=VT(s,t,e);p=l-r}else{if(at(t)){const w=Object.keys(t)[0],L=t[w];g=u[w].getPixelForValue(L)-v+e}else t==="center"?g=(f.left+f.right)/2-v+e:g=VT(s,t,e);x=Ts(n,a,i),h=t==="left"?-as:as}return{titleX:g,titleY:x,maxWidth:p,rotation:h}}class Tc extends Ur{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:i}=this;return e=Ri(e,Number.POSITIVE_INFINITY),t=Ri(t,Number.NEGATIVE_INFINITY),n=Ri(n,Number.POSITIVE_INFINITY),i=Ri(i,Number.NEGATIVE_INFINITY),{min:Ri(e,n),max:Ri(t,i),minDefined:ti(e),maxDefined:ti(t)}}getMinMax(e){let{min:t,max:n,minDefined:i,maxDefined:r}=this.getUserBounds(),a;if(i&&r)return{min:t,max:n};const l=this.getMatchingVisibleMetas();for(let c=0,f=l.length;c<f;++c)a=l[c].controller.getMinMax(this,e),i||(t=Math.min(t,a.min)),r||(n=Math.max(n,a.max));return t=r&&t>n?n:t,n=i&&t>n?t:n,{min:Ri(t,Ri(n,t)),max:Ri(n,Ri(t,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){wt(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:i,grace:r,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=kQ(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?HT(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=dJ(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,n;this.isHorizontal()?(t=this.left,n=this.right):(t=this.top,n=this.bottom,e=!e),this._startPixel=t,this._endPixel=n,this._reversePixels=e,this._length=n-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){wt(this.options.afterUpdate,[this])}beforeSetDimensions(){wt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){wt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),wt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){wt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,i,r;for(n=0,i=e.length;n<i;n++)r=e[n],r.label=wt(t.callback,[r.value,n,e],this)}afterTickToLabelConversion(){wt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){wt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=GT(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,r=t.maxRotation;let a=i,l,c,f;if(!this._isVisible()||!t.display||i>=r||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,p=u.highest.height,g=_s(this.chart.width-h,0,this.maxWidth);l=e.offset?this.maxWidth/n:g/(n-1),h+6>l&&(l=g/(n-(e.offset?.5:1)),c=this.maxHeight-Cf(e.grid)-t.padding-YT(e.title,this.chart.options.font),f=Math.sqrt(h*h+p*p),a=tQ(Math.min(Math.asin(_s((u.highest.height+6)/l,-1,1)),Math.asin(_s(c/f,-1,1))-Math.asin(_s(p/f,-1,1)))),a=Math.max(i,Math.min(r,a))),this.labelRotation=a}afterCalculateLabelRotation(){wt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){wt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:i,grid:r}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const c=YT(i,t.options.font);if(l?(e.width=this.maxWidth,e.height=Cf(r)+c):(e.height=this.maxHeight,e.width=Cf(r)+c),n.display&&this.ticks.length){const{first:f,last:u,widest:h,highest:p}=this._getLabelSizes(),g=n.padding*2,x=_r(this.labelRotation),y=Math.cos(x),v=Math.sin(x);if(l){const w=n.mirror?0:v*h.width+y*p.height;e.height=Math.min(this.maxHeight,e.height+w+g)}else{const w=n.mirror?0:y*h.width+v*p.height;e.width=Math.min(this.maxWidth,e.width+w+g)}this._calculatePadding(f,u,v,y)}}this._handleMargins(),l?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,i){const{ticks:{align:r,padding:a},position:l}=this.options,c=this.labelRotation!==0,f=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,g=0;c?f?(p=i*e.width,g=n*t.height):(p=n*e.height,g=i*t.width):r==="start"?g=t.width:r==="end"?p=e.width:r!=="inner"&&(p=e.width/2,g=t.width/2),this.paddingLeft=Math.max((p-u+a)*this.width/(this.width-u),0),this.paddingRight=Math.max((g-h+a)*this.width/(this.width-h),0)}else{let u=t.height/2,h=e.height/2;r==="start"?(u=0,h=e.height):r==="end"&&(u=t.height,h=0),this.paddingTop=u+a,this.paddingBottom=h+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){wt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,n;for(t=0,n=e.length;t<n;t++)ut(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=HT(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:i,_longestTextCache:r}=this,a=[],l=[],c=Math.floor(t/GT(t,n));let f=0,u=0,h,p,g,x,y,v,w,L,S,j,E;for(h=0;h<t;h+=c){if(x=e[h].label,y=this._resolveTickFontOptions(h),i.font=v=y.string,w=r[v]=r[v]||{data:{},gc:[]},L=y.lineHeight,S=j=0,!ut(x)&&!rs(x))S=bT(i,w.data,w.gc,S,x),j=L;else if(rs(x))for(p=0,g=x.length;p<g;++p)E=x[p],!ut(E)&&!rs(E)&&(S=bT(i,w.data,w.gc,S,E),j+=L);a.push(S),l.push(j),f=Math.max(S,f),u=Math.max(j,u)}vJ(r,t);const M=a.indexOf(f),N=l.indexOf(u),I=A=>({width:a[A]||0,height:l[A]||0});return{first:I(0),last:I(t-1),widest:I(M),highest:I(N),widths:a,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return nQ(this._alignToPixels?uo(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=SJ(this.getContext(),e,n))}return this.$context||(this.$context=wJ(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=_r(this.labelRotation),n=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),r=this._getLabelSizes(),a=e.autoSkipPadding||0,l=r?r.widest.width+a:0,c=r?r.highest.height+a:0;return this.isHorizontal()?c*n>l*i?l/n:c/i:c*i<l*n?c/n:l/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,i=this.options,{grid:r,position:a,border:l}=i,c=r.offset,f=this.isHorizontal(),h=this.ticks.length+(c?1:0),p=Cf(r),g=[],x=l.setContext(this.getContext()),y=x.display?x.width:0,v=y/2,w=function(V){return uo(n,V,y)};let L,S,j,E,M,N,I,A,D,z,O,Y;if(a==="top")L=w(this.bottom),N=this.bottom-p,A=L-v,z=w(e.top)+v,Y=e.bottom;else if(a==="bottom")L=w(this.top),z=e.top,Y=w(e.bottom)-v,N=L+v,A=this.top+p;else if(a==="left")L=w(this.right),M=this.right-p,I=L-v,D=w(e.left)+v,O=e.right;else if(a==="right")L=w(this.left),D=e.left,O=w(e.right)-v,M=L+v,I=this.left+p;else if(t==="x"){if(a==="center")L=w((e.top+e.bottom)/2+.5);else if(at(a)){const V=Object.keys(a)[0],H=a[V];L=w(this.chart.scales[V].getPixelForValue(H))}z=e.top,Y=e.bottom,N=L+v,A=N+p}else if(t==="y"){if(a==="center")L=w((e.left+e.right)/2);else if(at(a)){const V=Object.keys(a)[0],H=a[V];L=w(this.chart.scales[V].getPixelForValue(H))}M=L-v,I=M-p,D=e.left,O=e.right}const q=Xe(i.ticks.maxTicksLimit,h),Z=Math.max(1,Math.ceil(h/q));for(S=0;S<h;S+=Z){const V=this.getContext(S),H=r.setContext(V),F=l.setContext(V),B=H.lineWidth,U=H.color,$=F.dash||[],K=F.dashOffset,ce=H.tickWidth,he=H.tickColor,xe=H.tickBorderDash||[],ve=H.tickBorderDashOffset;j=bJ(this,S,c),j!==void 0&&(E=uo(n,j,B),f?M=I=D=O=E:N=A=z=Y=E,g.push({tx1:M,ty1:N,tx2:I,ty2:A,x1:D,y1:z,x2:O,y2:Y,width:B,color:U,borderDash:$,borderDashOffset:K,tickWidth:ce,tickColor:he,tickBorderDash:xe,tickBorderDashOffset:ve}))}return this._ticksLength=h,this._borderValue=L,g}_computeLabelItems(e){const t=this.axis,n=this.options,{position:i,ticks:r}=n,a=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:f,padding:u,mirror:h}=r,p=Cf(n.grid),g=p+u,x=h?-u:g,y=-_r(this.labelRotation),v=[];let w,L,S,j,E,M,N,I,A,D,z,O,Y="middle";if(i==="top")M=this.bottom-x,N=this._getXAxisLabelAlignment();else if(i==="bottom")M=this.top+x,N=this._getXAxisLabelAlignment();else if(i==="left"){const Z=this._getYAxisLabelAlignment(p);N=Z.textAlign,E=Z.x}else if(i==="right"){const Z=this._getYAxisLabelAlignment(p);N=Z.textAlign,E=Z.x}else if(t==="x"){if(i==="center")M=(e.top+e.bottom)/2+g;else if(at(i)){const Z=Object.keys(i)[0],V=i[Z];M=this.chart.scales[Z].getPixelForValue(V)+g}N=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")E=(e.left+e.right)/2-g;else if(at(i)){const Z=Object.keys(i)[0],V=i[Z];E=this.chart.scales[Z].getPixelForValue(V)}N=this._getYAxisLabelAlignment(p).textAlign}t==="y"&&(c==="start"?Y="top":c==="end"&&(Y="bottom"));const q=this._getLabelSizes();for(w=0,L=l.length;w<L;++w){S=l[w],j=S.label;const Z=r.setContext(this.getContext(w));I=this.getPixelForTick(w)+r.labelOffset,A=this._resolveTickFontOptions(w),D=A.lineHeight,z=rs(j)?j.length:1;const V=z/2,H=Z.color,F=Z.textStrokeColor,B=Z.textStrokeWidth;let U=N;a?(E=I,N==="inner"&&(w===L-1?U=this.options.reverse?"left":"right":w===0?U=this.options.reverse?"right":"left":U="center"),i==="top"?f==="near"||y!==0?O=-z*D+D/2:f==="center"?O=-q.highest.height/2-V*D+D:O=-q.highest.height+D/2:f==="near"||y!==0?O=D/2:f==="center"?O=q.highest.height/2-V*D:O=q.highest.height-z*D,h&&(O*=-1),y!==0&&!Z.showLabelBackdrop&&(E+=D/2*Math.sin(y))):(M=I,O=(1-z)*D/2);let $;if(Z.showLabelBackdrop){const K=si(Z.backdropPadding),ce=q.heights[w],he=q.widths[w];let xe=O-K.top,ve=0-K.left;switch(Y){case"middle":xe-=ce/2;break;case"bottom":xe-=ce;break}switch(N){case"center":ve-=he/2;break;case"right":ve-=he;break;case"inner":w===L-1?ve-=he:w>0&&(ve-=he/2);break}$={left:ve,top:xe,width:he+K.width,height:ce+K.height,color:Z.backdropColor}}v.push({label:j,font:A,textOffset:O,options:{rotation:y,color:H,strokeColor:F,strokeWidth:B,textAlign:U,textBaseline:Y,translation:[E,M],backdrop:$}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-_r(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,a=this._getLabelSizes(),l=e+r,c=a.widest.width;let f,u;return t==="left"?i?(u=this.right+r,n==="near"?f="left":n==="center"?(f="center",u+=c/2):(f="right",u+=c)):(u=this.right-l,n==="near"?f="right":n==="center"?(f="center",u-=c/2):(f="left",u=this.left)):t==="right"?i?(u=this.left+r,n==="near"?f="right":n==="center"?(f="center",u-=c/2):(f="left",u-=c)):(u=this.left+l,n==="near"?f="left":n==="center"?(f="center",u+=c/2):(f="right",u=this.right)):f="right",{textAlign:f,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:i,width:r,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,i,r,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(r=>r.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,a;const l=(c,f,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(f.x,f.y),n.stroke(),n.restore())};if(t.display)for(r=0,a=i.length;r<a;++r){const c=i[r];t.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:i}}=this,r=n.setContext(this.getContext()),a=n.display?r.width:0;if(!a)return;const l=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let f,u,h,p;this.isHorizontal()?(f=uo(e,this.left,a)-a/2,u=uo(e,this.right,l)+l/2,h=p=c):(h=uo(e,this.top,a)-a/2,p=uo(e,this.bottom,l)+l/2,f=u=c),t.save(),t.lineWidth=r.width,t.strokeStyle=r.color,t.beginPath(),t.moveTo(f,h),t.lineTo(u,p),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&F2(n,i);const r=this.getLabelItems(e);for(const a of r){const l=a.options,c=a.font,f=a.label,u=a.textOffset;Fu(n,f,0,u,c,l)}i&&z2(n)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:i}}=this;if(!n.display)return;const r=As(n.font),a=si(n.padding),l=n.align;let c=r.lineHeight/2;t==="bottom"||t==="center"||at(t)?(c+=a.bottom,rs(n.text)&&(c+=r.lineHeight*(n.text.length-1))):c+=a.top;const{titleX:f,titleY:u,maxWidth:h,rotation:p}=CJ(this,c,t,l);Fu(e,n.text,0,0,r,{color:n.color,maxWidth:h,rotation:p,textAlign:LJ(l,t,i),textBaseline:"middle",translation:[f,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=Xe(e.grid&&e.grid.z,-1),i=Xe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Tc.prototype.draw?[{z:t,draw:r=>{this.draw(r)}}]:[{z:n,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let r,a;for(r=0,a=t.length;r<a;++r){const l=t[r];l[n]===this.id&&(!e||l.type===e)&&i.push(l)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return As(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Zh{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;EJ(t)&&(n=this.register(t));const i=this.items,r=e.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,TJ(e,a,n),this.override&&Qt.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,i=this.scope;n in t&&delete t[n],i&&n in Qt[i]&&(delete Qt[i][n],this.override&&delete Vo[n])}}function TJ(s,e,t){const n=Au(Object.create(null),[t?Qt.get(t):{},Qt.get(e),s.defaults]);Qt.set(e,n),s.defaultRoutes&&jJ(e,s.defaultRoutes),s.descriptors&&Qt.describe(e,s.descriptors)}function jJ(s,e){Object.keys(e).forEach(t=>{const n=t.split("."),i=n.pop(),r=[s].concat(n).join("."),a=e[t].split("."),l=a.pop(),c=a.join(".");Qt.route(r,i,c,l)})}function EJ(s){return"id"in s&&"defaults"in s}class NJ{constructor(){this.controllers=new Zh(Ro,"datasets",!0),this.elements=new Zh(Ur,"elements"),this.plugins=new Zh(Object,"plugins"),this.scales=new Zh(Tc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach(i=>{const r=n||this._getRegistryForType(i);n||r.isForType(i)||r===this.plugins&&i.id?this._exec(e,r,i):ht(i,a=>{const l=n||this._getRegistryForType(a);this._exec(e,l,a)})})}_exec(e,t,n){const i=A2(e);wt(n["before"+i],[],n),t[e](n),wt(n["after"+i],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var zi=new NJ;class MJ{constructor(){this._init=[]}notify(e,t,n,i){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(r,e,t,n);return t==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,t,n,i){i=i||{};for(const r of e){const a=r.plugin,l=a[n],c=[t,i,r.options];if(wt(l,c,a)===!1&&i.cancelable)return!1}return!0}invalidate(){ut(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,i=Xe(n.options&&n.options.plugins,{}),r=kJ(n);return i===!1&&!t?[]:_J(e,r,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,i=(r,a)=>r.filter(l=>!a.some(c=>l.plugin.id===c.plugin.id));this._notify(i(t,n),e,"stop"),this._notify(i(n,t),e,"start")}}function kJ(s){const e={},t=[],n=Object.keys(zi.plugins.items);for(let r=0;r<n.length;r++)t.push(zi.getPlugin(n[r]));const i=s.plugins||[];for(let r=0;r<i.length;r++){const a=i[r];t.indexOf(a)===-1&&(t.push(a),e[a.id]=!0)}return{plugins:t,localIds:e}}function IJ(s,e){return!e&&s===!1?null:s===!0?{}:s}function _J(s,{plugins:e,localIds:t},n,i){const r=[],a=s.getContext();for(const l of e){const c=l.id,f=IJ(n[c],i);f!==null&&r.push({plugin:l,options:AJ(s.config,{plugin:l,local:t[c]},f,a)})}return r}function AJ(s,{plugin:e,local:t},n,i){const r=s.pluginScopeKeys(e),a=s.getOptionScopes(n,r);return t&&e.defaults&&a.push(e.defaults),s.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function kb(s,e){const t=Qt.datasets[s]||{};return((e.datasets||{})[s]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function DJ(s,e){let t=s;return s==="_index_"?t=e:s==="_value_"&&(t=e==="x"?"y":"x"),t}function PJ(s,e){return s===e?"_index_":"_value_"}function WT(s){if(s==="x"||s==="y"||s==="r")return s}function RJ(s){if(s==="top"||s==="bottom")return"x";if(s==="left"||s==="right")return"y"}function Ib(s,...e){if(WT(s))return s;for(const t of e){const n=t.axis||RJ(t.position)||s.length>1&&WT(s[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${s}' axis. Please provide 'axis' or 'position' option.`)}function QT(s,e,t){if(t[e+"AxisID"]===s)return{axis:e}}function OJ(s,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(n=>n.xAxisID===s||n.yAxisID===s);if(t.length)return QT(s,"x",t[0])||QT(s,"y",t[0])}return{}}function FJ(s,e){const t=Vo[s.type]||{scales:{}},n=e.scales||{},i=kb(s.type,e),r=Object.create(null);return Object.keys(n).forEach(a=>{const l=n[a];if(!at(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=Ib(a,l,OJ(a,s),Qt.scales[l.type]),f=PJ(c,i),u=t.scales||{};r[a]=nu(Object.create(null),[{axis:c},l,u[c],u[f]])}),s.data.datasets.forEach(a=>{const l=a.type||s.type,c=a.indexAxis||kb(l,e),u=(Vo[l]||{}).scales||{};Object.keys(u).forEach(h=>{const p=DJ(h,c),g=a[p+"AxisID"]||p;r[g]=r[g]||Object.create(null),nu(r[g],[{axis:p},n[g],u[h]])})}),Object.keys(r).forEach(a=>{const l=r[a];nu(l,[Qt.scales[l.type],Qt.scale])}),r}function d_(s){const e=s.options||(s.options={});e.plugins=Xe(e.plugins,{}),e.scales=FJ(s,e)}function h_(s){return s=s||{},s.datasets=s.datasets||[],s.labels=s.labels||[],s}function zJ(s){return s=s||{},s.data=h_(s.data),d_(s),s}const KT=new Map,m_=new Set;function Xh(s,e){let t=KT.get(s);return t||(t=e(),KT.set(s,t),m_.add(t)),t}const Tf=(s,e,t)=>{const n=$o(e,t);n!==void 0&&s.add(n)};class BJ{constructor(e){this._config=zJ(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=h_(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),d_(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Xh(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Xh(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Xh(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,n=this.type;return Xh(`${n}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let i=n.get(e);return(!i||t)&&(i=new Map,n.set(e,i)),i}getOptionScopes(e,t,n){const{options:i,type:r}=this,a=this._cachedScopes(e,n),l=a.get(t);if(l)return l;const c=new Set;t.forEach(u=>{e&&(c.add(e),u.forEach(h=>Tf(c,e,h))),u.forEach(h=>Tf(c,i,h)),u.forEach(h=>Tf(c,Vo[r]||{},h)),u.forEach(h=>Tf(c,Qt,h)),u.forEach(h=>Tf(c,Eb,h))});const f=Array.from(c);return f.length===0&&f.push(Object.create(null)),m_.has(t)&&a.set(t,f),f}chartOptionScopes(){const{options:e,type:t}=this;return[e,Vo[t]||{},Qt.datasets[t]||{},{type:t},Qt,Eb]}resolveNamedOptions(e,t,n,i=[""]){const r={$shared:!0},{resolver:a,subPrefixes:l}=JT(this._resolverCache,e,i);let c=a;if($J(a,t)){r.$shared=!1,n=Ra(n)?n():n;const f=this.createResolver(e,n,l);c=cc(a,n,f)}for(const f of t)r[f]=c[f];return r}createResolver(e,t,n=[""],i){const{resolver:r}=JT(this._resolverCache,e,n);return at(t)?cc(r,t,void 0,i):r}}function JT(s,e,t){let n=s.get(e);n||(n=new Map,s.set(e,n));const i=t.join();let r=n.get(i);return r||(r={resolver:U2(e,t),subPrefixes:t.filter(l=>!l.toLowerCase().includes("hover"))},n.set(i,r)),r}const UJ=s=>at(s)&&Object.getOwnPropertyNames(s).some(e=>Ra(s[e]));function $J(s,e){const{isScriptable:t,isIndexable:n}=JI(s);for(const i of e){const r=t(i),a=n(i),l=(a||r)&&s[i];if(r&&(Ra(l)||UJ(l))||a&&rs(l))return!0}return!1}var VJ="4.4.9";const GJ=["top","bottom","left","right","chartArea"];function qT(s,e){return s==="top"||s==="bottom"||GJ.indexOf(s)===-1&&e==="x"}function ZT(s,e){return function(t,n){return t[s]===n[s]?t[e]-n[e]:t[s]-n[s]}}function XT(s){const e=s.chart,t=e.options.animation;e.notifyPlugins("afterRender"),wt(t&&t.onComplete,[s],e)}function HJ(s){const e=s.chart,t=e.options.animation;wt(t&&t.onProgress,[s],e)}function p_(s){return G2()&&typeof s=="string"?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}const Q0={},ej=s=>{const e=p_(s);return Object.values(Q0).filter(t=>t.canvas===e).pop()};function YJ(s,e,t){const n=Object.keys(s);for(const i of n){const r=+i;if(r>=e){const a=s[i];delete s[i],(t>0||r>e)&&(s[r+t]=a)}}}function WJ(s,e,t,n){return!t||s.type==="mouseout"?null:n?e:s}var ma;let pd=(ma=class{static register(...e){zi.add(...e),tj()}static unregister(...e){zi.remove(...e),tj()}constructor(e,t){const n=this.config=new BJ(t),i=p_(e),r=ej(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||uJ(i)),this.platform.updateConfig(n);const l=this.platform.acquireContext(i,a.aspectRatio),c=l&&l.canvas,f=c&&c.height,u=c&&c.width;if(this.id=$W(),this.ctx=l,this.canvas=c,this.width=u,this.height=f,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new MJ,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=oQ(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],Q0[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Tr.listen(this,"complete",XT),Tr.listen(this,"progress",HJ),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:i,_aspectRatio:r}=this;return ut(e)?t&&r?r:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return zi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():LT(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return vT(this.canvas,this.ctx),this}stop(){return Tr.stop(this),this}resize(e,t){Tr.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,t,r),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,LT(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),wt(n.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};ht(t,(n,i)=>{n.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,i=Object.keys(n).reduce((a,l)=>(a[l]=!1,a),{});let r=[];t&&(r=r.concat(Object.keys(t).map(a=>{const l=t[a],c=Ib(a,l),f=c==="r",u=c==="x";return{options:l,dposition:f?"chartArea":u?"bottom":"left",dtype:f?"radialLinear":u?"category":"linear"}}))),ht(r,a=>{const l=a.options,c=l.id,f=Ib(c,l),u=Xe(l.type,a.dtype);(l.position===void 0||qT(l.position,f)!==qT(a.dposition))&&(l.position=a.dposition),i[c]=!0;let h=null;if(c in n&&n[c].type===u)h=n[c];else{const p=zi.getScale(u);h=new p({id:c,type:u,ctx:this.ctx,chart:this}),n[h.id]=h}h.init(l,e)}),ht(i,(a,l)=>{a||delete n[l]}),ht(n,a=>{Zn.configure(this,a,a.options),Zn.addBox(this,a)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((i,r)=>i.index-r.index),n>t){for(let i=t;i<n;++i)this._destroyDatasetMeta(i);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(ZT("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((n,i)=>{t.filter(r=>r===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=t.length;n<i;n++){const r=t[n];let a=this.getDatasetMeta(n);const l=r.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(n),a=this.getDatasetMeta(n)),a.type=l,a.indexAxis=r.indexAxis||kb(l,this.options),a.order=r.order||0,a.index=n,a.label=""+r.label,a.visible=this.isDatasetVisible(n),a.controller)a.controller.updateIndex(n),a.controller.linkScales();else{const c=zi.getController(l),{datasetElementType:f,dataElementType:u}=Qt.datasets[l];Object.assign(c,{dataElementType:zi.getElement(u),datasetElementType:f&&zi.getElement(f)}),a.controller=new c(this,n),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){ht(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let f=0,u=this.data.datasets.length;f<u;f++){const{controller:h}=this.getDatasetMeta(f),p=!i&&r.indexOf(h)===-1;h.buildOrUpdateElements(p),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),i||ht(r,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(ZT("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){ht(this.scales,e=>{Zn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!fT(t,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:r}of t){const a=n==="_removeElements"?-r:r;YJ(e,i,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=r=>new Set(e.filter(a=>a[0]===r).map((a,l)=>l+","+a.splice(1).join(","))),i=n(0);for(let r=1;r<t;r++)if(!fT(i,n(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Zn.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],ht(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,n=this.data.datasets.length;t<n;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,Ra(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Tr.has(this)?this.attached&&!Tr.running(this)&&Tr.start(this):(this.draw(),XT({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let i,r;for(i=0,r=t.length;i<r;++i){const a=t[i];(!e||a.visible)&&n.push(a)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n={meta:e,index:e.index,cancelable:!0},i=hK(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&F2(t,i),e.controller.draw(),i&&z2(t),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return Ou(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,i){const r=GK.modes[t];return typeof r=="function"?r(this,e,n,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let i=n.filter(r=>r&&r._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=Wo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!t.hidden}setDatasetVisibility(e,t){const n=this.getDatasetMeta(e);n.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const i=n?"show":"hide",r=this.getDatasetMeta(e),a=r.controller._resolveAnimations(void 0,i);Du(t)?(r.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(r,{visible:n}),this.update(l=>l.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Tr.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),vT(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Q0[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(r,a)=>{t.addEventListener(this,r,a),e[r]=a},i=(r,a,l)=>{r.offsetX=a,r.offsetY=l,this._eventHandler(r)};ht(this.options.events,r=>n(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(c,f)=>{t.addEventListener(this,c,f),e[c]=f},i=(c,f)=>{e[c]&&(t.removeEventListener(this,c,f),delete e[c])},r=(c,f)=>{this.canvas&&this.resize(c,f)};let a;const l=()=>{i("attach",l),this.attached=!0,this.resize(),n("resize",r),n("detach",a)};a=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),n("attach",l)},t.isAttached(this.canvas)?l():a()}unbindEvents(){ht(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},ht(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const i=n?"set":"remove";let r,a,l,c;for(t==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){a=e[l];const f=a&&this.getDatasetMeta(a.datasetIndex).controller;f&&f[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(({datasetIndex:r,index:a})=>{const l=this.getDatasetMeta(r);if(!l)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:l.data[a],index:a}});!_m(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,n){const i=this.options.hover,r=(c,f)=>c.filter(u=>!f.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),a=r(t,e),l=n?e:r(e,t);a.length&&this.updateHoverStyle(a,i.mode,!1),l.length&&i.mode&&this.updateHoverStyle(l,i.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const r=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(r||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:i=[],options:r}=this,a=t,l=this._getActiveElements(e,i,n,a),c=QW(e),f=WJ(e,this._lastEvent,n,c);n&&(this._lastEvent=null,wt(r.onHover,[e,l,this],this),c&&wt(r.onClick,[e,l,this],this));const u=!_m(l,i);return(u||t)&&(this._active=l,this._updateHoverStyles(l,i,t)),this._lastEvent=f,u}_getActiveElements(e,t,n,i){if(e.type==="mouseout")return[];if(!n)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}},Ee(ma,"defaults",Qt),Ee(ma,"instances",Q0),Ee(ma,"overrides",Vo),Ee(ma,"registry",zi),Ee(ma,"version",VJ),Ee(ma,"getChart",ej),ma);function tj(){return ht(pd.instances,s=>s._plugins.invalidate())}function QJ(s,e,t){const{startAngle:n,pixelMargin:i,x:r,y:a,outerRadius:l,innerRadius:c}=e;let f=i/l;s.beginPath(),s.arc(r,a,l,n-f,t+f),c>i?(f=i/c,s.arc(r,a,c,t+f,n-f,!0)):s.arc(r,a,i,t+as,n-as),s.closePath(),s.clip()}function KJ(s){return B2(s,["outerStart","outerEnd","innerStart","innerEnd"])}function JJ(s,e,t,n){const i=KJ(s.options.borderRadius),r=(t-e)/2,a=Math.min(r,n*e/2),l=c=>{const f=(t-Math.min(r,c))*n/2;return _s(c,0,Math.min(r,f))};return{outerStart:l(i.outerStart),outerEnd:l(i.outerEnd),innerStart:_s(i.innerStart,0,a),innerEnd:_s(i.innerEnd,0,a)}}function jl(s,e,t,n){return{x:t+s*Math.cos(e),y:n+s*Math.sin(e)}}function Fm(s,e,t,n,i,r){const{x:a,y:l,startAngle:c,pixelMargin:f,innerRadius:u}=e,h=Math.max(e.outerRadius+n+t-f,0),p=u>0?u+n+t+f:0;let g=0;const x=i-c;if(n){const Z=u>0?u-n:0,V=h>0?h-n:0,H=(Z+V)/2,F=H!==0?x*H/(H+n):x;g=(x-F)/2}const y=Math.max(.001,x*h-t/Bt)/h,v=(x-y)/2,w=c+v+g,L=i-v-g,{outerStart:S,outerEnd:j,innerStart:E,innerEnd:M}=JJ(e,p,h,L-w),N=h-S,I=h-j,A=w+S/N,D=L-j/I,z=p+E,O=p+M,Y=w+E/z,q=L-M/O;if(s.beginPath(),r){const Z=(A+D)/2;if(s.arc(a,l,h,A,Z),s.arc(a,l,h,Z,D),j>0){const B=jl(I,D,a,l);s.arc(B.x,B.y,j,D,L+as)}const V=jl(O,L,a,l);if(s.lineTo(V.x,V.y),M>0){const B=jl(O,q,a,l);s.arc(B.x,B.y,M,L+as,q+Math.PI)}const H=(L-M/p+(w+E/p))/2;if(s.arc(a,l,p,L-M/p,H,!0),s.arc(a,l,p,H,w+E/p,!0),E>0){const B=jl(z,Y,a,l);s.arc(B.x,B.y,E,Y+Math.PI,w-as)}const F=jl(N,w,a,l);if(s.lineTo(F.x,F.y),S>0){const B=jl(N,A,a,l);s.arc(B.x,B.y,S,w-as,A)}}else{s.moveTo(a,l);const Z=Math.cos(A)*h+a,V=Math.sin(A)*h+l;s.lineTo(Z,V);const H=Math.cos(D)*h+a,F=Math.sin(D)*h+l;s.lineTo(H,F)}s.closePath()}function qJ(s,e,t,n,i){const{fullCircles:r,startAngle:a,circumference:l}=e;let c=e.endAngle;if(r){Fm(s,e,t,n,c,i);for(let f=0;f<r;++f)s.fill();isNaN(l)||(c=a+(l%zt||zt))}return Fm(s,e,t,n,c,i),s.fill(),c}function ZJ(s,e,t,n,i){const{fullCircles:r,startAngle:a,circumference:l,options:c}=e,{borderWidth:f,borderJoinStyle:u,borderDash:h,borderDashOffset:p}=c,g=c.borderAlign==="inner";if(!f)return;s.setLineDash(h||[]),s.lineDashOffset=p,g?(s.lineWidth=f*2,s.lineJoin=u||"round"):(s.lineWidth=f,s.lineJoin=u||"bevel");let x=e.endAngle;if(r){Fm(s,e,t,n,x,i);for(let y=0;y<r;++y)s.stroke();isNaN(l)||(x=a+(l%zt||zt))}g&&QJ(s,e,x),r||(Fm(s,e,t,n,x,i),s.stroke())}class zl extends Ur{constructor(t){super();Ee(this,"circumference");Ee(this,"endAngle");Ee(this,"fullCircles");Ee(this,"innerRadius");Ee(this,"outerRadius");Ee(this,"pixelMargin");Ee(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,i){const r=this.getProps(["x","y"],i),{angle:a,distance:l}=$I(r,{x:t,y:n}),{startAngle:c,endAngle:f,innerRadius:u,outerRadius:h,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),g=(this.options.spacing+this.options.borderWidth)/2,x=Xe(p,f-c),y=Ru(a,c,f)&&c!==f,v=x>=zt||y,w=Ta(l,u+g,h+g);return v&&w}getCenterPoint(t){const{x:n,y:i,startAngle:r,endAngle:a,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:u}=this.options,h=(r+a)/2,p=(l+c+u+f)/2;return{x:n+Math.cos(h)*p,y:i+Math.sin(h)*p}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:i}=this,r=(n.offset||0)/4,a=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>zt?Math.floor(i/zt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const c=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(c)*r,Math.sin(c)*r);const f=1-Math.sin(Math.min(Bt,i||0)),u=r*f;t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,qJ(t,this,u,a,l),ZJ(t,this,u,a,l),t.restore()}}Ee(zl,"id","arc"),Ee(zl,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Ee(zl,"defaultRoutes",{backgroundColor:"backgroundColor"}),Ee(zl,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function g_(s,e,t=e){s.lineCap=Xe(t.borderCapStyle,e.borderCapStyle),s.setLineDash(Xe(t.borderDash,e.borderDash)),s.lineDashOffset=Xe(t.borderDashOffset,e.borderDashOffset),s.lineJoin=Xe(t.borderJoinStyle,e.borderJoinStyle),s.lineWidth=Xe(t.borderWidth,e.borderWidth),s.strokeStyle=Xe(t.borderColor,e.borderColor)}function XJ(s,e,t){s.lineTo(t.x,t.y)}function eq(s){return s.stepped?wQ:s.tension||s.cubicInterpolationMode==="monotone"?SQ:XJ}function x_(s,e,t={}){const n=s.length,{start:i=0,end:r=n-1}=t,{start:a,end:l}=e,c=Math.max(i,a),f=Math.min(r,l),u=i<a&&r<a||i>l&&r>l;return{count:n,start:c,loop:e.loop,ilen:f<c&&!u?n+f-c:f-c}}function tq(s,e,t,n){const{points:i,options:r}=e,{count:a,start:l,loop:c,ilen:f}=x_(i,t,n),u=eq(r);let{move:h=!0,reverse:p}=n||{},g,x,y;for(g=0;g<=f;++g)x=i[(l+(p?f-g:g))%a],!x.skip&&(h?(s.moveTo(x.x,x.y),h=!1):u(s,y,x,p,r.stepped),y=x);return c&&(x=i[(l+(p?f:0))%a],u(s,y,x,p,r.stepped)),!!c}function sq(s,e,t,n){const i=e.points,{count:r,start:a,ilen:l}=x_(i,t,n),{move:c=!0,reverse:f}=n||{};let u=0,h=0,p,g,x,y,v,w;const L=j=>(a+(f?l-j:j))%r,S=()=>{y!==v&&(s.lineTo(u,v),s.lineTo(u,y),s.lineTo(u,w))};for(c&&(g=i[L(0)],s.moveTo(g.x,g.y)),p=0;p<=l;++p){if(g=i[L(p)],g.skip)continue;const j=g.x,E=g.y,M=j|0;M===x?(E<y?y=E:E>v&&(v=E),u=(h*u+j)/++h):(S(),s.lineTo(j,E),x=M,h=0,y=v=E),w=E}S()}function _b(s){const e=s.options,t=e.borderDash&&e.borderDash.length;return!s._decimated&&!s._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?sq:tq}function nq(s){return s.stepped?eK:s.tension||s.cubicInterpolationMode==="monotone"?tK:yo}function iq(s,e,t,n){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,n)&&i.closePath()),g_(s,e.options),s.stroke(i)}function rq(s,e,t,n){const{segments:i,options:r}=e,a=_b(e);for(const l of i)g_(s,r,l.style),s.beginPath(),a(s,e,l,{start:t,end:t+n-1})&&s.closePath(),s.stroke()}const aq=typeof Path2D=="function";function oq(s,e,t,n){aq&&!e.options.segment?iq(s,e,t,n):rq(s,e,t,n)}class Bl extends Ur{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;YQ(this._points,n,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=cK(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,i=e[t],r=this.points,a=aK(this,{property:t,start:i,end:i});if(!a.length)return;const l=[],c=nq(n);let f,u;for(f=0,u=a.length;f<u;++f){const{start:h,end:p}=a[f],g=r[h],x=r[p];if(g===x){l.push(g);continue}const y=Math.abs((i-g[t])/(x[t]-g[t])),v=c(g,x,y,n.stepped);v[t]=e[t],l.push(v)}return l.length===1?l[0]:l}pathSegment(e,t,n){return _b(this)(e,this,t,n)}path(e,t,n){const i=this.segments,r=_b(this);let a=this._loop;t=t||0,n=n||this.points.length-t;for(const l of i)a&=r(e,this,l,{start:t,end:t+n-1});return!!a}draw(e,t,n,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),oq(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ee(Bl,"id","line"),Ee(Bl,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ee(Bl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ee(Bl,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function sj(s,e,t,n){const i=s.options,{[t]:r}=s.getProps([t],n);return Math.abs(e-r)<i.radius+i.hitRadius}class ou extends Ur{constructor(t){super();Ee(this,"parsed");Ee(this,"skip");Ee(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,i){const r=this.options,{x:a,y:l}=this.getProps(["x","y"],i);return Math.pow(t-a,2)+Math.pow(n-l,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,n){return sj(this,t,"x",n)}inYRange(t,n){return sj(this,t,"y",n)}getCenterPoint(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const i=n&&t.borderWidth||0;return(n+i)*2}draw(t,n){const i=this.options;this.skip||i.radius<.1||!Ou(this,n,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Nb(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}Ee(ou,"id","point"),Ee(ou,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ee(ou,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function y_(s,e){const{x:t,y:n,base:i,width:r,height:a}=s.getProps(["x","y","base","width","height"],e);let l,c,f,u,h;return s.horizontal?(h=a/2,l=Math.min(t,i),c=Math.max(t,i),f=n-h,u=n+h):(h=r/2,l=t-h,c=t+h,f=Math.min(n,i),u=Math.max(n,i)),{left:l,top:f,right:c,bottom:u}}function ja(s,e,t,n){return s?0:_s(e,t,n)}function lq(s,e,t){const n=s.options.borderWidth,i=s.borderSkipped,r=KI(n);return{t:ja(i.top,r.top,0,t),r:ja(i.right,r.right,0,e),b:ja(i.bottom,r.bottom,0,t),l:ja(i.left,r.left,0,e)}}function cq(s,e,t){const{enableBorderRadius:n}=s.getProps(["enableBorderRadius"]),i=s.options.borderRadius,r=Wl(i),a=Math.min(e,t),l=s.borderSkipped,c=n||at(i);return{topLeft:ja(!c||l.top||l.left,r.topLeft,0,a),topRight:ja(!c||l.top||l.right,r.topRight,0,a),bottomLeft:ja(!c||l.bottom||l.left,r.bottomLeft,0,a),bottomRight:ja(!c||l.bottom||l.right,r.bottomRight,0,a)}}function fq(s){const e=y_(s),t=e.right-e.left,n=e.bottom-e.top,i=lq(s,t/2,n/2),r=cq(s,t/2,n/2);return{outer:{x:e.left,y:e.top,w:t,h:n,radius:r},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function Dx(s,e,t,n){const i=e===null,r=t===null,l=s&&!(i&&r)&&y_(s,n);return l&&(i||Ta(e,l.left,l.right))&&(r||Ta(t,l.top,l.bottom))}function uq(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}function dq(s,e){s.rect(e.x,e.y,e.w,e.h)}function Px(s,e,t={}){const n=s.x!==t.x?-e:0,i=s.y!==t.y?-e:0,r=(s.x+s.w!==t.x+t.w?e:0)-n,a=(s.y+s.h!==t.y+t.h?e:0)-i;return{x:s.x+n,y:s.y+i,w:s.w+r,h:s.h+a,radius:s.radius}}class lu extends Ur{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:i}}=this,{inner:r,outer:a}=fq(this),l=uq(a.radius)?Pm:dq;e.save(),(a.w!==r.w||a.h!==r.h)&&(e.beginPath(),l(e,Px(a,t,r)),e.clip(),l(e,Px(r,-t,a)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),l(e,Px(r,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,n){return Dx(this,e,t,n)}inXRange(e,t){return Dx(this,e,null,t)}inYRange(e,t){return Dx(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(t+i)/2:t,y:r?n:(n+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Ee(lu,"id","bar"),Ee(lu,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Ee(lu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const nj=(s,e)=>{let{boxHeight:t=e,boxWidth:n=e}=s;return s.usePointStyle&&(t=Math.min(t,e),n=s.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:t,itemHeight:Math.max(e,t)}},hq=(s,e)=>s!==null&&e!==null&&s.datasetIndex===e.datasetIndex&&s.index===e.index;class ij extends Ur{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=wt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(n=>e.filter(n,this.chart.data))),e.sort&&(t=t.sort((n,i)=>e.sort(n,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,i=As(n.font),r=i.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=nj(n,r);let f,u;t.font=i.string,this.isHorizontal()?(f=this.maxWidth,u=this._fitRows(a,r,l,c)+10):(u=this.maxHeight,f=this._fitCols(a,i,l,c)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,i){const{ctx:r,maxWidth:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],f=this.lineWidths=[0],u=i+l;let h=e;r.textAlign="left",r.textBaseline="middle";let p=-1,g=-u;return this.legendItems.forEach((x,y)=>{const v=n+t/2+r.measureText(x.text).width;(y===0||f[f.length-1]+v+2*l>a)&&(h+=u,f[f.length-(y>0?0:1)]=0,g+=u,p++),c[y]={left:0,top:g,row:p,width:v,height:i},f[f.length-1]+=v+l}),h}_fitCols(e,t,n,i){const{ctx:r,maxHeight:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],f=this.columnSizes=[],u=a-e;let h=l,p=0,g=0,x=0,y=0;return this.legendItems.forEach((v,w)=>{const{itemWidth:L,itemHeight:S}=mq(n,t,r,v,i);w>0&&g+S+2*l>u&&(h+=p+l,f.push({width:p,height:g}),x+=p+l,y++,p=g=0),c[w]={left:x,top:g,col:y,width:L,height:S},p=Math.max(p,L),g+=S+l}),h+=p,f.push({width:p,height:g}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:i},rtl:r}}=this,a=Ql(r,this.left,this.width);if(this.isHorizontal()){let l=0,c=Ts(n,this.left+i,this.right-this.lineWidths[l]);for(const f of t)l!==f.row&&(l=f.row,c=Ts(n,this.left+i,this.right-this.lineWidths[l])),f.top+=this.top+e+i,f.left=a.leftForLtr(a.x(c),f.width),c+=f.width+i}else{let l=0,c=Ts(n,this.top+e+i,this.bottom-this.columnSizes[l].height);for(const f of t)f.col!==l&&(l=f.col,c=Ts(n,this.top+e+i,this.bottom-this.columnSizes[l].height)),f.top=c,f.left+=this.left+i,f.left=a.leftForLtr(a.x(f.left),f.width),c+=f.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;F2(e,this),this._draw(),z2(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:i}=this,{align:r,labels:a}=e,l=Qt.color,c=Ql(e.rtl,this.left,this.width),f=As(a.font),{padding:u}=a,h=f.size,p=h/2;let g;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=f.string;const{boxWidth:x,boxHeight:y,itemHeight:v}=nj(a,h),w=function(M,N,I){if(isNaN(x)||x<=0||isNaN(y)||y<0)return;i.save();const A=Xe(I.lineWidth,1);if(i.fillStyle=Xe(I.fillStyle,l),i.lineCap=Xe(I.lineCap,"butt"),i.lineDashOffset=Xe(I.lineDashOffset,0),i.lineJoin=Xe(I.lineJoin,"miter"),i.lineWidth=A,i.strokeStyle=Xe(I.strokeStyle,l),i.setLineDash(Xe(I.lineDash,[])),a.usePointStyle){const D={radius:y*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:A},z=c.xPlus(M,x/2),O=N+p;QI(i,D,z,O,a.pointStyleWidth&&x)}else{const D=N+Math.max((h-y)/2,0),z=c.leftForLtr(M,x),O=Wl(I.borderRadius);i.beginPath(),Object.values(O).some(Y=>Y!==0)?Pm(i,{x:z,y:D,w:x,h:y,radius:O}):i.rect(z,D,x,y),i.fill(),A!==0&&i.stroke()}i.restore()},L=function(M,N,I){Fu(i,I.text,M,N+v/2,f,{strikethrough:I.hidden,textAlign:c.textAlign(I.textAlign)})},S=this.isHorizontal(),j=this._computeTitleHeight();S?g={x:Ts(r,this.left+u,this.right-n[0]),y:this.top+u+j,line:0}:g={x:this.left+u,y:Ts(r,this.top+j+u,this.bottom-t[0].height),line:0},t_(this.ctx,e.textDirection);const E=v+u;this.legendItems.forEach((M,N)=>{i.strokeStyle=M.fontColor,i.fillStyle=M.fontColor;const I=i.measureText(M.text).width,A=c.textAlign(M.textAlign||(M.textAlign=a.textAlign)),D=x+p+I;let z=g.x,O=g.y;c.setWidth(this.width),S?N>0&&z+D+u>this.right&&(O=g.y+=E,g.line++,z=g.x=Ts(r,this.left+u,this.right-n[g.line])):N>0&&O+E>this.bottom&&(z=g.x=z+t[g.line].width+u,g.line++,O=g.y=Ts(r,this.top+j+u,this.bottom-t[g.line].height));const Y=c.x(z);if(w(Y,O,M),z=lQ(A,z+x+p,S?z+D:this.right,e.rtl),L(c.x(z),O,M),S)g.x+=D+u;else if(typeof M.text!="string"){const q=f.lineHeight;g.y+=b_(M,q)+u}else g.y+=E}),s_(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=As(t.font),i=si(t.padding);if(!t.display)return;const r=Ql(e.rtl,this.left,this.width),a=this.ctx,l=t.position,c=n.size/2,f=i.top+c;let u,h=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),u=this.top+f,h=Ts(e.align,h,this.right-p);else{const x=this.columnSizes.reduce((y,v)=>Math.max(y,v.height),0);u=f+Ts(e.align,this.top,this.bottom-x-e.labels.padding-this._computeTitleHeight())}const g=Ts(l,h,h+p);a.textAlign=r.textAlign(P2(l)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=n.string,Fu(a,t.text,g,u,n)}_computeTitleHeight(){const e=this.options.title,t=As(e.font),n=si(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,i,r;if(Ta(e,this.left,this.right)&&Ta(t,this.top,this.bottom)){for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(i=r[n],Ta(e,i.left,i.left+i.width)&&Ta(t,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(e){const t=this.options;if(!xq(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,r=hq(i,n);i&&!r&&wt(t.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!r&&wt(t.onHover,[e,n,this],this)}else n&&wt(t.onClick,[e,n,this],this)}}function mq(s,e,t,n,i){const r=pq(n,s,e,t),a=gq(i,n,e.lineHeight);return{itemWidth:r,itemHeight:a}}function pq(s,e,t,n){let i=s.text;return i&&typeof i!="string"&&(i=i.reduce((r,a)=>r.length>a.length?r:a)),e+t.size/2+n.measureText(i).width}function gq(s,e,t){let n=s;return typeof e.text!="string"&&(n=b_(e,t)),n}function b_(s,e){const t=s.text?s.text.length:0;return e*t}function xq(s,e){return!!((s==="mousemove"||s==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(s==="click"||s==="mouseup"))}var v_={id:"legend",_element:ij,start(s,e,t){const n=s.legend=new ij({ctx:s.ctx,options:t,chart:s});Zn.configure(s,n,t),Zn.addBox(s,n)},stop(s){Zn.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,e,t){const n=s.legend;Zn.configure(s,n,t),n.options=t},afterUpdate(s){const e=s.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(s,e){e.replay||s.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,e,t){const n=e.datasetIndex,i=t.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){const e=s.data.datasets,{labels:{usePointStyle:t,pointStyle:n,textAlign:i,color:r,useBorderRadius:a,borderRadius:l}}=s.legend.options;return s._getSortedDatasetMetas().map(c=>{const f=c.controller.getStyle(t?0:void 0),u=si(f.borderWidth);return{text:e[c.index].label,fillStyle:f.backgroundColor,fontColor:r,hidden:!c.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:f.borderColor,pointStyle:n||f.pointStyle,rotation:f.rotation,textAlign:i||f.textAlign,borderRadius:a&&(l||f.borderRadius),datasetIndex:c.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}};class w_ extends Ur{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const i=rs(n.text)?n.text.length:1;this._padding=si(n.padding);const r=i*As(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:n,bottom:i,right:r,options:a}=this,l=a.align;let c=0,f,u,h;return this.isHorizontal()?(u=Ts(l,n,r),h=t+e,f=r-n):(a.position==="left"?(u=n+e,h=Ts(l,i,t),c=Bt*-.5):(u=r-e,h=Ts(l,t,i),c=Bt*.5),f=i-t),{titleX:u,titleY:h,maxWidth:f,rotation:c}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=As(t.font),r=n.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:c,rotation:f}=this._drawArgs(r);Fu(e,t.text,0,0,n,{color:t.color,maxWidth:c,rotation:f,textAlign:P2(t.align),textBaseline:"middle",translation:[a,l]})}}function yq(s,e){const t=new w_({ctx:s.ctx,options:e,chart:s});Zn.configure(s,t,e),Zn.addBox(s,t),s.titleBlock=t}var S_={id:"title",_element:w_,start(s,e,t){yq(s,t)},stop(s){const e=s.titleBlock;Zn.removeBox(s,e),delete s.titleBlock},beforeUpdate(s,e,t){const n=s.titleBlock;Zn.configure(s,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Uf={average(s){if(!s.length)return!1;let e,t,n=new Set,i=0,r=0;for(e=0,t=s.length;e<t;++e){const l=s[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();n.add(c.x),i+=c.y,++r}}return r===0||n.size===0?!1:{x:[...n].reduce((l,c)=>l+c)/n.size,y:i/r}},nearest(s,e){if(!s.length)return!1;let t=e.x,n=e.y,i=Number.POSITIVE_INFINITY,r,a,l;for(r=0,a=s.length;r<a;++r){const c=s[r].element;if(c&&c.hasValue()){const f=c.getCenterPoint(),u=jb(e,f);u<i&&(i=u,l=c)}}if(l){const c=l.tooltipPosition();t=c.x,n=c.y}return{x:t,y:n}}};function Fi(s,e){return e&&(rs(e)?Array.prototype.push.apply(s,e):s.push(e)),s}function jr(s){return(typeof s=="string"||s instanceof String)&&s.indexOf(`
`)>-1?s.split(`
`):s}function bq(s,e){const{element:t,datasetIndex:n,index:i}=e,r=s.getDatasetMeta(n).controller,{label:a,value:l}=r.getLabelAndValue(i);return{chart:s,label:a,parsed:r.getParsed(i),raw:s.data.datasets[n].data[i],formattedValue:l,dataset:r.getDataset(),dataIndex:i,datasetIndex:n,element:t}}function rj(s,e){const t=s.chart.ctx,{body:n,footer:i,title:r}=s,{boxWidth:a,boxHeight:l}=e,c=As(e.bodyFont),f=As(e.titleFont),u=As(e.footerFont),h=r.length,p=i.length,g=n.length,x=si(e.padding);let y=x.height,v=0,w=n.reduce((j,E)=>j+E.before.length+E.lines.length+E.after.length,0);if(w+=s.beforeBody.length+s.afterBody.length,h&&(y+=h*f.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),w){const j=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;y+=g*j+(w-g)*c.lineHeight+(w-1)*e.bodySpacing}p&&(y+=e.footerMarginTop+p*u.lineHeight+(p-1)*e.footerSpacing);let L=0;const S=function(j){v=Math.max(v,t.measureText(j).width+L)};return t.save(),t.font=f.string,ht(s.title,S),t.font=c.string,ht(s.beforeBody.concat(s.afterBody),S),L=e.displayColors?a+2+e.boxPadding:0,ht(n,j=>{ht(j.before,S),ht(j.lines,S),ht(j.after,S)}),L=0,t.font=u.string,ht(s.footer,S),t.restore(),v+=x.width,{width:v,height:y}}function vq(s,e){const{y:t,height:n}=e;return t<n/2?"top":t>s.height-n/2?"bottom":"center"}function wq(s,e,t,n){const{x:i,width:r}=n,a=t.caretSize+t.caretPadding;if(s==="left"&&i+r+a>e.width||s==="right"&&i-r-a<0)return!0}function Sq(s,e,t,n){const{x:i,width:r}=t,{width:a,chartArea:{left:l,right:c}}=s;let f="center";return n==="center"?f=i<=(l+c)/2?"left":"right":i<=r/2?f="left":i>=a-r/2&&(f="right"),wq(f,s,e,t)&&(f="center"),f}function aj(s,e,t){const n=t.yAlign||e.yAlign||vq(s,t);return{xAlign:t.xAlign||e.xAlign||Sq(s,e,t,n),yAlign:n}}function Lq(s,e){let{x:t,width:n}=s;return e==="right"?t-=n:e==="center"&&(t-=n/2),t}function Cq(s,e,t){let{y:n,height:i}=s;return e==="top"?n+=t:e==="bottom"?n-=i+t:n-=i/2,n}function oj(s,e,t,n){const{caretSize:i,caretPadding:r,cornerRadius:a}=s,{xAlign:l,yAlign:c}=t,f=i+r,{topLeft:u,topRight:h,bottomLeft:p,bottomRight:g}=Wl(a);let x=Lq(e,l);const y=Cq(e,c,f);return c==="center"?l==="left"?x+=f:l==="right"&&(x-=f):l==="left"?x-=Math.max(u,p)+i:l==="right"&&(x+=Math.max(h,g)+i),{x:_s(x,0,n.width-e.width),y:_s(y,0,n.height-e.height)}}function e0(s,e,t){const n=si(t.padding);return e==="center"?s.x+s.width/2:e==="right"?s.x+s.width-n.right:s.x+n.left}function lj(s){return Fi([],jr(s))}function Tq(s,e,t){return Wo(s,{tooltip:e,tooltipItems:t,type:"tooltip"})}function cj(s,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?s.override(t):s}const L_={beforeTitle:wr,title(s){if(s.length>0){const e=s[0],t=e.chart.data.labels,n=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return t[e.dataIndex]}return""},afterTitle:wr,beforeBody:wr,beforeLabel:wr,label(s){if(this&&this.options&&this.options.mode==="dataset")return s.label+": "+s.formattedValue||s.formattedValue;let e=s.dataset.label||"";e&&(e+=": ");const t=s.formattedValue;return ut(t)||(e+=t),e},labelColor(s){const t=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){const t=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:wr,afterBody:wr,beforeFooter:wr,footer:wr,afterFooter:wr};function Xs(s,e,t,n){const i=s[e].call(t,n);return typeof i>"u"?L_[e].call(t,n):i}class Ab extends Ur{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&t.options.animation&&n.animations,r=new i_(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=Tq(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:n}=t,i=Xs(n,"beforeTitle",this,e),r=Xs(n,"title",this,e),a=Xs(n,"afterTitle",this,e);let l=[];return l=Fi(l,jr(i)),l=Fi(l,jr(r)),l=Fi(l,jr(a)),l}getBeforeBody(e,t){return lj(Xs(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,i=[];return ht(e,r=>{const a={before:[],lines:[],after:[]},l=cj(n,r);Fi(a.before,jr(Xs(l,"beforeLabel",this,r))),Fi(a.lines,Xs(l,"label",this,r)),Fi(a.after,jr(Xs(l,"afterLabel",this,r))),i.push(a)}),i}getAfterBody(e,t){return lj(Xs(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,i=Xs(n,"beforeFooter",this,e),r=Xs(n,"footer",this,e),a=Xs(n,"afterFooter",this,e);let l=[];return l=Fi(l,jr(i)),l=Fi(l,jr(r)),l=Fi(l,jr(a)),l}_createItems(e){const t=this._active,n=this.chart.data,i=[],r=[],a=[];let l=[],c,f;for(c=0,f=t.length;c<f;++c)l.push(bq(this.chart,t[c]));return e.filter&&(l=l.filter((u,h,p)=>e.filter(u,h,p,n))),e.itemSort&&(l=l.sort((u,h)=>e.itemSort(u,h,n))),ht(l,u=>{const h=cj(e.callbacks,u);i.push(Xs(h,"labelColor",this,u)),r.push(Xs(h,"labelPointStyle",this,u)),a.push(Xs(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=a,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),i=this._active;let r,a=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const l=Uf[n.position].call(this,i,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const c=this._size=rj(this,n),f=Object.assign({},l,c),u=aj(this.chart,n,f),h=oj(n,f,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,i){const r=this.getCaretPosition(e,n,i);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,n){const{xAlign:i,yAlign:r}=this,{caretSize:a,cornerRadius:l}=n,{topLeft:c,topRight:f,bottomLeft:u,bottomRight:h}=Wl(l),{x:p,y:g}=e,{width:x,height:y}=t;let v,w,L,S,j,E;return r==="center"?(j=g+y/2,i==="left"?(v=p,w=v-a,S=j+a,E=j-a):(v=p+x,w=v+a,S=j-a,E=j+a),L=v):(i==="left"?w=p+Math.max(c,u)+a:i==="right"?w=p+x-Math.max(f,h)-a:w=this.caretX,r==="top"?(S=g,j=S-a,v=w-a,L=w+a):(S=g+y,j=S+a,v=w+a,L=w-a),E=S),{x1:v,x2:w,x3:L,y1:S,y2:j,y3:E}}drawTitle(e,t,n){const i=this.title,r=i.length;let a,l,c;if(r){const f=Ql(n.rtl,this.x,this.width);for(e.x=e0(this,n.titleAlign,n),t.textAlign=f.textAlign(n.titleAlign),t.textBaseline="middle",a=As(n.titleFont),l=n.titleSpacing,t.fillStyle=n.titleColor,t.font=a.string,c=0;c<r;++c)t.fillText(i[c],f.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,c+1===r&&(e.y+=n.titleMarginBottom-l)}}_drawColorBox(e,t,n,i,r){const a=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:c,boxWidth:f}=r,u=As(r.bodyFont),h=e0(this,"left",r),p=i.x(h),g=c<u.lineHeight?(u.lineHeight-c)/2:0,x=t.y+g;if(r.usePointStyle){const y={radius:Math.min(f,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},v=i.leftForLtr(p,f)+f/2,w=x+c/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,Nb(e,y,v,w),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,Nb(e,y,v,w)}else{e.lineWidth=at(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const y=i.leftForLtr(p,f),v=i.leftForLtr(i.xPlus(p,1),f-2),w=Wl(a.borderRadius);Object.values(w).some(L=>L!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,Pm(e,{x:y,y:x,w:f,h:c,radius:w}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Pm(e,{x:v,y:x+1,w:f-2,h:c-2,radius:w}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(y,x,f,c),e.strokeRect(y,x,f,c),e.fillStyle=a.backgroundColor,e.fillRect(v,x+1,f-2,c-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:i}=this,{bodySpacing:r,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:f,boxPadding:u}=n,h=As(n.bodyFont);let p=h.lineHeight,g=0;const x=Ql(n.rtl,this.x,this.width),y=function(I){t.fillText(I,x.x(e.x+g),e.y+p/2),e.y+=p+r},v=x.textAlign(a);let w,L,S,j,E,M,N;for(t.textAlign=a,t.textBaseline="middle",t.font=h.string,e.x=e0(this,v,n),t.fillStyle=n.bodyColor,ht(this.beforeBody,y),g=l&&v!=="right"?a==="center"?f/2+u:f+2+u:0,j=0,M=i.length;j<M;++j){for(w=i[j],L=this.labelTextColors[j],t.fillStyle=L,ht(w.before,y),S=w.lines,l&&S.length&&(this._drawColorBox(t,e,j,x,n),p=Math.max(h.lineHeight,c)),E=0,N=S.length;E<N;++E)y(S[E]),p=h.lineHeight;ht(w.after,y)}g=0,p=h.lineHeight,ht(this.afterBody,y),e.y-=r}drawFooter(e,t,n){const i=this.footer,r=i.length;let a,l;if(r){const c=Ql(n.rtl,this.x,this.width);for(e.x=e0(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=c.textAlign(n.footerAlign),t.textBaseline="middle",a=As(n.footerFont),t.fillStyle=n.footerColor,t.font=a.string,l=0;l<r;++l)t.fillText(i[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+n.footerSpacing}}drawBackground(e,t,n,i){const{xAlign:r,yAlign:a}=this,{x:l,y:c}=e,{width:f,height:u}=n,{topLeft:h,topRight:p,bottomLeft:g,bottomRight:x}=Wl(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(l+h,c),a==="top"&&this.drawCaret(e,t,n,i),t.lineTo(l+f-p,c),t.quadraticCurveTo(l+f,c,l+f,c+p),a==="center"&&r==="right"&&this.drawCaret(e,t,n,i),t.lineTo(l+f,c+u-x),t.quadraticCurveTo(l+f,c+u,l+f-x,c+u),a==="bottom"&&this.drawCaret(e,t,n,i),t.lineTo(l+g,c+u),t.quadraticCurveTo(l,c+u,l,c+u-g),a==="center"&&r==="left"&&this.drawCaret(e,t,n,i),t.lineTo(l,c+h),t.quadraticCurveTo(l,c,l+h,c),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){const a=Uf[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=rj(this,e),c=Object.assign({},a,this._size),f=aj(t,e,c),u=oj(e,c,f,t);(i._to!==u.x||r._to!==u.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=si(t.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&l&&(e.save(),e.globalAlpha=n,this.drawBackground(r,e,i,t),t_(e,t.textDirection),r.y+=a.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),s_(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,i=e.map(({datasetIndex:l,index:c})=>{const f=this.chart.getDatasetMeta(l);if(!f)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:f.data[c],index:c}}),r=!_m(n,i),a=this._positionChanged(i,t);(r||a)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],a=this._getActiveElements(e,r,t,n),l=this._positionChanged(a,e),c=t||!_m(a,r)||l;return c&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),c}_getActiveElements(e,t,n,i){const r=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,r.mode,r,n);return r.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:n,caretY:i,options:r}=this,a=Uf[r.position].call(this,e,t);return a!==!1&&(n!==a.x||i!==a.y)}}Ee(Ab,"positioners",Uf);var C_={id:"tooltip",_element:Ab,positioners:Uf,afterInit(s,e,t){t&&(s.tooltip=new Ab({chart:s,options:t}))},beforeUpdate(s,e,t){s.tooltip&&s.tooltip.initialize(t)},reset(s,e,t){s.tooltip&&s.tooltip.initialize(t)},afterDraw(s){const e=s.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(s.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",t)}},afterEvent(s,e){if(s.tooltip){const t=e.replay;s.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,e)=>e.bodyFont.size,boxWidth:(s,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:L_},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>s!=="filter"&&s!=="itemSort"&&s!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const jq=(s,e,t,n)=>(typeof e=="string"?(t=s.push(e)-1,n.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function Eq(s,e,t,n){const i=s.indexOf(e);if(i===-1)return jq(s,e,t,n);const r=s.lastIndexOf(e);return i!==r?t:i}const Nq=(s,e)=>s===null?null:_s(Math.round(s),0,e);function fj(s){const e=this.getLabels();return s>=0&&s<e.length?e[s]:s}class zm extends Tc{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const n=this.getLabels();for(const{index:i,label:r}of t)n[i]===r&&n.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(ut(e))return null;const n=this.getLabels();return t=isFinite(t)&&n[t]===e?t:Eq(n,e,Xe(t,e),this._addedLabels),Nq(t,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),t||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,i=[];let r=this.getLabels();r=e===0&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=e;a<=t;a++)i.push({value:a});return i}getLabelForValue(e){return fj.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Ee(zm,"id","category"),Ee(zm,"defaults",{ticks:{callback:fj}});function Mq(s,e){const t=[],{bounds:i,step:r,min:a,max:l,precision:c,count:f,maxTicks:u,maxDigits:h,includeBounds:p}=s,g=r||1,x=u-1,{min:y,max:v}=e,w=!ut(a),L=!ut(l),S=!ut(f),j=(v-y)/(h+1);let E=dT((v-y)/x/g)*g,M,N,I,A;if(E<1e-14&&!w&&!L)return[{value:y},{value:v}];A=Math.ceil(v/E)-Math.floor(y/E),A>x&&(E=dT(A*E/x/g)*g),ut(c)||(M=Math.pow(10,c),E=Math.ceil(E*M)/M),i==="ticks"?(N=Math.floor(y/E)*E,I=Math.ceil(v/E)*E):(N=y,I=v),w&&L&&r&&XW((l-a)/r,E/1e3)?(A=Math.round(Math.min((l-a)/E,u)),E=(l-a)/A,N=a,I=l):S?(N=w?a:N,I=L?l:I,A=f-1,E=(I-N)/A):(A=(I-N)/E,iu(A,Math.round(A),E/1e3)?A=Math.round(A):A=Math.ceil(A));const D=Math.max(hT(E),hT(N));M=Math.pow(10,ut(c)?D:c),N=Math.round(N*M)/M,I=Math.round(I*M)/M;let z=0;for(w&&(p&&N!==a?(t.push({value:a}),N<a&&z++,iu(Math.round((N+z*E)*M)/M,a,uj(a,j,s))&&z++):N<a&&z++);z<A;++z){const O=Math.round((N+z*E)*M)/M;if(L&&O>l)break;t.push({value:O})}return L&&p&&I!==l?t.length&&iu(t[t.length-1].value,l,uj(l,j,s))?t[t.length-1].value=l:t.push({value:l}):(!L||I===l)&&t.push({value:I}),t}function uj(s,e,{horizontal:t,minRotation:n}){const i=_r(n),r=(t?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+s).length;return Math.min(e/r,a)}class kq extends Tc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return ut(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this;const a=c=>i=t?i:c,l=c=>r=n?r:c;if(e){const c=nr(i),f=nr(r);c<0&&f<0?l(0):c>0&&f>0&&a(0)}if(i===r){let c=r===0?1:Math.abs(r*.05);l(r+c),e||a(i-c)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:n}=e,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},r=this._range||this,a=Mq(i,r);return e.bounds==="ticks"&&eQ(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-t)/Math.max(e.length-1,1)/2;t-=i,n+=i}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return O2(e,this.chart.options.locale,this.options.ticks.format)}}class Bm extends kq{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ti(e)?e:0,this.max=ti(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=_r(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Ee(Bm,"id","linear"),Ee(Bm,"defaults",{ticks:{callback:WI.formatters.numeric}});const Ap={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},sn=Object.keys(Ap);function dj(s,e){return s-e}function hj(s,e){if(ut(e))return null;const t=s._adapter,{parser:n,round:i,isoWeekday:r}=s._parseOpts;let a=e;return typeof n=="function"&&(a=n(a)),ti(a)||(a=typeof n=="string"?t.parse(a,n):t.parse(a)),a===null?null:(i&&(a=i==="week"&&(Pu(r)||r===!0)?t.startOf(a,"isoWeek",r):t.startOf(a,i)),+a)}function mj(s,e,t,n){const i=sn.length;for(let r=sn.indexOf(s);r<i-1;++r){const a=Ap[sn[r]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((t-e)/(l*a.size))<=n)return sn[r]}return sn[i-1]}function Iq(s,e,t,n,i){for(let r=sn.length-1;r>=sn.indexOf(t);r--){const a=sn[r];if(Ap[a].common&&s._adapter.diff(i,n,a)>=e-1)return a}return sn[t?sn.indexOf(t):0]}function _q(s){for(let e=sn.indexOf(s)+1,t=sn.length;e<t;++e)if(Ap[sn[e]].common)return sn[e]}function pj(s,e,t){if(!t)s[e]=!0;else if(t.length){const{lo:n,hi:i}=D2(t,e),r=t[n]>=e?t[n]:t[i];s[r]=!0}}function Aq(s,e,t,n){const i=s._adapter,r=+i.startOf(e[0].value,n),a=e[e.length-1].value;let l,c;for(l=r;l<=a;l=+i.add(l,1,n))c=t[l],c>=0&&(e[c].major=!0);return e}function gj(s,e,t){const n=[],i={},r=e.length;let a,l;for(a=0;a<r;++a)l=e[a],i[l]=a,n.push({value:l,major:!1});return r===0||!t?n:Aq(s,n,i,t)}class Um extends Tc{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const n=e.time||(e.time={}),i=this._adapter=new zK._date(e.adapters.date);i.init(t),nu(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:hj(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:i,max:r,minDefined:a,maxDefined:l}=this.getUserBounds();function c(f){!a&&!isNaN(f.min)&&(i=Math.min(i,f.min)),!l&&!isNaN(f.max)&&(r=Math.max(r,f.max))}(!a||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),i=ti(i)&&!isNaN(i)?i:+t.startOf(Date.now(),n),r=ti(r)&&!isNaN(r)?r:+t.endOf(Date.now(),n)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,a=this.max,l=rQ(i,r,a);return this._unit=t.unit||(n.autoSkip?mj(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):Iq(this,l.length,t.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:_q(this._unit),this.initOffsets(i),e.reverse&&l.reverse(),gj(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,n=0,i,r;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?n=r:n=(r-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;t=_s(t,0,a),n=_s(n,0,a),this._offsets={start:t,end:n,factor:1/(t+1+n)}}_generate(){const e=this._adapter,t=this.min,n=this.max,i=this.options,r=i.time,a=r.unit||mj(r.minUnit,t,n,this._getLabelCapacity(t)),l=Xe(i.ticks.stepSize,1),c=a==="week"?r.isoWeekday:!1,f=Pu(c)||c===!0,u={};let h=t,p,g;if(f&&(h=+e.startOf(h,"isoWeek",c)),h=+e.startOf(h,f?"day":a),e.diff(n,t,a)>1e5*l)throw new Error(t+" and "+n+" are too far apart with stepSize of "+l+" "+a);const x=i.ticks.source==="data"&&this.getDataTimestamps();for(p=h,g=0;p<n;p=+e.add(p,l,a),g++)pj(u,p,x);return(p===n||i.bounds==="ticks"||g===1)&&pj(u,p,x),Object.keys(u).sort(dj).map(y=>+y)}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,r=this._unit,a=t||i[r];return this._adapter.format(e,a)}_tickFormatFunction(e,t,n,i){const r=this.options,a=r.ticks.callback;if(a)return wt(a,[e,t,n],this);const l=r.time.displayFormats,c=this._unit,f=this._majorUnit,u=c&&l[c],h=f&&l[f],p=n[t],g=f&&h&&p&&p.major;return this._adapter.format(e,i||(g?h:u))}generateTickLabels(e){let t,n,i;for(t=0,n=e.length;t<n;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,i=_r(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(i),a=Math.sin(i),l=this._resolveTickFontOptions(0).size;return{w:n*r+l*a,h:n*a+l*r}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,i=n[t.unit]||n.millisecond,r=this._tickFormatFunction(e,0,gj(this,[e],this._majorUnit),i),a=this._getLabelSize(r),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],t,n;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,n=i.length;t<n;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const i=this.getLabels();for(t=0,n=i.length;t<n;++t)e.push(hj(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return GI(e.sort(dj))}}Ee(Um,"id","time"),Ee(Um,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function t0(s,e,t){let n=0,i=s.length-1,r,a,l,c;t?(e>=s[n].pos&&e<=s[i].pos&&({lo:n,hi:i}=Co(s,"pos",e)),{pos:r,time:l}=s[n],{pos:a,time:c}=s[i]):(e>=s[n].time&&e<=s[i].time&&({lo:n,hi:i}=Co(s,"time",e)),{time:r,pos:l}=s[n],{time:a,pos:c}=s[i]);const f=a-r;return f?l+(c-l)*(e-r)/f:l}class xj extends Um{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=t0(t,this.min),this._tableRange=t0(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,i=[],r=[];let a,l,c,f,u;for(a=0,l=e.length;a<l;++a)f=e[a],f>=t&&f<=n&&i.push(f);if(i.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(a=0,l=i.length;a<l;++a)u=i[a+1],c=i[a-1],f=i[a],Math.round((u+c)/2)!==f&&r.push({time:f,pos:a/(l-1)});return r}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(t)||n.length===1)&&n.push(t),n.sort((i,r)=>i-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return t.length&&n.length?e=this.normalize(t.concat(n)):e=t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(t0(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return t0(this._table,n*this._tableRange+this._minPos,!0)}}Ee(xj,"id","timeseries"),Ee(xj,"defaults",Um.defaults);const T_="label";function yj(s,e){typeof s=="function"?s(e):s&&(s.current=e)}function Dq(s,e){const t=s.options;t&&e&&Object.assign(t,e)}function j_(s,e){s.labels=e}function E_(s,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T_;const n=[];s.datasets=e.map(i=>{const r=s.datasets.find(a=>a[t]===i[t]);return!r||!i.data||n.includes(r)?{...i}:(n.push(r),Object.assign(r,i),r)})}function Pq(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:T_;const t={labels:[],datasets:[]};return j_(t,s.labels),E_(t,s.datasets,e),t}function Rq(s,e){const{height:t=150,width:n=300,redraw:i=!1,datasetIdKey:r,type:a,data:l,options:c,plugins:f=[],fallbackContent:u,updateMode:h,...p}=s,g=T.useRef(null),x=T.useRef(null),y=()=>{g.current&&(x.current=new pd(g.current,{type:a,data:Pq(l,r),options:c&&{...c},plugins:f}),yj(e,x.current))},v=()=>{yj(e,null),x.current&&(x.current.destroy(),x.current=null)};return T.useEffect(()=>{!i&&x.current&&c&&Dq(x.current,c)},[i,c]),T.useEffect(()=>{!i&&x.current&&j_(x.current.config.data,l.labels)},[i,l.labels]),T.useEffect(()=>{!i&&x.current&&l.datasets&&E_(x.current.config.data,l.datasets,r)},[i,l.datasets]),T.useEffect(()=>{x.current&&(i?(v(),setTimeout(y)):x.current.update(h))},[i,c,l.labels,l.datasets,h]),T.useEffect(()=>{x.current&&(v(),setTimeout(y))},[a]),T.useEffect(()=>(y(),()=>v()),[]),je.createElement("canvas",{ref:g,role:"img",height:t,width:n,...p},u)}const Oq=T.forwardRef(Rq);function Dp(s,e){return pd.register(e),T.forwardRef((t,n)=>je.createElement(Oq,{...t,ref:n,type:s}))}const Db=Dp("line",Y0),Fq=Dp("bar",H0),zq=Dp("doughnut",Fl),Bq=Dp("pie",Mb),Uq="http://localhost:5000",$q=({isOpen:s,onClose:e,availableAmount:t,onWithdrawalComplete:n})=>{const[i,r]=T.useState(!1),[a,l]=T.useState({paymentMethod:"jazzCash",amount:"",paymentDetails:{accountNumber:"",accountName:"",bankName:""}}),c=p=>{const{name:g,value:x}=p.target;l({...a,[g]:x})},f=p=>{const{name:g,value:x}=p.target;l({...a,paymentDetails:{...a.paymentDetails,[g]:x}})},u=async p=>{var x,y;p.preventDefault();const g=parseFloat(a.amount);if(isNaN(g)||g<=0){de("Please enter a valid amount");return}if(g>t){de(`You can only withdraw up to ${h(t)}`);return}if(a.paymentMethod==="bankTransfer"){if(!a.paymentDetails.accountName||!a.paymentDetails.accountNumber||!a.paymentDetails.bankName){de("Please fill in all bank details");return}}else if(!a.paymentDetails.accountNumber){de("Please enter your account number");return}try{r(!0),(await Q.post(`${Uq}/api/withdrawals/admin/request`,{paymentMethod:a.paymentMethod,amount:g,paymentDetails:a.paymentDetails},{withCredentials:!0})).data.success?(Be("Admin withdrawal request submitted successfully"),n&&n(),e()):de("Failed to submit withdrawal request")}catch(v){console.error("Error submitting admin withdrawal request:",v),de(((y=(x=v.response)==null?void 0:x.data)==null?void 0:y.message)||"Error submitting withdrawal request")}finally{r(!1)}},h=p=>new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0}).format(p||0);return s?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-md relative",children:[o.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:o.jsx(Na,{})}),o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx("div",{className:"bg-purple-600 p-3 rounded-full mr-4",children:o.jsx($s,{className:"text-white text-xl"})}),o.jsx("h2",{className:"text-2xl font-bold",children:"Admin Withdrawal"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("p",{className:"text-gray-300 mb-2",children:"Available for withdrawal:"}),o.jsx("p",{className:"text-3xl font-bold text-green-500",children:h(t)})]}),o.jsxs("form",{onSubmit:u,children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Amount to Withdraw"}),o.jsx("input",{type:"number",name:"amount",value:a.amount,onChange:c,className:"w-full bg-gray-700 text-white px-4 py-2 rounded",placeholder:"Enter amount",required:!0})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Payment Method"}),o.jsxs("select",{name:"paymentMethod",value:a.paymentMethod,onChange:c,className:"w-full bg-gray-700 text-white px-4 py-2 rounded",required:!0,children:[o.jsx("option",{value:"jazzCash",children:"JazzCash"}),o.jsx("option",{value:"easyPaisa",children:"EasyPaisa"}),o.jsx("option",{value:"payFast",children:"PayFast"}),o.jsx("option",{value:"bankTransfer",children:"Bank Transfer"})]})]}),a.paymentMethod==="bankTransfer"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Account Name"}),o.jsx("input",{type:"text",name:"accountName",value:a.paymentDetails.accountName,onChange:f,className:"w-full bg-gray-700 text-white px-4 py-2 rounded",placeholder:"Enter account name",required:!0})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Account Number"}),o.jsx("input",{type:"text",name:"accountNumber",value:a.paymentDetails.accountNumber,onChange:f,className:"w-full bg-gray-700 text-white px-4 py-2 rounded",placeholder:"Enter account number",required:!0})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Bank Name"}),o.jsx("input",{type:"text",name:"bankName",value:a.paymentDetails.bankName,onChange:f,className:"w-full bg-gray-700 text-white px-4 py-2 rounded",placeholder:"Enter bank name",required:!0})]})]}):o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Account Number"}),o.jsx("input",{type:"text",name:"accountNumber",value:a.paymentDetails.accountNumber,onChange:f,className:"w-full bg-gray-700 text-white px-4 py-2 rounded",placeholder:"Enter account number",required:!0})]}),o.jsxs("div",{className:"flex justify-end mt-6",children:[o.jsx("button",{type:"button",onClick:e,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded mr-2",disabled:i,children:"Cancel"}),o.jsx("button",{type:"submit",className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded",disabled:i,children:i?"Processing...":"Withdraw Funds"})]})]})]})}):null};pd.register(zm,Bm,ou,Bl,lu,zl,S_,C_,v_);const Vq=()=>{const[s,e]=T.useState(!0),[t,n]=T.useState(null),[i,r]=T.useState(null),[a,l]=T.useState(null),[c,f]=T.useState({platformRevenue:0,recentWithdrawals:[],totalWithdrawn:0,availableForWithdrawal:0}),[u,h]=T.useState(30),[p,g]=T.useState(!1),[x,y]=T.useState(!1),[v,w]=T.useState({viewEarningRate:.01,adImpressionRate:.05,adClickRate:.5,subscriptionSharingRate:70,minimumPayoutAmount:1e3,paymentMethods:{jazzCash:!0,easyPaisa:!0,payFast:!1,bankTransfer:!1}}),L=He();T.useEffect(()=>{(async()=>{try{const z=await Q.get("http://localhost:5000/api/auth/check",{withCredentials:!0});z.data.user.role!=="admin"?(de("Only admins can access this page"),L("/")):r(z.data.user)}catch{de("Authentication error"),L("/login")}})()},[L]),T.useEffect(()=>{i&&(S(),j())},[i,u]);const S=async()=>{try{e(!0);const D=await Q.get(`http://localhost:5000/api/earnings/admin/summary?days=${u}`,{withCredentials:!0});l(D.data.data),D.data.data.settings&&w(D.data.data.settings),e(!1)}catch(D){console.error("Error fetching earnings data:",D),n("Failed to load earnings data"),e(!1)}},j=async()=>{try{const D=await Q.get(`http://localhost:5000/api/withdrawals/admin/platform-revenue?days=${u}`,{withCredentials:!0});D.data.success&&f(D.data.data)}catch(D){console.error("Error fetching platform revenue:",D),de("Failed to load platform revenue data")}},E=()=>{j()},M=async()=>{var D,z;try{e(!0),(await Q.put("http://localhost:5000/api/earnings/admin/settings",v,{withCredentials:!0})).data.success&&(Be("Monetization settings updated successfully"),g(!1),S())}catch(O){console.error("Error updating settings:",O),de(((z=(D=O.response)==null?void 0:D.data)==null?void 0:z.message)||"Failed to update settings")}finally{e(!1)}},N=()=>{if(!a||!a.dailyEarnings)return null;const D=a.dailyEarnings.map(O=>O._id),z=a.dailyEarnings.map(O=>O.platformAmount);return{labels:D,datasets:[{label:"Platform Revenue (PKR)",data:z,borderColor:"rgb(75, 192, 192)",backgroundColor:"rgba(75, 192, 192, 0.5)",tension:.1}]}},I=()=>{if(!a||!a.summary.bySource)return null;const D=a.summary.bySource.map(O=>({video_view:"Video Views",livestream_view:"Livestream Views",ad_impression:"Ad Impressions",ad_click:"Ad Clicks",subscription:"Subscriptions"})[O._id]||O._id),z=a.summary.bySource.map(O=>O.platformEarnings);return a.summary.bySource.map(O=>O.creatorEarnings),{labels:D,datasets:[{label:"Platform Revenue",data:z,backgroundColor:["rgba(255, 99, 132, 0.6)","rgba(54, 162, 235, 0.6)","rgba(255, 206, 86, 0.6)","rgba(75, 192, 192, 0.6)","rgba(153, 102, 255, 0.6)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)"],borderWidth:1}]}},A=D=>new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:2}).format(D);return s?o.jsxs(o.Fragment,{children:[o.jsx(Ae,{}),o.jsx("div",{className:"min-h-screen bg-black text-white p-6 flex items-center justify-center",children:o.jsx("div",{className:"text-2xl",children:"Loading earnings data..."})})]}):t?o.jsxs(o.Fragment,{children:[o.jsx(Ae,{}),o.jsxs("div",{className:"min-h-screen bg-black text-white p-6 flex flex-col items-center justify-center",children:[o.jsx("div",{className:"text-2xl text-red-500 mb-4",children:t}),o.jsx("button",{onClick:S,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",children:"Try Again"})]})]}):o.jsxs(o.Fragment,{children:[o.jsx(Ae,{}),o.jsxs("div",{className:"min-h-screen bg-black text-white p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Admin Earnings Dashboard"}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsxs("select",{className:"bg-gray-800 text-white px-4 py-2 rounded",value:u,onChange:D=>h(Number(D.target.value)),children:[o.jsx("option",{value:7,children:"Last 7 days"}),o.jsx("option",{value:30,children:"Last 30 days"}),o.jsx("option",{value:90,children:"Last 90 days"}),o.jsx("option",{value:365,children:"Last year"})]}),o.jsx("button",{onClick:()=>g(!p),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded",children:p?"View Dashboard":"Monetization Settings"})]})]}),o.jsx($q,{isOpen:x,onClose:()=>y(!1),availableAmount:c.availableForWithdrawal||0,onWithdrawalComplete:E}),p?o.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Monetization Settings"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Video View Earning Rate (PKR)"}),o.jsx("input",{type:"number",min:"0",step:"0.01",value:v.viewEarningRate,onChange:D=>w({...v,viewEarningRate:parseFloat(D.target.value)}),className:"w-full bg-gray-800 text-white px-3 py-2 rounded"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Ad Impression Rate (PKR)"}),o.jsx("input",{type:"number",min:"0",step:"0.01",value:v.adImpressionRate,onChange:D=>w({...v,adImpressionRate:parseFloat(D.target.value)}),className:"w-full bg-gray-800 text-white px-3 py-2 rounded"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Ad Click Rate (PKR)"}),o.jsx("input",{type:"number",min:"0",step:"0.01",value:v.adClickRate,onChange:D=>w({...v,adClickRate:parseFloat(D.target.value)}),className:"w-full bg-gray-800 text-white px-3 py-2 rounded"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Creator Revenue Share (%)"}),o.jsx("input",{type:"number",min:"0",max:"100",value:v.subscriptionSharingRate,onChange:D=>w({...v,subscriptionSharingRate:parseInt(D.target.value)}),className:"w-full bg-gray-800 text-white px-3 py-2 rounded"}),o.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Platform keeps ",100-v.subscriptionSharingRate,"%"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Minimum Payout Amount (PKR)"}),o.jsx("input",{type:"number",min:"0",value:v.minimumPayoutAmount,onChange:D=>w({...v,minimumPayoutAmount:parseFloat(D.target.value)}),className:"w-full bg-gray-800 text-white px-3 py-2 rounded"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Payment Methods"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"jazzCash",checked:v.paymentMethods.jazzCash,onChange:D=>w({...v,paymentMethods:{...v.paymentMethods,jazzCash:D.target.checked}}),className:"mr-2"}),o.jsx("label",{htmlFor:"jazzCash",children:"JazzCash"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"easyPaisa",checked:v.paymentMethods.easyPaisa,onChange:D=>w({...v,paymentMethods:{...v.paymentMethods,easyPaisa:D.target.checked}}),className:"mr-2"}),o.jsx("label",{htmlFor:"easyPaisa",children:"EasyPaisa"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"payFast",checked:v.paymentMethods.payFast,onChange:D=>w({...v,paymentMethods:{...v.paymentMethods,payFast:D.target.checked}}),className:"mr-2"}),o.jsx("label",{htmlFor:"payFast",children:"PayFast"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"bankTransfer",checked:v.paymentMethods.bankTransfer,onChange:D=>w({...v,paymentMethods:{...v.paymentMethods,bankTransfer:D.target.checked}}),className:"mr-2"}),o.jsx("label",{htmlFor:"bankTransfer",children:"Bank Transfer"})]})]})]})]})]}),o.jsx("div",{className:"mt-8 flex justify-end",children:o.jsx("button",{onClick:M,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded",disabled:s,children:s?"Saving...":"Save Settings"})})]}):o.jsx(o.Fragment,{children:a&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-900 to-blue-700 rounded-lg p-6 shadow-lg",children:[o.jsx("h3",{className:"text-lg font-medium text-blue-200",children:"Total Platform Revenue"}),o.jsx("p",{className:"text-3xl font-bold mt-2",children:A(a.summary.total.platformTotal||0)}),o.jsxs("p",{className:"text-sm text-blue-200 mt-1",children:["Last ",u," days"]})]}),o.jsxs("div",{className:"bg-gradient-to-r from-purple-900 to-purple-700 rounded-lg p-6 shadow-lg",children:[o.jsx("h3",{className:"text-lg font-medium text-purple-200",children:"Creator Payouts"}),o.jsx("p",{className:"text-3xl font-bold mt-2",children:A(a.summary.total.creatorTotal||0)}),o.jsxs("p",{className:"text-sm text-purple-200 mt-1",children:["Last ",u," days"]})]}),o.jsxs("div",{className:"bg-gradient-to-r from-green-900 to-green-700 rounded-lg p-6 shadow-lg",children:[o.jsx("h3",{className:"text-lg font-medium text-green-200",children:"Total Transactions"}),o.jsx("p",{className:"text-3xl font-bold mt-2",children:a.summary.total.count||0}),o.jsxs("p",{className:"text-sm text-green-200 mt-1",children:["Last ",u," days"]})]}),o.jsxs("div",{className:"bg-gradient-to-r from-red-900 to-red-700 rounded-lg p-6 shadow-lg cursor-pointer hover:from-red-800 hover:to-red-600",onClick:()=>y(!0),children:[o.jsx("h3",{className:"text-lg font-medium text-red-200",children:"Available for Withdrawal"}),o.jsx("p",{className:"text-3xl font-bold mt-2",children:A(c.availableForWithdrawal||0)}),o.jsx("p",{className:"text-sm text-red-200 mt-1",children:"Click to withdraw funds"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[o.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[o.jsx("h3",{className:"text-xl font-bold mb-4",children:"Daily Revenue"}),N()&&o.jsx("div",{className:"h-80",children:o.jsx(Db,{data:N(),options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,ticks:{color:"rgba(255, 255, 255, 0.7)"},grid:{color:"rgba(255, 255, 255, 0.1)"}},x:{ticks:{color:"rgba(255, 255, 255, 0.7)"},grid:{color:"rgba(255, 255, 255, 0.1)"}}},plugins:{legend:{labels:{color:"rgba(255, 255, 255, 0.7)"}}}}})})]}),o.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[o.jsx("h3",{className:"text-xl font-bold mb-4",children:"Revenue by Source"}),I()&&o.jsx("div",{className:"h-80 flex items-center justify-center",children:o.jsx(Bq,{data:I(),options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{color:"rgba(255, 255, 255, 0.7)"}}}}})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[o.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[o.jsx("h3",{className:"text-xl font-bold mb-4",children:"Top Earning Content"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-700",children:[o.jsx("th",{className:"text-left py-3",children:"Content"}),o.jsx("th",{className:"text-left py-3",children:"Type"}),o.jsx("th",{className:"text-left py-3",children:"Creator"}),o.jsx("th",{className:"text-right py-3",children:"Revenue"})]})}),o.jsx("tbody",{children:a.topContent&&a.topContent.length>0?a.topContent.map((D,z)=>{var O,Y,q;return o.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-800",children:[o.jsx("td",{className:"py-3",children:((O=D.contentDetails)==null?void 0:O.title)||((Y=D.contentDetails)==null?void 0:Y.name)||"Unknown"}),o.jsx("td",{className:"py-3",children:D._id.contentModel==="FreeVideo"?"Video":"Livestream"}),o.jsx("td",{className:"py-3",children:((q=D.contentDetails)==null?void 0:q.uploader)||"Unknown"}),o.jsx("td",{className:"py-3 text-right",children:A(D.totalEarnings)})]},z)}):o.jsx("tr",{children:o.jsx("td",{colSpan:"4",className:"py-4 text-center text-gray-500",children:"No data available"})})})]})})]}),o.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[o.jsx("h3",{className:"text-xl font-bold mb-4",children:"Top Earning Creators"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-700",children:[o.jsx("th",{className:"text-left py-3",children:"Creator"}),o.jsx("th",{className:"text-left py-3",children:"Email"}),o.jsx("th",{className:"text-right py-3",children:"Earnings"}),o.jsx("th",{className:"text-right py-3",children:"Platform Cut"})]})}),o.jsx("tbody",{children:a.topCreators&&a.topCreators.length>0?a.topCreators.map((D,z)=>{var O,Y;return o.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-800",children:[o.jsx("td",{className:"py-3",children:((O=D.creator)==null?void 0:O.name)||"Unknown"}),o.jsx("td",{className:"py-3",children:((Y=D.creator)==null?void 0:Y.email)||"Unknown"}),o.jsx("td",{className:"py-3 text-right",children:A(D.creatorEarnings)}),o.jsx("td",{className:"py-3 text-right",children:A(D.totalEarnings-D.creatorEarnings)})]},z)}):o.jsx("tr",{children:o.jsx("td",{colSpan:"4",className:"py-4 text-center text-gray-500",children:"No data available"})})})]})})]})]}),o.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-xl font-bold",children:"Recent Admin Withdrawals"}),o.jsx("button",{onClick:()=>y(!0),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded text-sm",children:"New Withdrawal"})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-700",children:[o.jsx("th",{className:"text-left py-3",children:"Date"}),o.jsx("th",{className:"text-left py-3",children:"Amount"}),o.jsx("th",{className:"text-left py-3",children:"Payment Method"}),o.jsx("th",{className:"text-left py-3",children:"Status"})]})}),o.jsx("tbody",{children:c.recentWithdrawals&&c.recentWithdrawals.length>0?c.recentWithdrawals.map((D,z)=>o.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-800",children:[o.jsx("td",{className:"py-3",children:new Date(D.requestDate).toLocaleDateString("en-PK",{year:"numeric",month:"short",day:"numeric"})}),o.jsx("td",{className:"py-3",children:A(D.amount)}),o.jsx("td",{className:"py-3",children:D.paymentMethod==="jazzCash"?"JazzCash":D.paymentMethod==="easyPaisa"?"EasyPaisa":D.paymentMethod==="payFast"?"PayFast":"Bank Transfer"}),o.jsx("td",{className:"py-3",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${D.status==="completed"?"bg-green-900 text-green-300":D.status==="rejected"?"bg-red-900 text-red-300":D.status==="processing"?"bg-yellow-900 text-yellow-300":"bg-blue-900 text-blue-300"}`,children:D.status.charAt(0).toUpperCase()+D.status.slice(1)})})]},z)):o.jsx("tr",{children:o.jsx("td",{colSpan:"4",className:"py-4 text-center text-gray-500",children:"No recent withdrawals"})})})]})})]})]})})]}),o.jsx(it,{})]})},bj="http://localhost:5000",Gq=()=>{const[s,e]=T.useState(!0),[t,n]=T.useState([]),[i,r]=T.useState({total:0,page:1,pages:1}),[a,l]=T.useState({status:"",page:1}),[c,f]=T.useState(null),[u,h]=T.useState(!1),[p,g]=T.useState({withdrawalId:null,status:"completed",transactionReference:"",rejectionReason:""});T.useEffect(()=>{x()},[a]);const x=async()=>{var N,I;try{e(!0);const A=new URLSearchParams;a.status&&A.append("status",a.status),A.append("page",a.page);const D=await Q.get(`${bj}/api/withdrawals/admin/all?${A.toString()}`,{withCredentials:!0});D.data.success?(n(D.data.data.withdrawals),r(D.data.data.pagination)):de("Failed to load withdrawals")}catch(A){console.error("Error fetching withdrawals:",A),de(((I=(N=A.response)==null?void 0:N.data)==null?void 0:I.message)||"Error loading withdrawals")}finally{e(!1)}},y=N=>{const{name:I,value:A}=N.target;l({...a,[I]:A,page:1})},v=N=>{N<1||N>i.pages||l({...a,page:N})},w=N=>{g({withdrawalId:N._id,status:"completed",transactionReference:"",rejectionReason:""}),h(!0)},L=async N=>{var I,A;N.preventDefault();try{f(p.withdrawalId),(await Q.put(`${bj}/api/withdrawals/admin/process/${p.withdrawalId}`,{status:p.status,transactionReference:p.status==="completed"?p.transactionReference:void 0,rejectionReason:p.status==="rejected"?p.rejectionReason:void 0},{withCredentials:!0})).data.success?(Be(`Withdrawal ${p.status} successfully`),h(!1),x()):de("Failed to process withdrawal")}catch(D){console.error("Error processing withdrawal:",D),de(((A=(I=D.response)==null?void 0:I.data)==null?void 0:A.message)||"Error processing withdrawal")}finally{f(null)}},S=N=>new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0}).format(N||0),j=N=>new Date(N).toLocaleDateString("en-PK",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),E=N=>{switch(N){case"jazzCash":return"JazzCash";case"easyPaisa":return"EasyPaisa";case"payFast":return"PayFast";case"bankTransfer":return"Bank Transfer";default:return N}},M=N=>{switch(N){case"completed":return o.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-900 text-green-300",children:[o.jsx(Cn,{className:"mr-1"}),"Completed"]});case"rejected":return o.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-900 text-red-300",children:[o.jsx(Eo,{className:"mr-1"}),"Rejected"]});case"processing":return o.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-900 text-yellow-300",children:[o.jsx(pm,{className:"mr-1 animate-spin"}),"Processing"]});case"pending":default:return o.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-900 text-blue-300",children:[o.jsx(pm,{className:"mr-1"}),"Pending"]})}};return o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Withdrawal Requests"}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(vv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsxs("select",{name:"status",value:a.status,onChange:y,className:"bg-gray-800 text-white pl-10 pr-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"All Statuses"}),o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"processing",children:"Processing"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"rejected",children:"Rejected"})]})]}),o.jsx("button",{onClick:()=>x(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Refresh"})]})]}),s?o.jsxs("div",{className:"flex justify-center items-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white"}),o.jsx("span",{className:"ml-3",children:"Loading withdrawals..."})]}):t.length===0?o.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:[o.jsx($s,{className:"mx-auto text-4xl text-gray-600 mb-4"}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No withdrawal requests found"}),o.jsx("p",{className:"text-gray-400",children:a.status?`There are no ${a.status} withdrawal requests.`:"There are no withdrawal requests to display."})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-gray-800 rounded-lg overflow-hidden mb-6",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-900",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left",children:"Creator"}),o.jsx("th",{className:"px-4 py-3 text-left",children:"Date"}),o.jsx("th",{className:"px-4 py-3 text-left",children:"Amount"}),o.jsx("th",{className:"px-4 py-3 text-left",children:"Payment Method"}),o.jsx("th",{className:"px-4 py-3 text-left",children:"Status"}),o.jsx("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-700",children:t.map(N=>o.jsxs("tr",{className:"hover:bg-gray-700",children:[o.jsx("td",{className:"px-4 py-3",children:o.jsxs("div",{className:"flex items-center",children:[N.user.profileImageUrl?o.jsx("img",{src:N.user.profileImageUrl,alt:N.user.name,className:"w-8 h-8 rounded-full mr-2"}):o.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-600 mr-2 flex items-center justify-center",children:N.user.name.charAt(0)}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:N.user.name}),o.jsx("div",{className:"text-xs text-gray-400",children:N.user.email})]})]})}),o.jsx("td",{className:"px-4 py-3",children:j(N.requestDate)}),o.jsx("td",{className:"px-4 py-3 font-medium",children:S(N.amount)}),o.jsx("td",{className:"px-4 py-3",children:o.jsxs("div",{children:[o.jsx("div",{children:E(N.paymentMethod)}),o.jsx("div",{className:"text-xs text-gray-400",children:N.paymentMethod==="bankTransfer"?`${N.paymentDetails.accountName} - ${N.paymentDetails.bankName}`:N.paymentDetails.accountNumber})]})}),o.jsx("td",{className:"px-4 py-3",children:M(N.status)}),o.jsx("td",{className:"px-4 py-3 text-right",children:N.status==="pending"&&o.jsx("button",{onClick:()=>w(N),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",disabled:c===N._id,children:c===N._id?"Processing...":"Process"})})]},N._id))})]})})}),i.pages>1&&o.jsx("div",{className:"flex justify-center mt-6",children:o.jsxs("nav",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>v(a.page-1),disabled:a.page===1,className:`px-3 py-1 rounded ${a.page===1?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-gray-800 text-white hover:bg-gray-700"}`,children:"Previous"}),Array.from({length:i.pages},(N,I)=>I+1).filter(N=>N===1||N===i.pages||Math.abs(N-a.page)<=1).map((N,I,A)=>{const D=I>0&&N-A[I-1]>1;return o.jsxs(je.Fragment,{children:[D&&o.jsx("span",{className:"px-3 py-1 text-gray-400",children:"..."}),o.jsx("button",{onClick:()=>v(N),className:`px-3 py-1 rounded ${N===a.page?"bg-blue-600 text-white":"bg-gray-800 text-white hover:bg-gray-700"}`,children:N})]},N)}),o.jsx("button",{onClick:()=>v(a.page+1),disabled:a.page===i.pages,className:`px-3 py-1 rounded ${a.page===i.pages?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-gray-800 text-white hover:bg-gray-700"}`,children:"Next"})]})})]}),u&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Process Withdrawal"}),o.jsxs("form",{onSubmit:L,children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Status"}),o.jsxs("select",{value:p.status,onChange:N=>g({...p,status:N.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:[o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"processing",children:"Processing"}),o.jsx("option",{value:"rejected",children:"Rejected"})]})]}),p.status==="completed"&&o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Transaction Reference"}),o.jsx("input",{type:"text",value:p.transactionReference,onChange:N=>g({...p,transactionReference:N.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",placeholder:"Optional transaction ID or reference"})]}),p.status==="rejected"&&o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Rejection Reason"}),o.jsx("textarea",{value:p.rejectionReason,onChange:N=>g({...p,rejectionReason:N.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white",rows:"3",required:!0,placeholder:"Explain why this withdrawal is being rejected"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded",disabled:c!==null,children:c!==null?"Processing...":"Submit"})]})]})]})})]})},Hq=()=>{const[s,e]=T.useState(!0),[t,n]=T.useState(null),i=He();return T.useEffect(()=>{(async()=>{try{const a=await Q.get("http://localhost:5000/api/auth/check",{withCredentials:!0});a.data.user.role!=="admin"?(de("Only admins can access this page"),i("/")):(n(a.data.user),e(!1))}catch{de("Authentication error"),i("/login")}})()},[i]),s?o.jsxs(o.Fragment,{children:[o.jsx(Ae,{}),o.jsx("div",{className:"min-h-screen bg-black text-white p-6 flex items-center justify-center",children:o.jsx("div",{className:"text-2xl",children:"Loading..."})})]}):o.jsxs(o.Fragment,{children:[o.jsx(Ae,{}),o.jsx("div",{className:"min-h-screen bg-black text-white p-6",children:o.jsx(Gq,{})}),o.jsx(it,{})]})},s0="http://localhost:5000",Yq=()=>{const[s,e]=T.useState(null),[t,n]=T.useState([]),[i,r]=T.useState(!0),[a,l]=T.useState(!1),[c,f]=T.useState(""),[u,h]=T.useState(""),[p,g]=T.useState([]),x=He();T.useEffect(()=>{const L=JSON.parse(localStorage.getItem("user"));if(!L){x("/login");return}e(L);const S=async()=>{try{r(!0);const E=await Q.get(`${s0}/api/library/playlists`,{withCredentials:!0});E.data.success&&n(E.data.playlists),r(!1)}catch(E){console.error("Error fetching playlists:",E),de("Failed to load playlists"),r(!1)}},j=async()=>{try{const E=await Q.get(`${s0}/api/subscriptions/user-subscriptions`,{withCredentials:!0});E.data.success&&g(E.data.subscriptions)}catch(E){console.error("Error fetching subscriptions:",E)}};S(),j()},[x]);const y=async L=>{var S,j;if(L.preventDefault(),!c.trim()){de("Please enter a playlist name");return}try{const E=await Q.post(`${s0}/api/library/playlists`,{name:c,description:u},{withCredentials:!0});E.data.success&&(Be("Playlist created successfully"),n([...t,E.data.playlist]),l(!1),f(""),h(""))}catch(E){console.error("Error creating playlist:",E),de(((j=(S=E.response)==null?void 0:S.data)==null?void 0:j.message)||"Failed to create playlist")}},v=async L=>{if(window.confirm("Are you sure you want to delete this playlist?"))try{(await Q.delete(`${s0}/api/library/playlists/${L}`,{withCredentials:!0})).data.success&&(Be("Playlist deleted successfully"),n(t.filter(j=>j._id!==L)))}catch(S){console.error("Error deleting playlist:",S),de("Failed to delete playlist")}},w=L=>new Date(L).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return o.jsxs("div",{className:"bg-black min-h-screen text-white",children:[o.jsx(Ae,{}),o.jsxs("div",{className:"flex",children:[o.jsx(An,{subscriptions:p}),o.jsxs("div",{className:"flex-1 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Your Playlists"}),o.jsxs("button",{onClick:()=>l(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center",children:[o.jsx(IN,{className:"mr-2"})," Create Playlist"]})]}),i?o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white"})}):t.length===0?o.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:[o.jsx("h2",{className:"text-xl mb-4",children:"You don't have any playlists yet"}),o.jsx("p",{className:"text-gray-400 mb-6",children:"Create playlists to organize your favorite videos"}),o.jsx("button",{onClick:()=>l(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg",children:"Create Your First Playlist"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(L=>{var S;return o.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[o.jsxs("div",{className:"relative h-40 bg-gray-700",children:[L.thumbnailUrl?o.jsx("img",{src:L.thumbnailUrl,alt:L.name,className:"w-full h-full object-cover"}):o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx(ar,{className:"text-4xl text-gray-500"})}),o.jsxs("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-70 px-2 py-1 rounded text-sm",children:[((S=L.videos)==null?void 0:S.length)||0," videos"]})]}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx(le,{to:`/playlist/${L._id}`,className:"text-lg font-semibold hover:text-blue-400",children:L.name}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>x(`/edit-playlist/${L._id}`),className:"text-gray-400 hover:text-white",title:"Edit playlist",children:o.jsx(Ua,{})}),o.jsx("button",{onClick:()=>v(L._id),className:"text-gray-400 hover:text-red-500",title:"Delete playlist",children:o.jsx(Gs,{})})]})]}),L.description&&o.jsx("p",{className:"text-gray-400 text-sm mt-2 line-clamp-2",children:L.description}),o.jsxs("p",{className:"text-gray-500 text-xs mt-3",children:["Last updated: ",w(L.updatedAt||L.createdAt)]})]})]},L._id)})})]})]}),a&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Create New Playlist"}),o.jsxs("form",{onSubmit:y,children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Playlist Name"}),o.jsx("input",{type:"text",value:c,onChange:L=>f(L.target.value),className:"w-full bg-gray-700 text-white px-4 py-2 rounded",placeholder:"Enter playlist name",required:!0})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Description (Optional)"}),o.jsx("textarea",{value:u,onChange:L=>h(L.target.value),className:"w-full bg-gray-700 text-white px-4 py-2 rounded",placeholder:"Enter description",rows:"3"})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:()=>{l(!1),f(""),h("")},className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded",children:"Cancel"}),o.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",children:"Create"})]})]})]})}),o.jsx(it,{})]})},Rx="http://localhost:5000",Wq=()=>{const[s,e]=T.useState(null),[t,n]=T.useState([]),[i,r]=T.useState(!0),[a,l]=T.useState([]),[c,f]=T.useState(0),[u,h]=T.useState(1024*1024*1024),p=He();T.useEffect(()=>{const w=JSON.parse(localStorage.getItem("user"));if(!w){p("/login");return}e(w);const L=async()=>{try{r(!0);const j=await Q.get(`${Rx}/api/library/downloads`,{withCredentials:!0});j.data.success&&(n(j.data.downloads),f(j.data.storageUsed||0),h(j.data.storageLimit||1024*1024*1024)),r(!1)}catch(j){console.error("Error fetching downloads:",j),de("Failed to load downloads"),r(!1)}},S=async()=>{try{const j=await Q.get(`${Rx}/api/subscriptions/user-subscriptions`,{withCredentials:!0});j.data.success&&l(j.data.subscriptions)}catch(j){console.error("Error fetching subscriptions:",j)}};L(),S()},[p]);const g=async w=>{if(window.confirm("Are you sure you want to delete this download?"))try{const L=await Q.delete(`${Rx}/api/library/downloads/${w}`,{withCredentials:!0});L.data.success&&(Be("Download deleted successfully"),n(t.filter(S=>S._id!==w)),f(L.data.storageUsed||c))}catch(L){console.error("Error deleting download:",L),de("Failed to delete download")}},x=w=>{if(w===0)return"0 Bytes";const L=1024,S=["Bytes","KB","MB","GB"],j=Math.floor(Math.log(w)/Math.log(L));return parseFloat((w/Math.pow(L,j)).toFixed(2))+" "+S[j]},y=w=>new Date(w).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),v=()=>Math.min(100,Math.round(c/u*100));return o.jsxs("div",{className:"bg-black min-h-screen text-white",children:[o.jsx(Ae,{}),o.jsxs("div",{className:"flex",children:[o.jsx(An,{subscriptions:a}),o.jsxs("div",{className:"flex-1 p-6",children:[o.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Your Downloads"}),o.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 mb-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("h3",{className:"font-semibold",children:"Storage Used"}),o.jsxs("span",{children:[x(c)," / ",x(u)]})]}),o.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:o.jsx("div",{className:`h-2.5 rounded-full ${v()>90?"bg-red-600":v()>70?"bg-yellow-500":"bg-green-600"}`,style:{width:`${v()}%`}})}),v()>90&&o.jsxs("div",{className:"mt-2 text-red-400 text-sm flex items-center",children:[o.jsx(mm,{className:"mr-1"}),o.jsx("span",{children:"Storage almost full! Delete some downloads to free up space."})]})]}),i?o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white"})}):t.length===0?o.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:[o.jsx(bp,{className:"mx-auto text-4xl text-gray-500 mb-4"}),o.jsx("h2",{className:"text-xl mb-4",children:"No downloads yet"}),o.jsx("p",{className:"text-gray-400 mb-6",children:"Videos you download will appear here"}),o.jsx(le,{to:"/feed",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg",children:"Browse Videos"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(w=>o.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[o.jsxs("div",{className:"relative h-40 bg-gray-700",children:[w.video.thumbnailUrl?o.jsx("img",{src:w.video.thumbnailUrl,alt:w.video.title,className:"w-full h-full object-cover"}):o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx(ar,{className:"text-4xl text-gray-500"})}),o.jsx("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-70 px-2 py-1 rounded text-sm",children:x(w.fileSize)})]}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx(le,{to:`/watch/${w.video._id}`,className:"text-lg font-semibold hover:text-blue-400 line-clamp-2",children:w.video.title}),o.jsx("button",{onClick:()=>g(w._id),className:"text-gray-400 hover:text-red-500 ml-2 flex-shrink-0",title:"Delete download",children:o.jsx(Gs,{})})]}),o.jsx("div",{className:"flex items-center mt-2 text-sm text-gray-400",children:o.jsx(le,{to:`/channel/${w.video.uploaderId}`,className:"hover:text-blue-400",children:w.video.uploader})}),o.jsxs("div",{className:"flex justify-between items-center mt-3 text-xs text-gray-500",children:[o.jsxs("span",{children:["Downloaded: ",y(w.downloadedAt)]}),o.jsxs("a",{href:w.localUrl,download:!0,className:"flex items-center text-blue-400 hover:text-blue-300",children:[o.jsx(ar,{className:"mr-1"})," Play"]})]})]})]},w._id))})]})]}),o.jsx(it,{})]})},Ox="http://localhost:5000",Qq=()=>{const[s,e]=T.useState(null),[t,n]=T.useState([]),[i,r]=T.useState(!0),[a,l]=T.useState([]),c=He();T.useEffect(()=>{const g=JSON.parse(localStorage.getItem("user"));if(!g){c("/login");return}e(g);const x=async()=>{try{r(!0);const v=await Q.get(`${Ox}/api/library/clips`,{withCredentials:!0});v.data.success&&n(v.data.clips),r(!1)}catch(v){console.error("Error fetching clips:",v),de("Failed to load clips"),r(!1)}},y=async()=>{try{const v=await Q.get(`${Ox}/api/subscriptions/user-subscriptions`,{withCredentials:!0});v.data.success&&l(v.data.subscriptions)}catch(v){console.error("Error fetching subscriptions:",v)}};x(),y()},[c]);const f=async g=>{if(window.confirm("Are you sure you want to delete this clip?"))try{(await Q.delete(`${Ox}/api/library/clips/${g}`,{withCredentials:!0})).data.success&&(Be("Clip deleted successfully"),n(t.filter(y=>y._id!==g)))}catch(x){console.error("Error deleting clip:",x),de("Failed to delete clip")}},u=async g=>{try{await navigator.clipboard.writeText(`${window.location.origin}/clip/${g}`),Be("Clip link copied to clipboard")}catch(x){console.error("Error copying to clipboard:",x),de("Failed to copy link")}},h=g=>{const x=Math.floor(g/60),y=Math.floor(g%60);return`${x}:${y.toString().padStart(2,"0")}`},p=g=>new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return o.jsxs("div",{className:"bg-black min-h-screen text-white",children:[o.jsx(Ae,{}),o.jsxs("div",{className:"flex",children:[o.jsx(An,{subscriptions:a}),o.jsxs("div",{className:"flex-1 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Your Clips"}),o.jsxs(le,{to:"/create-clip",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center",children:[o.jsx(zy,{className:"mr-2"})," Create New Clip"]})]}),i?o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white"})}):t.length===0?o.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:[o.jsx(zy,{className:"mx-auto text-4xl text-gray-500 mb-4"}),o.jsx("h2",{className:"text-xl mb-4",children:"No clips yet"}),o.jsx("p",{className:"text-gray-400 mb-6",children:"Create clips from your favorite videos to share specific moments"}),o.jsx(le,{to:"/create-clip",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg",children:"Create Your First Clip"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(g=>o.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[o.jsxs("div",{className:"relative h-40 bg-gray-700",children:[g.thumbnailUrl?o.jsx("img",{src:g.thumbnailUrl,alt:g.title,className:"w-full h-full object-cover"}):o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx(ar,{className:"text-4xl text-gray-500"})}),o.jsx("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-70 px-2 py-1 rounded text-sm",children:h(g.duration)})]}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx(le,{to:`/clip/${g._id}`,className:"text-lg font-semibold hover:text-blue-400 line-clamp-2",children:g.title}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>u(g._id),className:"text-gray-400 hover:text-white",title:"Share clip",children:o.jsx(AN,{})}),o.jsx("button",{onClick:()=>c(`/edit-clip/${g._id}`),className:"text-gray-400 hover:text-white",title:"Edit clip",children:o.jsx(Ua,{})}),o.jsx("button",{onClick:()=>f(g._id),className:"text-gray-400 hover:text-red-500",title:"Delete clip",children:o.jsx(Gs,{})})]})]}),o.jsxs("div",{className:"flex items-center mt-2 text-sm text-gray-400",children:[o.jsx("span",{children:"From: "}),o.jsx(le,{to:`/watch/${g.sourceVideoId}`,className:"ml-1 hover:text-blue-400 line-clamp-1",children:g.sourceVideoTitle})]}),g.description&&o.jsx("p",{className:"text-gray-400 text-sm mt-2 line-clamp-2",children:g.description}),o.jsxs("p",{className:"text-gray-500 text-xs mt-3",children:["Created: ",p(g.createdAt)]})]})]},g._id))})]})]}),o.jsx(it,{})]})},jf="http://localhost:5000",Kq=()=>{const[s,e]=T.useState(null),[t,n]=T.useState(!0),[i,r]=T.useState("profile"),[a,l]=T.useState({name:"",email:"",bio:"",location:"",website:""}),[c,f]=T.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[u,h]=T.useState({emailNotifications:!0,subscriptionUpdates:!0,commentReplies:!0,videoRecommendations:!1,marketingEmails:!1}),[p,g]=T.useState({showSubscriptions:!0,showLikedVideos:!0,showSavedPlaylists:!0,allowRecommendations:!0}),[x,y]=T.useState(!1),[v,w]=T.useState(!1),[L,S]=T.useState(null),[j,E]=T.useState(null),M=T.useRef(null),N=He();T.useEffect(()=>{const H=JSON.parse(localStorage.getItem("user"));if(!H){N("/login");return}e(H),(async()=>{try{n(!0);const B=await Q.get(`${jf}/api/users/settings`,{withCredentials:!0});if(B.data.success){const U=B.data.user;l({name:U.name||"",email:U.email||"",bio:U.bio||"",location:U.location||"",website:U.website||""}),U.notificationSettings&&h(U.notificationSettings),U.privacySettings&&g(U.privacySettings),U.profileImageUrl&&E(U.profileImageUrl)}n(!1)}catch(B){console.error("Error fetching user settings:",B),de("Failed to load user settings"),n(!1)}})()},[N]);const I=H=>{const{name:F,value:B}=H.target;l({...a,[F]:B})},A=H=>{const{name:F,value:B}=H.target;f({...c,[F]:B})},D=H=>{const{name:F,checked:B}=H.target;h({...u,[F]:B})},z=H=>{const{name:F,checked:B}=H.target;g({...p,[F]:B})},O=H=>{const F=H.target.files[0];if(F){S(F);const B=new FileReader;B.onloadend=()=>{E(B.result)},B.readAsDataURL(F)}},Y=async H=>{var F,B;H.preventDefault();try{const U=new FormData;U.append("name",a.name),U.append("bio",a.bio),U.append("location",a.location),U.append("website",a.website),L&&U.append("profileImage",L);const $=await Q.put(`${jf}/api/users/profile`,U,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}});if($.data.success){Be("Profile updated successfully");const K={...s,...$.data.user};localStorage.setItem("user",JSON.stringify(K)),e(K)}}catch(U){console.error("Error updating profile:",U),de(((B=(F=U.response)==null?void 0:F.data)==null?void 0:B.message)||"Failed to update profile")}},q=async H=>{var F,B;if(H.preventDefault(),c.newPassword!==c.confirmPassword){de("New passwords do not match");return}if(c.newPassword.length<6){de("Password must be at least 6 characters long");return}try{(await Q.put(`${jf}/api/users/password`,{currentPassword:c.currentPassword,newPassword:c.newPassword},{withCredentials:!0})).data.success&&(Be("Password updated successfully"),f({currentPassword:"",newPassword:"",confirmPassword:""}))}catch(U){console.error("Error updating password:",U),de(((B=(F=U.response)==null?void 0:F.data)==null?void 0:B.message)||"Failed to update password")}},Z=async H=>{H.preventDefault();try{(await Q.put(`${jf}/api/users/notifications`,{notificationSettings:u},{withCredentials:!0})).data.success&&Be("Notification settings updated successfully")}catch(F){console.error("Error updating notification settings:",F),de("Failed to update notification settings")}},V=async H=>{H.preventDefault();try{(await Q.put(`${jf}/api/users/privacy`,{privacySettings:p},{withCredentials:!0})).data.success&&Be("Privacy settings updated successfully")}catch(F){console.error("Error updating privacy settings:",F),de("Failed to update privacy settings")}};return t?o.jsxs("div",{className:"bg-black min-h-screen text-white",children:[o.jsx(Ae,{}),o.jsx("div",{className:"flex justify-center items-center h-screen",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white"})})]}):o.jsxs("div",{className:"bg-black min-h-screen text-white",children:[o.jsx(Ae,{}),o.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[o.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Account Settings"}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[o.jsx("div",{className:"w-full md:w-64 bg-gray-900 rounded-lg p-4",children:o.jsxs("ul",{children:[o.jsxs("li",{className:`p-3 rounded-lg cursor-pointer mb-2 flex items-center ${i==="profile"?"bg-blue-600":"hover:bg-gray-800"}`,onClick:()=>r("profile"),children:[o.jsx(No,{className:"mr-3"})," Profile"]}),o.jsxs("li",{className:`p-3 rounded-lg cursor-pointer mb-2 flex items-center ${i==="password"?"bg-blue-600":"hover:bg-gray-800"}`,onClick:()=>r("password"),children:[o.jsx(bF,{className:"mr-3"})," Password"]}),o.jsxs("li",{className:`p-3 rounded-lg cursor-pointer mb-2 flex items-center ${i==="notifications"?"bg-blue-600":"hover:bg-gray-800"}`,onClick:()=>r("notifications"),children:[o.jsx(xp,{className:"mr-3"})," Notifications"]}),o.jsxs("li",{className:`p-3 rounded-lg cursor-pointer mb-2 flex items-center ${i==="privacy"?"bg-blue-600":"hover:bg-gray-800"}`,onClick:()=>r("privacy"),children:[o.jsx(TF,{className:"mr-3"})," Privacy"]})]})}),o.jsxs("div",{className:"flex-1 bg-gray-900 rounded-lg p-6",children:[i==="profile"&&o.jsxs("form",{onSubmit:Y,children:[o.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Profile Settings"}),o.jsxs("div",{className:"mb-6 flex flex-col items-center",children:[o.jsxs("div",{className:"w-24 h-24 rounded-full bg-gray-700 mb-4 overflow-hidden relative cursor-pointer",onClick:()=>M.current.click(),children:[j?o.jsx("img",{src:j,alt:"Profile",className:"w-full h-full object-cover"}):o.jsx("div",{className:"flex items-center justify-center h-full text-3xl",children:a.name.charAt(0).toUpperCase()}),o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",children:o.jsx("span",{className:"text-sm",children:"Change Photo"})})]}),o.jsx("input",{type:"file",ref:M,onChange:O,accept:"image/*",className:"hidden"})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Name"}),o.jsx("input",{type:"text",name:"name",value:a.name,onChange:I,className:"w-full bg-gray-800 text-white px-4 py-2 rounded",required:!0})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Email"}),o.jsx("input",{type:"email",value:a.email,className:"w-full bg-gray-700 text-gray-400 px-4 py-2 rounded cursor-not-allowed",disabled:!0}),o.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Email cannot be changed"})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Bio"}),o.jsx("textarea",{name:"bio",value:a.bio,onChange:I,className:"w-full bg-gray-800 text-white px-4 py-2 rounded",rows:"3"})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Location"}),o.jsx("input",{type:"text",name:"location",value:a.location,onChange:I,className:"w-full bg-gray-800 text-white px-4 py-2 rounded"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Website"}),o.jsx("input",{type:"url",name:"website",value:a.website,onChange:I,className:"w-full bg-gray-800 text-white px-4 py-2 rounded",placeholder:"https://example.com"})]}),o.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded",children:"Save Changes"})]}),i==="password"&&o.jsxs("form",{onSubmit:q,children:[o.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Change Password"}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Current Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:x?"text":"password",name:"currentPassword",value:c.currentPassword,onChange:A,className:"w-full bg-gray-800 text-white px-4 py-2 rounded pr-10",required:!0}),o.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",onClick:()=>y(!x),children:x?o.jsx(rL,{}):o.jsx(qi,{})})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"New Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:v?"text":"password",name:"newPassword",value:c.newPassword,onChange:A,className:"w-full bg-gray-800 text-white px-4 py-2 rounded pr-10",required:!0,minLength:"6"}),o.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",onClick:()=>w(!v),children:v?o.jsx(rL,{}):o.jsx(qi,{})})]}),o.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Password must be at least 6 characters long"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Confirm New Password"}),o.jsx("input",{type:"password",name:"confirmPassword",value:c.confirmPassword,onChange:A,className:"w-full bg-gray-800 text-white px-4 py-2 rounded",required:!0})]}),o.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded",children:"Update Password"})]}),i==="notifications"&&o.jsxs("form",{onSubmit:Z,children:[o.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Notification Settings"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:"Email Notifications"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Receive notifications via email"})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",name:"emailNotifications",checked:u.emailNotifications,onChange:D,className:"sr-only peer"}),o.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:"Subscription Updates"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Get notified when channels you subscribe to upload new content"})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",name:"subscriptionUpdates",checked:u.subscriptionUpdates,onChange:D,className:"sr-only peer"}),o.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:"Comment Replies"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Get notified when someone replies to your comments"})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",name:"commentReplies",checked:u.commentReplies,onChange:D,className:"sr-only peer"}),o.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:"Video Recommendations"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Receive personalized video recommendations"})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",name:"videoRecommendations",checked:u.videoRecommendations,onChange:D,className:"sr-only peer"}),o.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:"Marketing Emails"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Receive promotional emails and updates"})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",name:"marketingEmails",checked:u.marketingEmails,onChange:D,className:"sr-only peer"}),o.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]}),o.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded mt-6",children:"Save Preferences"})]}),i==="privacy"&&o.jsxs("form",{onSubmit:V,children:[o.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Privacy Settings"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:"Show Subscriptions"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Allow others to see channels you're subscribed to"})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",name:"showSubscriptions",checked:p.showSubscriptions,onChange:z,className:"sr-only peer"}),o.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:"Show Liked Videos"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Allow others to see videos you've liked"})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",name:"showLikedVideos",checked:p.showLikedVideos,onChange:z,className:"sr-only peer"}),o.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:"Show Saved Playlists"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Allow others to see your playlists"})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",name:"showSavedPlaylists",checked:p.showSavedPlaylists,onChange:z,className:"sr-only peer"}),o.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:"Allow Recommendations"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Allow your watch history to be used for recommendations"})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",name:"allowRecommendations",checked:p.allowRecommendations,onChange:z,className:"sr-only peer"}),o.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]}),o.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded mt-6",children:"Save Privacy Settings"})]})]})]})]}),o.jsx(it,{})]})},vj="http://localhost:5000",Jq=()=>{const[s,e]=T.useState(null),[t,n]=T.useState([]),[i,r]=T.useState(!0),[a,l]=T.useState([]),c=He();T.useEffect(()=>{const x=JSON.parse(localStorage.getItem("user"));if(!x){c("/login");return}e(x);const y=async()=>{try{r(!0);const w=await Q.get(`${vj}/api/reports/user-reports`,{withCredentials:!0});w.data.success&&n(w.data.reports),r(!1)}catch(w){console.error("Error fetching reports:",w),de("Failed to load report history"),r(!1)}},v=async()=>{try{const w=await Q.get(`${vj}/api/subscriptions/user-subscriptions`,{withCredentials:!0});w.data.success&&l(w.data.subscriptions)}catch(w){console.error("Error fetching subscriptions:",w)}};y(),v()},[c]);const f=x=>new Date(x).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),u=x=>{switch(x){case"resolved":return o.jsx(Fy,{className:"text-green-500"});case"rejected":return o.jsx(Na,{className:"text-red-500"});case"pending":default:return o.jsx(Or,{className:"text-yellow-500"})}},h=x=>{switch(x){case"resolved":return"Resolved";case"rejected":return"Rejected";case"pending":default:return"Pending"}},p=x=>{switch(x){case"resolved":return"bg-green-900 text-green-300";case"rejected":return"bg-red-900 text-red-300";case"pending":default:return"bg-yellow-900 text-yellow-300"}},g=x=>{switch(x){case"harassment":return"Harassment or Bullying";case"violence":return"Violent or Repulsive Content";case"hateSpeech":return"Hate Speech";case"spam":return"Spam or Misleading";case"copyright":return"Copyright Infringement";case"sexual":return"Sexual Content";case"childAbuse":return"Child Abuse";case"other":default:return"Other"}};return o.jsxs("div",{className:"bg-black min-h-screen text-white",children:[o.jsx(Ae,{}),o.jsxs("div",{className:"flex",children:[o.jsx(An,{subscriptions:a}),o.jsxs("div",{className:"flex-1 p-6",children:[o.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Report History"}),i?o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white"})}):t.length===0?o.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:[o.jsx(EN,{className:"mx-auto text-4xl text-gray-500 mb-4"}),o.jsx("h2",{className:"text-xl mb-4",children:"No reports submitted"}),o.jsx("p",{className:"text-gray-400",children:"You haven't reported any content yet"})]}):o.jsx("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-900",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left",children:"Date"}),o.jsx("th",{className:"px-4 py-3 text-left",children:"Content"}),o.jsx("th",{className:"px-4 py-3 text-left",children:"Category"}),o.jsx("th",{className:"px-4 py-3 text-left",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-700",children:t.map(x=>o.jsxs("tr",{className:"hover:bg-gray-700",children:[o.jsx("td",{className:"px-4 py-3",children:f(x.createdAt)}),o.jsx("td",{className:"px-4 py-3",children:o.jsxs("div",{children:[o.jsxs("div",{className:"font-medium",children:[x.contentType==="video"?"Video: ":x.contentType==="comment"?"Comment: ":x.contentType==="channel"?"Channel: ":"Content: ",x.contentTitle||"Untitled"]}),x.contentDescription&&o.jsx("div",{className:"text-sm text-gray-400 line-clamp-1",children:x.contentDescription})]})}),o.jsx("td",{className:"px-4 py-3",children:o.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-700 text-gray-300",children:[o.jsx(mm,{className:"mr-1 text-yellow-500"}),g(x.category)]})}),o.jsxs("td",{className:"px-4 py-3",children:[o.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${p(x.status)}`,children:[u(x.status),o.jsx("span",{className:"ml-1",children:h(x.status)})]}),x.adminResponse&&o.jsx("div",{className:"mt-1 text-xs text-gray-400",children:x.adminResponse})]})]},x._id))})]})})}),o.jsxs("div",{className:"mt-8 bg-gray-800 rounded-lg p-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"About Content Reporting"}),o.jsx("p",{className:"text-gray-300 mb-4",children:"Thank you for helping keep our platform safe and appropriate for all users. When you report content, our moderation team reviews it to determine if it violates our community guidelines."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[o.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[o.jsxs("h3",{className:"font-medium mb-2 flex items-center",children:[o.jsx(Or,{className:"text-yellow-500 mr-2"})," Pending"]}),o.jsx("p",{className:"text-sm text-gray-400",children:"Your report is being reviewed by our moderation team. This typically takes 1-3 business days."})]}),o.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[o.jsxs("h3",{className:"font-medium mb-2 flex items-center",children:[o.jsx(Fy,{className:"text-green-500 mr-2"})," Resolved"]}),o.jsx("p",{className:"text-sm text-gray-400",children:"Your report was reviewed and action was taken. The content may have been removed or restricted."})]}),o.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[o.jsxs("h3",{className:"font-medium mb-2 flex items-center",children:[o.jsx(Na,{className:"text-red-500 mr-2"})," Rejected"]}),o.jsx("p",{className:"text-sm text-gray-400",children:"After review, we determined that the reported content does not violate our community guidelines."})]}),o.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[o.jsxs("h3",{className:"font-medium mb-2 flex items-center",children:[o.jsx(mm,{className:"text-yellow-500 mr-2"})," Report Again"]}),o.jsx("p",{className:"text-sm text-gray-400",children:"If you believe a rejected report should be reconsidered, you can report the content again with additional details."})]})]})]})]})]}),o.jsx(it,{})]})},qq=()=>{const[s,e]=T.useState(""),[t,n]=T.useState(null),i=[{id:"account",title:"Account & Settings",icon:o.jsx(PN,{className:"text-blue-500"}),questions:[{id:"account-1",question:"How do I create an account?",answer:'To create an account, click on the "Sign Up" button in the top right corner of the homepage. Fill in your details including name, email, and password. You can also sign up using your Google or Facebook account for quicker registration.'},{id:"account-2",question:"How do I reset my password?",answer:`If you forgot your password, click on the "Login" button, then select "Forgot Password". Enter your email address and we'll send you a link to reset your password. Follow the instructions in the email to create a new password.`},{id:"account-3",question:"How do I change my profile picture?",answer:'To change your profile picture, go to Settings > Profile. Click on your current profile picture or the default avatar, then select "Change Photo". You can upload a new image from your device. Make sure the image is clear and follows our community guidelines.'}]},{id:"videos",title:"Videos & Playback",icon:o.jsx(kn,{className:"text-red-500"}),questions:[{id:"videos-1",question:"Why is my video buffering or not playing?",answer:"Buffering issues are usually related to your internet connection. Try lowering the video quality, refreshing the page, or checking your internet connection. If the problem persists, try clearing your browser cache or using a different browser."},{id:"videos-2",question:"How do I download videos for offline viewing?",answer:`To download videos for offline viewing, look for the download button below the video player. Note that not all videos are available for download, as this depends on the creator's settings. Downloaded videos can be accessed in the "Downloads" section of your library.`},{id:"videos-3",question:"How do I create and manage playlists?",answer:'To create a playlist, click on the "Save" button below any video and select "Create new playlist". Give your playlist a name and description, then click "Create". To manage your playlists, go to the "Playlists" section in your library where you can edit, delete, or add videos to your playlists.'}]},{id:"creators",title:"Creator Support",icon:o.jsx(Y1,{className:"text-green-500"}),questions:[{id:"creators-1",question:"How do I become a creator?",answer:`To become a creator, go to your account settings and select "Creator Settings". Click on "Become a Creator" and follow the steps to set up your channel. You'll need to provide some basic information about your channel and agree to our creator terms.`},{id:"creators-2",question:"How do I upload videos?",answer:"To upload a video, click on the upload button in the top right corner. Select your video file, add a title, description, and thumbnail. You can also set visibility options, add tags, and choose a category before publishing. Make sure your content follows our community guidelines."},{id:"creators-3",question:"How do I livestream?",answer:'To start a livestream, go to the Creator Studio and select "Go Live". Set up your stream details including title, description, and thumbnail. You can choose between webcam streaming or screen sharing. Once everything is set up, click "Start Streaming" to go live.'}]},{id:"monetization",title:"Monetization & Earnings",icon:o.jsx($s,{className:"text-yellow-500"}),questions:[{id:"monetization-1",question:"How do I monetize my channel?",answer:"To monetize your channel, you need to meet our eligibility requirements: 1,000 subscribers, 4,000 watch hours in the past 12 months, or 10 million Shorts views. Once eligible, go to Creator Studio > Monetization and follow the application process. We'll review your channel and notify you once approved."},{id:"monetization-2",question:"How do earnings work?",answer:"Earnings come from various sources including ad revenue, channel memberships, and Super Chats during livestreams. Your earnings are calculated based on factors like views, engagement, and ad performance. You can track your earnings in the Creator Studio under the Monetization tab."},{id:"monetization-3",question:"How do I withdraw my earnings?",answer:'To withdraw your earnings, go to Creator Studio > Monetization > Earnings. Click on "Withdraw" and select your preferred payment method (JazzCash, EasyPaisa, PayFast, or bank transfer). You need to reach the minimum threshold of Rs 1000 before you can request a withdrawal.'}]}],r=c=>{c.preventDefault(),console.log("Searching for:",s)},a=c=>{n(t===c?null:c)},l=s.trim()===""?i:i.map(c=>({...c,questions:c.questions.filter(f=>f.question.toLowerCase().includes(s.toLowerCase())||f.answer.toLowerCase().includes(s.toLowerCase()))})).filter(c=>c.questions.length>0);return o.jsxs("div",{className:"bg-black min-h-screen text-white",children:[o.jsx(Ae,{}),o.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"How can we help you?"}),o.jsx("p",{className:"text-gray-400 mb-8",children:"Find answers to common questions or contact our support team"}),o.jsxs("form",{onSubmit:r,className:"max-w-2xl mx-auto relative",children:[o.jsx("input",{type:"text",value:s,onChange:c=>e(c.target.value),placeholder:"Search for help topics...",className:"w-full bg-gray-800 text-white px-5 py-4 pr-12 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("button",{type:"submit",className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",children:o.jsx(Ei,{className:"text-xl"})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:[o.jsxs(le,{to:"/help/getting-started",className:"bg-gray-800 rounded-lg p-6 hover:bg-gray-700 transition-colors",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"bg-blue-900 p-3 rounded-full mr-4",children:o.jsx(gu,{className:"text-blue-400 text-xl"})}),o.jsx("h3",{className:"text-xl font-semibold",children:"Getting Started"})]}),o.jsx("p",{className:"text-gray-400",children:"Learn the basics of using our platform, from navigation to watching videos."})]}),o.jsxs(le,{to:"/help/creator-academy",className:"bg-gray-800 rounded-lg p-6 hover:bg-gray-700 transition-colors",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"bg-green-900 p-3 rounded-full mr-4",children:o.jsx(kn,{className:"text-green-400 text-xl"})}),o.jsx("h3",{className:"text-xl font-semibold",children:"Creator Academy"})]}),o.jsx("p",{className:"text-gray-400",children:"Resources and guides to help you create better content and grow your audience."})]}),o.jsxs(le,{to:"/help/contact-support",className:"bg-gray-800 rounded-lg p-6 hover:bg-gray-700 transition-colors",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"bg-purple-900 p-3 rounded-full mr-4",children:o.jsx(Y1,{className:"text-purple-400 text-xl"})}),o.jsx("h3",{className:"text-xl font-semibold",children:"Contact Support"})]}),o.jsx("p",{className:"text-gray-400",children:"Can't find what you're looking for? Reach out to our support team for help."})]})]}),o.jsxs("div",{className:"mb-12",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx(_N,{className:"text-blue-500 text-2xl mr-3"}),o.jsx("h2",{className:"text-2xl font-bold",children:"Frequently Asked Questions"})]}),l.length===0?o.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:[o.jsxs("p",{className:"text-xl mb-4",children:['No results found for "',s,'"']}),o.jsx("p",{className:"text-gray-400",children:"Try using different keywords or browse our help categories"})]}):o.jsx("div",{className:"space-y-6",children:l.map(c=>o.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[o.jsxs("div",{className:"p-4 border-b border-gray-700 flex items-center",children:[o.jsx("div",{className:"mr-3",children:c.icon}),o.jsx("h3",{className:"text-xl font-semibold",children:c.title})]}),o.jsx("div",{className:"divide-y divide-gray-700",children:c.questions.map(f=>o.jsxs("div",{className:"p-4",children:[o.jsxs("button",{onClick:()=>a(f.id),className:"flex justify-between items-center w-full text-left",children:[o.jsx("span",{className:"font-medium",children:f.question}),t===f.id?o.jsx(fF,{className:"text-gray-400"}):o.jsx(cF,{className:"text-gray-400"})]}),t===f.id&&o.jsx("div",{className:"mt-3 text-gray-400",children:o.jsx("p",{children:f.answer})})]},f.id))})]},c.id))})]}),o.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Still need help?"}),o.jsx("p",{className:"text-gray-400 mb-6",children:"Our support team is ready to assist you with any questions or issues"}),o.jsxs(le,{to:"/help/contact-support",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg inline-flex items-center",children:[o.jsx(Y1,{className:"mr-2"})," Contact Support"]})]})]}),o.jsx(it,{})]})},Zq="http://localhost:5000",Xq=()=>{const[s,e]=T.useState(null),[t,n]=T.useState(""),[i,r]=T.useState(""),[a,l]=T.useState(""),[c,f]=T.useState(""),[u,h]=T.useState(!1),[p,g]=T.useState(!1),x=He();T.useEffect(()=>{const L=JSON.parse(localStorage.getItem("user"));L&&(e(L),f(L.email||""))},[]);const y=async L=>{var S,j;if(L.preventDefault(),!t){de("Please select a feedback type");return}if(!i){de("Please select your satisfaction level");return}if(!a.trim()){de("Please provide some feedback details");return}try{h(!0),(await Q.post(`${Zq}/api/feedback`,{userId:s==null?void 0:s._id,feedbackType:t,satisfaction:i,feedbackText:a,email:c||void 0},{withCredentials:!0})).data.success?(Be("Thank you for your feedback!"),g(!0),n(""),r(""),l("")):de("Failed to submit feedback")}catch(E){console.error("Error submitting feedback:",E),de(((j=(S=E.response)==null?void 0:S.data)==null?void 0:j.message)||"Error submitting feedback")}finally{h(!1)}},v=[{id:"general",label:"General Feedback",icon:o.jsx(wi,{className:"text-blue-500"})},{id:"bug",label:"Report a Bug",icon:o.jsx(aF,{className:"text-red-500"})},{id:"feature",label:"Feature Request",icon:o.jsx(xF,{className:"text-yellow-500"})},{id:"question",label:"Question",icon:o.jsx(CF,{className:"text-purple-500"})}],w=[{id:"satisfied",label:"Satisfied",icon:o.jsx(DN,{className:"text-green-500 text-2xl"})},{id:"neutral",label:"Neutral",icon:o.jsx(wF,{className:"text-yellow-500 text-2xl"})},{id:"unsatisfied",label:"Unsatisfied",icon:o.jsx(hF,{className:"text-red-500 text-2xl"})}];return o.jsxs("div",{className:"bg-black min-h-screen text-white",children:[o.jsx(Ae,{}),o.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[o.jsx("h1",{className:"text-3xl font-bold mb-8 text-center",children:"Send Feedback"}),p?o.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:[o.jsx("div",{className:"bg-green-900 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-6",children:o.jsx(wi,{className:"text-green-400 text-3xl"})}),o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Thank You for Your Feedback!"}),o.jsx("p",{className:"text-gray-400 mb-6",children:"We appreciate you taking the time to share your thoughts with us. Your feedback helps us improve our platform."}),o.jsxs("div",{className:"flex justify-center space-x-4",children:[o.jsx("button",{onClick:()=>g(!1),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg",children:"Send More Feedback"}),o.jsx("button",{onClick:()=>x("/"),className:"bg-gray-700 hover:bg-gray-600 text-white px-6 py-3 rounded-lg",children:"Return to Home"})]})]}):o.jsx("div",{className:"bg-gray-800 rounded-lg p-6",children:o.jsxs("form",{onSubmit:y,children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-gray-300 mb-3",children:"What type of feedback do you have?"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:v.map(L=>o.jsxs("div",{className:`p-4 rounded-lg cursor-pointer flex items-center ${t===L.id?"bg-blue-900 border border-blue-500":"bg-gray-700 hover:bg-gray-600"}`,onClick:()=>n(L.id),children:[o.jsx("div",{className:"mr-3",children:L.icon}),o.jsx("span",{children:L.label})]},L.id))})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-gray-300 mb-3",children:"How satisfied are you with our platform?"}),o.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:w.map(L=>o.jsxs("div",{className:`p-4 rounded-lg cursor-pointer flex flex-col items-center ${i===L.id?"bg-blue-900 border border-blue-500":"bg-gray-700 hover:bg-gray-600"}`,onClick:()=>r(L.id),children:[o.jsx("div",{className:"mb-2",children:L.icon}),o.jsx("span",{children:L.label})]},L.id))})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Tell us more"}),o.jsx("textarea",{value:a,onChange:L=>l(L.target.value),className:"w-full bg-gray-700 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"5",placeholder:"Please provide details about your feedback, suggestions, or the issue you're experiencing...",required:!0})]}),!s&&o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Email (optional)"}),o.jsx("input",{type:"email",value:c,onChange:L=>f(L.target.value),className:"w-full bg-gray-700 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email if you'd like us to follow up with you"})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg flex items-center",disabled:u,children:[o.jsx(MN,{className:"mr-2"}),u?"Submitting...":"Submit Feedback"]})})]})}),o.jsxs("div",{className:"mt-8 bg-gray-800 rounded-lg p-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Other Ways to Reach Us"}),o.jsx("p",{className:"text-gray-300 mb-4",children:"If you need immediate assistance or have specific questions, you can also reach us through these channels:"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-medium mb-2",children:"Help Center"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Browse our comprehensive help articles and tutorials for answers to common questions."}),o.jsx("button",{onClick:()=>x("/help"),className:"mt-3 text-blue-400 hover:text-blue-300 text-sm",children:"Visit Help Center"})]}),o.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-medium mb-2",children:"Support Email"}),o.jsx("p",{className:"text-sm text-gray-400",children:"For urgent issues or complex inquiries, contact our support team directly via email."}),o.jsx("a",{href:"mailto:support@example.com",className:"mt-3 text-blue-400 hover:text-blue-300 text-sm",children:"support@example.com"})]})]})]})]}),o.jsx(it,{})]})},eZ=()=>{const[s,e]=T.useState(""),t=He(),n=Ti();return T.useEffect(()=>{const r=new URLSearchParams(n.search).get("message")||"An error occurred during payment processing";e(r),localStorage.removeItem("pendingPaymentId")},[n.search]),o.jsxs("div",{className:"bg-black min-h-screen text-white",children:[o.jsx(Ae,{}),o.jsx("div",{className:"max-w-3xl mx-auto p-6",children:o.jsxs("div",{className:"bg-gray-900 rounded-lg p-8 text-center",children:[o.jsx("div",{className:"bg-red-900 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-6",children:o.jsx(Eo,{className:"text-red-400 text-4xl"})}),o.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Payment Failed"}),o.jsx("p",{className:"text-gray-300 mb-8",children:s}),o.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-8",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"What went wrong?"}),o.jsx("p",{className:"text-gray-300 mb-4",children:"Your payment could not be processed due to one of the following reasons:"}),o.jsxs("ul",{className:"text-left text-gray-300 space-y-2 mb-4",children:[o.jsx("li",{children:" Insufficient funds in your account"}),o.jsx("li",{children:" Payment was declined by your bank or payment provider"}),o.jsx("li",{children:" Connection issues during the payment process"}),o.jsx("li",{children:" Incorrect payment details were entered"}),o.jsx("li",{children:" The payment session timed out"})]}),o.jsx("p",{className:"text-gray-300",children:"You can try again with the same or a different payment method."})]}),o.jsxs("div",{className:"flex justify-center space-x-4",children:[o.jsxs("button",{onClick:()=>t(-1),className:"bg-gray-800 hover:bg-gray-700 text-white px-6 py-3 rounded-lg flex items-center",children:[o.jsx(LN,{className:"mr-2"})," Go Back"]}),o.jsxs("button",{onClick:()=>t("/"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg flex items-center",children:[o.jsx(wp,{className:"mr-2"})," Home"]})]})]})}),o.jsx(it,{})]})},wj="http://localhost:5000",tZ=()=>{const[s,e]=T.useState(null),[t,n]=T.useState([]),[i,r]=T.useState(!0),[a,l]=T.useState([]),[c,f]=T.useState({status:"",page:1}),[u,h]=T.useState({total:0,page:1,pages:1}),p=He();T.useEffect(()=>{const M=JSON.parse(localStorage.getItem("user"));if(!M){p("/login");return}e(M);const N=async()=>{try{r(!0);const A=new URLSearchParams;c.status&&A.append("status",c.status),A.append("page",c.page);const D=await Q.get(`${wj}/api/payments/history?${A.toString()}`,{withCredentials:!0});D.data.success?(n(D.data.data.payments),h(D.data.data.pagination)):de("Failed to load payment history"),r(!1)}catch(A){console.error("Error fetching payment history:",A),de("Failed to load payment history"),r(!1)}},I=async()=>{try{const A=await Q.get(`${wj}/api/subscriptions/user-subscriptions`,{withCredentials:!0});A.data.success&&l(A.data.subscriptions)}catch(A){console.error("Error fetching subscriptions:",A)}};N(),I()},[p,c]);const g=M=>{const{name:N,value:I}=M.target;f({...c,[N]:I,page:1})},x=M=>{M<1||M>u.pages||f({...c,page:M})},y=M=>new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0}).format(M||0),v=M=>new Date(M).toLocaleDateString("en-PK",{year:"numeric",month:"short",day:"numeric"}),w=M=>{switch(M){case"completed":return o.jsx(Cn,{className:"text-green-500"});case"failed":return o.jsx(Eo,{className:"text-red-500"});case"refunded":return o.jsx(bp,{className:"text-blue-500"});case"pending":default:return o.jsx(Or,{className:"text-yellow-500"})}},L=M=>{switch(M){case"completed":return"Completed";case"failed":return"Failed";case"refunded":return"Refunded";case"pending":default:return"Pending"}},S=M=>{switch(M){case"completed":return"bg-green-900 text-green-300";case"failed":return"bg-red-900 text-red-300";case"refunded":return"bg-blue-900 text-blue-300";case"pending":default:return"bg-yellow-900 text-yellow-300"}},j=M=>{switch(M){case"subscription":return"Channel Subscription";case"donation":return"Creator Donation";case"premium":return"Premium Subscription";case"adCredit":return"Advertising Credit";case"course":return"Course Purchase";default:return"Payment"}},E=M=>{switch(M){case"jazzCash":return"JazzCash";case"easyPaisa":return"EasyPaisa";case"payFast":return"PayFast";case"bankTransfer":return"Bank Transfer";default:return M}};return o.jsxs("div",{className:"bg-black min-h-screen text-white",children:[o.jsx(Ae,{}),o.jsxs("div",{className:"flex",children:[o.jsx(An,{subscriptions:a}),o.jsxs("div",{className:"flex-1 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Payment History"}),o.jsx("div",{className:"flex items-center space-x-4",children:o.jsxs("div",{className:"relative",children:[o.jsx(vv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsxs("select",{name:"status",value:c.status,onChange:g,className:"bg-gray-800 text-white pl-10 pr-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"All Statuses"}),o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"failed",children:"Failed"}),o.jsx("option",{value:"refunded",children:"Refunded"})]})]})})]}),i?o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white"})}):t.length===0?o.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:[o.jsx(vp,{className:"mx-auto text-4xl text-gray-500 mb-4"}),o.jsx("h2",{className:"text-xl mb-4",children:"No payment history"}),o.jsx("p",{className:"text-gray-400",children:"You haven't made any payments yet"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-gray-800 rounded-lg overflow-hidden mb-6",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-900",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left",children:"Date"}),o.jsx("th",{className:"px-4 py-3 text-left",children:"Description"}),o.jsx("th",{className:"px-4 py-3 text-left",children:"Amount"}),o.jsx("th",{className:"px-4 py-3 text-left",children:"Payment Method"}),o.jsx("th",{className:"px-4 py-3 text-left",children:"Status"}),o.jsx("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-700",children:t.map(M=>o.jsxs("tr",{className:"hover:bg-gray-700",children:[o.jsx("td",{className:"px-4 py-3",children:v(M.createdAt)}),o.jsxs("td",{className:"px-4 py-3",children:[o.jsx("div",{className:"font-medium",children:j(M.purpose)}),o.jsx("div",{className:"text-sm text-gray-400",children:M.transactionId||"N/A"})]}),o.jsx("td",{className:"px-4 py-3 font-medium",children:y(M.amount)}),o.jsx("td",{className:"px-4 py-3",children:E(M.gateway)}),o.jsx("td",{className:"px-4 py-3",children:o.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${S(M.status)}`,children:[w(M.status),o.jsx("span",{className:"ml-1",children:L(M.status)})]})}),o.jsx("td",{className:"px-4 py-3 text-right",children:M.status==="completed"&&o.jsx(le,{to:`/payment/success?paymentId=${M._id}`,className:"text-blue-400 hover:text-blue-300 text-sm",children:"View Details"})})]},M._id))})]})})}),u.pages>1&&o.jsx("div",{className:"flex justify-center mt-6",children:o.jsxs("nav",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>x(c.page-1),disabled:c.page===1,className:`px-3 py-1 rounded ${c.page===1?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-gray-800 text-white hover:bg-gray-700"}`,children:"Previous"}),Array.from({length:u.pages},(M,N)=>N+1).filter(M=>M===1||M===u.pages||Math.abs(M-c.page)<=1).map((M,N,I)=>{const A=N>0&&M-I[N-1]>1;return o.jsxs(je.Fragment,{children:[A&&o.jsx("span",{className:"px-3 py-1 text-gray-400",children:"..."}),o.jsx("button",{onClick:()=>x(M),className:`px-3 py-1 rounded ${M===c.page?"bg-blue-600 text-white":"bg-gray-800 text-white hover:bg-gray-700"}`,children:M})]},M)}),o.jsx("button",{onClick:()=>x(c.page+1),disabled:c.page===u.pages,className:`px-3 py-1 rounded ${c.page===u.pages?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-gray-800 text-white hover:bg-gray-700"}`,children:"Next"})]})})]})]})]}),o.jsx(it,{})]})},sZ=()=>{const s=[{name:"Playlists",path:"/playlists",description:"Manage your playlists"},{name:"Downloads",path:"/downloads",description:"View your downloaded videos"},{name:"Your Clips",path:"/your-clips",description:"Manage your video clips"},{name:"Settings",path:"/settings",description:"Manage your account settings"},{name:"Report History",path:"/report-history",description:"View your content reports"},{name:"Help",path:"/help",description:"Get help with platform features"},{name:"Feedback",path:"/feedback",description:"Send feedback about the platform"},{name:"Payment Success",path:"/payment/success",description:"Payment success page"},{name:"Payment Error",path:"/payment/error",description:"Payment error page"},{name:"Payment History",path:"/payment/history",description:"View your payment history"}],e=[{name:"Donation Modal",description:"Modal for donating to creators"},{name:"Premium Subscription Modal",description:"Modal for subscribing to premium"},{name:"Channel Subscription Modal",description:"Modal for subscribing to channels"},{name:"Ad Credit Purchase Modal",description:"Modal for purchasing ad credits"}];return o.jsxs("div",{className:"bg-black min-h-screen text-white",children:[o.jsx(Ae,{}),o.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[o.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Page Tester"}),o.jsx("p",{className:"text-gray-300 mb-8",children:"Use this page to test all the new pages and components we've created. Click on any link below to navigate to that page."}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:s.map(t=>o.jsxs(le,{to:t.path,className:"bg-gray-800 rounded-lg p-6 hover:bg-gray-700 transition-colors",children:[o.jsx("h3",{className:"text-xl font-semibold mb-2",children:t.name}),o.jsx("p",{className:"text-gray-400",children:t.description})]},t.path))}),o.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Payment Components"}),o.jsx("p",{className:"text-gray-300 mb-6",children:"These components are not directly accessible via routes, but are used within other pages:"}),o.jsx("div",{className:"bg-gray-800 rounded-lg p-6 mb-12",children:o.jsx("ul",{className:"space-y-4",children:e.map((t,n)=>o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"bg-blue-600 text-white px-2 py-1 rounded text-sm mr-3",children:"Component"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:t.name}),o.jsx("p",{className:"text-gray-400 text-sm",children:t.description})]})]},n))})}),o.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Testing Instructions"}),o.jsx("p",{className:"text-gray-300 mb-4",children:"To test all pages automatically, you can use the testPages utility:"}),o.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-gray-300 mb-4",children:[o.jsx("li",{children:`Open your browser's developer console (F12 or right-click and select "Inspect")`}),o.jsxs("li",{children:["Type ",o.jsx("code",{className:"bg-gray-700 px-2 py-1 rounded",children:"window.testAllPages()"})," and press Enter"]}),o.jsx("li",{children:"The script will navigate through all pages with a 2-second delay between each"})]}),o.jsx("p",{className:"text-gray-300",children:"You can also test each page individually by clicking on the links above."})]})]}),o.jsx(it,{})]})},nZ=({onStreamCreated:s})=>{const[e,t]=T.useState(""),[n,i]=T.useState(!1),[r,a]=T.useState(!1),[l,c]=T.useState(null),f=async u=>{var h,p,g,x,y,v;u.preventDefault(),a(!0),c(null);try{const w=await Q.post("http://localhost:5000/api/livestream/create",{name:e,isScreenSharing:n},{withCredentials:!0});a(!1),s&&w.data.success&&s(w.data.data),t(""),i(!1)}catch(w){a(!1),((h=w.response)==null?void 0:h.status)===403&&((x=(g=(p=w.response)==null?void 0:p.data)==null?void 0:g.error)!=null&&x.includes("plan"))?c("Livestreaming is not available on the Cloudinary free plan. Please upgrade to a paid plan."):c(((v=(y=w.response)==null?void 0:y.data)==null?void 0:v.error)||"Failed to create livestream"),console.error("Error creating livestream:",w)}};return o.jsxs("div",{className:"bg-[#111111] p-6 rounded-lg shadow-md",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"Create New Livestream"}),o.jsxs("div",{className:"mb-6 p-4 bg-red-900 bg-opacity-30 border border-red-700 rounded-md",children:[o.jsx("h3",{className:"text-red-300 font-bold text-lg mb-2",children:" Cloudinary Plan Limitation"}),o.jsx("p",{className:"text-red-200",children:"Livestreaming is not available on the Cloudinary free plan. You will need to upgrade to a paid Cloudinary plan to use this feature."}),o.jsx("a",{href:"https://cloudinary.com/pricing",target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-3 px-4 py-2 bg-red-700 hover:bg-red-600 text-white rounded-md transition",children:"View Cloudinary Pricing"})]}),l&&o.jsx("div",{className:"bg-red-500 text-white p-3 rounded-md mb-4",children:l}),o.jsxs("form",{onSubmit:f,children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{htmlFor:"name",className:"block text-gray-300 mb-2",children:"Stream Name"}),o.jsx("input",{type:"text",id:"name",value:e,onChange:u=>t(u.target.value),className:"w-full bg-gray-800 text-white border border-gray-700 rounded-md p-2",placeholder:"My Awesome Stream",required:!0})]}),o.jsx("div",{className:"mb-4",children:o.jsxs("label",{className:"flex items-center text-gray-300",children:[o.jsx("input",{type:"checkbox",checked:n,onChange:u=>i(u.target.checked),className:"mr-2"}),"Screen Sharing Stream"]})}),o.jsx("button",{type:"submit",disabled:r,className:`w-full py-2 px-4 rounded-md ${r?"bg-gray-600 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white font-medium`,children:r?"Creating...":"Create Livestream"}),o.jsx("p",{className:"text-gray-400 text-sm mt-2 text-center",children:"Note: This form will work once you upgrade to a paid Cloudinary plan"})]})]})},we=Number.isFinite||function(s){return typeof s=="number"&&isFinite(s)},iZ=Number.isSafeInteger||function(s){return typeof s=="number"&&Math.abs(s)<=rZ},rZ=Number.MAX_SAFE_INTEGER||9007199254740991;let Ie=function(s){return s.NETWORK_ERROR="networkError",s.MEDIA_ERROR="mediaError",s.KEY_SYSTEM_ERROR="keySystemError",s.MUX_ERROR="muxError",s.OTHER_ERROR="otherError",s}({}),te=function(s){return s.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",s.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",s.KEY_SYSTEM_NO_SESSION="keySystemNoSession",s.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",s.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",s.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",s.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",s.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",s.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",s.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",s.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR="keySystemDestroyMediaKeysError",s.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR="keySystemDestroyCloseSessionError",s.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR="keySystemDestroyRemoveSessionError",s.MANIFEST_LOAD_ERROR="manifestLoadError",s.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",s.MANIFEST_PARSING_ERROR="manifestParsingError",s.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",s.LEVEL_EMPTY_ERROR="levelEmptyError",s.LEVEL_LOAD_ERROR="levelLoadError",s.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",s.LEVEL_PARSING_ERROR="levelParsingError",s.LEVEL_SWITCH_ERROR="levelSwitchError",s.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",s.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",s.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",s.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",s.FRAG_LOAD_ERROR="fragLoadError",s.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",s.FRAG_DECRYPT_ERROR="fragDecryptError",s.FRAG_PARSING_ERROR="fragParsingError",s.FRAG_GAP="fragGap",s.REMUX_ALLOC_ERROR="remuxAllocError",s.KEY_LOAD_ERROR="keyLoadError",s.KEY_LOAD_TIMEOUT="keyLoadTimeOut",s.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",s.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",s.BUFFER_APPEND_ERROR="bufferAppendError",s.BUFFER_APPENDING_ERROR="bufferAppendingError",s.BUFFER_STALLED_ERROR="bufferStalledError",s.BUFFER_FULL_ERROR="bufferFullError",s.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",s.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",s.ASSET_LIST_LOAD_ERROR="assetListLoadError",s.ASSET_LIST_LOAD_TIMEOUT="assetListLoadTimeout",s.ASSET_LIST_PARSING_ERROR="assetListParsingError",s.INTERSTITIAL_ASSET_ITEM_ERROR="interstitialAssetItemError",s.INTERNAL_EXCEPTION="internalException",s.INTERNAL_ABORTED="aborted",s.ATTACH_MEDIA_ERROR="attachMediaError",s.UNKNOWN="unknown",s}({}),P=function(s){return s.MEDIA_ATTACHING="hlsMediaAttaching",s.MEDIA_ATTACHED="hlsMediaAttached",s.MEDIA_DETACHING="hlsMediaDetaching",s.MEDIA_DETACHED="hlsMediaDetached",s.MEDIA_ENDED="hlsMediaEnded",s.STALL_RESOLVED="hlsStallResolved",s.BUFFER_RESET="hlsBufferReset",s.BUFFER_CODECS="hlsBufferCodecs",s.BUFFER_CREATED="hlsBufferCreated",s.BUFFER_APPENDING="hlsBufferAppending",s.BUFFER_APPENDED="hlsBufferAppended",s.BUFFER_EOS="hlsBufferEos",s.BUFFERED_TO_END="hlsBufferedToEnd",s.BUFFER_FLUSHING="hlsBufferFlushing",s.BUFFER_FLUSHED="hlsBufferFlushed",s.MANIFEST_LOADING="hlsManifestLoading",s.MANIFEST_LOADED="hlsManifestLoaded",s.MANIFEST_PARSED="hlsManifestParsed",s.LEVEL_SWITCHING="hlsLevelSwitching",s.LEVEL_SWITCHED="hlsLevelSwitched",s.LEVEL_LOADING="hlsLevelLoading",s.LEVEL_LOADED="hlsLevelLoaded",s.LEVEL_UPDATED="hlsLevelUpdated",s.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",s.LEVELS_UPDATED="hlsLevelsUpdated",s.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",s.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",s.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",s.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",s.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",s.AUDIO_TRACK_UPDATED="hlsAudioTrackUpdated",s.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",s.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",s.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",s.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",s.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",s.SUBTITLE_TRACK_UPDATED="hlsSubtitleTrackUpdated",s.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",s.CUES_PARSED="hlsCuesParsed",s.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",s.INIT_PTS_FOUND="hlsInitPtsFound",s.FRAG_LOADING="hlsFragLoading",s.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",s.FRAG_LOADED="hlsFragLoaded",s.FRAG_DECRYPTED="hlsFragDecrypted",s.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",s.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",s.FRAG_PARSING_METADATA="hlsFragParsingMetadata",s.FRAG_PARSED="hlsFragParsed",s.FRAG_BUFFERED="hlsFragBuffered",s.FRAG_CHANGED="hlsFragChanged",s.FPS_DROP="hlsFpsDrop",s.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",s.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",s.ERROR="hlsError",s.DESTROYING="hlsDestroying",s.KEY_LOADING="hlsKeyLoading",s.KEY_LOADED="hlsKeyLoaded",s.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",s.BACK_BUFFER_REACHED="hlsBackBufferReached",s.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",s.ASSET_LIST_LOADING="hlsAssetListLoading",s.ASSET_LIST_LOADED="hlsAssetListLoaded",s.INTERSTITIALS_UPDATED="hlsInterstitialsUpdated",s.INTERSTITIALS_BUFFERED_TO_BOUNDARY="hlsInterstitialsBufferedToBoundary",s.INTERSTITIAL_ASSET_PLAYER_CREATED="hlsInterstitialAssetPlayerCreated",s.INTERSTITIAL_STARTED="hlsInterstitialStarted",s.INTERSTITIAL_ASSET_STARTED="hlsInterstitialAssetStarted",s.INTERSTITIAL_ASSET_ENDED="hlsInterstitialAssetEnded",s.INTERSTITIAL_ASSET_ERROR="hlsInterstitialAssetError",s.INTERSTITIAL_ENDED="hlsInterstitialEnded",s.INTERSTITIALS_PRIMARY_RESUMED="hlsInterstitialsPrimaryResumed",s.PLAYOUT_LIMIT_REACHED="hlsPlayoutLimitReached",s.EVENT_CUE_ENTER="hlsEventCueEnter",s}({});var Qe={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},Me={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};class El{constructor(e,t=0,n=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=t,this.totalWeight_=n}sample(e,t){const n=Math.pow(this.alpha_,e);this.estimate_=t*(1-n)+n*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}class aZ{constructor(e,t,n,i=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new El(e),this.fast_=new El(t),this.defaultTTFB_=i,this.ttfb_=new El(e)}update(e,t){const{slow_:n,fast_:i,ttfb_:r}=this;n.halfLife!==e&&(this.slow_=new El(e,n.getEstimate(),n.getTotalWeight())),i.halfLife!==t&&(this.fast_=new El(t,i.getEstimate(),i.getTotalWeight())),r.halfLife!==e&&(this.ttfb_=new El(e,r.getEstimate(),r.getTotalWeight()))}sample(e,t){e=Math.max(e,this.minDelayMs_);const n=8*t,i=e/1e3,r=n/i;this.fast_.sample(i,r),this.slow_.sample(i,r)}sampleTTFB(e){const t=e/1e3,n=Math.sqrt(2)*Math.exp(-Math.pow(t,2)/2);this.ttfb_.sample(n,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}get defaultEstimate(){return this.defaultEstimate_}destroy(){}}function oZ(s,e,t){return(e=cZ(e))in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}function gt(){return gt=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},gt.apply(null,arguments)}function Sj(s,e){var t=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(s,i).enumerable})),t.push.apply(t,n)}return t}function ct(s){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Sj(Object(t),!0).forEach(function(n){oZ(s,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(t)):Sj(Object(t)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(t,n))})}return s}function lZ(s,e){if(typeof s!="object"||!s)return s;var t=s[Symbol.toPrimitive];if(t!==void 0){var n=t.call(s,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(s)}function cZ(s){var e=lZ(s,"string");return typeof e=="symbol"?e:e+""}class $r{constructor(e,t){this.trace=void 0,this.debug=void 0,this.log=void 0,this.warn=void 0,this.info=void 0,this.error=void 0;const n=`[${e}]:`;this.trace=ya,this.debug=t.debug.bind(null,n),this.log=t.log.bind(null,n),this.warn=t.warn.bind(null,n),this.info=t.info.bind(null,n),this.error=t.error.bind(null,n)}}const ya=function(){},fZ={trace:ya,debug:ya,log:ya,warn:ya,info:ya,error:ya};function Pb(){return gt({},fZ)}function uZ(s,e){const t=self.console[s];return t?t.bind(self.console,`${e?"["+e+"] ":""}[${s}] >`):ya}function Lj(s,e,t){return e[s]?e[s].bind(e):uZ(s,t)}const Rb=Pb();function dZ(s,e,t){const n=Pb();if(typeof console=="object"&&s===!0||typeof s=="object"){const i=["debug","log","info","warn","error"];i.forEach(r=>{n[r]=Lj(r,s,t)});try{n.log(`Debug logs enabled for "${e}" in hls.js version 1.6.2`)}catch{return Pb()}i.forEach(r=>{Rb[r]=Lj(r,s)})}else gt(Rb,n);return n}const st=Rb;function Oa(s=!0){return typeof self>"u"?void 0:(s||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function hZ(s){return typeof self<"u"&&s===self.ManagedMediaSource}function N_(s,e){const t=Object.keys(s),n=Object.keys(e),i=t.length,r=n.length;return!i||!r||i===r&&!t.some(a=>n.indexOf(a)===-1)}function Mn(s,e=!1){if(typeof TextDecoder<"u"){const f=new TextDecoder("utf-8").decode(s);if(e){const u=f.indexOf("\0");return u!==-1?f.substring(0,u):f}return f.replace(/\0/g,"")}const t=s.length;let n,i,r,a="",l=0;for(;l<t;){if(n=s[l++],n===0&&e)return a;if(n===0||n===3)continue;switch(n>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(n);break;case 12:case 13:i=s[l++],a+=String.fromCharCode((n&31)<<6|i&63);break;case 14:i=s[l++],r=s[l++],a+=String.fromCharCode((n&15)<<12|(i&63)<<6|(r&63)<<0);break}}return a}const $i={hexDump:function(s){let e="";for(let t=0;t<s.length;t++){let n=s[t].toString(16);n.length<2&&(n="0"+n),e+=n}return e}};function mZ(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Fx={exports:{}},Cj;function pZ(){return Cj||(Cj=1,function(s,e){(function(t){var n=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,r=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,l={buildAbsoluteURL:function(c,f,u){if(u=u||{},c=c.trim(),f=f.trim(),!f){if(!u.alwaysNormalize)return c;var h=l.parseURL(c);if(!h)throw new Error("Error trying to parse base URL.");return h.path=l.normalizePath(h.path),l.buildURLFromParts(h)}var p=l.parseURL(f);if(!p)throw new Error("Error trying to parse relative URL.");if(p.scheme)return u.alwaysNormalize?(p.path=l.normalizePath(p.path),l.buildURLFromParts(p)):f;var g=l.parseURL(c);if(!g)throw new Error("Error trying to parse base URL.");if(!g.netLoc&&g.path&&g.path[0]!=="/"){var x=i.exec(g.path);g.netLoc=x[1],g.path=x[2]}g.netLoc&&!g.path&&(g.path="/");var y={scheme:g.scheme,netLoc:p.netLoc,path:null,params:p.params,query:p.query,fragment:p.fragment};if(!p.netLoc&&(y.netLoc=g.netLoc,p.path[0]!=="/"))if(!p.path)y.path=g.path,p.params||(y.params=g.params,p.query||(y.query=g.query));else{var v=g.path,w=v.substring(0,v.lastIndexOf("/")+1)+p.path;y.path=l.normalizePath(w)}return y.path===null&&(y.path=u.alwaysNormalize?l.normalizePath(p.path):p.path),l.buildURLFromParts(y)},parseURL:function(c){var f=n.exec(c);return f?{scheme:f[1]||"",netLoc:f[2]||"",path:f[3]||"",params:f[4]||"",query:f[5]||"",fragment:f[6]||""}:null},normalizePath:function(c){for(c=c.split("").reverse().join("").replace(r,"");c.length!==(c=c.replace(a,"")).length;);return c.split("").reverse().join("")},buildURLFromParts:function(c){return c.scheme+c.netLoc+c.path+c.params+c.query+c.fragment}};s.exports=l})()}(Fx)),Fx.exports}var W2=pZ();class Q2{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var mt={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"};class M_{constructor(e){this._byteRange=null,this._url=null,this._stats=null,this._streams=null,this.base=void 0,this.relurl=void 0,typeof e=="string"&&(e={url:e}),this.base=e,xZ(this,"stats")}setByteRange(e,t){const n=e.split("@",2);let i;n.length===1?i=(t==null?void 0:t.byteRangeEndOffset)||0:i=parseInt(n[1]),this._byteRange=[i,parseInt(n[0])+i]}get baseurl(){return this.base.url}get byteRange(){return this._byteRange===null?[]:this._byteRange}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get elementaryStreams(){return this._streams===null&&(this._streams={[mt.AUDIO]:null,[mt.VIDEO]:null,[mt.AUDIOVIDEO]:null}),this._streams}set elementaryStreams(e){this._streams=e}get hasStats(){return this._stats!==null}get hasStreams(){return this._streams!==null}get stats(){return this._stats===null&&(this._stats=new Q2),this._stats}set stats(e){this._stats=e}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=W2.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}clearElementaryStreamInfo(){const{elementaryStreams:e}=this;e[mt.AUDIO]=null,e[mt.VIDEO]=null,e[mt.AUDIOVIDEO]=null}}function hs(s){return s.sn!=="initSegment"}class zx extends M_{constructor(e,t){super(t),this._decryptdata=null,this._programDateTime=null,this._ref=null,this._bitrate=void 0,this.rawProgramDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.playlistOffset=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=e}get byteLength(){if(this.hasStats){const e=this.stats.total;if(e)return e}if(this.byteRange){const e=this.byteRange[0],t=this.byteRange[1];if(we(e)&&we(t))return t-e}return null}get bitrate(){return this.byteLength?this.byteLength*8/this.duration:this._bitrate?this._bitrate:null}set bitrate(e){this._bitrate=e}get decryptdata(){const{levelkeys:e}=this;if(!e&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const t=this.levelkeys.identity;if(t)this._decryptdata=t.getDecryptData(this.sn);else{const n=Object.keys(this.levelkeys);if(n.length===1)return this._decryptdata=this.levelkeys[n[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null)return null;const e=we(this.duration)?this.duration:0;return this.programDateTime+e*1e3}get encrypted(){var e;if((e=this._decryptdata)!=null&&e.encrypted)return!0;if(this.levelkeys){const t=Object.keys(this.levelkeys),n=t.length;if(n>1||n===1&&this.levelkeys[t[0]].encrypted)return!0}return!1}get programDateTime(){return this._programDateTime===null&&this.rawProgramDateTime&&(this.programDateTime=Date.parse(this.rawProgramDateTime)),this._programDateTime}set programDateTime(e){if(!we(e)){this._programDateTime=this.rawProgramDateTime=null;return}this._programDateTime=e}get ref(){return hs(this)?(this._ref||(this._ref={base:this.base,start:this.start,duration:this.duration,sn:this.sn,programDateTime:this.programDateTime}),this._ref):null}addStart(e){this.setStart(this.start+e)}setStart(e){this.start=e,this._ref&&(this._ref.start=e)}setDuration(e){this.duration=e,this._ref&&(this._ref.duration=e)}setKeyFormat(e){if(this.levelkeys){const t=this.levelkeys[e];t&&!this._decryptdata&&(this._decryptdata=t.getDecryptData(this.sn))}}abortRequests(){var e,t;(e=this.loader)==null||e.abort(),(t=this.keyLoader)==null||t.abort()}setElementaryStreamInfo(e,t,n,i,r,a=!1){const{elementaryStreams:l}=this,c=l[e];if(!c){l[e]={startPTS:t,endPTS:n,startDTS:i,endDTS:r,partial:a};return}c.startPTS=Math.min(c.startPTS,t),c.endPTS=Math.max(c.endPTS,n),c.startDTS=Math.min(c.startDTS,i),c.endDTS=Math.max(c.endDTS,r)}}class gZ extends M_{constructor(e,t,n,i,r){super(n),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=t,this.index=i;const a=e.enumeratedString("BYTERANGE");a&&this.setByteRange(a,r),r&&(this.fragOffset=r.fragOffset+r.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}}function k_(s,e){const t=Object.getPrototypeOf(s);if(t){const n=Object.getOwnPropertyDescriptor(t,e);return n||k_(t,e)}}function xZ(s,e){const t=k_(s,e);t&&(t.enumerable=!0,Object.defineProperty(s,e,t))}const $m=Math.pow(2,32)-1,yZ=[].push,I_={video:1,audio:2,id3:3,text:4};function ns(s){return String.fromCharCode.apply(null,s)}function __(s,e){const t=s[e]<<8|s[e+1];return t<0?65536+t:t}function Re(s,e){const t=A_(s,e);return t<0?4294967296+t:t}function Tj(s,e){let t=Re(s,e);return t*=Math.pow(2,32),t+=Re(s,e+4),t}function A_(s,e){return s[e]<<24|s[e+1]<<16|s[e+2]<<8|s[e+3]}function Bx(s,e,t){s[e]=t>>24,s[e+1]=t>>16&255,s[e+2]=t>>8&255,s[e+3]=t&255}function bZ(s){const e=s.byteLength;for(let t=0;t<e;){const n=Re(s,t);if(n>8&&s[t+4]===109&&s[t+5]===111&&s[t+6]===111&&s[t+7]===102)return!0;t=n>1?t+n:e}return!1}function Ue(s,e){const t=[];if(!e.length)return t;const n=s.byteLength;for(let i=0;i<n;){const r=Re(s,i),a=ns(s.subarray(i+4,i+8)),l=r>1?i+r:n;if(a===e[0])if(e.length===1)t.push(s.subarray(i+8,l));else{const c=Ue(s.subarray(i+8,l),e.slice(1));c.length&&yZ.apply(t,c)}i=l}return t}function vZ(s){const e=[],t=s[0];let n=8;const i=Re(s,n);n+=4;let r=0,a=0;t===0?(r=Re(s,n),a=Re(s,n+4),n+=8):(r=Tj(s,n),a=Tj(s,n+8),n+=16),n+=2;let l=s.length+a;const c=__(s,n);n+=2;for(let f=0;f<c;f++){let u=n;const h=Re(s,u);u+=4;const p=h&2147483647;if((h&2147483648)>>>31===1)return st.warn("SIDX has hierarchical references (not supported)"),null;const x=Re(s,u);u+=4,e.push({referenceSize:p,subsegmentDuration:x,info:{duration:x/i,start:l,end:l+p-1}}),l+=p,u+=4,n=u}return{earliestPresentationTime:r,timescale:i,version:t,referencesCount:c,references:e}}function D_(s){const e=[],t=Ue(s,["moov","trak"]);for(let i=0;i<t.length;i++){const r=t[i],a=Ue(r,["tkhd"])[0];if(a){let l=a[0];const c=Re(a,l===0?12:20),f=Ue(r,["mdia","mdhd"])[0];if(f){l=f[0];const u=Re(f,l===0?12:20),h=Ue(r,["mdia","hdlr"])[0];if(h){const p=ns(h.subarray(8,12)),g={soun:mt.AUDIO,vide:mt.VIDEO}[p],x=Ue(r,["mdia","minf","stbl","stsd"])[0],y=wZ(x);g?(e[c]={timescale:u,type:g,stsd:y},e[g]=ct({timescale:u,id:c},y)):e[c]={timescale:u,type:p,stsd:y}}}}}return Ue(s,["moov","mvex","trex"]).forEach(i=>{const r=Re(i,4),a=e[r];a&&(a.default={duration:Re(i,12),flags:Re(i,20)})}),e}function wZ(s){const e=s.subarray(8),t=e.subarray(86),n=ns(e.subarray(4,8));let i=n,r;const a=n==="enca"||n==="encv";if(a){const f=Ue(e,[n])[0].subarray(n==="enca"?28:78);Ue(f,["sinf"]).forEach(h=>{const p=Ue(h,["schm"])[0];if(p){const g=ns(p.subarray(4,8));if(g==="cbcs"||g==="cenc"){const x=Ue(h,["frma"])[0];x&&(i=ns(x))}}})}const l=i;switch(i){case"avc1":case"avc2":case"avc3":case"avc4":{const c=Ue(t,["avcC"])[0];c&&c.length>3&&(i+="."+i0(c[1])+i0(c[2])+i0(c[3]),r=n0(l==="avc1"?"dva1":"dvav",t));break}case"mp4a":{const c=Ue(e,[n])[0],f=Ue(c.subarray(28),["esds"])[0];if(f&&f.length>7){let u=4;if(f[u++]!==3)break;u=Ux(f,u),u+=2;const h=f[u++];if(h&128&&(u+=2),h&64&&(u+=f[u++]),f[u++]!==4)break;u=Ux(f,u);const p=f[u++];if(p===64)i+="."+i0(p);else break;if(u+=12,f[u++]!==5)break;u=Ux(f,u);const g=f[u++];let x=(g&248)>>3;x===31&&(x+=1+((g&7)<<3)+((f[u]&224)>>5)),i+="."+x}break}case"hvc1":case"hev1":{const c=Ue(t,["hvcC"])[0];if(c&&c.length>12){const f=c[1],u=["","A","B","C"][f>>6],h=f&31,p=Re(c,2),g=(f&32)>>5?"H":"L",x=c[12],y=c.subarray(6,12);i+="."+u+h,i+="."+p.toString(16).toUpperCase(),i+="."+g+x;let v="";for(let w=y.length;w--;){const L=y[w];(L||v)&&(v="."+L.toString(16).toUpperCase()+v)}i+=v}r=n0(l=="hev1"?"dvhe":"dvh1",t);break}case"dvh1":case"dvhe":case"dvav":case"dva1":case"dav1":{i=n0(i,t)||i;break}case"vp09":{const c=Ue(t,["vpcC"])[0];if(c&&c.length>6){const f=c[4],u=c[5],h=c[6]>>4&15;i+="."+Bi(f)+"."+Bi(u)+"."+Bi(h)}break}case"av01":{const c=Ue(t,["av1C"])[0];if(c&&c.length>2){const f=c[1]>>>5,u=c[1]&31,h=c[2]>>>7?"H":"M",p=(c[2]&64)>>6,g=(c[2]&32)>>5,x=f===2&&p?g?12:10:p?10:8,y=(c[2]&16)>>4,v=(c[2]&8)>>3,w=(c[2]&4)>>2,L=c[2]&3;i+="."+f+"."+Bi(u)+h+"."+Bi(x)+"."+y+"."+v+w+L+"."+Bi(1)+"."+Bi(1)+"."+Bi(1)+"."+0,r=n0("dav1",t)}break}}return{codec:i,encrypted:a,supplemental:r}}function n0(s,e){const t=Ue(e,["dvvC"]),n=t.length?t[0]:Ue(e,["dvcC"])[0];if(n){const i=n[2]>>1&127,r=n[2]<<5&32|n[3]>>3&31;return s+"."+Bi(i)+"."+Bi(r)}}function Ux(s,e){const t=e+5;for(;s[e++]&128&&e<t;);return e}function i0(s){return("0"+s.toString(16).toUpperCase()).slice(-2)}function Bi(s){return(s<10?"0":"")+s}function SZ(s,e){if(!s||!e)return s;const t=e.keyId;return t&&e.isCommonEncryption&&Ue(s,["moov","trak"]).forEach(i=>{const a=Ue(i,["mdia","minf","stbl","stsd"])[0].subarray(8);let l=Ue(a,["enca"]);const c=l.length>0;c||(l=Ue(a,["encv"])),l.forEach(f=>{const u=c?f.subarray(28):f.subarray(78);Ue(u,["sinf"]).forEach(p=>{const g=P_(p);if(g){const x=g.subarray(8,24);x.some(y=>y!==0)||(st.log(`[eme] Patching keyId in 'enc${c?"a":"v"}>sinf>>tenc' box: ${$i.hexDump(x)} -> ${$i.hexDump(t)}`),g.set(t,8))}})})}),s}function P_(s){const e=Ue(s,["schm"])[0];if(e){const t=ns(e.subarray(4,8));if(t==="cbcs"||t==="cenc")return Ue(s,["schi","tenc"])[0]}return null}function LZ(s,e){return Ue(e,["moof","traf"]).reduce((t,n)=>{const i=Ue(n,["tfdt"])[0],r=i[0],a=Ue(n,["tfhd"]).reduce((l,c)=>{const f=Re(c,4),u=s[f];if(u){let h=Re(i,4);if(r===1){if(h===$m)return st.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),l;h*=$m+1,h+=Re(i,8)}const p=u.timescale||9e4,g=h/p;if(we(g)&&(l===null||g<l))return g}return l},null);return a!==null&&we(a)&&(t===null||a<t)?a:t},null)}function CZ(s,e){let t=0,n=0,i=0;const r=Ue(s,["moof","traf"]);for(let a=0;a<r.length;a++){const l=r[a],c=Ue(l,["tfhd"])[0],f=Re(c,4),u=e[f];if(!u)continue;const h=u.default,p=Re(c,0)|(h==null?void 0:h.flags);let g=h==null?void 0:h.duration;p&8&&(p&2?g=Re(c,12):g=Re(c,8));const x=u.timescale||9e4,y=Ue(l,["trun"]);for(let v=0;v<y.length;v++){if(t=TZ(y[v]),!t&&g){const w=Re(y[v],4);t=g*w}u.type===mt.VIDEO?n+=t/x:u.type===mt.AUDIO&&(i+=t/x)}}if(n===0&&i===0){let a=1/0,l=0,c=0;const f=Ue(s,["sidx"]);for(let u=0;u<f.length;u++){const h=vZ(f[u]);if(h!=null&&h.references){a=Math.min(a,h.earliestPresentationTime/h.timescale);const p=h.references.reduce((g,x)=>g+x.info.duration||0,0);l=Math.max(l,p+h.earliestPresentationTime/h.timescale),c=l-a}}if(c&&we(c))return c}return n||i}function TZ(s){const e=Re(s,0);let t=8;e&1&&(t+=4),e&4&&(t+=4);let n=0;const i=Re(s,4);for(let r=0;r<i;r++){if(e&256){const a=Re(s,t);n+=a,t+=4}e&512&&(t+=4),e&1024&&(t+=4),e&2048&&(t+=4)}return n}function jZ(s,e,t){Ue(e,["moof","traf"]).forEach(n=>{Ue(n,["tfhd"]).forEach(i=>{const r=Re(i,4),a=s[r];if(!a)return;const l=a.timescale||9e4;Ue(n,["tfdt"]).forEach(c=>{const f=c[0],u=t*l;if(u){let h=Re(c,4);if(f===0)h-=u,h=Math.max(h,0),Bx(c,4,h);else{h*=Math.pow(2,32),h+=Re(c,8),h-=u,h=Math.max(h,0);const p=Math.floor(h/($m+1)),g=Math.floor(h%($m+1));Bx(c,4,p),Bx(c,8,g)}}})})})}function EZ(s){const e={valid:null,remainder:null},t=Ue(s,["moof"]);if(t.length<2)return e.remainder=s,e;const n=t[t.length-1];return e.valid=s.slice(0,n.byteOffset-8),e.remainder=s.slice(n.byteOffset-8),e}function ni(s,e){const t=new Uint8Array(s.length+e.length);return t.set(s),t.set(e,s.length),t}function jj(s,e){const t=[],n=e.samples,i=e.timescale,r=e.id;let a=!1;return Ue(n,["moof"]).map(c=>{const f=c.byteOffset-8;Ue(c,["traf"]).map(h=>{const p=Ue(h,["tfdt"]).map(g=>{const x=g[0];let y=Re(g,4);return x===1&&(y*=Math.pow(2,32),y+=Re(g,8)),y/i})[0];return p!==void 0&&(s=p),Ue(h,["tfhd"]).map(g=>{const x=Re(g,4),y=Re(g,0)&16777215,v=(y&1)!==0,w=(y&2)!==0,L=(y&8)!==0;let S=0;const j=(y&16)!==0;let E=0;const M=(y&32)!==0;let N=8;x===r&&(v&&(N+=8),w&&(N+=4),L&&(S=Re(g,N),N+=4),j&&(E=Re(g,N),N+=4),M&&(N+=4),e.type==="video"&&(a=Pp(e.codec)),Ue(h,["trun"]).map(I=>{const A=I[0],D=Re(I,0)&16777215,z=(D&1)!==0;let O=0;const Y=(D&4)!==0,q=(D&256)!==0;let Z=0;const V=(D&512)!==0;let H=0;const F=(D&1024)!==0,B=(D&2048)!==0;let U=0;const $=Re(I,4);let K=8;z&&(O=Re(I,K),K+=4),Y&&(K+=4);let ce=O+f;for(let he=0;he<$;he++){if(q?(Z=Re(I,K),K+=4):Z=S,V?(H=Re(I,K),K+=4):H=E,F&&(K+=4),B&&(A===0?U=Re(I,K):U=A_(I,K),K+=4),e.type===mt.VIDEO){let xe=0;for(;xe<H;){const ve=Re(n,ce);if(ce+=4,NZ(a,n[ce])){const ye=n.subarray(ce,ce+ve);K2(ye,a?2:1,s+U/i,t)}ce+=ve,xe+=ve+4}}s+=Z/i}}))})})}),t}function Pp(s){if(!s)return!1;const e=s.substring(0,4);return e==="hvc1"||e==="hev1"||e==="dvh1"||e==="dvhe"}function NZ(s,e){if(s){const t=e>>1&63;return t===39||t===40}else return(e&31)===6}function K2(s,e,t,n){const i=R_(s);let r=0;r+=e;let a=0,l=0,c=0;for(;r<i.length;){a=0;do{if(r>=i.length)break;c=i[r++],a+=c}while(c===255);l=0;do{if(r>=i.length)break;c=i[r++],l+=c}while(c===255);const f=i.length-r;let u=r;if(l<f)r+=l;else if(l>f){st.error(`Malformed SEI payload. ${l} is too small, only ${f} bytes left to parse.`);break}if(a===4){if(i[u++]===181){const p=__(i,u);if(u+=2,p===49){const g=Re(i,u);if(u+=4,g===1195456820){const x=i[u++];if(x===3){const y=i[u++],v=31&y,w=64&y,L=w?2+v*3:0,S=new Uint8Array(L);if(w){S[0]=y;for(let j=1;j<L;j++)S[j]=i[u++]}n.push({type:x,payloadType:a,pts:t,bytes:S})}}}}}else if(a===5&&l>16){const h=[];for(let x=0;x<16;x++){const y=i[u++].toString(16);h.push(y.length==1?"0"+y:y),(x===3||x===5||x===7||x===9)&&h.push("-")}const p=l-16,g=new Uint8Array(p);for(let x=0;x<p;x++)g[x]=i[u++];n.push({payloadType:a,pts:t,uuid:h.join(""),userData:Mn(g),userDataBytes:g})}}}function R_(s){const e=s.byteLength,t=[];let n=1;for(;n<e-2;)s[n]===0&&s[n+1]===0&&s[n+2]===3?(t.push(n+2),n+=2):n++;if(t.length===0)return s;const i=e-t.length,r=new Uint8Array(i);let a=0;for(n=0;n<i;a++,n++)a===t[0]&&(a++,t.shift()),r[n]=s[a];return r}function MZ(s){const e=s[0];let t="",n="",i=0,r=0,a=0,l=0,c=0,f=0;if(e===0){for(;ns(s.subarray(f,f+1))!=="\0";)t+=ns(s.subarray(f,f+1)),f+=1;for(t+=ns(s.subarray(f,f+1)),f+=1;ns(s.subarray(f,f+1))!=="\0";)n+=ns(s.subarray(f,f+1)),f+=1;n+=ns(s.subarray(f,f+1)),f+=1,i=Re(s,12),r=Re(s,16),l=Re(s,20),c=Re(s,24),f=28}else if(e===1){f+=4,i=Re(s,f),f+=4;const h=Re(s,f);f+=4;const p=Re(s,f);for(f+=4,a=2**32*h+p,iZ(a)||(a=Number.MAX_SAFE_INTEGER,st.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),l=Re(s,f),f+=4,c=Re(s,f),f+=4;ns(s.subarray(f,f+1))!=="\0";)t+=ns(s.subarray(f,f+1)),f+=1;for(t+=ns(s.subarray(f,f+1)),f+=1;ns(s.subarray(f,f+1))!=="\0";)n+=ns(s.subarray(f,f+1)),f+=1;n+=ns(s.subarray(f,f+1)),f+=1}const u=s.subarray(f,s.byteLength);return{schemeIdUri:t,value:n,timeScale:i,presentationTime:a,presentationTimeDelta:r,eventDuration:l,id:c,payload:u}}function kZ(s,...e){const t=e.length;let n=8,i=t;for(;i--;)n+=e[i].byteLength;const r=new Uint8Array(n);for(r[0]=n>>24&255,r[1]=n>>16&255,r[2]=n>>8&255,r[3]=n&255,r.set(s,4),i=0,n=8;i<t;i++)r.set(e[i],n),n+=e[i].byteLength;return r}function IZ(s,e,t){if(s.byteLength!==16)throw new RangeError("Invalid system id");let n,i;n=0,i=new Uint8Array;let r;n>0?(r=new Uint8Array(4),e.length>0&&new DataView(r.buffer).setUint32(0,e.length,!1)):r=new Uint8Array;const a=new Uint8Array(4);return t&&t.byteLength>0&&new DataView(a.buffer).setUint32(0,t.byteLength,!1),kZ([112,115,115,104],new Uint8Array([n,0,0,0]),s,r,i,a,t||new Uint8Array)}function _Z(s){const e=[];if(s instanceof ArrayBuffer){const t=s.byteLength;let n=0;for(;n+32<t;){const i=new DataView(s,n),r=AZ(i);e.push(r),n+=r.size}}return e}function AZ(s){const e=s.getUint32(0),t=s.byteOffset,n=s.byteLength;if(n<e)return{offset:t,size:n};if(s.getUint32(4)!==1886614376)return{offset:t,size:e};const r=s.getUint32(8)>>>24;if(r!==0&&r!==1)return{offset:t,size:e};const a=s.buffer,l=$i.hexDump(new Uint8Array(a,t+12,16)),c=s.getUint32(28);let f=null,u=null;if(r===0){if(e-32<c||c<22)return{offset:t,size:e};u=new Uint8Array(a,t+32,c)}else if(r===1){if(!c||n<t+32+c*16+16)return{offset:t,size:e};f=[];for(let h=0;h<c;h++)f.push(new Uint8Array(a,t+32+h*16,16))}return{version:r,systemId:l,kids:f,data:u,offset:t,size:e}}const O_=()=>/\(Windows.+Firefox\//i.test(navigator.userAgent),uc={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,dav1:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function F_(s,e){const t=uc[e];return!!t&&!!t[s.slice(0,4)]}function Ob(s,e,t=!0){return!s.split(",").some(n=>!z_(n,e,t))}function z_(s,e,t=!0){var n;const i=Oa(t);return(n=i==null?void 0:i.isTypeSupported(Bu(s,e)))!=null?n:!1}function Bu(s,e){return`${e}/mp4;codecs=${s}`}function Ej(s){if(s){const e=s.substring(0,4);return uc.video[e]}return 2}function Vm(s){const e=O_();return s.split(",").reduce((t,n)=>{const r=e&&Pp(n)?9:uc.video[n];return r?(r*2+t)/(t?3:2):(uc.audio[n]+t)/(t?2:1)},0)}const $x={};function DZ(s,e=!0){if($x[s])return $x[s];const t={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"],"mp4a.40.34":["mp3"]}[s];for(let i=0;i<t.length;i++){var n;if(z_(t[i],"audio",e))return $x[s]=t[i],t[i];if(t[i]==="mp3"&&(n=Oa(e))!=null&&n.isTypeSupported("audio/mpeg"))return""}return s}const PZ=/flac|opus|mp4a\.40\.34/i;function Gm(s,e=!0){return s.replace(PZ,t=>DZ(t.toLowerCase(),e))}function RZ(s,e){const t=[];if(s){const n=s.split(",");for(let i=0;i<n.length;i++)F_(n[i],"video")||t.push(n[i])}return e&&t.push(e),t.join(",")}function K0(s,e){if(s&&(s.length>4||["ac-3","ec-3","alac","fLaC","Opus"].indexOf(s)!==-1))return s;if(e){const t=e.split(",");if(t.length>1){if(s){for(let n=t.length;n--;)if(t[n].substring(0,4)===s.substring(0,4))return t[n]}return t[0]}}return e||s}function OZ(s){const e=s.split(",");for(let t=0;t<e.length;t++){const n=e[t].split(".");if(n.length>2){let i=n.shift()+".";i+=parseInt(n.shift()).toString(16),i+=("000"+parseInt(n.shift()).toString(16)).slice(-4),e[t]=i}}return e.join(",")}function FZ(s){if(s.startsWith("av01.")){const e=s.split("."),t=["0","111","01","01","01","0"];for(let n=e.length;n>4&&n<10;n++)e[n]=t[n-4];return e.join(".")}return s}function Nj(s){const e=Oa(s)||{isTypeSupported:()=>!1};return{mpeg:e.isTypeSupported("audio/mpeg"),mp3:e.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:e.isTypeSupported('audio/mp4; codecs="ac-3"')}}function B_(s){return s.replace(/^.+codecs=["']?([^"']+).*$/,"$1")}const U_={supported:!0,configurations:[],decodingInfoResults:[{supported:!0,powerEfficient:!0,smooth:!0}]};function $_(s,e){return{supported:!1,configurations:e,decodingInfoResults:[{supported:!1,smooth:!1,powerEfficient:!1}],error:s}}const Mj={};function zZ(s,e,t,n,i,r){const a=s.audioCodec?s.audioGroups:null,l=r==null?void 0:r.audioCodec,c=r==null?void 0:r.channels,f=c?parseInt(c):l?1/0:2;let u=null;if(a!=null&&a.length)try{a.length===1&&a[0]?u=e.groups[a[0]].channels:u=a.reduce((h,p)=>{if(p){const g=e.groups[p];if(!g)throw new Error(`Audio track group ${p} not found`);Object.keys(g.channels).forEach(x=>{h[x]=(h[x]||0)+g.channels[x]})}return h},{2:0})}catch{return!0}return s.videoCodec!==void 0&&(s.width>1920&&s.height>1088||s.height>1920&&s.width>1088||s.frameRate>Math.max(n,30)||s.videoRange!=="SDR"&&s.videoRange!==t||s.bitrate>Math.max(i,8e6))||!!u&&we(f)&&Object.keys(u).some(h=>parseInt(h)>f)}function V_(s,e,t){const n=s.videoCodec,i=s.audioCodec;if(!n&&!i||!t)return Promise.resolve(U_);const r=[];if(n){const a={width:s.width,height:s.height,bitrate:Math.ceil(Math.max(s.bitrate*.9,s.averageBitrate)),framerate:s.frameRate||30},l=s.videoRange;l!=="SDR"&&(a.transferFunction=l.toLowerCase());const c=n.split(","),f=navigator.userAgent;if(c.some(u=>Pp(u))&&O_())return Promise.resolve($_(new Error(`Overriding Windows Firefox HEVC MediaCapabilities result based on user-agent sting: (${f})`),r));r.push.apply(r,c.map(u=>({type:"media-source",video:ct(ct({},a),{},{contentType:Bu(FZ(u),"video")})})))}return i&&s.audioGroups&&s.audioGroups.forEach(a=>{var l;a&&((l=e.groups[a])==null||l.tracks.forEach(c=>{if(c.groupId===a){const f=c.channels||"",u=parseFloat(f);we(u)&&u>2&&r.push.apply(r,i.split(",").map(h=>({type:"media-source",audio:{contentType:Bu(h,"audio"),channels:""+u}})))}}))}),Promise.all(r.map(a=>{const l=BZ(a);return Mj[l]||(Mj[l]=t.decodingInfo(a))})).then(a=>({supported:!a.some(l=>!l.supported),configurations:r,decodingInfoResults:a})).catch(a=>({supported:!1,configurations:r,decodingInfoResults:[],error:a}))}function BZ(s){const{audio:e,video:t}=s,n=t||e;if(n){const i=B_(n.contentType);if(t)return`r${t.height}x${t.width}f${Math.ceil(t.framerate)}${t.transferFunction||"sd"}_${i}_${Math.ceil(t.bitrate/1e5)}`;if(e)return`c${e.channels}${e.spatialRendering?"s":"n"}_${i}`}return""}const Fb=["NONE","TYPE-0","TYPE-1",null];function UZ(s){return Fb.indexOf(s)>-1}const Hm=["SDR","PQ","HLG"];function $Z(s){return!!s&&Hm.indexOf(s)>-1}var J0={No:"",Yes:"YES",v2:"v2"};function kj(s){const{canSkipUntil:e,canSkipDateRanges:t,age:n}=s,i=n<e/2;return e&&i?t?J0.v2:J0.Yes:J0.No}class Ij{constructor(e,t,n){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=t,this.skip=n}addDirectives(e){const t=new self.URL(e);return this.msn!==void 0&&t.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&t.searchParams.set("_HLS_part",this.part.toString()),this.skip&&t.searchParams.set("_HLS_skip",this.skip),t.href}}class Uu{constructor(e){if(this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.supplemental=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.frameRate=e.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=e.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.codecSet=[e.videoCodec,e.audioCodec].filter(n=>!!n).map(n=>n.substring(0,4)).join(","),"supplemental"in e){var t;this.supplemental=e.supplemental;const n=(t=e.supplemental)==null?void 0:t.videoCodec;n&&n!==e.videoCodec&&(this.codecSet+=`,${n.substring(0,4)}`)}this.addGroupId("audio",e.attrs.AUDIO),this.addGroupId("text",e.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(e){return _j(this._audioGroups,e)}hasSubtitleGroup(e){return _j(this._subtitleGroups,e)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(e,t){if(t){if(e==="audio"){let n=this._audioGroups;n||(n=this._audioGroups=[]),n.indexOf(t)===-1&&n.push(t)}else if(e==="text"){let n=this._subtitleGroups;n||(n=this._subtitleGroups=[]),n.indexOf(t)===-1&&n.push(t)}}}get urlId(){return 0}set urlId(e){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var e;return(e=this.audioGroups)==null?void 0:e[0]}get textGroupId(){var e;return(e=this.subtitleGroups)==null?void 0:e[0]}addFallback(){}}function _j(s,e){return!e||!s?!1:s.indexOf(e)!==-1}function VZ(){if(typeof matchMedia=="function"){const s=matchMedia("(dynamic-range: high)"),e=matchMedia("bad query");if(s.media!==e.media)return s.matches===!0}return!1}function GZ(s,e){let t=!1,n=[];if(s&&(t=s!=="SDR",n=[s]),e){n=e.allowedVideoRanges||Hm.slice(0);const i=n.join("")!=="SDR"&&!e.videoCodec;t=e.preferHDR!==void 0?e.preferHDR:i&&VZ(),t||(n=["SDR"])}return{preferHDR:t,allowedVideoRanges:n}}const HZ=s=>{const e=new WeakSet;return(t,n)=>{if(s&&(n=s(t,n)),typeof n=="object"&&n!==null){if(e.has(n))return;e.add(n)}return n}},Ct=(s,e)=>JSON.stringify(s,HZ(e));function YZ(s,e,t,n,i){const r=Object.keys(s),a=n==null?void 0:n.channels,l=n==null?void 0:n.audioCodec,c=i==null?void 0:i.videoCodec,f=a&&parseInt(a)===2;let u=!1,h=!1,p=1/0,g=1/0,x=1/0,y=1/0,v=0,w=[];const{preferHDR:L,allowedVideoRanges:S}=GZ(e,i);for(let I=r.length;I--;){const A=s[r[I]];u||(u=A.channels[2]>0),p=Math.min(p,A.minHeight),g=Math.min(g,A.minFramerate),x=Math.min(x,A.minBitrate),S.filter(z=>A.videoRanges[z]>0).length>0&&(h=!0)}p=we(p)?p:0,g=we(g)?g:0;const j=Math.max(1080,p),E=Math.max(30,g);x=we(x)?x:t,t=Math.max(x,t),h||(e=void 0);const M=r.length>1;return{codecSet:r.reduce((I,A)=>{const D=s[A];if(A===I)return I;if(w=h?S.filter(z=>D.videoRanges[z]>0):[],M){if(D.minBitrate>t)return Oi(A,`min bitrate of ${D.minBitrate} > current estimate of ${t}`),I;if(!D.hasDefaultAudio)return Oi(A,"no renditions with default or auto-select sound found"),I;if(l&&A.indexOf(l.substring(0,4))%5!==0)return Oi(A,`audio codec preference "${l}" not found`),I;if(a&&!f){if(!D.channels[a])return Oi(A,`no renditions with ${a} channel sound found (channels options: ${Object.keys(D.channels)})`),I}else if((!l||f)&&u&&D.channels[2]===0)return Oi(A,"no renditions with stereo sound found"),I;if(D.minHeight>j)return Oi(A,`min resolution of ${D.minHeight} > maximum of ${j}`),I;if(D.minFramerate>E)return Oi(A,`min framerate of ${D.minFramerate} > maximum of ${E}`),I;if(!w.some(z=>D.videoRanges[z]>0))return Oi(A,`no variants with VIDEO-RANGE of ${Ct(w)} found`),I;if(c&&A.indexOf(c.substring(0,4))%5!==0)return Oi(A,`video codec preference "${c}" not found`),I;if(D.maxScore<v)return Oi(A,`max score of ${D.maxScore} < selected max of ${v}`),I}return I&&(Vm(A)>=Vm(I)||D.fragmentError>s[I].fragmentError)?I:(y=D.minIndex,v=D.maxScore,A)},void 0),videoRanges:w,preferHDR:L,minFramerate:g,minBitrate:x,minIndex:y}}function Oi(s,e){st.log(`[abr] start candidates with "${s}" ignored because ${e}`)}function G_(s){return s.reduce((e,t)=>{let n=e.groups[t.groupId];n||(n=e.groups[t.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),n.tracks.push(t);const i=t.channels||"2";return n.channels[i]=(n.channels[i]||0)+1,n.hasDefault=n.hasDefault||t.default,n.hasAutoSelect=n.hasAutoSelect||t.autoselect,n.hasDefault&&(e.hasDefaultAudio=!0),n.hasAutoSelect&&(e.hasAutoSelectAudio=!0),e},{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function WZ(s,e,t,n){return s.slice(t,n+1).reduce((i,r,a)=>{if(!r.codecSet)return i;const l=r.audioGroups;let c=i[r.codecSet];c||(i[r.codecSet]=c={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,minIndex:a,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!l,fragmentError:0}),c.minBitrate=Math.min(c.minBitrate,r.bitrate);const f=Math.min(r.height,r.width);return c.minHeight=Math.min(c.minHeight,f),c.minFramerate=Math.min(c.minFramerate,r.frameRate),c.minIndex=Math.min(c.minIndex,a),c.maxScore=Math.max(c.maxScore,r.score),c.fragmentError+=r.fragmentError,c.videoRanges[r.videoRange]=(c.videoRanges[r.videoRange]||0)+1,l&&l.forEach(u=>{if(!u)return;const h=e.groups[u];h&&(c.hasDefaultAudio=c.hasDefaultAudio||e.hasDefaultAudio?h.hasDefault:h.hasAutoSelect||!e.hasDefaultAudio&&!e.hasAutoSelectAudio,Object.keys(h.channels).forEach(p=>{c.channels[p]=(c.channels[p]||0)+h.channels[p]}))}),i},{})}function Aj(s){if(!s)return s;const{lang:e,assocLang:t,characteristics:n,channels:i,audioCodec:r}=s;return{lang:e,assocLang:t,characteristics:n,channels:i,audioCodec:r}}function Qi(s,e,t){if("attrs"in s){const n=e.indexOf(s);if(n!==-1)return n}for(let n=0;n<e.length;n++){const i=e[n];if(Oo(s,i,t))return n}return-1}function Oo(s,e,t){const{groupId:n,name:i,lang:r,assocLang:a,default:l}=s,c=s.forced;return(n===void 0||e.groupId===n)&&(i===void 0||e.name===i)&&(r===void 0||QZ(r,e.lang))&&(r===void 0||e.assocLang===a)&&(l===void 0||e.default===l)&&(c===void 0||e.forced===c)&&(!("characteristics"in s)||KZ(s.characteristics||"",e.characteristics))&&(t===void 0||t(s,e))}function QZ(s,e="--"){return s.length===e.length?s===e:s.startsWith(e)||e.startsWith(s)}function KZ(s,e=""){const t=s.split(","),n=e.split(",");return t.length===n.length&&!t.some(i=>n.indexOf(i)===-1)}function bo(s,e){const{audioCodec:t,channels:n}=s;return(t===void 0||(e.audioCodec||"").substring(0,4)===t.substring(0,4))&&(n===void 0||n===(e.channels||"2"))}function JZ(s,e,t,n,i){const r=e[n],l=e.reduce((p,g,x)=>{const y=g.uri;return(p[y]||(p[y]=[])).push(x),p},{})[r.uri];l.length>1&&(n=Math.max.apply(Math,l));const c=r.videoRange,f=r.frameRate,u=r.codecSet.substring(0,4),h=Dj(e,n,p=>{if(p.videoRange!==c||p.frameRate!==f||p.codecSet.substring(0,4)!==u)return!1;const g=p.audioGroups,x=t.filter(y=>!g||g.indexOf(y.groupId)!==-1);return Qi(s,x,i)>-1});return h>-1?h:Dj(e,n,p=>{const g=p.audioGroups,x=t.filter(y=>!g||g.indexOf(y.groupId)!==-1);return Qi(s,x,i)>-1})}function Dj(s,e,t){for(let n=e;n>-1;n--)if(t(s[n]))return n;for(let n=e+1;n<s.length;n++)if(t(s[n]))return n;return-1}function Ym(s,e){var t;return!!s&&s!==((t=e.loadLevelObj)==null?void 0:t.uri)}class qZ extends $r{constructor(e){super("abr",e.logger),this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.rebufferNotice=-1,this.bwEstimator=void 0,this._abandonRulesCheck=t=>{var n;const{fragCurrent:i,partCurrent:r,hls:a}=this,{autoLevelEnabled:l,media:c}=a;if(!i||!c)return;const f=performance.now(),u=r?r.stats:i.stats,h=r?r.duration:i.duration,p=f-u.loading.start,g=a.minAutoLevel,x=i.level,y=this._nextAutoLevel;if(u.aborted||u.loaded&&u.loaded===u.total||x<=g){this.clearTimer(),this._nextAutoLevel=-1;return}if(!l)return;const v=y>-1&&y!==x,w=!!t||v;if(!w&&(c.paused||!c.playbackRate||!c.readyState))return;const L=a.mainForwardBufferInfo;if(!w&&L===null)return;const S=this.bwEstimator.getEstimateTTFB(),j=Math.abs(c.playbackRate);if(p<=Math.max(S,1e3*(h/(j*2))))return;const E=L?L.len/j:0,M=u.loading.first?u.loading.first-u.loading.start:-1,N=u.loaded&&M>-1,I=this.getBwEstimate(),A=a.levels,D=A[x],z=Math.max(u.loaded,Math.round(h*(i.bitrate||D.averageBitrate)/8));let O=N?p-M:p;O<1&&N&&(O=Math.min(p,u.loaded*8/I));const Y=N?u.loaded*1e3/O:0,q=S/1e3,Z=Y?(z-u.loaded)/Y:z*8/I+q;if(Z<=E)return;const V=Y?Y*8:I,H=((n=(t==null?void 0:t.details)||this.hls.latestLevelDetails)==null?void 0:n.live)===!0,F=this.hls.config.abrBandWidthUpFactor;let B=Number.POSITIVE_INFINITY,U;for(U=x-1;U>g;U--){const he=A[U].maxBitrate,xe=!A[U].details||H;if(B=this.getTimeToLoadFrag(q,V,h*he,xe),B<Math.min(E,h+q))break}if(B>=Z||B>h*10)return;N?this.bwEstimator.sample(p-Math.min(S,M),u.loaded):this.bwEstimator.sampleTTFB(p);const $=A[U].maxBitrate;this.getBwEstimate()*F>$&&this.resetEstimator($);const K=this.findBestLevel($,g,U,0,E,1,1);K>-1&&(U=K),this.warn(`Fragment ${i.sn}${r?" part "+r.index:""} of level ${x} is loading too slowly;
      Fragment duration: ${i.duration.toFixed(3)}
      Time to underbuffer: ${E.toFixed(3)} s
      Estimated load time for current fragment: ${Z.toFixed(3)} s
      Estimated load time for down switch fragment: ${B.toFixed(3)} s
      TTFB estimate: ${M|0} ms
      Current BW estimate: ${we(I)?I|0:"Unknown"} bps
      New BW estimate: ${this.getBwEstimate()|0} bps
      Switching to level ${U} @ ${$|0} bps`),a.nextLoadLevel=a.nextAutoLevel=U,this.clearTimer();const ce=()=>{if(this.clearTimer(),this.fragCurrent===i&&this.hls.loadLevel===U&&U>0){const he=this.getStarvationDelay();if(this.warn(`Aborting inflight request ${U>0?"and switching down":""}
      Fragment duration: ${i.duration.toFixed(3)} s
      Time to underbuffer: ${he.toFixed(3)} s`),i.abortRequests(),this.fragCurrent=this.partCurrent=null,U>g){let xe=this.findBestLevel(this.hls.levels[g].bitrate,g,U,0,he,1,1);xe===-1&&(xe=g),this.hls.nextLoadLevel=this.hls.nextAutoLevel=xe,this.resetEstimator(this.hls.levels[xe].bitrate)}}};v||Z>B*2?ce():this.timer=self.setInterval(ce,B*1e3),a.trigger(P.FRAG_LOAD_EMERGENCY_ABORTED,{frag:i,part:r,stats:u})},this.hls=e,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(e){e&&(this.log(`setting initial bwe to ${e}`),this.hls.config.abrEwmaDefaultEstimate=e),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const e=this.hls.config;return new aZ(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate)}registerListeners(){const{hls:e}=this;e.on(P.MANIFEST_LOADING,this.onManifestLoading,this),e.on(P.FRAG_LOADING,this.onFragLoading,this),e.on(P.FRAG_LOADED,this.onFragLoaded,this),e.on(P.FRAG_BUFFERED,this.onFragBuffered,this),e.on(P.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(P.LEVEL_LOADED,this.onLevelLoaded,this),e.on(P.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(P.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.on(P.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e&&(e.off(P.MANIFEST_LOADING,this.onManifestLoading,this),e.off(P.FRAG_LOADING,this.onFragLoading,this),e.off(P.FRAG_LOADED,this.onFragLoaded,this),e.off(P.FRAG_BUFFERED,this.onFragBuffered,this),e.off(P.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(P.LEVEL_LOADED,this.onLevelLoaded,this),e.off(P.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(P.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.off(P.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(e,t){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(e,t){const n=t.frag;if(!this.ignoreFragment(n)){if(!n.bitrateTest){var i;this.fragCurrent=n,this.partCurrent=(i=t.part)!=null?i:null}this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(e,t){this.clearTimer()}onError(e,t){if(!t.fatal)switch(t.details){case te.BUFFER_ADD_CODEC_ERROR:case te.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case te.FRAG_LOAD_TIMEOUT:{const n=t.frag,{fragCurrent:i,partCurrent:r}=this;if(n&&i&&n.sn===i.sn&&n.level===i.level){const a=performance.now(),l=r?r.stats:n.stats,c=a-l.loading.start,f=l.loading.first?l.loading.first-l.loading.start:-1;if(l.loaded&&f>-1){const h=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(c-Math.min(h,f),l.loaded)}else this.bwEstimator.sampleTTFB(c)}break}}}getTimeToLoadFrag(e,t,n,i){const r=e+n/t,a=i?e+this.lastLevelLoadSec:0;return r+a}onLevelLoaded(e,t){const n=this.hls.config,{loading:i}=t.stats,r=i.end-i.first;we(r)&&(this.lastLevelLoadSec=r/1e3),t.details.live?this.bwEstimator.update(n.abrEwmaSlowLive,n.abrEwmaFastLive):this.bwEstimator.update(n.abrEwmaSlowVoD,n.abrEwmaFastVoD),this.timer>-1&&this._abandonRulesCheck(t.levelInfo)}onFragLoaded(e,{frag:t,part:n}){const i=n?n.stats:t.stats;if(t.type===Me.MAIN&&this.bwEstimator.sampleTTFB(i.loading.first-i.loading.start),!this.ignoreFragment(t)){if(this.clearTimer(),t.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const r=n?n.duration:t.duration,a=this.hls.levels[t.level],l=(a.loaded?a.loaded.bytes:0)+i.loaded,c=(a.loaded?a.loaded.duration:0)+r;a.loaded={bytes:l,duration:c},a.realBitrate=Math.round(8*l/c)}if(t.bitrateTest){const r={stats:i,frag:t,part:n,id:t.type};this.onFragBuffered(P.FRAG_BUFFERED,r),t.bitrateTest=!1}else this.lastLoadedFragLevel=t.level}}onFragBuffered(e,t){const{frag:n,part:i}=t,r=i!=null&&i.stats.loaded?i.stats:n.stats;if(r.aborted||this.ignoreFragment(n))return;const a=r.parsing.end-r.loading.start-Math.min(r.loading.first-r.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(a,r.loaded),r.bwEstimate=this.getBwEstimate(),n.bitrateTest?this.bitrateTestDelay=a/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==Me.MAIN||e.sn==="initSegment"}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:e,minAutoLevel:t}=this.hls,n=this.getBwEstimate(),i=this.hls.config.maxStarvationDelay,r=this.findBestLevel(n,t,e,0,i,1,1);if(r>-1)return r;const a=this.hls.firstLevel,l=Math.min(Math.max(a,t),e);return this.warn(`Could not find best starting auto level. Defaulting to first in playlist ${a} clamped to ${l}`),l}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const e=this.forcedAutoLevel,n=this.bwEstimator.canEstimate(),i=this.lastLoadedFragLevel>-1;if(e!==-1&&(!n||!i||this.nextAutoLevelKey===this.getAutoLevelKey()))return e;const r=n&&i?this.getNextABRAutoLevel():this.firstAutoLevel;if(e!==-1){const a=this.hls.levels;if(a.length>Math.max(e,r)&&a[e].loadError<=a[r].loadError)return e}return this._nextAutoLevel=r,this.nextAutoLevelKey=this.getAutoLevelKey(),r}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:e,partCurrent:t,hls:n}=this;if(n.levels.length<=1)return n.loadLevel;const{maxAutoLevel:i,config:r,minAutoLevel:a}=n,l=t?t.duration:e?e.duration:0,c=this.getBwEstimate(),f=this.getStarvationDelay();let u=r.abrBandWidthFactor,h=r.abrBandWidthUpFactor;if(f){const v=this.findBestLevel(c,a,i,f,0,u,h);if(v>=0)return this.rebufferNotice=-1,v}let p=l?Math.min(l,r.maxStarvationDelay):r.maxStarvationDelay;if(!f){const v=this.bitrateTestDelay;v&&(p=(l?Math.min(l,r.maxLoadingDelay):r.maxLoadingDelay)-v,this.info(`bitrate test took ${Math.round(1e3*v)}ms, set first fragment max fetchDuration to ${Math.round(1e3*p)} ms`),u=h=1)}const g=this.findBestLevel(c,a,i,f,p,u,h);if(this.rebufferNotice!==g&&(this.rebufferNotice=g,this.info(`${f?"rebuffering expected":"buffer is empty"}, optimal quality level ${g}`)),g>-1)return g;const x=n.levels[a],y=n.loadLevelObj;return y&&(x==null?void 0:x.bitrate)<y.bitrate?a:n.loadLevel}getStarvationDelay(){const e=this.hls,t=e.media;if(!t)return 1/0;const n=t&&t.playbackRate!==0?Math.abs(t.playbackRate):1,i=e.mainForwardBufferInfo;return(i?i.len:0)/n}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(e,t,n,i,r,a,l){var c;const f=i+r,u=this.lastLoadedFragLevel,h=u===-1?this.hls.firstLevel:u,{fragCurrent:p,partCurrent:g}=this,{levels:x,allAudioTracks:y,loadLevel:v,config:w}=this.hls;if(x.length===1)return 0;const L=x[h],S=!!((c=this.hls.latestLevelDetails)!=null&&c.live),j=v===-1||u===-1;let E,M="SDR",N=(L==null?void 0:L.frameRate)||0;const{audioPreference:I,videoPreference:A}=w,D=this.audioTracksByGroup||(this.audioTracksByGroup=G_(y));let z=-1;if(j){if(this.firstSelection!==-1)return this.firstSelection;const V=this.codecTiers||(this.codecTiers=WZ(x,D,t,n)),H=YZ(V,M,e,I,A),{codecSet:F,videoRanges:B,minFramerate:U,minBitrate:$,minIndex:K,preferHDR:ce}=H;z=K,E=F,M=ce?B[B.length-1]:B[0],N=U,e=Math.max(e,$),this.log(`picked start tier ${Ct(H)}`)}else E=L==null?void 0:L.codecSet,M=L==null?void 0:L.videoRange;const O=g?g.duration:p?p.duration:0,Y=this.bwEstimator.getEstimateTTFB()/1e3,q=[];for(let V=n;V>=t;V--){var Z;const H=x[V],F=V>h;if(!H)continue;if(w.useMediaCapabilities&&!H.supportedResult&&!H.supportedPromise){const xe=navigator.mediaCapabilities;typeof(xe==null?void 0:xe.decodingInfo)=="function"&&(zZ(H,D,M,N,e,I)||Pp(H.videoCodec))?(H.supportedPromise=V_(H,D,xe),H.supportedPromise.then(ve=>{if(!this.hls)return;H.supportedResult=ve;const ye=this.hls.levels,be=ye.indexOf(H);ve.error?this.warn(`MediaCapabilities decodingInfo error: "${ve.error}" for level ${be} ${Ct(ve)}`):ve.supported||(this.warn(`Unsupported MediaCapabilities decodingInfo result for level ${be} ${Ct(ve)}`),be>-1&&ye.length>1&&(this.log(`Removing unsupported level ${be}`),this.hls.removeLevel(be),this.hls.loadLevel===-1&&(this.hls.nextLoadLevel=0)))})):H.supportedResult=U_}if((E&&H.codecSet!==E||M&&H.videoRange!==M||F&&N>H.frameRate||!F&&N>0&&N<H.frameRate||H.supportedResult&&!((Z=H.supportedResult.decodingInfoResults)!=null&&Z[0].smooth))&&(!j||V!==z)){q.push(V);continue}const B=H.details,U=(g?B==null?void 0:B.partTarget:B==null?void 0:B.averagetargetduration)||O;let $;F?$=l*e:$=a*e;const K=O&&i>=O*2&&r===0?H.averageBitrate:H.maxBitrate,ce=this.getTimeToLoadFrag(Y,$,K*U,B===void 0);if($>=K&&(V===u||H.loadError===0&&H.fragmentError===0)&&(ce<=Y||!we(ce)||S&&!this.bitrateTestDelay||ce<f)){const xe=this.forcedAutoLevel;return V!==v&&(xe===-1||xe!==v)&&(q.length&&this.trace(`Skipped level(s) ${q.join(",")} of ${n} max with CODECS and VIDEO-RANGE:"${x[q[0]].codecs}" ${x[q[0]].videoRange}; not compatible with "${E}" ${M}`),this.info(`switch candidate:${h}->${V} adjustedbw(${Math.round($)})-bitrate=${Math.round($-K)} ttfb:${Y.toFixed(1)} avgDuration:${U.toFixed(1)} maxFetchDuration:${f.toFixed(1)} fetchDuration:${ce.toFixed(1)} firstSelection:${j} codecSet:${H.codecSet} videoRange:${H.videoRange} hls.loadLevel:${v}`)),j&&(this.firstSelection=V),V}}return-1}set nextAutoLevel(e){const t=this.deriveNextAutoLevel(e);this._nextAutoLevel!==t&&(this.nextAutoLevelKey="",this._nextAutoLevel=t)}deriveNextAutoLevel(e){const{maxAutoLevel:t,minAutoLevel:n}=this.hls;return Math.min(Math.max(e,n),t)}}const J2={search:function(s,e){let t=0,n=s.length-1,i=null,r=null;for(;t<=n;){i=(t+n)/2|0,r=s[i];const a=e(r);if(a>0)t=i+1;else if(a<0)n=i-1;else return r}return null}};function ZZ(s,e,t){if(e===null||!Array.isArray(s)||!s.length||!we(e))return null;const n=s[0].programDateTime;if(e<(n||0))return null;const i=s[s.length-1].endProgramDateTime;if(e>=(i||0))return null;t=t||0;for(let r=0;r<s.length;++r){const a=s[r];if(eX(e,t,a))return a}return null}function Go(s,e,t=0,n=0,i=.005){let r=null;if(s){r=e[1+s.sn-e[0].sn]||null;const l=s.endDTS-t;l>0&&l<15e-7&&(t+=15e-7),r&&s.level!==r.level&&r.end<=s.end&&(r=e[2+s.sn-e[0].sn]||null)}else t===0&&e[0].start===0&&(r=e[0]);if(r&&((!s||s.level===r.level)&&Pj(t,n,r)===0||XZ(r,s,Math.min(i,n))))return r;const a=J2.search(e,Pj.bind(null,t,n));return a&&(a!==s||!r)?a:r}function XZ(s,e,t){if(e&&e.start===0&&e.level<s.level&&(e.endPTS||0)>0){const n=e.tagList.reduce((i,r)=>(r[0]==="INF"&&(i+=parseFloat(r[1])),i),t);return s.start<=n}return!1}function Pj(s=0,e=0,t){if(t.start<=s&&t.start+t.duration>s)return 0;const n=Math.min(e,t.duration+(t.deltaPTS?t.deltaPTS:0));return t.start+t.duration-n<=s?1:t.start-n>s&&t.start?-1:0}function eX(s,e,t){const n=Math.min(e,t.duration+(t.deltaPTS?t.deltaPTS:0))*1e3;return(t.endProgramDateTime||0)-n>s}function H_(s,e){return J2.search(s,t=>t.cc<e?1:t.cc>e?-1:0)}function tX(s,e,t){if(s&&s.startCC<=e&&s.endCC>=e){const n=t.start,i=t.end;let r=s.fragments;if(!t.relurl){const{fragmentHint:a}=s;a&&(r=r.concat(a))}return J2.search(r,a=>a.cc<e||a.end<=n?1:a.cc>e||a.start>=i?-1:0)}return null}function Wm(s){switch(s.details){case te.FRAG_LOAD_TIMEOUT:case te.KEY_LOAD_TIMEOUT:case te.LEVEL_LOAD_TIMEOUT:case te.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function Rj(s,e){const t=Wm(e);return s.default[`${t?"timeout":"error"}Retry`]}function q2(s,e){const t=s.backoff==="linear"?1:Math.pow(2,e);return Math.min(t*s.retryDelayMs,s.maxRetryDelayMs)}function Oj(s){return ct(ct({},s),{errorRetry:null,timeoutRetry:null})}function Qm(s,e,t,n){if(!s)return!1;const i=n==null?void 0:n.code,r=e<s.maxNumRetry&&(sX(i)||!!t);return s.shouldRetry?s.shouldRetry(s,e,t,n,r):r}function sX(s){return s===0&&navigator.onLine===!1||!!s&&(s<400||s>499)}var Es={DoNothing:0,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,RetryRequest:5},yi={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2};class nX extends $r{constructor(e){super("error-controller",e.logger),this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.hls=e,this.registerListeners()}registerListeners(){const e=this.hls;e.on(P.ERROR,this.onError,this),e.on(P.MANIFEST_LOADING,this.onManifestLoading,this),e.on(P.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const e=this.hls;e&&(e.off(P.ERROR,this.onError,this),e.off(P.ERROR,this.onErrorOut,this),e.off(P.MANIFEST_LOADING,this.onManifestLoading,this),e.off(P.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(e){}stopLoad(){this.playlistError=0}getVariantLevelIndex(e){return(e==null?void 0:e.type)===Me.MAIN?e.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(e,t){var n;if(t.fatal)return;const i=this.hls,r=t.context;switch(t.details){case te.FRAG_LOAD_ERROR:case te.FRAG_LOAD_TIMEOUT:case te.KEY_LOAD_ERROR:case te.KEY_LOAD_TIMEOUT:t.errorAction=this.getFragRetryOrSwitchAction(t);return;case te.FRAG_PARSING_ERROR:if((n=t.frag)!=null&&n.gap){t.errorAction=$u();return}case te.FRAG_GAP:case te.FRAG_DECRYPT_ERROR:{t.errorAction=this.getFragRetryOrSwitchAction(t),t.errorAction.action=Es.SendAlternateToPenaltyBox;return}case te.LEVEL_EMPTY_ERROR:case te.LEVEL_PARSING_ERROR:{var a,l;const f=t.parent===Me.MAIN?t.level:i.loadLevel;t.details===te.LEVEL_EMPTY_ERROR&&((a=t.context)!=null&&(l=a.levelDetails)!=null&&l.live)?t.errorAction=this.getPlaylistRetryOrSwitchAction(t,f):(t.levelRetry=!1,t.errorAction=this.getLevelSwitchAction(t,f))}return;case te.LEVEL_LOAD_ERROR:case te.LEVEL_LOAD_TIMEOUT:typeof(r==null?void 0:r.level)=="number"&&(t.errorAction=this.getPlaylistRetryOrSwitchAction(t,r.level));return;case te.AUDIO_TRACK_LOAD_ERROR:case te.AUDIO_TRACK_LOAD_TIMEOUT:case te.SUBTITLE_LOAD_ERROR:case te.SUBTITLE_TRACK_LOAD_TIMEOUT:if(r){const f=i.loadLevelObj;if(f&&(r.type===Qe.AUDIO_TRACK&&f.hasAudioGroup(r.groupId)||r.type===Qe.SUBTITLE_TRACK&&f.hasSubtitleGroup(r.groupId))){t.errorAction=this.getPlaylistRetryOrSwitchAction(t,i.loadLevel),t.errorAction.action=Es.SendAlternateToPenaltyBox,t.errorAction.flags=yi.MoveAllAlternatesMatchingHost;return}}return;case te.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const f=i.loadLevelObj,u=f==null?void 0:f.attrs["HDCP-LEVEL"];u?t.errorAction={action:Es.SendAlternateToPenaltyBox,flags:yi.MoveAllAlternatesMatchingHDCP,hdcpLevel:u}:this.keySystemError(t)}return;case te.BUFFER_ADD_CODEC_ERROR:case te.REMUX_ALLOC_ERROR:case te.BUFFER_APPEND_ERROR:if(!t.errorAction){var c;t.errorAction=this.getLevelSwitchAction(t,(c=t.level)!=null?c:i.loadLevel)}return;case te.INTERNAL_EXCEPTION:case te.BUFFER_APPENDING_ERROR:case te.BUFFER_FULL_ERROR:case te.LEVEL_SWITCH_ERROR:case te.BUFFER_STALLED_ERROR:case te.BUFFER_SEEK_OVER_HOLE:case te.BUFFER_NUDGE_ON_STALL:t.errorAction=$u();return}t.type===Ie.KEY_SYSTEM_ERROR&&this.keySystemError(t)}keySystemError(e){const t=this.getVariantLevelIndex(e.frag);e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,t)}getPlaylistRetryOrSwitchAction(e,t){const n=this.hls,i=Rj(n.config.playlistLoadPolicy,e),r=this.playlistError++;if(Qm(i,r,Wm(e),e.response))return{action:Es.RetryRequest,flags:yi.None,retryConfig:i,retryCount:r};const l=this.getLevelSwitchAction(e,t);return i&&(l.retryConfig=i,l.retryCount=r),l}getFragRetryOrSwitchAction(e){const t=this.hls,n=this.getVariantLevelIndex(e.frag),i=t.levels[n],{fragLoadPolicy:r,keyLoadPolicy:a}=t.config,l=Rj(e.details.startsWith("key")?a:r,e),c=t.levels.reduce((u,h)=>u+h.fragmentError,0);if(i&&(e.details!==te.FRAG_GAP&&i.fragmentError++,Qm(l,c,Wm(e),e.response)))return{action:Es.RetryRequest,flags:yi.None,retryConfig:l,retryCount:c};const f=this.getLevelSwitchAction(e,n);return l&&(f.retryConfig=l,f.retryCount=c),f}getLevelSwitchAction(e,t){const n=this.hls;t==null&&(t=n.loadLevel);const i=this.hls.levels[t];if(i){var r,a;const f=e.details;i.loadError++,f===te.BUFFER_APPEND_ERROR&&i.fragmentError++;let u=-1;const{levels:h,loadLevel:p,minAutoLevel:g,maxAutoLevel:x}=n;n.autoLevelEnabled||(n.loadLevel=-1);const y=(r=e.frag)==null?void 0:r.type,w=(y===Me.AUDIO&&f===te.FRAG_PARSING_ERROR||e.sourceBufferName==="audio"&&(f===te.BUFFER_ADD_CODEC_ERROR||f===te.BUFFER_APPEND_ERROR))&&h.some(({audioCodec:M})=>i.audioCodec!==M),S=e.sourceBufferName==="video"&&(f===te.BUFFER_ADD_CODEC_ERROR||f===te.BUFFER_APPEND_ERROR)&&h.some(({codecSet:M,audioCodec:N})=>i.codecSet!==M&&i.audioCodec===N),{type:j,groupId:E}=(a=e.context)!=null?a:{};for(let M=h.length;M--;){const N=(M+p)%h.length;if(N!==p&&N>=g&&N<=x&&h[N].loadError===0){var l,c;const I=h[N];if(f===te.FRAG_GAP&&y===Me.MAIN&&e.frag){const A=h[N].details;if(A){const D=Go(e.frag,A.fragments,e.frag.start);if(D!=null&&D.gap)continue}}else{if(j===Qe.AUDIO_TRACK&&I.hasAudioGroup(E)||j===Qe.SUBTITLE_TRACK&&I.hasSubtitleGroup(E))continue;if(y===Me.AUDIO&&(l=i.audioGroups)!=null&&l.some(A=>I.hasAudioGroup(A))||y===Me.SUBTITLE&&(c=i.subtitleGroups)!=null&&c.some(A=>I.hasSubtitleGroup(A))||w&&i.audioCodec===I.audioCodec||!w&&i.audioCodec!==I.audioCodec||S&&i.codecSet===I.codecSet)continue}u=N;break}}if(u>-1&&n.loadLevel!==u)return e.levelRetry=!0,this.playlistError=0,{action:Es.SendAlternateToPenaltyBox,flags:yi.None,nextAutoLevel:u}}return{action:Es.SendAlternateToPenaltyBox,flags:yi.MoveAllAlternatesMatchingHost}}onErrorOut(e,t){var n;switch((n=t.errorAction)==null?void 0:n.action){case Es.DoNothing:break;case Es.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(t),!t.errorAction.resolved&&t.details!==te.FRAG_GAP?t.fatal=!0:/MediaSource readyState: ended/.test(t.error.message)&&(this.warn(`MediaSource ended after "${t.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError());break}if(t.fatal){this.hls.stopLoad();return}}sendAlternateToPenaltyBox(e){const t=this.hls,n=e.errorAction;if(!n)return;const{flags:i,hdcpLevel:r,nextAutoLevel:a}=n;switch(i){case yi.None:this.switchLevel(e,a);break;case yi.MoveAllAlternatesMatchingHDCP:r&&(t.maxHdcpLevel=Fb[Fb.indexOf(r)-1],n.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${t.maxHdcpLevel}" or lower`);break}n.resolved||this.switchLevel(e,a)}switchLevel(e,t){if(t!==void 0&&e.errorAction&&(this.warn(`switching to level ${t} after ${e.details}`),this.hls.nextAutoLevel=t,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel,e.details===te.BUFFER_ADD_CODEC_ERROR&&e.mimeType&&e.sourceBufferName!=="audiovideo")){const n=B_(e.mimeType),i=this.hls.levels;for(let r=i.length;r--;)i[r][`${e.sourceBufferName}Codec`]===n&&this.hls.removeLevel(r)}}}function $u(s){const e={action:Es.DoNothing,flags:yi.None};return s&&(e.resolved=!0),e}var is={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};class iX{constructor(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(P.MANIFEST_LOADING,this.onManifestLoading,this),e.on(P.BUFFER_APPENDED,this.onBufferAppended,this),e.on(P.FRAG_BUFFERED,this.onFragBuffered,this),e.on(P.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:e}=this;e.off(P.MANIFEST_LOADING,this.onManifestLoading,this),e.off(P.BUFFER_APPENDED,this.onBufferAppended,this),e.off(P.FRAG_BUFFERED,this.onFragBuffered,this),e.off(P.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(e,t){const n=this.activePartLists[t];if(n)for(let i=n.length;i--;){const r=n[i];if(!r)break;const a=r.end;if(r.start<=e&&a!==null&&e<=a)return r}return this.getBufferedFrag(e,t)}getBufferedFrag(e,t){return this.getFragAtPos(e,t,!0)}getFragAtPos(e,t,n){const{fragments:i}=this,r=Object.keys(i);for(let a=r.length;a--;){const l=i[r[a]];if((l==null?void 0:l.body.type)===t&&(!n||l.buffered)){const c=l.body;if(c.start<=e&&e<=c.end)return c}}return null}detectEvictedFragments(e,t,n,i,r){this.timeRanges&&(this.timeRanges[e]=t);const a=(i==null?void 0:i.fragment.sn)||-1;Object.keys(this.fragments).forEach(l=>{const c=this.fragments[l];if(!c||a>=c.body.sn)return;if(!c.buffered&&(!c.loaded||r)){c.body.type===n&&this.removeFragment(c.body);return}const f=c.range[e];if(f){if(f.time.length===0){this.removeFragment(c.body);return}f.time.some(u=>{const h=!this.isTimeBuffered(u.startPTS,u.endPTS,t);return h&&this.removeFragment(c.body),h})}})}detectPartialFragments(e){const t=this.timeRanges;if(!t||e.frag.sn==="initSegment")return;const n=e.frag,i=Nl(n),r=this.fragments[i];if(!r||r.buffered&&n.gap)return;const a=!n.relurl;Object.keys(t).forEach(l=>{const c=n.elementaryStreams[l];if(!c)return;const f=t[l],u=a||c.partial===!0;r.range[l]=this.getBufferedTimes(n,e.part,u,f)}),r.loaded=null,Object.keys(r.range).length?(r.buffered=!0,(r.body.endList=n.endList||r.body.endList)&&(this.endListFragments[r.body.type]=r),r0(r)||this.removeParts(n.sn-1,n.type)):this.removeFragment(r.body)}removeParts(e,t){const n=this.activePartLists[t];n&&(this.activePartLists[t]=Fj(n,i=>i.fragment.sn>=e))}fragBuffered(e,t){const n=Nl(e);let i=this.fragments[n];!i&&t&&(i=this.fragments[n]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),i&&(i.loaded=null,i.buffered=!0)}getBufferedTimes(e,t,n,i){const r={time:[],partial:n},a=e.start,l=e.end,c=e.minEndPTS||l,f=e.maxStartPTS||a;for(let u=0;u<i.length;u++){const h=i.start(u)-this.bufferPadding,p=i.end(u)+this.bufferPadding;if(f>=h&&c<=p){r.time.push({startPTS:Math.max(a,i.start(u)),endPTS:Math.min(l,i.end(u))});break}else if(a<p&&l>h){const g=Math.max(a,i.start(u)),x=Math.min(l,i.end(u));x>g&&(r.partial=!0,r.time.push({startPTS:g,endPTS:x}))}else if(l<=h)break}return r}getPartialFragment(e){let t=null,n,i,r,a=0;const{bufferPadding:l,fragments:c}=this;return Object.keys(c).forEach(f=>{const u=c[f];u&&r0(u)&&(i=u.body.start-l,r=u.body.end+l,e>=i&&e<=r&&(n=Math.min(e-i,r-e),a<=n&&(t=u.body,a=n)))}),t}isEndListAppended(e){const t=this.endListFragments[e];return t!==void 0&&(t.buffered||r0(t))}getState(e){const t=Nl(e),n=this.fragments[t];return n?n.buffered?r0(n)?is.PARTIAL:is.OK:is.APPENDING:is.NOT_LOADED}isTimeBuffered(e,t,n){let i,r;for(let a=0;a<n.length;a++){if(i=n.start(a)-this.bufferPadding,r=n.end(a)+this.bufferPadding,e>=i&&t<=r)return!0;if(t<=i)return!1}return!1}onManifestLoading(){this.removeAllFragments()}onFragLoaded(e,t){if(t.frag.sn==="initSegment"||t.frag.bitrateTest)return;const n=t.frag,i=t.part?null:t,r=Nl(n);this.fragments[r]={body:n,appendedPTS:null,loaded:i,buffered:!1,range:Object.create(null)}}onBufferAppended(e,t){const{frag:n,part:i,timeRanges:r,type:a}=t;if(n.sn==="initSegment")return;const l=n.type;if(i){let f=this.activePartLists[l];f||(this.activePartLists[l]=f=[]),f.push(i)}this.timeRanges=r;const c=r[a];this.detectEvictedFragments(a,c,l,i)}onFragBuffered(e,t){this.detectPartialFragments(t)}hasFragment(e){const t=Nl(e);return!!this.fragments[t]}hasFragments(e){const{fragments:t}=this,n=Object.keys(t);if(!e)return n.length>0;for(let i=n.length;i--;){const r=t[n[i]];if((r==null?void 0:r.body.type)===e)return!0}return!1}hasParts(e){var t;return!!((t=this.activePartLists[e])!=null&&t.length)}removeFragmentsInRange(e,t,n,i,r){i&&!this.hasGaps||Object.keys(this.fragments).forEach(a=>{const l=this.fragments[a];if(!l)return;const c=l.body;c.type!==n||i&&!c.gap||c.start<t&&c.end>e&&(l.buffered||r)&&this.removeFragment(c)})}removeFragment(e){const t=Nl(e);e.clearElementaryStreamInfo();const n=this.activePartLists[e.type];if(n){const i=e.sn;this.activePartLists[e.type]=Fj(n,r=>r.fragment.sn!==i)}delete this.fragments[t],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){var e,t;this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1;const n=(e=this.hls)==null||(t=e.latestLevelDetails)==null?void 0:t.partList;n&&n.forEach(i=>i.clearElementaryStreamInfo())}}function r0(s){var e,t,n;return s.buffered&&(s.body.gap||((e=s.range.video)==null?void 0:e.partial)||((t=s.range.audio)==null?void 0:t.partial)||((n=s.range.audiovideo)==null?void 0:n.partial))}function Nl(s){return`${s.type}_${s.level}_${s.sn}`}function Fj(s,e){return s.filter(t=>{const n=e(t);return n||t.clearElementaryStreamInfo(),n})}var Fa={cbc:0,ctr:1};class rX{constructor(e,t,n){this.subtle=void 0,this.aesIV=void 0,this.aesMode=void 0,this.subtle=e,this.aesIV=t,this.aesMode=n}decrypt(e,t){switch(this.aesMode){case Fa.cbc:return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e);case Fa.ctr:return this.subtle.decrypt({name:"AES-CTR",counter:this.aesIV,length:64},t,e);default:throw new Error(`[AESCrypto] invalid aes mode ${this.aesMode}`)}}}function aX(s){const e=s.byteLength,t=e&&new DataView(s.buffer).getUint8(e-1);return t?s.slice(0,e-t):s}class oX{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){const t=new DataView(e),n=new Uint32Array(4);for(let i=0;i<4;i++)n[i]=t.getUint32(i*4);return n}initTable(){const e=this.sBox,t=this.invSBox,n=this.subMix,i=n[0],r=n[1],a=n[2],l=n[3],c=this.invSubMix,f=c[0],u=c[1],h=c[2],p=c[3],g=new Uint32Array(256);let x=0,y=0,v=0;for(v=0;v<256;v++)v<128?g[v]=v<<1:g[v]=v<<1^283;for(v=0;v<256;v++){let w=y^y<<1^y<<2^y<<3^y<<4;w=w>>>8^w&255^99,e[x]=w,t[w]=x;const L=g[x],S=g[L],j=g[S];let E=g[w]*257^w*16843008;i[x]=E<<24|E>>>8,r[x]=E<<16|E>>>16,a[x]=E<<8|E>>>24,l[x]=E,E=j*16843009^S*65537^L*257^x*16843008,f[w]=E<<24|E>>>8,u[w]=E<<16|E>>>16,h[w]=E<<8|E>>>24,p[w]=E,x?(x=L^g[g[g[j^L]]],y^=g[g[y]]):x=y=1}}expandKey(e){const t=this.uint8ArrayToUint32Array_(e);let n=!0,i=0;for(;i<t.length&&n;)n=t[i]===this.key[i],i++;if(n)return;this.key=t;const r=this.keySize=t.length;if(r!==4&&r!==6&&r!==8)throw new Error("Invalid aes key size="+r);const a=this.ksRows=(r+6+1)*4;let l,c;const f=this.keySchedule=new Uint32Array(a),u=this.invKeySchedule=new Uint32Array(a),h=this.sBox,p=this.rcon,g=this.invSubMix,x=g[0],y=g[1],v=g[2],w=g[3];let L,S;for(l=0;l<a;l++){if(l<r){L=f[l]=t[l];continue}S=L,l%r===0?(S=S<<8|S>>>24,S=h[S>>>24]<<24|h[S>>>16&255]<<16|h[S>>>8&255]<<8|h[S&255],S^=p[l/r|0]<<24):r>6&&l%r===4&&(S=h[S>>>24]<<24|h[S>>>16&255]<<16|h[S>>>8&255]<<8|h[S&255]),f[l]=L=(f[l-r]^S)>>>0}for(c=0;c<a;c++)l=a-c,c&3?S=f[l]:S=f[l-4],c<4||l<=4?u[c]=S:u[c]=x[h[S>>>24]]^y[h[S>>>16&255]]^v[h[S>>>8&255]]^w[h[S&255]],u[c]=u[c]>>>0}networkToHostOrderSwap(e){return e<<24|(e&65280)<<8|(e&16711680)>>8|e>>>24}decrypt(e,t,n){const i=this.keySize+6,r=this.invKeySchedule,a=this.invSBox,l=this.invSubMix,c=l[0],f=l[1],u=l[2],h=l[3],p=this.uint8ArrayToUint32Array_(n);let g=p[0],x=p[1],y=p[2],v=p[3];const w=new Int32Array(e),L=new Int32Array(w.length);let S,j,E,M,N,I,A,D,z,O,Y,q,Z,V;const H=this.networkToHostOrderSwap;for(;t<w.length;){for(z=H(w[t]),O=H(w[t+1]),Y=H(w[t+2]),q=H(w[t+3]),N=z^r[0],I=q^r[1],A=Y^r[2],D=O^r[3],Z=4,V=1;V<i;V++)S=c[N>>>24]^f[I>>16&255]^u[A>>8&255]^h[D&255]^r[Z],j=c[I>>>24]^f[A>>16&255]^u[D>>8&255]^h[N&255]^r[Z+1],E=c[A>>>24]^f[D>>16&255]^u[N>>8&255]^h[I&255]^r[Z+2],M=c[D>>>24]^f[N>>16&255]^u[I>>8&255]^h[A&255]^r[Z+3],N=S,I=j,A=E,D=M,Z=Z+4;S=a[N>>>24]<<24^a[I>>16&255]<<16^a[A>>8&255]<<8^a[D&255]^r[Z],j=a[I>>>24]<<24^a[A>>16&255]<<16^a[D>>8&255]<<8^a[N&255]^r[Z+1],E=a[A>>>24]<<24^a[D>>16&255]<<16^a[N>>8&255]<<8^a[I&255]^r[Z+2],M=a[D>>>24]<<24^a[N>>16&255]<<16^a[I>>8&255]<<8^a[A&255]^r[Z+3],L[t]=H(S^g),L[t+1]=H(M^x),L[t+2]=H(E^y),L[t+3]=H(j^v),g=z,x=O,y=Y,v=q,t=t+4}return L.buffer}}class lX{constructor(e,t,n){this.subtle=void 0,this.key=void 0,this.aesMode=void 0,this.subtle=e,this.key=t,this.aesMode=n}expandKey(){const e=cX(this.aesMode);return this.subtle.importKey("raw",this.key,{name:e},!1,["encrypt","decrypt"])}}function cX(s){switch(s){case Fa.cbc:return"AES-CBC";case Fa.ctr:return"AES-CTR";default:throw new Error(`[FastAESKey] invalid aes mode ${s}`)}}const fX=16;class Z2{constructor(e,{removePKCS7Padding:t=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.enableSoftwareAES=void 0,this.enableSoftwareAES=e.enableSoftwareAES,this.removePKCS7Padding=t,t)try{const n=self.crypto;n&&(this.subtle=n.subtle||n.webkitSubtle)}catch{}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:e,remainderData:t}=this;if(!e||t)return this.reset(),null;const n=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?aX(n):n}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,t,n,i){return this.useSoftware?new Promise((r,a)=>{const l=ArrayBuffer.isView(e)?e:new Uint8Array(e);this.softwareDecrypt(l,t,n,i);const c=this.flush();c?r(c.buffer):a(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(e),t,n,i)}softwareDecrypt(e,t,n,i){const{currentIV:r,currentResult:a,remainderData:l}=this;if(i!==Fa.cbc||t.byteLength!==16)return st.warn("SoftwareDecrypt: can only handle AES-128-CBC"),null;this.logOnce("JS AES decrypt"),l&&(e=ni(l,e),this.remainderData=null);const c=this.getValidChunk(e);if(!c.length)return null;r&&(n=r);let f=this.softwareDecrypter;f||(f=this.softwareDecrypter=new oX),f.expandKey(t);const u=a;return this.currentResult=f.decrypt(c.buffer,0,n),this.currentIV=c.slice(-16).buffer,u||null}webCryptoDecrypt(e,t,n,i){if(this.key!==t||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(e,t,n,i));this.key=t,this.fastAesKey=new lX(this.subtle,t,i)}return this.fastAesKey.expandKey().then(r=>this.subtle?(this.logOnce("WebCrypto AES decrypt"),new rX(this.subtle,new Uint8Array(n),i).decrypt(e.buffer,r)):Promise.reject(new Error("web crypto not initialized"))).catch(r=>(st.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${r.name}: ${r.message}`),this.onWebCryptoError(e,t,n,i)))}onWebCryptoError(e,t,n,i){const r=this.enableSoftwareAES;if(r){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,t,n,i);const a=this.flush();if(a)return a.buffer}throw new Error("WebCrypto"+(r?" and softwareDecrypt":"")+": failed to decrypt data")}getValidChunk(e){let t=e;const n=e.length-e.length%fX;return n!==e.length&&(t=e.slice(0,n),this.remainderData=e.slice(n)),t}logOnce(e){this.logEnabled&&(st.log(`[decrypter]: ${e}`),this.logEnabled=!1)}}const zj=Math.pow(2,17);class uX{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,t){const n=e.url;if(!n)return Promise.reject(new Nr({type:Ie.NETWORK_ERROR,details:te.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error(`Fragment does not have a ${n?"part list":"url"}`),networkDetails:null}));this.abort();const i=this.config,r=i.fLoader,a=i.loader;return new Promise((l,c)=>{if(this.loader&&this.loader.destroy(),e.gap)if(e.tagList.some(x=>x[0]==="GAP")){c(Uj(e));return}else e.gap=!1;const f=this.loader=r?new r(i):new a(i),u=Bj(e);e.loader=f;const h=Oj(i.fragLoadPolicy.default),p={loadPolicy:h,timeout:h.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:e.sn==="initSegment"?1/0:zj};e.stats=f.stats;const g={onSuccess:(x,y,v,w)=>{this.resetLoader(e,f);let L=x.data;v.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(L.slice(0,16)),L=L.slice(16)),l({frag:e,part:null,payload:L,networkDetails:w})},onError:(x,y,v,w)=>{this.resetLoader(e,f),c(new Nr({type:Ie.NETWORK_ERROR,details:te.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:ct({url:n,data:void 0},x),error:new Error(`HTTP Error ${x.code} ${x.text}`),networkDetails:v,stats:w}))},onAbort:(x,y,v)=>{this.resetLoader(e,f),c(new Nr({type:Ie.NETWORK_ERROR,details:te.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:v,stats:x}))},onTimeout:(x,y,v)=>{this.resetLoader(e,f),c(new Nr({type:Ie.NETWORK_ERROR,details:te.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error(`Timeout after ${p.timeout}ms`),networkDetails:v,stats:x}))}};t&&(g.onProgress=(x,y,v,w)=>t({frag:e,part:null,payload:v,networkDetails:w})),f.load(u,p,g)})}loadPart(e,t,n){this.abort();const i=this.config,r=i.fLoader,a=i.loader;return new Promise((l,c)=>{if(this.loader&&this.loader.destroy(),e.gap||t.gap){c(Uj(e,t));return}const f=this.loader=r?new r(i):new a(i),u=Bj(e,t);e.loader=f;const h=Oj(i.fragLoadPolicy.default),p={loadPolicy:h,timeout:h.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:zj};t.stats=f.stats,f.load(u,p,{onSuccess:(g,x,y,v)=>{this.resetLoader(e,f),this.updateStatsFromPart(e,t);const w={frag:e,part:t,payload:g.data,networkDetails:v};n(w),l(w)},onError:(g,x,y,v)=>{this.resetLoader(e,f),c(new Nr({type:Ie.NETWORK_ERROR,details:te.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:t,response:ct({url:u.url,data:void 0},g),error:new Error(`HTTP Error ${g.code} ${g.text}`),networkDetails:y,stats:v}))},onAbort:(g,x,y)=>{e.stats.aborted=t.stats.aborted,this.resetLoader(e,f),c(new Nr({type:Ie.NETWORK_ERROR,details:te.INTERNAL_ABORTED,fatal:!1,frag:e,part:t,error:new Error("Aborted"),networkDetails:y,stats:g}))},onTimeout:(g,x,y)=>{this.resetLoader(e,f),c(new Nr({type:Ie.NETWORK_ERROR,details:te.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:t,error:new Error(`Timeout after ${p.timeout}ms`),networkDetails:y,stats:g}))}})})}updateStatsFromPart(e,t){const n=e.stats,i=t.stats,r=i.total;if(n.loaded+=i.loaded,r){const c=Math.round(e.duration/t.duration),f=Math.min(Math.round(n.loaded/r),c),h=(c-f)*Math.round(n.loaded/f);n.total=n.loaded+h}else n.total=Math.max(n.loaded,n.total);const a=n.loading,l=i.loading;a.start?a.first+=l.first-l.start:(a.start=l.start,a.first=l.first),a.end=l.end}resetLoader(e,t){e.loader=null,this.loader===t&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),t.destroy()}}function Bj(s,e=null){const t=e||s,n={frag:s,part:e,responseType:"arraybuffer",url:t.url,headers:{},rangeStart:0,rangeEnd:0},i=t.byteRangeStartOffset,r=t.byteRangeEndOffset;if(we(i)&&we(r)){var a;let l=i,c=r;if(s.sn==="initSegment"&&dX((a=s.decryptdata)==null?void 0:a.method)){const f=r-i;f%16&&(c=r+(16-f%16)),i!==0&&(n.resetIV=!0,l=i-16)}n.rangeStart=l,n.rangeEnd=c}return n}function Uj(s,e){const t=new Error(`GAP ${s.gap?"tag":"attribute"} found`),n={type:Ie.MEDIA_ERROR,details:te.FRAG_GAP,fatal:!1,frag:s,error:t,networkDetails:null};return e&&(n.part=e),(e||s).stats.aborted=!0,new Nr(n)}function dX(s){return s==="AES-128"||s==="AES-256"}class Nr extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}}class Y_ extends $r{constructor(e,t){super(e,t),this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return this._tickInterval?!1:(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1}clearNextTick(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1}tick(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}class X2{constructor(e,t,n,i=0,r=-1,a=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=a0(),this.buffering={audio:a0(),video:a0(),audiovideo:a0()},this.level=e,this.sn=t,this.id=n,this.size=i,this.part=r,this.partial=a}}function a0(){return{start:0,executeStart:0,executeEnd:0,end:0}}const $j={length:0,start:()=>0,end:()=>0};class Ge{static isBuffered(e,t){if(e){const n=Ge.getBuffered(e);for(let i=n.length;i--;)if(t>=n.start(i)&&t<=n.end(i))return!0}return!1}static bufferedRanges(e){if(e){const t=Ge.getBuffered(e);return Ge.timeRangesToArray(t)}return[]}static timeRangesToArray(e){const t=[];for(let n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}static bufferInfo(e,t,n){if(e){const i=Ge.bufferedRanges(e);if(i.length)return Ge.bufferedInfo(i,t,n)}return{len:0,start:t,end:t,bufferedIndex:-1}}static bufferedInfo(e,t,n){t=Math.max(0,t),e.length>1&&e.sort((u,h)=>u.start-h.start||h.end-u.end);let i=-1,r=[];if(n)for(let u=0;u<e.length;u++){t>=e[u].start&&t<=e[u].end&&(i=u);const h=r.length;if(h){const p=r[h-1].end;e[u].start-p<n?e[u].end>p&&(r[h-1].end=e[u].end):r.push(e[u])}else r.push(e[u])}else r=e;let a=0,l,c=t,f=t;for(let u=0;u<r.length;u++){const h=r[u].start,p=r[u].end;if(i===-1&&t>=h&&t<=p&&(i=u),t+n>=h&&t<p)c=h,f=p,a=f-t;else if(t+n<h){l=h;break}}return{len:a,start:c||0,end:f||0,nextStart:l,buffered:e,bufferedIndex:i}}static getBuffered(e){try{return e.buffered||$j}catch(t){return st.log("failed to get media.buffered",t),$j}}}const W_=/\{\$([a-zA-Z0-9-_]+)\}/g;function Vj(s){return W_.test(s)}function zb(s,e){if(s.variableList!==null||s.hasVariableRefs){const t=s.variableList;return e.replace(W_,n=>{const i=n.substring(2,n.length-1),r=t==null?void 0:t[i];return r===void 0?(s.playlistParsingError||(s.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${i}"`)),n):r})}return e}function Gj(s,e,t){let n=s.variableList;n||(s.variableList=n={});let i,r;if("QUERYPARAM"in e){i=e.QUERYPARAM;try{const a=new self.URL(t).searchParams;if(a.has(i))r=a.get(i);else throw new Error(`"${i}" does not match any query parameter in URI: "${t}"`)}catch(a){s.playlistParsingError||(s.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${a.message}`))}}else i=e.NAME,r=e.VALUE;i in n?s.playlistParsingError||(s.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${i}"`)):n[i]=r||""}function hX(s,e,t){const n=e.IMPORT;if(t&&n in t){let i=s.variableList;i||(s.variableList=i={}),i[n]=t[n]}else s.playlistParsingError||(s.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${n}"`))}const mX=/^(\d+)x(\d+)$/,Hj=/(.+?)=(".*?"|.*?)(?:,|$)/g;class Mt{constructor(e,t){typeof e=="string"&&(e=Mt.parseAttrList(e,t)),gt(this,e)}get clientAttrs(){return Object.keys(this).filter(e=>e.substring(0,2)==="X-")}decimalInteger(e){const t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t}hexadecimalInteger(e){if(this[e]){let t=(this[e]||"0x").slice(2);t=(t.length&1?"0":"")+t;const n=new Uint8Array(t.length/2);for(let i=0;i<t.length/2;i++)n[i]=parseInt(t.slice(i*2,i*2+2),16);return n}return null}hexadecimalIntegerAsNumber(e){const t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,t){const n=this[e];return n?parseFloat(n):t}enumeratedString(e){return this[e]}enumeratedStringList(e,t){const n=this[e];return(n?n.split(/[ ,]+/):[]).reduce((i,r)=>(i[r.toLowerCase()]=!0,i),t)}bool(e){return this[e]==="YES"}decimalResolution(e){const t=mX.exec(this[e]);if(t!==null)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}}static parseAttrList(e,t){let n;const i={},r='"';for(Hj.lastIndex=0;(n=Hj.exec(e))!==null;){const a=n[1].trim();let l=n[2];const c=l.indexOf(r)===0&&l.lastIndexOf(r)===l.length-1;let f=!1;if(c)l=l.slice(1,-1);else switch(a){case"IV":case"SCTE35-CMD":case"SCTE35-IN":case"SCTE35-OUT":f=!0}if(t&&(c||f))l=zb(t,l);else if(!f&&!c)switch(a){case"CLOSED-CAPTIONS":if(l==="NONE")break;case"ALLOWED-CPC":case"CLASS":case"ASSOC-LANGUAGE":case"AUDIO":case"BYTERANGE":case"CHANNELS":case"CHARACTERISTICS":case"CODECS":case"DATA-ID":case"END-DATE":case"GROUP-ID":case"ID":case"IMPORT":case"INSTREAM-ID":case"KEYFORMAT":case"KEYFORMATVERSIONS":case"LANGUAGE":case"NAME":case"PATHWAY-ID":case"QUERYPARAM":case"RECENTLY-REMOVED-DATERANGES":case"SERVER-URI":case"STABLE-RENDITION-ID":case"STABLE-VARIANT-ID":case"START-DATE":case"SUBTITLES":case"SUPPLEMENTAL-CODECS":case"URI":case"VALUE":case"VIDEO":case"X-ASSET-LIST":case"X-ASSET-URI":st.warn(`${e}: attribute ${a} is missing quotes`)}i[a]=l}return i}}const pX="com.apple.hls.interstitial";function gX(s){return s!=="ID"&&s!=="CLASS"&&s!=="CUE"&&s!=="START-DATE"&&s!=="DURATION"&&s!=="END-DATE"&&s!=="END-ON-NEXT"}function xX(s){return s==="SCTE35-OUT"||s==="SCTE35-IN"||s==="SCTE35-CMD"}class Q_{constructor(e,t,n=0){var i;if(this.attr=void 0,this.tagAnchor=void 0,this.tagOrder=void 0,this._startDate=void 0,this._endDate=void 0,this._dateAtEnd=void 0,this._cue=void 0,this._badValueForSameId=void 0,this.tagAnchor=(t==null?void 0:t.tagAnchor)||null,this.tagOrder=(i=t==null?void 0:t.tagOrder)!=null?i:n,t){const r=t.attr;for(const a in r)if(Object.prototype.hasOwnProperty.call(e,a)&&e[a]!==r[a]){st.warn(`DATERANGE tag attribute: "${a}" does not match for tags with ID: "${e.ID}"`),this._badValueForSameId=a;break}e=gt(new Mt({}),r,e)}if(this.attr=e,t?(this._startDate=t._startDate,this._cue=t._cue,this._endDate=t._endDate,this._dateAtEnd=t._dateAtEnd):this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){const r=(t==null?void 0:t.endDate)||new Date(this.attr["END-DATE"]);we(r.getTime())&&(this._endDate=r)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get cue(){const e=this._cue;return e===void 0?this._cue=this.attr.enumeratedStringList(this.attr.CUE?"CUE":"X-CUE",{pre:!1,post:!1,once:!1}):e}get startTime(){const{tagAnchor:e}=this;return e===null||e.programDateTime===null?(st.warn(`Expected tagAnchor Fragment with PDT set for DateRange "${this.id}": ${e}`),NaN):e.start+(this.startDate.getTime()-e.programDateTime)/1e3}get startDate(){return this._startDate}get endDate(){const e=this._endDate||this._dateAtEnd;if(e)return e;const t=this.duration;return t!==null?this._dateAtEnd=new Date(this._startDate.getTime()+t*1e3):null}get duration(){if("DURATION"in this.attr){const e=this.attr.decimalFloatingPoint("DURATION");if(we(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isInterstitial(){return this.class===pX}get isValid(){return!!this.id&&!this._badValueForSameId&&we(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)&&(!this.attr.CUE||!this.cue.pre&&!this.cue.post||this.cue.pre!==this.cue.post)&&(!this.isInterstitial||"X-ASSET-URI"in this.attr||"X-ASSET-LIST"in this.attr)}}const yX=10;class bX{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.dateRangeTagCount=0,this.live=!0,this.requestScheduled=-1,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.appliedTimelineOffset=void 0,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e){this.advanced=!0,this.updated=!0;return}const t=this.lastPartSn-e.lastPartSn,n=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!n||!!t||!this.live,this.advanced=this.endSN>e.endSN||t>0||t===0&&n>0,this.updated||this.advanced?this.misses=Math.floor(e.misses*.6):this.misses=e.misses+1}get hasProgramDateTime(){return this.fragments.length?we(this.fragments[this.fragments.length-1].programDateTime):!1}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||yX}get drift(){const e=this.driftEndTime-this.driftStartTime;return e>0?(this.driftEnd-this.driftStart)*1e3/e:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var e;return(e=this.fragments)!=null&&e.length?this.fragments[this.fragments.length-1].end:0}get fragmentStart(){var e;return(e=this.fragments)!=null&&e.length?this.fragments[0].start:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].index:-1}get maxPartIndex(){const e=this.partList;if(e){const t=this.lastPartIndex;if(t!==-1){for(let n=e.length;n--;)if(e[n].index>t)return e[n].index;return t}}return 0}get lastPartSn(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}get expired(){if(this.live&&this.age&&this.misses<3){const e=this.partEnd-this.fragmentStart;return this.age>Math.max(e,this.totalduration)+this.levelTargetDuration}return!1}}function Kl(s){return s==="AES-128"||s==="AES-256"||s==="AES-256-CTR"}function ew(s){switch(s){case"AES-128":case"AES-256":return Fa.cbc;case"AES-256-CTR":return Fa.ctr;default:throw new Error(`invalid full segment method ${s}`)}}function tw(s){return Uint8Array.from(atob(s),e=>e.charCodeAt(0))}function Bb(s){return Uint8Array.from(unescape(encodeURIComponent(s)),e=>e.charCodeAt(0))}function vX(s){const e=Bb(s).subarray(0,16),t=new Uint8Array(16);return t.set(e,16-e.length),t}function wX(s){const e=function(n,i,r){const a=n[i];n[i]=n[r],n[r]=a};e(s,0,3),e(s,1,2),e(s,4,5),e(s,6,7)}function SX(s){const e=s.split(":");let t=null;if(e[0]==="data"&&e.length===2){const n=e[1].split(";"),i=n[n.length-1].split(",");if(i.length===2){const r=i[0]==="base64",a=i[1];r?(n.splice(-1,1),t=tw(a)):t=vX(a)}}return t}const Km=typeof self<"u"?self:void 0;var ft={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},tn={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function Vx(s){switch(s){case tn.FAIRPLAY:return ft.FAIRPLAY;case tn.PLAYREADY:return ft.PLAYREADY;case tn.WIDEVINE:return ft.WIDEVINE;case tn.CLEARKEY:return ft.CLEARKEY}}var o0={CENC:"1077efecc0b24d02ace33c1e52e2fb4b",CLEARKEY:"e2719d58a985b3c9781ab030af78d30e",PLAYREADY:"9a04f07998404286ab92e65be0885f95",WIDEVINE:"edef8ba979d64acea3c827dcd51d21ed"};function Gx(s){if(s===o0.WIDEVINE)return ft.WIDEVINE;if(s===o0.PLAYREADY)return ft.PLAYREADY;if(s===o0.CENC||s===o0.CLEARKEY)return ft.CLEARKEY}function Hx(s){switch(s){case ft.FAIRPLAY:return tn.FAIRPLAY;case ft.PLAYREADY:return tn.PLAYREADY;case ft.WIDEVINE:return tn.WIDEVINE;case ft.CLEARKEY:return tn.CLEARKEY}}function l0(s){const{drmSystems:e,widevineLicenseUrl:t}=s,n=e?[ft.FAIRPLAY,ft.WIDEVINE,ft.PLAYREADY,ft.CLEARKEY].filter(i=>!!e[i]):[];return!n[ft.WIDEVINE]&&t&&n.push(ft.WIDEVINE),n}const K_=function(s){return Km!=null&&(s=Km.navigator)!=null&&s.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null}();function LX(s,e,t,n){let i;switch(s){case ft.FAIRPLAY:i=["cenc","sinf"];break;case ft.WIDEVINE:case ft.PLAYREADY:i=["cenc"];break;case ft.CLEARKEY:i=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${s}`)}return CX(i,e,t,n)}function CX(s,e,t,n){return[{initDataTypes:s,persistentState:n.persistentState||"optional",distinctiveIdentifier:n.distinctiveIdentifier||"optional",sessionTypes:n.sessionTypes||[n.sessionType||"temporary"],audioCapabilities:e.map(r=>({contentType:`audio/mp4; codecs=${r}`,robustness:n.audioRobustness||"",encryptionScheme:n.audioEncryptionScheme||null})),videoCapabilities:t.map(r=>({contentType:`video/mp4; codecs=${r}`,robustness:n.videoRobustness||"",encryptionScheme:n.videoEncryptionScheme||null}))}]}function TX(s){var e;return s.sessionType==="persistent-license"||!!((e=s.sessionTypes)!=null&&e.some(t=>t==="persistent-license"))}function J_(s){const e=new Uint16Array(s.buffer,s.byteOffset,s.byteLength/2),t=String.fromCharCode.apply(null,Array.from(e)),n=t.substring(t.indexOf("<"),t.length),a=new DOMParser().parseFromString(n,"text/xml").getElementsByTagName("KID")[0];if(a){const l=a.childNodes[0]?a.childNodes[0].nodeValue:a.getAttribute("VALUE");if(l){const c=tw(l).subarray(0,16);return wX(c),c}}return null}let c0={};class Vu{static clearKeyUriToKeyIdMap(){c0={}}constructor(e,t,n,i=[1],r=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=t,this.keyFormat=n,this.keyFormatVersions=i,this.iv=r,this.encrypted=e?e!=="NONE":!1,this.isCommonEncryption=this.encrypted&&!Kl(e)}isSupported(){if(this.method){if(Kl(this.method)||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case tn.FAIRPLAY:case tn.WIDEVINE:case tn.PLAYREADY:case tn.CLEARKEY:return["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1}getDecryptData(e){if(!this.encrypted||!this.uri)return null;if(Kl(this.method)&&this.uri&&!this.iv){typeof e!="number"&&(st.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),e=0);const n=jX(e);return new Vu(this.method,this.uri,"identity",this.keyFormatVersions,n)}const t=SX(this.uri);if(t)switch(this.keyFormat){case tn.WIDEVINE:this.pssh=t,t.length>=22&&(this.keyId=t.subarray(t.length-22,t.length-6));break;case tn.PLAYREADY:{const n=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=IZ(n,null,t),this.keyId=J_(t);break}default:{let n=t.subarray(0,16);if(n.length!==16){const i=new Uint8Array(16);i.set(n,16-n.length),n=i}this.keyId=n;break}}if(!this.keyId||this.keyId.byteLength!==16){let n=c0[this.uri];if(!n){const i=Object.keys(c0).length%Number.MAX_SAFE_INTEGER;n=new Uint8Array(16),new DataView(n.buffer,12,4).setUint32(0,i),c0[this.uri]=n}this.keyId=n}return this}}function jX(s){const e=new Uint8Array(16);for(let t=12;t<16;t++)e[t]=s>>8*(15-t)&255;return e}const Yj=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,Wj=/#EXT-X-MEDIA:(.*)/g,EX=/^#EXT(?:INF|-X-TARGETDURATION):/m,Yx=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#.*/.source].join("|"),"g"),NX=new RegExp([/#EXT-X-(PROGRAM-DATE-TIME|BYTERANGE|DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class Ki{static findGroup(e,t){for(let n=0;n<e.length;n++){const i=e[n];if(i.id===t)return i}}static resolve(e,t){return W2.buildAbsoluteURL(t,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return EX.test(e)}static parseMasterPlaylist(e,t){const n=Vj(e),i={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:n},r=[];Yj.lastIndex=0;let a;for(;(a=Yj.exec(e))!=null;)if(a[1]){var l;const f=new Mt(a[1],i),u=zb(i,a[2]),h={attrs:f,bitrate:f.decimalInteger("BANDWIDTH")||f.decimalInteger("AVERAGE-BANDWIDTH"),name:f.NAME,url:Ki.resolve(u,t)},p=f.decimalResolution("RESOLUTION");p&&(h.width=p.width,h.height=p.height),Jj(f.CODECS,h);const g=f["SUPPLEMENTAL-CODECS"];g&&(h.supplemental={},Jj(g,h.supplemental)),(l=h.unknownCodecs)!=null&&l.length||r.push(h),i.levels.push(h)}else if(a[3]){const f=a[3],u=a[4];switch(f){case"SESSION-DATA":{const h=new Mt(u,i),p=h["DATA-ID"];p&&(i.sessionData===null&&(i.sessionData={}),i.sessionData[p]=h);break}case"SESSION-KEY":{const h=Qj(u,t,i);h.encrypted&&h.isSupported()?(i.sessionKeys===null&&(i.sessionKeys=[]),i.sessionKeys.push(h)):st.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${u}"`);break}case"DEFINE":{{const h=new Mt(u,i);Gj(i,h,t)}break}case"CONTENT-STEERING":{const h=new Mt(u,i);i.contentSteering={uri:Ki.resolve(h["SERVER-URI"],t),pathwayId:h["PATHWAY-ID"]||"."};break}case"START":{i.startTimeOffset=Kj(u);break}}}const c=r.length>0&&r.length<i.levels.length;return i.levels=c?r:i.levels,i.levels.length===0&&(i.playlistParsingError=new Error("no levels found in manifest")),i}static parseMasterPlaylistMedia(e,t,n){let i;const r={},a=n.levels,l={AUDIO:a.map(f=>({id:f.attrs.AUDIO,audioCodec:f.audioCodec})),SUBTITLES:a.map(f=>({id:f.attrs.SUBTITLES,textCodec:f.textCodec})),"CLOSED-CAPTIONS":[]};let c=0;for(Wj.lastIndex=0;(i=Wj.exec(e))!==null;){const f=new Mt(i[1],n),u=f.TYPE;if(u){const h=l[u],p=r[u]||[];r[u]=p;const g=f.LANGUAGE,x=f["ASSOC-LANGUAGE"],y=f.CHANNELS,v=f.CHARACTERISTICS,w=f["INSTREAM-ID"],L={attrs:f,bitrate:0,id:c++,groupId:f["GROUP-ID"]||"",name:f.NAME||g||"",type:u,default:f.bool("DEFAULT"),autoselect:f.bool("AUTOSELECT"),forced:f.bool("FORCED"),lang:g,url:f.URI?Ki.resolve(f.URI,t):""};if(x&&(L.assocLang=x),y&&(L.channels=y),v&&(L.characteristics=v),w&&(L.instreamId=w),h!=null&&h.length){const S=Ki.findGroup(h,L.groupId)||h[0];qj(L,S,"audioCodec"),qj(L,S,"textCodec")}p.push(L)}}return r}static parseLevelPlaylist(e,t,n,i,r,a){var l;const c={url:t},f=new bX(t),u=f.fragments,h=[];let p=null,g=0,x=0,y=0,v=0,w=0,L=null,S=new zx(i,c),j,E,M,N=-1,I=!1,A=null,D;if(Yx.lastIndex=0,f.m3u8=e,f.hasVariableRefs=Vj(e),((l=Yx.exec(e))==null?void 0:l[0])!=="#EXTM3U")return f.playlistParsingError=new Error("Missing format identifier #EXTM3U"),f;for(;(j=Yx.exec(e))!==null;){I&&(I=!1,S=new zx(i,c),S.playlistOffset=y,S.start=y,S.sn=g,S.cc=v,w&&(S.bitrate=w),S.level=n,p&&(S.initSegment=p,p.rawProgramDateTime&&(S.rawProgramDateTime=p.rawProgramDateTime,p.rawProgramDateTime=null),A&&(S.setByteRange(A),A=null)));const q=j[1];if(q){S.duration=parseFloat(q);const Z=(" "+j[2]).slice(1);S.title=Z||null,S.tagList.push(Z?["INF",q,Z]:["INF",q])}else if(j[3]){if(we(S.duration)){S.playlistOffset=y,S.start=y,M&&Xj(S,M,f),S.sn=g,S.level=n,S.cc=v,u.push(S);const Z=(" "+j[3]).slice(1);S.relurl=zb(f,Z),Ub(S,L,h),L=S,y+=S.duration,g++,x=0,I=!0}}else{if(j=j[0].match(NX),!j){st.warn("No matches on slow regex match for level playlist!");continue}for(E=1;E<j.length&&j[E]===void 0;E++);const Z=(" "+j[E]).slice(1),V=(" "+j[E+1]).slice(1),H=j[E+2]?(" "+j[E+2]).slice(1):null;switch(Z){case"BYTERANGE":L?S.setByteRange(V,L):S.setByteRange(V);break;case"PROGRAM-DATE-TIME":S.rawProgramDateTime=V,S.tagList.push(["PROGRAM-DATE-TIME",V]),N===-1&&(N=u.length);break;case"PLAYLIST-TYPE":f.type&&Sr(f,Z,j),f.type=V.toUpperCase();break;case"MEDIA-SEQUENCE":f.startSN!==0?Sr(f,Z,j):u.length>0&&e6(f,Z,j),g=f.startSN=parseInt(V);break;case"SKIP":{f.skippedSegments&&Sr(f,Z,j);const F=new Mt(V,f),B=F.decimalInteger("SKIPPED-SEGMENTS");if(we(B)){f.skippedSegments+=B;for(let $=B;$--;)u.push(null);g+=B}const U=F.enumeratedString("RECENTLY-REMOVED-DATERANGES");U&&(f.recentlyRemovedDateranges=(f.recentlyRemovedDateranges||[]).concat(U.split("	")));break}case"TARGETDURATION":f.targetduration!==0&&Sr(f,Z,j),f.targetduration=Math.max(parseInt(V),1);break;case"VERSION":f.version!==null&&Sr(f,Z,j),f.version=parseInt(V);break;case"INDEPENDENT-SEGMENTS":break;case"ENDLIST":f.live||Sr(f,Z,j),f.live=!1;break;case"#":(V||H)&&S.tagList.push(H?[V,H]:[V]);break;case"DISCONTINUITY":v++,S.tagList.push(["DIS"]);break;case"GAP":S.gap=!0,S.tagList.push([Z]);break;case"BITRATE":S.tagList.push([Z,V]),w=parseInt(V)*1e3,we(w)?S.bitrate=w:w=0;break;case"DATERANGE":{const F=new Mt(V,f),B=new Q_(F,f.dateRanges[F.ID],f.dateRangeTagCount);f.dateRangeTagCount++,B.isValid||f.skippedSegments?f.dateRanges[B.id]=B:st.warn(`Ignoring invalid DATERANGE tag: "${V}"`),S.tagList.push(["EXT-X-DATERANGE",V]);break}case"DEFINE":{{const F=new Mt(V,f);"IMPORT"in F?hX(f,F,a):Gj(f,F,t)}break}case"DISCONTINUITY-SEQUENCE":f.startCC!==0?Sr(f,Z,j):u.length>0&&e6(f,Z,j),f.startCC=v=parseInt(V);break;case"KEY":{const F=Qj(V,t,f);if(F.isSupported()){if(F.method==="NONE"){M=void 0;break}M||(M={}),M[F.keyFormat]&&(M=gt({},M)),M[F.keyFormat]=F}else st.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${V}"`);break}case"START":f.startTimeOffset=Kj(V);break;case"MAP":{const F=new Mt(V,f);if(S.duration){const B=new zx(i,c);Zj(B,F,n,M),p=B,S.initSegment=p,p.rawProgramDateTime&&!S.rawProgramDateTime&&(S.rawProgramDateTime=p.rawProgramDateTime)}else{const B=S.byteRangeEndOffset;if(B){const U=S.byteRangeStartOffset;A=`${B-U}@${U}`}else A=null;Zj(S,F,n,M),p=S,I=!0}p.cc=v;break}case"SERVER-CONTROL":{D&&Sr(f,Z,j),D=new Mt(V),f.canBlockReload=D.bool("CAN-BLOCK-RELOAD"),f.canSkipUntil=D.optionalFloat("CAN-SKIP-UNTIL",0),f.canSkipDateRanges=f.canSkipUntil>0&&D.bool("CAN-SKIP-DATERANGES"),f.partHoldBack=D.optionalFloat("PART-HOLD-BACK",0),f.holdBack=D.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{f.partTarget&&Sr(f,Z,j);const F=new Mt(V);f.partTarget=F.decimalFloatingPoint("PART-TARGET");break}case"PART":{let F=f.partList;F||(F=f.partList=[]);const B=x>0?F[F.length-1]:void 0,U=x++,$=new Mt(V,f),K=new gZ($,S,c,U,B);F.push(K),S.duration+=K.duration;break}case"PRELOAD-HINT":{const F=new Mt(V,f);f.preloadHint=F;break}case"RENDITION-REPORT":{const F=new Mt(V,f);f.renditionReports=f.renditionReports||[],f.renditionReports.push(F);break}default:st.warn(`line parsed but not handled: ${j}`);break}}}L&&!L.relurl?(u.pop(),y-=L.duration,f.partList&&(f.fragmentHint=L)):f.partList&&(Ub(S,L,h),S.cc=v,f.fragmentHint=S,M&&Xj(S,M,f)),f.targetduration||(f.playlistParsingError=new Error("#EXT-X-TARGETDURATION is required"));const z=u.length,O=u[0],Y=u[z-1];if(y+=f.skippedSegments*f.targetduration,y>0&&z&&Y){f.averagetargetduration=y/z;const q=Y.sn;f.endSN=q!=="initSegment"?q:0,f.live||(Y.endList=!0),O&&f.startCC===void 0&&(f.startCC=O.cc),N>0&&(kX(u,N),O&&h.unshift(O))}else f.endSN=0,f.startCC=0;return f.fragmentHint&&(y+=f.fragmentHint.duration),f.totalduration=y,h.length&&f.dateRangeTagCount&&O&&q_(h,f),f.endCC=v,f}}function q_(s,e){const t=s.length,n=s[t-1],i=e.live?1/0:e.totalduration,r=Object.keys(e.dateRanges);for(let a=r.length;a--;){const l=e.dateRanges[r[a]],c=l.startDate.getTime();l.tagAnchor=n.ref;for(let f=t;f--;){const u=MX(e,c,s,f,i);if(u!==-1){l.tagAnchor=e.fragments[u].ref;break}}}}function MX(s,e,t,n,i){const r=t[n];if(r){const l=r.programDateTime;if(e>=l||n===0){var a;const c=(((a=t[n+1])==null?void 0:a.start)||i)-r.start;if(e<=l+c*1e3){const f=t[n].sn-s.startSN,u=s.fragments;if(u.length>t.length){const p=(t[n+1]||u[u.length-1]).sn-s.startSN;for(let g=p;g>f;g--){const x=u[g].programDateTime;if(e>=x&&e<x+u[g].duration*1e3)return g}}return f}}}return-1}function Qj(s,e,t){var n,i;const r=new Mt(s,t),a=(n=r.METHOD)!=null?n:"",l=r.URI,c=r.hexadecimalInteger("IV"),f=r.KEYFORMATVERSIONS,u=(i=r.KEYFORMAT)!=null?i:"identity";l&&r.IV&&!c&&st.error(`Invalid IV: ${r.IV}`);const h=l?Ki.resolve(l,e):"",p=(f||"1").split("/").map(Number).filter(Number.isFinite);return new Vu(a,h,u,p,c)}function Kj(s){const t=new Mt(s).decimalFloatingPoint("TIME-OFFSET");return we(t)?t:null}function Jj(s,e){let t=(s||"").split(/[ ,]+/).filter(n=>n);["video","audio","text"].forEach(n=>{const i=t.filter(r=>F_(r,n));i.length&&(e[`${n}Codec`]=i.map(r=>r.split("/")[0]).join(","),t=t.filter(r=>i.indexOf(r)===-1))}),e.unknownCodecs=t}function qj(s,e,t){const n=e[t];n&&(s[t]=n)}function kX(s,e){let t=s[e];for(let n=e;n--;){const i=s[n];if(!i)return;i.programDateTime=t.programDateTime-i.duration*1e3,t=i}}function Ub(s,e,t){s.rawProgramDateTime?t.push(s):e!=null&&e.programDateTime&&(s.programDateTime=e.endProgramDateTime)}function Zj(s,e,t,n){s.relurl=e.URI,e.BYTERANGE&&s.setByteRange(e.BYTERANGE),s.level=t,s.sn="initSegment",n&&(s.levelkeys=n),s.initSegment=null}function Xj(s,e,t){s.levelkeys=e;const{encryptedFragments:n}=t;(!n.length||n[n.length-1].levelkeys!==e)&&Object.keys(e).some(i=>e[i].isCommonEncryption)&&n.push(s)}function Sr(s,e,t){s.playlistParsingError=new Error(`#EXT-X-${e} must not appear more than once (${t[0]})`)}function e6(s,e,t){s.playlistParsingError=new Error(`#EXT-X-${e} must appear before the first Media Segment (${t[0]})`)}function Wx(s,e){const t=e.startPTS;if(we(t)){let n=0,i;e.sn>s.sn?(n=t-s.start,i=s):(n=s.start-t,i=e),i.duration!==n&&i.setDuration(n)}else e.sn>s.sn?s.cc===e.cc&&s.minEndPTS?e.setStart(s.start+(s.minEndPTS-s.start)):e.setStart(s.start+s.duration):e.setStart(Math.max(s.start-e.duration,0))}function Z_(s,e,t,n,i,r){n-t<=0&&(st.warn("Fragment should have a positive duration",e),n=t+e.duration,r=i+e.duration);let l=t,c=n;const f=e.startPTS,u=e.endPTS;if(we(f)){const v=Math.abs(f-t);we(e.deltaPTS)?e.deltaPTS=Math.max(v,e.deltaPTS):e.deltaPTS=v,l=Math.max(t,f),t=Math.min(t,f),i=Math.min(i,e.startDTS),c=Math.min(n,u),n=Math.max(n,u),r=Math.max(r,e.endDTS)}const h=t-e.start;e.start!==0&&e.setStart(t),e.setDuration(n-e.start),e.startPTS=t,e.maxStartPTS=l,e.startDTS=i,e.endPTS=n,e.minEndPTS=c,e.endDTS=r;const p=e.sn;if(!s||p<s.startSN||p>s.endSN)return 0;let g;const x=p-s.startSN,y=s.fragments;for(y[x]=e,g=x;g>0;g--)Wx(y[g],y[g-1]);for(g=x;g<y.length-1;g++)Wx(y[g],y[g+1]);return s.fragmentHint&&Wx(y[y.length-1],s.fragmentHint),s.PTSKnown=s.alignedSliding=!0,h}function IX(s,e){if(s===e)return;let t=null;const n=s.fragments;for(let c=n.length-1;c>=0;c--){const f=n[c].initSegment;if(f){t=f;break}}s.fragmentHint&&delete s.fragmentHint.endPTS;let i;DX(s,e,(c,f,u,h)=>{if(!e.startCC&&f.cc!==c.cc){var p,g;const x=c.cc-f.cc;for(let y=u;y<h.length;y++)h[y].cc+=x;e.startCC=(p=(g=tA(s,e.startSN-1))==null?void 0:g.cc)!=null?p:h[0].cc,e.endCC=h[h.length-1].cc}we(c.startPTS)&&we(c.endPTS)&&(f.setStart(f.startPTS=c.startPTS),f.startDTS=c.startDTS,f.maxStartPTS=c.maxStartPTS,f.endPTS=c.endPTS,f.endDTS=c.endDTS,f.minEndPTS=c.minEndPTS,f.setDuration(c.endPTS-c.startPTS),f.duration&&(i=f),e.PTSKnown=e.alignedSliding=!0),c.hasStreams&&(f.elementaryStreams=c.elementaryStreams),f.loader=c.loader,c.hasStats&&(f.stats=c.stats),c.initSegment&&(f.initSegment=c.initSegment,t=c.initSegment)});const r=e.fragments,a=e.fragmentHint?r.concat(e.fragmentHint):r;if(t&&a.forEach(c=>{var f;c&&(!c.initSegment||c.initSegment.relurl===((f=t)==null?void 0:f.relurl))&&(c.initSegment=t)}),e.skippedSegments)if(e.deltaUpdateFailed=r.some(c=>!c),e.deltaUpdateFailed){st.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let c=e.skippedSegments;c--;)r.shift();e.startSN=r[0].sn}else{e.endCC=r[r.length-1].cc,e.canSkipDateRanges&&(e.dateRanges=_X(s.dateRanges,e));const c=s.fragments.filter(f=>f.rawProgramDateTime);if(s.hasProgramDateTime&&!e.hasProgramDateTime)for(let f=1;f<a.length;f++)a[f].programDateTime===null&&Ub(a[f],a[f-1],c);q_(c,e)}AX(s.partList,e.partList,(c,f)=>{f.elementaryStreams=c.elementaryStreams,f.stats=c.stats}),i?Z_(e,i,i.startPTS,i.endPTS,i.startDTS,i.endDTS):X_(s,e),r.length&&(e.totalduration=e.edge-r[0].start),e.driftStartTime=s.driftStartTime,e.driftStart=s.driftStart;const l=e.advancedDateTime;if(e.advanced&&l){const c=e.edge;e.driftStart||(e.driftStartTime=l,e.driftStart=c),e.driftEndTime=l,e.driftEnd=c}else e.driftEndTime=s.driftEndTime,e.driftEnd=s.driftEnd,e.advancedDateTime=s.advancedDateTime;e.requestScheduled===-1&&(e.requestScheduled=s.requestScheduled)}function _X(s,e){const{dateRanges:t,recentlyRemovedDateranges:n}=e,i=gt({},s);n&&n.forEach(l=>{delete i[l]});const a=Object.keys(i).length;return a&&Object.keys(t).forEach(l=>{const c=i[l],f=new Q_(t[l].attr,c);f.isValid?(i[l]=f,c||(f.tagOrder+=a)):st.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${Ct(t[l].attr)}"`)}),i}function AX(s,e,t){if(s&&e){let n=0;for(let i=0,r=s.length;i<=r;i++){const a=s[i],l=e[i+n];a&&l&&a.index===l.index&&a.fragment.sn===l.fragment.sn?t(a,l):n--}}}function DX(s,e,t){const n=e.skippedSegments,i=Math.max(s.startSN,e.startSN)-e.startSN,r=(s.fragmentHint?1:0)+(n?e.endSN:Math.min(s.endSN,e.endSN))-e.startSN,a=e.startSN-s.startSN,l=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,c=s.fragmentHint?s.fragments.concat(s.fragmentHint):s.fragments;for(let f=i;f<=r;f++){const u=c[a+f];let h=l[f];if(n&&!h&&u&&(h=e.fragments[f]=u),u&&h){if(t(u,h,f,l),u.url&&u.url!==h.url){e.playlistParsingError=t6(`media sequence mismatch ${h.sn}:`,s,e,u,h);return}else if(u.cc!==h.cc){e.playlistParsingError=t6(`discontinuity sequence mismatch (${u.cc}!=${h.cc})`,s,e,u,h);return}}}}function t6(s,e,t,n,i){return new Error(`${s} ${i.url}
Playlist starting @${e.startSN}
${e.m3u8}

Playlist starting @${t.startSN}
${t.m3u8}`)}function X_(s,e,t=!0){const n=e.startSN+e.skippedSegments-s.startSN,i=s.fragments,r=n>=0;let a=0;if(r&&n<i.length)a=i[n].start;else if(r&&e.startSN===s.endSN+1)a=s.fragmentEnd;else if(r&&t)a=s.fragmentStart+n*e.levelTargetDuration;else if(!e.skippedSegments&&e.fragmentStart===0)a=s.fragmentStart;else return;$b(e,a)}function $b(s,e){if(e){const t=s.fragments;for(let n=s.skippedSegments;n<t.length;n++)t[n].addStart(e);s.fragmentHint&&s.fragmentHint.addStart(e)}}function eA(s,e=1/0){let t=1e3*s.targetduration;if(s.updated){const n=s.fragments;if(n.length&&t*4>e){const r=n[n.length-1].duration*1e3;r<t&&(t=r)}}else t/=2;return Math.round(t)}function tA(s,e,t){if(!s)return null;let n=s.fragments[e-s.startSN];return n||(n=s.fragmentHint,n&&n.sn===e)?n:e<s.startSN&&t&&t.sn===e?t:null}function s6(s,e,t){return s?sA(s.partList,e,t):null}function sA(s,e,t){if(s)for(let n=s.length;n--;){const i=s[n];if(i.index===t&&i.fragment.sn===e)return i}return null}function nA(s){s.forEach((e,t)=>{var n;(n=e.details)==null||n.fragments.forEach(i=>{i.level=t,i.initSegment&&(i.initSegment.level=t)})})}function cu(s,e){for(let n=0,i=s.length;n<i;n++){var t;if(((t=s[n])==null?void 0:t.cc)===e)return s[n]}return null}function PX(s,e){return!!(s&&e.startCC<s.endCC&&e.endCC>s.startCC)}function n6(s,e){if(s){const t=s.start+e;s.start=s.startPTS=t,s.endPTS=t+s.duration}}function iA(s,e){const t=e.fragments;for(let n=0,i=t.length;n<i;n++)n6(t[n],s);e.fragmentHint&&n6(e.fragmentHint,s),e.alignedSliding=!0}function RX(s,e){s&&(rA(e,s),!e.alignedSliding&&s&&Jm(e,s),!e.alignedSliding&&s&&!e.skippedSegments&&X_(s,e,!1))}function rA(s,e){if(!PX(e,s))return;const t=Math.min(e.endCC,s.endCC),n=cu(e.fragments,t),i=cu(s.fragments,t);if(!n||!i)return;st.log(`Aligning playlist at start of dicontinuity sequence ${t}`);const r=n.start-i.start;iA(r,s)}function Jm(s,e){if(!s.hasProgramDateTime||!e.hasProgramDateTime)return;const t=s.fragments,n=e.fragments;if(!t.length||!n.length)return;let i,r;const a=Math.min(e.endCC,s.endCC);e.startCC<a&&s.startCC<a&&(i=cu(n,a),r=cu(t,a)),(!i||!r)&&(i=n[Math.floor(n.length/2)],r=cu(t,i.cc)||t[Math.floor(t.length/2)]);const l=i.programDateTime,c=r.programDateTime;if(!l||!c)return;const f=(c-l)/1e3-(r.start-i.start);iA(f,s)}const OX={toString:function(s){let e="";const t=s.length;for(let n=0;n<t;n++)e+=`[${s.start(n).toFixed(3)}-${s.end(n).toFixed(3)}]`;return e}},re={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};class sw extends Y_{constructor(e,t,n,i,r){super(i,e.logger),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=re.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.buffering=!0,this.loadingParts=!1,this.loopSn=void 0,this.onMediaSeeking=()=>{const{config:a,fragCurrent:l,media:c,mediaBuffer:f,state:u}=this,h=c?c.currentTime:0,p=Ge.bufferInfo(f||c,h,a.maxBufferHole);if(this.log(`media seeking to ${we(h)?h.toFixed(3):h}, state: ${u}`),this.state===re.ENDED)this.resetLoadingState();else if(l){const g=a.maxFragLookUpTolerance,x=l.start-g,y=l.start+l.duration+g;if(!p.len||y<p.start||x>p.end){const v=h>y;(h<x||v)&&(v&&l.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),l.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}if(c){this.fragmentTracker.removeFragmentsInRange(h,1/0,this.playlistType,!0);const g=this.lastCurrentTime;if(h>g&&(this.lastCurrentTime=h),!this.loadingParts){const x=Math.max(p.end,h),y=this.shouldLoadParts(this.getLevelDetails(),x);y&&(this.log(`LL-Part loading ON after seeking to ${h.toFixed(2)} with buffer @${x.toFixed(2)}`),this.loadingParts=y)}}!this.hls.hasEnoughToStart&&!p.len&&(this.log(`setting startPosition to ${h} because of seek before start`),this.nextLoadPosition=this.startPosition=h),this.tickImmediate()},this.onMediaEnded=()=>{this.log("setting startPosition to 0 because media ended"),this.startPosition=this.lastCurrentTime=0},this.playlistType=r,this.hls=e,this.fragmentLoader=new uX(e.config),this.keyLoader=n,this.fragmentTracker=t,this.config=e.config,this.decrypter=new Z2(e.config)}registerListeners(){const{hls:e}=this;e.on(P.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(P.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(P.MANIFEST_LOADING,this.onManifestLoading,this),e.on(P.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(P.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(P.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(P.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(P.MANIFEST_LOADING,this.onManifestLoading,this),e.off(P.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(P.ERROR,this.onError,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){if(this.state===re.STOPPED)return;this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const e=this.fragCurrent;e!=null&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=re.STOPPED}get startPositionValue(){const{nextLoadPosition:e,startPosition:t}=this;return t===-1&&e?e:t}get bufferingEnabled(){return this.buffering}pauseBuffering(){this.buffering=!1}resumeBuffering(){this.buffering=!0}get inFlightFrag(){return{frag:this.fragCurrent,state:this.state}}_streamEnded(e,t){if(t.live||!this.media)return!1;const n=e.end||0,i=this.config.timelineOffset||0;if(n<=i)return!1;const r=e.nextStart;if(r&&r>i&&r<t.edge||this.media.currentTime<e.start)return!1;const l=t.partList;if(l!=null&&l.length){const f=l[l.length-1];return Ge.isBuffered(this.media,f.start+f.duration/2)}const c=t.fragments[t.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(c)}getLevelDetails(){if(this.levels&&this.levelLastLoaded!==null){var e;return(e=this.levelLastLoaded)==null?void 0:e.details}}get timelineOffset(){const e=this.config.timelineOffset;if(e){var t;return((t=this.getLevelDetails())==null?void 0:t.appliedTimelineOffset)||e}return 0}onMediaAttached(e,t){const n=this.media=this.mediaBuffer=t.media;n.removeEventListener("seeking",this.onMediaSeeking),n.removeEventListener("ended",this.onMediaEnded),n.addEventListener("seeking",this.onMediaSeeking),n.addEventListener("ended",this.onMediaEnded);const i=this.config;this.levels&&i.autoStartLoad&&this.state===re.STOPPED&&this.startLoad(i.startPosition)}onMediaDetaching(e,t){const n=!!t.transferMedia,i=this.media;if(i!==null){if(i.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),i.removeEventListener("seeking",this.onMediaSeeking),i.removeEventListener("ended",this.onMediaEnded),this.keyLoader&&!n&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loopSn=void 0,n){this.resetLoadingState(),this.resetTransmuxer();return}this.loadingParts=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}}onManifestLoading(){this.initPTS=[],this.levels=this.levelLastLoaded=this.fragCurrent=null,this.lastCurrentTime=this.startPosition=0,this.startFragRequested=!1}onError(e,t){}onManifestLoaded(e,t){this.startTimeOffset=t.startTimeOffset}onHandlerDestroying(){this.stopLoad(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),super.onHandlerDestroying(),this.hls=this.onMediaSeeking=this.onMediaEnded=null}onHandlerDestroyed(){this.state=re.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,t,n){this.startFragRequested=!0,this._loadFragForPlayback(e,t,n)}_loadFragForPlayback(e,t,n){const i=r=>{const a=r.frag;if(this.fragContextChanged(a)){this.warn(`${a.type} sn: ${a.sn}${r.part?" part: "+r.part.index:""} of ${this.fragInfo(a,!1,r.part)}) was dropped during download.`),this.fragmentTracker.removeFragment(a);return}a.stats.chunkCount++,this._handleFragmentLoadProgress(r)};this._doFragLoad(e,t,n,i).then(r=>{if(!r)return;const a=this.state,l=r.frag;if(this.fragContextChanged(l)){(a===re.FRAG_LOADING||!this.fragCurrent&&a===re.PARSING)&&(this.fragmentTracker.removeFragment(l),this.state=re.IDLE);return}"payload"in r&&(this.log(`Loaded ${l.type} sn: ${l.sn} of ${this.playlistLabel()} ${l.level}`),this.hls.trigger(P.FRAG_LOADED,r)),this._handleFragmentLoadComplete(r)}).catch(r=>{this.state===re.STOPPED||this.state===re.ERROR||(this.warn(`Frag error: ${(r==null?void 0:r.message)||r}`),this.resetFragmentLoading(e))})}clearTrackerIfNeeded(e){var t;const{fragmentTracker:n}=this;if(n.getState(e)===is.APPENDING){const r=e.type,a=this.getFwdBufferInfo(this.mediaBuffer,r),l=Math.max(e.duration,a?a.len:this.config.maxBufferLength),c=this.backtrackFragment;((c?e.sn-c.sn:0)===1||this.reduceMaxBufferLength(l,e.duration))&&n.removeFragment(e)}else((t=this.mediaBuffer)==null?void 0:t.buffered.length)===0?n.removeAllFragments():n.hasParts(e.type)&&(n.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),n.getState(e)===is.PARTIAL&&n.removeFragment(e))}checkLiveUpdate(e){if(e.updated&&!e.live){const t=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:t,part:null,stats:t.stats,id:t.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)}waitForLive(e){const t=e.details;return(t==null?void 0:t.live)&&t.type!=="EVENT"&&(this.levelLastLoaded!==e||t.expired)}flushMainBuffer(e,t,n=null){if(!(e-t))return;const i={startOffset:e,endOffset:t,type:n};this.hls.trigger(P.BUFFER_FLUSHING,i)}_loadInitSegment(e,t){this._doFragLoad(e,t).then(n=>{const i=n==null?void 0:n.frag;if(!i||this.fragContextChanged(i)||!this.levels)throw new Error("init load aborted");return n}).then(n=>{const{hls:i}=this,{frag:r,payload:a}=n,l=r.decryptdata;if(a&&a.byteLength>0&&l!=null&&l.key&&l.iv&&Kl(l.method)){const c=self.performance.now();return this.decrypter.decrypt(new Uint8Array(a),l.key.buffer,l.iv.buffer,ew(l.method)).catch(f=>{throw i.trigger(P.ERROR,{type:Ie.MEDIA_ERROR,details:te.FRAG_DECRYPT_ERROR,fatal:!1,error:f,reason:f.message,frag:r}),f}).then(f=>{const u=self.performance.now();return i.trigger(P.FRAG_DECRYPTED,{frag:r,payload:f,stats:{tstart:c,tdecrypt:u}}),n.payload=f,this.completeInitSegmentLoad(n)})}return this.completeInitSegmentLoad(n)}).catch(n=>{this.state===re.STOPPED||this.state===re.ERROR||(this.warn(n),this.resetFragmentLoading(e))})}completeInitSegmentLoad(e){const{levels:t}=this;if(!t)throw new Error("init load aborted, missing levels");const n=e.frag.stats;this.state!==re.STOPPED&&(this.state=re.IDLE),e.frag.data=new Uint8Array(e.payload),n.parsing.start=n.buffering.start=self.performance.now(),n.parsing.end=n.buffering.end=self.performance.now(),this.tick()}fragContextChanged(e){const{fragCurrent:t}=this;return!e||!t||e.sn!==t.sn||e.level!==t.level}fragBufferedComplete(e,t){const n=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${e.type} sn: ${e.sn}${t?" part: "+t.index:""} of ${this.fragInfo(e,!1,t)} > buffer:${n?OX.toString(Ge.getBuffered(n)):"(detached)"})`),hs(e)){var i;if(e.type!==Me.SUBTITLE){const a=e.elementaryStreams;if(!Object.keys(a).some(l=>!!a[l])){this.state=re.IDLE;return}}const r=(i=this.levels)==null?void 0:i[e.level];r!=null&&r.fragmentError&&(this.log(`Resetting level fragment error count of ${r.fragmentError} on frag buffered`),r.fragmentError=0)}this.state=re.IDLE}_handleFragmentLoadComplete(e){const{transmuxer:t}=this;if(!t)return;const{frag:n,part:i,partsLoaded:r}=e,a=!r||r.length===0||r.some(c=>!c),l=new X2(n.level,n.sn,n.stats.chunkCount+1,0,i?i.index:-1,!a);t.flush(l)}_handleFragmentLoadProgress(e){}_doFragLoad(e,t,n=null,i){var r;this.fragCurrent=e;const a=t==null?void 0:t.details;if(!this.levels||!a)throw new Error(`frag load aborted, missing level${a?"":" detail"}s`);let l=null;e.encrypted&&!((r=e.decryptdata)!=null&&r.key)?(this.log(`Loading key for ${e.sn} of [${a.startSN}-${a.endSN}], ${this.playlistLabel()} ${e.level}`),this.state=re.KEY_LOADING,this.fragCurrent=e,l=this.keyLoader.load(e).then(h=>{if(!this.fragContextChanged(h.frag))return this.hls.trigger(P.KEY_LOADED,h),this.state===re.KEY_LOADING&&(this.state=re.IDLE),h}),this.hls.trigger(P.KEY_LOADING,{frag:e}),this.fragCurrent===null&&(l=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))):!e.encrypted&&a.encryptedFragments.length&&this.keyLoader.loadClear(e,a.encryptedFragments);const c=this.fragPrevious;if(hs(e)&&(!c||e.sn!==c.sn)){const h=this.shouldLoadParts(t.details,e.end);h!==this.loadingParts&&(this.log(`LL-Part loading ${h?"ON":"OFF"} loading sn ${c==null?void 0:c.sn}->${e.sn}`),this.loadingParts=h)}if(n=Math.max(e.start,n||0),this.loadingParts&&hs(e)){const h=a.partList;if(h&&i){n>e.end&&a.fragmentHint&&(e=a.fragmentHint);const p=this.getNextPart(h,e,n);if(p>-1){const g=h[p];e=this.fragCurrent=g.fragment,this.log(`Loading ${e.type} sn: ${e.sn} part: ${g.index} (${p}/${h.length-1}) of ${this.fragInfo(e,!1,g)}) cc: ${e.cc} [${a.startSN}-${a.endSN}], target: ${parseFloat(n.toFixed(3))}`),this.nextLoadPosition=g.start+g.duration,this.state=re.FRAG_LOADING;let x;return l?x=l.then(y=>!y||this.fragContextChanged(y.frag)?null:this.doFragPartsLoad(e,g,t,i)).catch(y=>this.handleFragLoadError(y)):x=this.doFragPartsLoad(e,g,t,i).catch(y=>this.handleFragLoadError(y)),this.hls.trigger(P.FRAG_LOADING,{frag:e,part:g,targetBufferTime:n}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):x}else if(!e.url||this.loadedEndOfParts(h,n))return Promise.resolve(null)}}if(hs(e)&&this.loadingParts)this.log(`LL-Part loading OFF after next part miss @${n.toFixed(2)}`),this.loadingParts=!1;else if(!e.url)return Promise.resolve(null);this.log(`Loading ${e.type} sn: ${e.sn} of ${this.fragInfo(e,!1)}) cc: ${e.cc} ${a?"["+a.startSN+"-"+a.endSN+"]":""}, target: ${parseFloat(n.toFixed(3))}`),we(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=re.FRAG_LOADING;const f=this.config.progressive;let u;return f&&l?u=l.then(h=>!h||this.fragContextChanged(h==null?void 0:h.frag)?null:this.fragmentLoader.load(e,i)).catch(h=>this.handleFragLoadError(h)):u=Promise.all([this.fragmentLoader.load(e,f?i:void 0),l]).then(([h])=>(!f&&h&&i&&i(h),h)).catch(h=>this.handleFragLoadError(h)),this.hls.trigger(P.FRAG_LOADING,{frag:e,targetBufferTime:n}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):u}doFragPartsLoad(e,t,n,i){return new Promise((r,a)=>{var l;const c=[],f=(l=n.details)==null?void 0:l.partList,u=h=>{this.fragmentLoader.loadPart(e,h,i).then(p=>{c[h.index]=p;const g=p.part;this.hls.trigger(P.FRAG_LOADED,p);const x=s6(n.details,e.sn,h.index+1)||sA(f,e.sn,h.index+1);if(x)u(x);else return r({frag:e,part:g,partsLoaded:c})}).catch(a)};u(t)})}handleFragLoadError(e){if("data"in e){const t=e.data;e.data&&t.details===te.INTERNAL_ABORTED?this.handleFragLoadAborted(t.frag,t.part):this.hls.trigger(P.ERROR,t)}else this.hls.trigger(P.ERROR,{type:Ie.OTHER_ERROR,details:te.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){const t=this.getCurrentContext(e);if(!t||this.state!==re.PARSING){!this.fragCurrent&&this.state!==re.STOPPED&&this.state!==re.ERROR&&(this.state=re.IDLE);return}const{frag:n,part:i,level:r}=t,a=self.performance.now();n.stats.parsing.end=a,i&&(i.stats.parsing.end=a);const l=this.getLevelDetails(),f=l&&n.sn>l.endSN||this.shouldLoadParts(l,n.end);f!==this.loadingParts&&(this.log(`LL-Part loading ${f?"ON":"OFF"} after parsing segment ending @${n.end.toFixed(2)}`),this.loadingParts=f),this.updateLevelTiming(n,i,r,e.partial)}shouldLoadParts(e,t){if(this.config.lowLatencyMode){if(!e)return this.loadingParts;if(e!=null&&e.partList){var n;const r=e.partList[0],a=r.end+(((n=e.fragmentHint)==null?void 0:n.duration)||0);if(t>=a){var i;if((this.hls.hasEnoughToStart?((i=this.media)==null?void 0:i.currentTime)||this.lastCurrentTime:this.getLoadPosition())>r.start-r.fragment.duration)return!0}}}return!1}getCurrentContext(e){const{levels:t,fragCurrent:n}=this,{level:i,sn:r,part:a}=e;if(!(t!=null&&t[i]))return this.warn(`Levels object was unset while buffering fragment ${r} of ${this.playlistLabel()} ${i}. The current chunk will not be buffered.`),null;const l=t[i],c=l.details,f=a>-1?s6(c,r,a):null,u=f?f.fragment:tA(c,r,n);return u?(n&&n!==u&&(u.stats=n.stats),{frag:u,part:f,level:l}):null}bufferFragmentData(e,t,n,i,r){var a;if(!e||this.state!==re.PARSING)return;const{data1:l,data2:c}=e;let f=l;if(l&&c&&(f=ni(l,c)),!((a=f)!=null&&a.length))return;const u={type:e.type,frag:t,part:n,chunkMeta:i,parent:t.type,data:f};if(this.hls.trigger(P.BUFFER_APPENDING,u),e.dropped&&e.independent&&!n){if(r)return;this.flushBufferGap(t)}}flushBufferGap(e){const t=this.media;if(!t)return;if(!Ge.isBuffered(t,t.currentTime)){this.flushMainBuffer(0,e.start);return}const n=t.currentTime,i=Ge.bufferInfo(t,n,0),r=e.duration,a=Math.min(this.config.maxFragLookUpTolerance*2,r*.25),l=Math.max(Math.min(e.start-a,i.end-a),n+a);e.start-l>a&&this.flushMainBuffer(l,e.start)}getFwdBufferInfo(e,t){var n;const i=this.getLoadPosition();if(!we(i))return null;const a=this.lastCurrentTime>i||(n=this.media)!=null&&n.paused?0:this.config.maxBufferHole;return this.getFwdBufferInfoAtPos(e,i,t,a)}getFwdBufferInfoAtPos(e,t,n,i){const r=Ge.bufferInfo(e,t,i);if(r.len===0&&r.nextStart!==void 0){const a=this.fragmentTracker.getBufferedFrag(t,n);if(a&&(r.nextStart<=a.end||a.gap)){const l=Math.max(Math.min(r.nextStart,a.end)-t,i);return Ge.bufferInfo(e,t,l)}}return r}getMaxBufferLength(e){const{config:t}=this;let n;return e?n=Math.max(8*t.maxBufferSize/e,t.maxBufferLength):n=t.maxBufferLength,Math.min(n,t.maxMaxBufferLength)}reduceMaxBufferLength(e,t){const n=this.config,i=Math.max(Math.min(e-t,n.maxBufferLength),t),r=Math.max(e-t*3,n.maxMaxBufferLength/2,i);return r>=i?(n.maxMaxBufferLength=r,this.warn(`Reduce max buffer length to ${r}s`),!0):!1}getAppendedFrag(e,t=Me.MAIN){var n;const i=(n=this.fragmentTracker)==null?void 0:n.getAppendedFrag(e,t);return i&&"fragment"in i?i.fragment:i}getNextFragment(e,t){const n=t.fragments,i=n.length;if(!i)return null;const{config:r}=this,a=n[0].start,l=r.lowLatencyMode&&!!t.partList;let c=null;if(t.live){const h=r.initialLiveManifestSize;if(i<h)return this.warn(`Not enough fragments to start playback (have: ${i}, need: ${h})`),null;if(!t.PTSKnown&&!this.startFragRequested&&this.startPosition===-1||e<a){var f;l&&!this.loadingParts&&(this.log("LL-Part loading ON for initial live fragment"),this.loadingParts=!0),c=this.getInitialLiveFragment(t,n);const p=this.hls.startPosition,g=this.hls.liveSyncPosition,x=c?(p!==-1&&p>=a?p:g)||c.start:e;this.log(`Setting startPosition to ${x} to match start frag at live edge. mainStart: ${p} liveSyncPosition: ${g} frag.start: ${(f=c)==null?void 0:f.start}`),this.startPosition=this.nextLoadPosition=x}}else e<=a&&(c=n[0]);if(!c){const h=this.loadingParts?t.partEnd:t.fragmentEnd;c=this.getFragmentAtPosition(e,h,t)}let u=this.filterReplacedPrimary(c,t);if(!u&&c){const h=c.sn-t.startSN;u=this.filterReplacedPrimary(n[h+1]||null,t)}return this.mapToInitFragWhenRequired(u)}isLoopLoading(e,t){const n=this.fragmentTracker.getState(e);return(n===is.OK||n===is.PARTIAL&&!!e.gap)&&this.nextLoadPosition>t}getNextFragmentLoopLoading(e,t,n,i,r){let a=null;if(e.gap&&(a=this.getNextFragment(this.nextLoadPosition,t),a&&!a.gap&&n.nextStart)){const l=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,n.nextStart,i,0);if(l!==null&&n.len+l.len>=r){const c=a.sn;return this.loopSn!==c&&(this.log(`buffer full after gaps in "${i}" playlist starting at sn: ${c}`),this.loopSn=c),null}}return this.loopSn=void 0,a}get primaryPrefetch(){if(i6(this.hls.config)){var e,t;if((e=this.hls.interstitialsManager)==null||(t=e.playingItem)==null?void 0:t.event)return!0}return!1}filterReplacedPrimary(e,t){if(!e)return e;if(i6(this.hls.config)&&e.type!==Me.SUBTITLE){const n=this.hls.interstitialsManager,i=n==null?void 0:n.bufferingItem;if(i){const a=i.event;if(a){if(a.appendInPlace||Math.abs(e.start-i.start)>1||i.start===0)return null}else if(e.end<=i.start&&(t==null?void 0:t.live)===!1||e.start>i.end&&i.nextEvent&&(i.nextEvent.appendInPlace||e.start-i.end>1))return null}const r=n==null?void 0:n.playerQueue;if(r)for(let a=r.length;a--;){const l=r[a].interstitial;if(l.appendInPlace&&e.start>=l.startTime&&e.end<=l.resumeTime)return null}}return e}mapToInitFragWhenRequired(e){return e!=null&&e.initSegment&&!(e!=null&&e.initSegment.data)&&!this.bitrateTest?e.initSegment:e}getNextPart(e,t,n){let i=-1,r=!1,a=!0;for(let l=0,c=e.length;l<c;l++){const f=e[l];if(a=a&&!f.independent,i>-1&&n<f.start)break;const u=f.loaded;u?i=-1:(r||f.independent||a)&&f.fragment===t&&(i=l),r=u}return i}loadedEndOfParts(e,t){const n=e[e.length-1];return n&&t>n.start&&n.loaded}getInitialLiveFragment(e,t){const n=this.fragPrevious;let i=null;if(n){if(e.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${n.programDateTime}`),i=ZZ(t,n.endProgramDateTime,this.config.maxFragLookUpTolerance)),!i){const r=n.sn+1;if(r>=e.startSN&&r<=e.endSN){const a=t[r-e.startSN];n.cc===a.cc&&(i=a,this.log(`Live playlist, switching playlist, load frag with next SN: ${i.sn}`))}i||(i=H_(t,n.cc),i&&this.log(`Live playlist, switching playlist, load frag with same CC: ${i.sn}`))}}else{const r=this.hls.liveSyncPosition;r!==null&&(i=this.getFragmentAtPosition(r,this.bitrateTest?e.fragmentEnd:e.edge,e))}return i}getFragmentAtPosition(e,t,n){const{config:i}=this;let{fragPrevious:r}=this,{fragments:a,endSN:l}=n;const{fragmentHint:c}=n,{maxFragLookUpTolerance:f}=i,u=n.partList,h=!!(this.loadingParts&&u!=null&&u.length&&c);h&&c&&!this.bitrateTest&&u[u.length-1].fragment.sn===c.sn&&(a=a.concat(c),l=c.sn);let p;if(e<t){var g;const y=e<this.lastCurrentTime||e>t-f||(g=this.media)!=null&&g.paused||!this.startFragRequested?0:f;p=Go(r,a,e,y)}else p=a[a.length-1];if(p){const x=p.sn-n.startSN,y=this.fragmentTracker.getState(p);if((y===is.OK||y===is.PARTIAL&&p.gap)&&(r=p),r&&p.sn===r.sn&&(!h||u[0].fragment.sn>p.sn||!n.live&&!h)&&r&&p.level===r.level){const w=a[x+1];p.sn<l&&this.fragmentTracker.getState(w)!==is.OK?p=w:p=null}}return p}alignPlaylists(e,t,n){const i=e.fragments.length;if(!i)return this.warn("No fragments in live playlist"),0;const r=e.fragmentStart,a=!t,l=e.alignedSliding&&we(r);if(a||!l&&!r){RX(n,e);const c=e.fragmentStart;return this.log(`Live playlist sliding: ${c.toFixed(2)} start-sn: ${t?t.startSN:"na"}->${e.startSN} fragments: ${i}`),c}return r}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,e.partTarget*3)}setStartPosition(e,t){let n=this.startPosition;n<t&&(n=-1);const i=this.timelineOffset;if(n===-1){const r=this.startTimeOffset!==null,a=r?this.startTimeOffset:e.startTimeOffset;a!==null&&we(a)?(n=t+a,a<0&&(n+=e.edge),n=Math.min(Math.max(t,n),t+e.totalduration),this.log(`Setting startPosition to ${n} for start time offset ${a} found in ${r?"multivariant":"media"} playlist`),this.startPosition=n):e.live?(n=this.hls.liveSyncPosition||t,this.log(`Setting startPosition to -1 to start at live edge ${n}`),this.startPosition=-1):(this.log("setting startPosition to 0 by default"),this.startPosition=n=0),this.lastCurrentTime=n+i}this.nextLoadPosition=n+i}getLoadPosition(){var e;const{media:t}=this;let n=0;return(e=this.hls)!=null&&e.hasEnoughToStart&&t?n=t.currentTime:this.nextLoadPosition>=0&&(n=this.nextLoadPosition),n}handleFragLoadAborted(e,t){this.transmuxer&&e.type===this.playlistType&&hs(e)&&e.stats.aborted&&(this.warn(`Fragment ${e.sn}${t?" part "+t.index:""} of ${this.playlistLabel()} ${e.level} was aborted`),this.resetFragmentLoading(e))}resetFragmentLoading(e){(!this.fragCurrent||!this.fragContextChanged(e)&&this.state!==re.FRAG_LOADING_WAITING_RETRY)&&(this.state=re.IDLE)}onFragmentOrKeyLoadError(e,t){if(t.chunkMeta&&!t.frag){const x=this.getCurrentContext(t.chunkMeta);x&&(t.frag=x.frag)}const n=t.frag;if(!n||n.type!==e||!this.levels)return;if(this.fragContextChanged(n)){var i;this.warn(`Frag load error must match current frag to retry ${n.url} > ${(i=this.fragCurrent)==null?void 0:i.url}`);return}const r=t.details===te.FRAG_GAP;r&&this.fragmentTracker.fragBuffered(n,!0);const a=t.errorAction,{action:l,flags:c,retryCount:f=0,retryConfig:u}=a||{},h=!!a&&!!u,p=h&&l===Es.RetryRequest,g=h&&!a.resolved&&c===yi.MoveAllAlternatesMatchingHost;if(!p&&g&&hs(n)&&!n.endList)this.resetFragmentErrors(e),this.treatAsGap(n),a.resolved=!0;else if((p||g)&&f<u.maxNumRetry){this.resetStartWhenNotLoaded(this.levelLastLoaded);const x=q2(u,f);this.warn(`Fragment ${n.sn} of ${e} ${n.level} errored with ${t.details}, retrying loading ${f+1}/${u.maxNumRetry} in ${x}ms`),a.resolved=!0,this.retryDate=self.performance.now()+x,this.state=re.FRAG_LOADING_WAITING_RETRY}else if(u&&a)if(this.resetFragmentErrors(e),f<u.maxNumRetry)!r&&l!==Es.RemoveAlternatePermanently&&(a.resolved=!0);else{this.warn(`${t.details} reached or exceeded max retry (${f})`);return}else l===Es.SendAlternateToPenaltyBox?this.state=re.WAITING_LEVEL:this.state=re.ERROR;this.tickImmediate()}reduceLengthAndFlushBuffer(e){if(this.state===re.PARSING||this.state===re.PARSED){const t=e.frag,n=e.parent,i=this.getFwdBufferInfo(this.mediaBuffer,n),r=i&&i.len>.5;r&&this.reduceMaxBufferLength(i.len,(t==null?void 0:t.duration)||10);const a=!r;return a&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${n} buffer`),t&&(this.fragmentTracker.removeFragment(t),this.nextLoadPosition=t.start),this.resetLoadingState(),a}return!1}resetFragmentErrors(e){e===Me.AUDIO&&(this.fragCurrent=null),this.hls.hasEnoughToStart||(this.startFragRequested=!1),this.state!==re.STOPPED&&(this.state=re.IDLE)}afterBufferFlushed(e,t,n){if(!e)return;const i=Ge.getBuffered(e);this.fragmentTracker.detectEvictedFragments(t,i,n),this.state===re.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state!==re.STOPPED&&(this.state=re.IDLE)}resetStartWhenNotLoaded(e){if(!this.hls.hasEnoughToStart){this.startFragRequested=!1;const t=e?e.details:null;t!=null&&t.live?(this.log("resetting startPosition for live start"),this.startPosition=-1,this.setStartPosition(t,t.fragmentStart),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){this.warn(`The loading context changed while buffering fragment ${e.sn} of ${this.playlistLabel()} ${e.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState()}removeUnbufferedFrags(e=0){this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,t,n,i){const r=n.details;if(!r){this.warn("level.details undefined");return}if(!Object.keys(e.elementaryStreams).reduce((c,f)=>{const u=e.elementaryStreams[f];if(u){const h=u.endPTS-u.startPTS;if(h<=0)return this.warn(`Could not parse fragment ${e.sn} ${f} duration reliably (${h})`),c||!1;const p=i?0:Z_(r,e,u.startPTS,u.endPTS,u.startDTS,u.endDTS);return this.hls.trigger(P.LEVEL_PTS_UPDATED,{details:r,level:n,drift:p,type:f,frag:e,start:u.startPTS,end:u.endPTS}),!0}return c},!1)){var l;if(n.fragmentError===0&&this.treatAsGap(e,n),((l=this.transmuxer)==null?void 0:l.error)===null){const c=new Error(`Found no media in fragment ${e.sn} of ${this.playlistLabel()} ${e.level} resetting transmuxer to fallback to playlist timing`);if(this.warn(c.message),this.hls.trigger(P.ERROR,{type:Ie.MEDIA_ERROR,details:te.FRAG_PARSING_ERROR,fatal:!1,error:c,frag:e,reason:`Found no media in msn ${e.sn} of ${this.playlistLabel()} "${n.url}"`}),!this.hls)return;this.resetTransmuxer()}}this.state=re.PARSED,this.log(`Parsed ${e.type} sn: ${e.sn}${t?" part: "+t.index:""} of ${this.fragInfo(e,!1,t)})`),this.hls.trigger(P.FRAG_PARSED,{frag:e,part:t})}playlistLabel(){return this.playlistType===Me.MAIN?"level":"track"}fragInfo(e,t=!0,n){var i,r;return`${this.playlistLabel()} ${e.level} (${n?"part":"frag"}:[${((i=t&&!n?e.startPTS:(n||e).start)!=null?i:NaN).toFixed(3)}-${((r=t&&!n?e.endPTS:(n||e).end)!=null?r:NaN).toFixed(3)}]${n&&e.type==="main"?"INDEPENDENT="+(n.independent?"YES":"NO"):""}`}treatAsGap(e,t){t&&t.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)}resetTransmuxer(){var e;(e=this.transmuxer)==null||e.reset()}recoverWorkerError(e){e.event==="demuxerWorker"&&(this.fragmentTracker.removeAllFragments(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState())}set state(e){const t=this._state;t!==e&&(this._state=e,this.log(`${t}->${e}`))}get state(){return this._state}}function i6(s){return!!s.interstitialsController&&s.enableInterstitialPlayback!==!1}class aA{constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){const{chunks:e,dataLength:t}=this;let n;if(e.length)e.length===1?n=e[0]:n=FX(e,t);else return new Uint8Array(0);return this.reset(),n}reset(){this.chunks.length=0,this.dataLength=0}}function FX(s,e){const t=new Uint8Array(e);let n=0;for(let i=0;i<s.length;i++){const r=s[i];t.set(r,n),n+=r.length}return t}var Qx={exports:{}},r6;function zX(){return r6||(r6=1,function(s){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function i(c,f,u){this.fn=c,this.context=f,this.once=u||!1}function r(c,f,u,h,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var g=new i(u,h||c,p),x=t?t+f:f;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],g]:c._events[x].push(g):(c._events[x]=g,c._eventsCount++),c}function a(c,f){--c._eventsCount===0?c._events=new n:delete c._events[f]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],u,h;if(this._eventsCount===0)return f;for(h in u=this._events)e.call(u,h)&&f.push(t?h.slice(1):h);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(u)):f},l.prototype.listeners=function(f){var u=t?t+f:f,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,g=h.length,x=new Array(g);p<g;p++)x[p]=h[p].fn;return x},l.prototype.listenerCount=function(f){var u=t?t+f:f,h=this._events[u];return h?h.fn?1:h.length:0},l.prototype.emit=function(f,u,h,p,g,x){var y=t?t+f:f;if(!this._events[y])return!1;var v=this._events[y],w=arguments.length,L,S;if(v.fn){switch(v.once&&this.removeListener(f,v.fn,void 0,!0),w){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,h),!0;case 4:return v.fn.call(v.context,u,h,p),!0;case 5:return v.fn.call(v.context,u,h,p,g),!0;case 6:return v.fn.call(v.context,u,h,p,g,x),!0}for(S=1,L=new Array(w-1);S<w;S++)L[S-1]=arguments[S];v.fn.apply(v.context,L)}else{var j=v.length,E;for(S=0;S<j;S++)switch(v[S].once&&this.removeListener(f,v[S].fn,void 0,!0),w){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,u);break;case 3:v[S].fn.call(v[S].context,u,h);break;case 4:v[S].fn.call(v[S].context,u,h,p);break;default:if(!L)for(E=1,L=new Array(w-1);E<w;E++)L[E-1]=arguments[E];v[S].fn.apply(v[S].context,L)}}return!0},l.prototype.on=function(f,u,h){return r(this,f,u,h,!1)},l.prototype.once=function(f,u,h){return r(this,f,u,h,!0)},l.prototype.removeListener=function(f,u,h,p){var g=t?t+f:f;if(!this._events[g])return this;if(!u)return a(this,g),this;var x=this._events[g];if(x.fn)x.fn===u&&(!p||x.once)&&(!h||x.context===h)&&a(this,g);else{for(var y=0,v=[],w=x.length;y<w;y++)(x[y].fn!==u||p&&!x[y].once||h&&x[y].context!==h)&&v.push(x[y]);v.length?this._events[g]=v.length===1?v[0]:v:a(this,g)}return this},l.prototype.removeAllListeners=function(f){var u;return f?(u=t?t+f:f,this._events[u]&&a(this,u)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=t,l.EventEmitter=l,s.exports=l}(Qx)),Qx.exports}var BX=zX(),nw=mZ(BX);const Gu="1.6.2",dc={};function UX(){return typeof __HLS_WORKER_BUNDLE__=="function"}function $X(){const s=dc[Gu];if(s)return s.clientCount++,s;const e=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),t=self.URL.createObjectURL(e),i={worker:new self.Worker(t),objectURL:t,clientCount:1};return dc[Gu]=i,i}function VX(s){const e=dc[s];if(e)return e.clientCount++,e;const t=new self.URL(s,self.location.href).href,i={worker:new self.Worker(t),scriptURL:t,clientCount:1};return dc[s]=i,i}function GX(s){const e=dc[s||Gu];if(e&&e.clientCount--===1){const{worker:n,objectURL:i}=e;delete dc[s||Gu],i&&self.URL.revokeObjectURL(i),n.terminate()}}function oA(s,e){return e+10<=s.length&&s[e]===51&&s[e+1]===68&&s[e+2]===73&&s[e+3]<255&&s[e+4]<255&&s[e+6]<128&&s[e+7]<128&&s[e+8]<128&&s[e+9]<128}function iw(s,e){return e+10<=s.length&&s[e]===73&&s[e+1]===68&&s[e+2]===51&&s[e+3]<255&&s[e+4]<255&&s[e+6]<128&&s[e+7]<128&&s[e+8]<128&&s[e+9]<128}function Rp(s,e){let t=0;return t=(s[e]&127)<<21,t|=(s[e+1]&127)<<14,t|=(s[e+2]&127)<<7,t|=s[e+3]&127,t}function Hu(s,e){const t=e;let n=0;for(;iw(s,e);){n+=10;const i=Rp(s,e+6);n+=i,oA(s,e+10)&&(n+=10),e+=n}if(n>0)return s.subarray(t,t+n)}function HX(s,e,t,n){const i=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],r=e[t+2],a=r>>2&15;if(a>12){const g=new Error(`invalid ADTS sampling index:${a}`);s.emit(P.ERROR,P.ERROR,{type:Ie.MEDIA_ERROR,details:te.FRAG_PARSING_ERROR,fatal:!0,error:g,reason:g.message});return}const l=(r>>6&3)+1,c=e[t+3]>>6&3|(r&1)<<2,f="mp4a.40."+l,u=i[a];let h=a;(l===5||l===29)&&(h-=3);const p=[l<<3|(h&14)>>1,(h&1)<<7|c<<3];return st.log(`manifest codec:${n}, parsed codec:${f}, channels:${c}, rate:${u} (ADTS object type:${l} sampling index:${a})`),{config:p,samplerate:u,channelCount:c,codec:f,parsedCodec:f,manifestCodec:n}}function lA(s,e){return s[e]===255&&(s[e+1]&246)===240}function cA(s,e){return s[e+1]&1?7:9}function rw(s,e){return(s[e+3]&3)<<11|s[e+4]<<3|(s[e+5]&224)>>>5}function YX(s,e){return e+5<s.length}function qm(s,e){return e+1<s.length&&lA(s,e)}function WX(s,e){return YX(s,e)&&lA(s,e)&&rw(s,e)<=s.length-e}function QX(s,e){if(qm(s,e)){const t=cA(s,e);if(e+t>=s.length)return!1;const n=rw(s,e);if(n<=t)return!1;const i=e+n;return i===s.length||qm(s,i)}return!1}function fA(s,e,t,n,i){if(!s.samplerate){const r=HX(e,t,n,i);if(!r)return;gt(s,r)}}function uA(s){return 1024*9e4/s}function KX(s,e){const t=cA(s,e);if(e+t<=s.length){const n=rw(s,e)-t;if(n>0)return{headerLength:t,frameLength:n}}}function dA(s,e,t,n,i){const r=uA(s.samplerate),a=n+i*r,l=KX(e,t);let c;if(l){const{frameLength:h,headerLength:p}=l,g=p+h,x=Math.max(0,t+g-e.length);x?(c=new Uint8Array(g-p),c.set(e.subarray(t+p,e.length),0)):c=e.subarray(t+p,t+g);const y={unit:c,pts:a};return x||s.samples.push(y),{sample:y,length:g,missing:x}}const f=e.length-t;return c=new Uint8Array(f),c.set(e.subarray(t,e.length),0),{sample:{unit:c,pts:a},length:f,missing:-1}}function JX(s,e){return iw(s,e)&&Rp(s,e+6)+10<=s.length-e}function qX(s){if(s.size<2)return;const e=Mn(s.data,!0),t=new Uint8Array(s.data.subarray(e.length+1));return{key:s.type,info:e,data:t.buffer}}function ZX(s){if(s.size<2)return;if(s.type==="TXXX"){let t=1;const n=Mn(s.data.subarray(t),!0);t+=n.length+1;const i=Mn(s.data.subarray(t));return{key:s.type,info:n,data:i}}const e=Mn(s.data.subarray(1));return{key:s.type,info:"",data:e}}function XX(s){if(s.type==="WXXX"){if(s.size<2)return;let t=1;const n=Mn(s.data.subarray(t),!0);t+=n.length+1;const i=Mn(s.data.subarray(t));return{key:s.type,info:n,data:i}}const e=Mn(s.data);return{key:s.type,info:"",data:e}}function eee(s){return btoa(String.fromCharCode(...s))}function hA(s,e){if(s<0)return-hA(-s,e);const t=Math.pow(10,e);if(Math.abs(s*t%1-.5)<Number.EPSILON){const i=Math.floor(s*t);return(i%2===0?i:i+1)/t}else return Math.round(s*t)/t}function tee(s,e){const t=new URL(s),n=new URL(e);if(t.origin!==n.origin)return s;const i=t.pathname.split("/").slice(1),r=n.pathname.split("/").slice(1,-1);for(;i[0]===r[0];)i.shift(),r.shift();for(;r.length;)r.shift(),i.unshift("..");return i.join("/")}function see(){try{return crypto.randomUUID()}catch{try{const e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.slice(t.lastIndexOf("/")+1)}catch{let t=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,i=>{const r=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(i=="x"?r:r&3|8).toString(16)})}}}function nee(s){return s instanceof ArrayBuffer?s:s.byteOffset==0&&s.byteLength==s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer}function Kx(s,e=0,t=1/0){return iee(s,e,t,Uint8Array)}function iee(s,e,t,n){const i=ree(s);let r=1;"BYTES_PER_ELEMENT"in n&&(r=n.BYTES_PER_ELEMENT);const a=aee(s)?s.byteOffset:0,l=(a+s.byteLength)/r,c=(a+e)/r,f=Math.floor(Math.max(0,Math.min(c,l))),u=Math.floor(Math.min(f+Math.max(t,0),l));return new n(i,f,u-f)}function ree(s){return s instanceof ArrayBuffer?s:s.buffer}function aee(s){return s&&s.buffer instanceof ArrayBuffer&&s.byteLength!==void 0&&s.byteOffset!==void 0}function oee(s){const e={key:s.type,description:"",data:"",mimeType:null,pictureType:null},t=3;if(s.size<2)return;if(s.data[0]!==t){console.log("Ignore frame with unrecognized character encoding");return}const n=s.data.subarray(1).indexOf(0);if(n===-1)return;const i=Mn(Kx(s.data,1,n)),r=s.data[2+n],a=s.data.subarray(3+n).indexOf(0);if(a===-1)return;const l=Mn(Kx(s.data,3+n,a));let c;return i==="-->"?c=Mn(Kx(s.data,4+n+a)):c=nee(s.data.subarray(4+n+a)),e.mimeType=i,e.pictureType=r,e.description=l,e.data=c,e}function lee(s){return s.type==="PRIV"?qX(s):s.type[0]==="W"?XX(s):s.type==="APIC"?oee(s):ZX(s)}function cee(s){const e=String.fromCharCode(s[0],s[1],s[2],s[3]),t=Rp(s,4),n=10;return{type:e,size:t,data:s.subarray(n,n+t)}}const f0=10,fee=10;function mA(s){let e=0;const t=[];for(;iw(s,e);){const n=Rp(s,e+6);s[e+5]>>6&1&&(e+=f0),e+=f0;const i=e+n;for(;e+fee<i;){const r=cee(s.subarray(e)),a=lee(r);a&&t.push(a),e+=r.size+f0}oA(s,e)&&(e+=f0)}return t}function pA(s){return s&&s.key==="PRIV"&&s.info==="com.apple.streaming.transportStreamTimestamp"}function uee(s){if(s.data.byteLength===8){const e=new Uint8Array(s.data),t=e[3]&1;let n=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return n/=45,t&&(n+=4772185884e-2),Math.round(n)}}function aw(s){const e=mA(s);for(let t=0;t<e.length;t++){const n=e[t];if(pA(n))return uee(n)}}let wn=function(s){return s.audioId3="org.id3",s.dateRange="com.apple.quicktime.HLS",s.emsg="https://aomedia.org/emsg/ID3",s.misbklv="urn:misb:KLV:bin:1910.1",s}({});function Vi(s="",e=9e4){return{type:s,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class ow{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,t,n,i){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,t){return!1}appendFrame(e,t,n){}demux(e,t){this.cachedData&&(e=ni(this.cachedData,e),this.cachedData=null);let n=Hu(e,0),i=n?n.length:0,r;const a=this._audioTrack,l=this._id3Track,c=n?aw(n):void 0,f=e.length;for((this.basePTS===null||this.frameIndex===0&&we(c))&&(this.basePTS=dee(c,t,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),n&&n.length>0&&l.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:wn.audioId3,duration:Number.POSITIVE_INFINITY});i<f;){if(this.canParse(e,i)){const u=this.appendFrame(a,e,i);u?(this.frameIndex++,this.lastPTS=u.sample.pts,i+=u.length,r=i):i=f}else JX(e,i)?(n=Hu(e,i),l.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:wn.audioId3,duration:Number.POSITIVE_INFINITY}),i+=n.length,r=i):i++;if(i===f&&r!==f){const u=e.slice(r);this.cachedData?this.cachedData=ni(this.cachedData,u):this.cachedData=u}}return{audioTrack:a,videoTrack:Vi(),id3Track:l,textTrack:Vi()}}demuxSampleAes(e,t,n){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(e){const t=this.cachedData;return t&&(this.cachedData=null,this.demux(t,0)),{audioTrack:this._audioTrack,videoTrack:Vi(),id3Track:this._id3Track,textTrack:Vi()}}destroy(){this.cachedData=null,this._audioTrack=this._id3Track=void 0}}const dee=(s,e,t)=>{if(we(s))return s*90;const n=t?t.baseTime*9e4/t.timescale:0;return e*9e4+n};let u0=null;const hee=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],mee=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],pee=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],gee=[0,1,1,4];function gA(s,e,t,n,i){if(t+24>e.length)return;const r=xA(e,t);if(r&&t+r.frameLength<=e.length){const a=r.samplesPerFrame*9e4/r.sampleRate,l=n+i*a,c={unit:e.subarray(t,t+r.frameLength),pts:l,dts:l};return s.config=[],s.channelCount=r.channelCount,s.samplerate=r.sampleRate,s.samples.push(c),{sample:c,length:r.frameLength,missing:0}}}function xA(s,e){const t=s[e+1]>>3&3,n=s[e+1]>>1&3,i=s[e+2]>>4&15,r=s[e+2]>>2&3;if(t!==1&&i!==0&&i!==15&&r!==3){const a=s[e+2]>>1&1,l=s[e+3]>>6,c=t===3?3-n:n===3?3:4,f=hee[c*14+i-1]*1e3,h=mee[(t===3?0:t===2?1:2)*3+r],p=l===3?1:2,g=pee[t][n],x=gee[n],y=g*8*x,v=Math.floor(g*f/h+a)*x;if(u0===null){const S=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);u0=S?parseInt(S[1]):0}return!!u0&&u0<=87&&n===2&&f>=224e3&&l===0&&(s[e+3]=s[e+3]|128),{sampleRate:h,channelCount:p,frameLength:v,samplesPerFrame:y}}}function lw(s,e){return s[e]===255&&(s[e+1]&224)===224&&(s[e+1]&6)!==0}function yA(s,e){return e+1<s.length&&lw(s,e)}function xee(s,e){return lw(s,e)&&4<=s.length-e}function bA(s,e){if(e+1<s.length&&lw(s,e)){const n=xA(s,e);let i=4;n!=null&&n.frameLength&&(i=n.frameLength);const r=e+i;return r===s.length||yA(s,r)}return!1}class yee extends ow{constructor(e,t){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=t}resetInitSegment(e,t,n,i){super.resetInitSegment(e,t,n,i),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:t,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e,t){if(!e)return!1;const n=Hu(e,0);let i=(n==null?void 0:n.length)||0;if(bA(e,i))return!1;for(let r=e.length;i<r;i++)if(QX(e,i))return t.log("ADTS sync word found !"),!0;return!1}canParse(e,t){return WX(e,t)}appendFrame(e,t,n){fA(e,this.observer,t,n,e.manifestCodec);const i=dA(e,t,n,this.basePTS,this.frameIndex);if(i&&i.missing===0)return i}}const vA=(s,e)=>{let t=0,n=5;e+=n;const i=new Uint32Array(1),r=new Uint32Array(1),a=new Uint8Array(1);for(;n>0;){a[0]=s[e];const l=Math.min(n,8),c=8-l;r[0]=4278190080>>>24+c<<c,i[0]=(a[0]&r[0])>>c,t=t?t<<l|i[0]:i[0],e+=1,n-=l}return t};class bee extends ow{constructor(e){super(),this.observer=void 0,this.observer=e}resetInitSegment(e,t,n,i){super.resetInitSegment(e,t,n,i),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:t,duration:i,inputTimeScale:9e4,dropped:0}}canParse(e,t){return t+64<e.length}appendFrame(e,t,n){const i=wA(e,t,n,this.basePTS,this.frameIndex);if(i!==-1)return{sample:e.samples[e.samples.length-1],length:i,missing:0}}static probe(e){if(!e)return!1;const t=Hu(e,0);if(!t)return!1;const n=t.length;return e[n]===11&&e[n+1]===119&&aw(t)!==void 0&&vA(e,n)<16}}function wA(s,e,t,n,i){if(t+8>e.length||e[t]!==11||e[t+1]!==119)return-1;const r=e[t+4]>>6;if(r>=3)return-1;const l=[48e3,44100,32e3][r],c=e[t+4]&63,u=[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][c*3+r]*2;if(t+u>e.length)return-1;const h=e[t+6]>>5;let p=0;h===2?p+=2:(h&1&&h!==1&&(p+=2),h&4&&(p+=2));const g=(e[t+6]<<8|e[t+7])>>12-p&1,y=[2,1,2,3,3,4,4,5][h]+g,v=e[t+5]>>3,w=e[t+5]&7,L=new Uint8Array([r<<6|v<<1|w>>2,(w&3)<<6|h<<3|g<<2|c>>4,c<<4&224]),S=1536/l*9e4,j=n+i*S,E=e.subarray(t,t+u);return s.config=L,s.channelCount=y,s.samplerate=l,s.samples.push({unit:E,pts:j}),u}class vee extends ow{resetInitSegment(e,t,n,i){super.resetInitSegment(e,t,n,i),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:t,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const t=Hu(e,0);let n=(t==null?void 0:t.length)||0;if(t&&e[n]===11&&e[n+1]===119&&aw(t)!==void 0&&vA(e,n)<=16)return!1;for(let i=e.length;n<i;n++)if(bA(e,n))return st.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,t){return xee(e,t)}appendFrame(e,t,n){if(this.basePTS!==null)return gA(e,t,n,this.basePTS,this.frameIndex)}}const wee=/\/emsg[-/]ID3/i;class See{constructor(e,t){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=t}resetTimeStamp(){}resetInitSegment(e,t,n,i){const r=this.videoTrack=Vi("video",1),a=this.audioTrack=Vi("audio",1),l=this.txtTrack=Vi("text",1);if(this.id3Track=Vi("id3",1),this.timeOffset=0,!(e!=null&&e.byteLength))return;const c=D_(e);if(c.video){const{id:f,timescale:u,codec:h,supplemental:p}=c.video;r.id=f,r.timescale=l.timescale=u,r.codec=h,r.supplemental=p}if(c.audio){const{id:f,timescale:u,codec:h}=c.audio;a.id=f,a.timescale=u,a.codec=h}l.id=I_.text,r.sampleDuration=0,r.duration=a.duration=i}resetContiguity(){this.remainderData=null}static probe(e){return bZ(e)}demux(e,t){this.timeOffset=t;let n=e;const i=this.videoTrack,r=this.txtTrack;if(this.config.progressive){this.remainderData&&(n=ni(this.remainderData,e));const l=EZ(n);this.remainderData=l.remainder,i.samples=l.valid||new Uint8Array}else i.samples=n;const a=this.extractID3Track(i,t);return r.samples=jj(t,i),{videoTrack:i,audioTrack:this.audioTrack,id3Track:a,textTrack:this.txtTrack}}flush(){const e=this.timeOffset,t=this.videoTrack,n=this.txtTrack;t.samples=this.remainderData||new Uint8Array,this.remainderData=null;const i=this.extractID3Track(t,this.timeOffset);return n.samples=jj(e,t),{videoTrack:t,audioTrack:Vi(),id3Track:i,textTrack:Vi()}}extractID3Track(e,t){const n=this.id3Track;if(e.samples.length){const i=Ue(e.samples,["emsg"]);i&&i.forEach(r=>{const a=MZ(r);if(wee.test(a.schemeIdUri)){const l=a6(a,t);let c=a.eventDuration===4294967295?Number.POSITIVE_INFINITY:a.eventDuration/a.timeScale;c<=.001&&(c=Number.POSITIVE_INFINITY);const f=a.payload;n.samples.push({data:f,len:f.byteLength,dts:l,pts:l,type:wn.emsg,duration:c})}else if(this.config.enableEmsgKLVMetadata&&a.schemeIdUri.startsWith("urn:misb:KLV:bin:1910.1")){const l=a6(a,t);n.samples.push({data:a.payload,len:a.payload.byteLength,dts:l,pts:l,type:wn.misbklv,duration:Number.POSITIVE_INFINITY})}})}return n}demuxSampleAes(e,t,n){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){this.config=null,this.remainderData=null,this.videoTrack=this.audioTrack=this.id3Track=this.txtTrack=void 0}}function a6(s,e){return we(s.presentationTime)?s.presentationTime/s.timeScale:e+s.presentationTimeDelta/s.timeScale}class Lee{constructor(e,t,n){this.keyData=void 0,this.decrypter=void 0,this.keyData=n,this.decrypter=new Z2(t,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer,Fa.cbc)}decryptAacSample(e,t,n){const i=e[t].unit;if(i.length<=16)return;const r=i.subarray(16,i.length-i.length%16),a=r.buffer.slice(r.byteOffset,r.byteOffset+r.length);this.decryptBuffer(a).then(l=>{const c=new Uint8Array(l);i.set(c,16),this.decrypter.isSync()||this.decryptAacSamples(e,t+1,n)})}decryptAacSamples(e,t,n){for(;;t++){if(t>=e.length){n();return}if(!(e[t].unit.length<32)&&(this.decryptAacSample(e,t,n),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){const t=Math.floor((e.length-48)/160)*16+16,n=new Int8Array(t);let i=0;for(let r=32;r<e.length-16;r+=160,i+=16)n.set(e.subarray(r,r+16),i);return n}getAvcDecryptedUnit(e,t){const n=new Uint8Array(t);let i=0;for(let r=32;r<e.length-16;r+=160,i+=16)e.set(n.subarray(i,i+16),r);return e}decryptAvcSample(e,t,n,i,r){const a=R_(r.data),l=this.getAvcEncryptedData(a);this.decryptBuffer(l.buffer).then(c=>{r.data=this.getAvcDecryptedUnit(a,c),this.decrypter.isSync()||this.decryptAvcSamples(e,t,n+1,i)})}decryptAvcSamples(e,t,n,i){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;t++,n=0){if(t>=e.length){i();return}const r=e[t].units;for(;!(n>=r.length);n++){const a=r[n];if(!(a.data.length<=48||a.type!==1&&a.type!==5)&&(this.decryptAvcSample(e,t,n,i,a),!this.decrypter.isSync()))return}}}}class SA{constructor(){this.VideoSample=null}createVideoSample(e,t,n){return{key:e,frame:!1,pts:t,dts:n,units:[],length:0}}getLastNalUnit(e){var t;let n=this.VideoSample,i;if((!n||n.units.length===0)&&(n=e[e.length-1]),(t=n)!=null&&t.units){const r=n.units;i=r[r.length-1]}return i}pushAccessUnit(e,t){if(e.units.length&&e.frame){if(e.pts===void 0){const n=t.samples,i=n.length;if(i){const r=n[i-1];e.pts=r.pts,e.dts=r.dts}else{t.dropped++;return}}t.samples.push(e)}}parseNALu(e,t,n){const i=t.byteLength;let r=e.naluState||0;const a=r,l=[];let c=0,f,u,h,p=-1,g=0;for(r===-1&&(p=0,g=this.getNALuType(t,0),r=0,c=1);c<i;){if(f=t[c++],!r){r=f?0:1;continue}if(r===1){r=f?0:2;continue}if(!f)r=3;else if(f===1){if(u=c-r-1,p>=0){const x={data:t.subarray(p,u),type:g};l.push(x)}else{const x=this.getLastNalUnit(e.samples);x&&(a&&c<=4-a&&x.state&&(x.data=x.data.subarray(0,x.data.byteLength-a)),u>0&&(x.data=ni(x.data,t.subarray(0,u)),x.state=0))}c<i?(h=this.getNALuType(t,c),p=c,g=h,r=0):r=-1}else r=0}if(p>=0&&r>=0){const x={data:t.subarray(p,i),type:g,state:r};l.push(x)}if(l.length===0){const x=this.getLastNalUnit(e.samples);x&&(x.data=ni(x.data,t))}return e.naluState=r,l}}class fu{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const e=this.data,t=this.bytesAvailable,n=e.byteLength-t,i=new Uint8Array(4),r=Math.min(4,t);if(r===0)throw new Error("no bytes available");i.set(e.subarray(n,n+r)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=r*8,this.bytesAvailable-=r}skipBits(e){let t;e=Math.min(e,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,t=e>>3,e-=t<<3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let t=Math.min(this.bitsAvailable,e);const n=this.word>>>32-t;if(e>32&&st.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0)this.word<<=t;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return t=e-t,t>0&&this.bitsAvailable?n<<t|this.readBits(t):n}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if((this.word&2147483648>>>e)!==0)return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const e=this.skipLZ();return this.readBits(e+1)-1}readEG(){const e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return this.readBits(1)===1}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}}class o6 extends SA{parsePES(e,t,n,i){const r=this.parseNALu(e,n.data,i);let a=this.VideoSample,l,c=!1;n.data=null,a&&r.length&&!e.audFound&&(this.pushAccessUnit(a,e),a=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts)),r.forEach(f=>{var u,h;switch(f.type){case 1:{let y=!1;l=!0;const v=f.data;if(c&&v.length>4){const w=this.readSliceType(v);(w===2||w===4||w===7||w===9)&&(y=!0)}if(y){var p;(p=a)!=null&&p.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null)}a||(a=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),a.frame=!0,a.key=y;break}case 5:l=!0,(u=a)!=null&&u.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null),a||(a=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),a.key=!0,a.frame=!0;break;case 6:{l=!0,K2(f.data,1,n.pts,t.samples);break}case 7:{var g,x;l=!0,c=!0;const y=f.data,v=this.readSPS(y);if(!e.sps||e.width!==v.width||e.height!==v.height||((g=e.pixelRatio)==null?void 0:g[0])!==v.pixelRatio[0]||((x=e.pixelRatio)==null?void 0:x[1])!==v.pixelRatio[1]){e.width=v.width,e.height=v.height,e.pixelRatio=v.pixelRatio,e.sps=[y];const w=y.subarray(1,4);let L="avc1.";for(let S=0;S<3;S++){let j=w[S].toString(16);j.length<2&&(j="0"+j),L+=j}e.codec=L}break}case 8:l=!0,e.pps=[f.data];break;case 9:l=!0,e.audFound=!0,(h=a)!=null&&h.frame&&(this.pushAccessUnit(a,e),a=null),a||(a=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts));break;case 12:l=!0;break;default:l=!1;break}a&&l&&a.units.push(f)}),i&&a&&(this.pushAccessUnit(a,e),this.VideoSample=null)}getNALuType(e,t){return e[t]&31}readSliceType(e){const t=new fu(e);return t.readUByte(),t.readUEG(),t.readUEG()}skipScalingList(e,t){let n=8,i=8,r;for(let a=0;a<e;a++)i!==0&&(r=t.readEG(),i=(n+r+256)%256),n=i===0?n:i}readSPS(e){const t=new fu(e);let n=0,i=0,r=0,a=0,l,c,f;const u=t.readUByte.bind(t),h=t.readBits.bind(t),p=t.readUEG.bind(t),g=t.readBoolean.bind(t),x=t.skipBits.bind(t),y=t.skipEG.bind(t),v=t.skipUEG.bind(t),w=this.skipScalingList.bind(this);u();const L=u();if(h(5),x(3),u(),v(),L===100||L===110||L===122||L===244||L===44||L===83||L===86||L===118||L===128){const I=p();if(I===3&&x(1),v(),v(),x(1),g())for(c=I!==3?8:12,f=0;f<c;f++)g()&&(f<6?w(16,t):w(64,t))}v();const S=p();if(S===0)p();else if(S===1)for(x(1),y(),y(),l=p(),f=0;f<l;f++)y();v(),x(1);const j=p(),E=p(),M=h(1);M===0&&x(1),x(1),g()&&(n=p(),i=p(),r=p(),a=p());let N=[1,1];if(g()&&g())switch(u()){case 1:N=[1,1];break;case 2:N=[12,11];break;case 3:N=[10,11];break;case 4:N=[16,11];break;case 5:N=[40,33];break;case 6:N=[24,11];break;case 7:N=[20,11];break;case 8:N=[32,11];break;case 9:N=[80,33];break;case 10:N=[18,11];break;case 11:N=[15,11];break;case 12:N=[64,33];break;case 13:N=[160,99];break;case 14:N=[4,3];break;case 15:N=[3,2];break;case 16:N=[2,1];break;case 255:{N=[u()<<8|u(),u()<<8|u()];break}}return{width:Math.ceil((j+1)*16-n*2-i*2),height:(2-M)*(E+1)*16-(M?2:4)*(r+a),pixelRatio:N}}}class l6 extends SA{constructor(...e){super(...e),this.initVPS=null}parsePES(e,t,n,i){const r=this.parseNALu(e,n.data,i);let a=this.VideoSample,l,c=!1;n.data=null,a&&r.length&&!e.audFound&&(this.pushAccessUnit(a,e),a=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts)),r.forEach(f=>{var u,h;switch(f.type){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:a||(a=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts)),a.frame=!0,l=!0;break;case 16:case 17:case 18:case 21:if(l=!0,c){var p;(p=a)!=null&&p.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null)}a||(a=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),a.key=!0,a.frame=!0;break;case 19:case 20:l=!0,(u=a)!=null&&u.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null),a||(a=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),a.key=!0,a.frame=!0;break;case 39:l=!0,K2(f.data,2,n.pts,t.samples);break;case 32:l=!0,e.vps||(typeof e.params!="object"&&(e.params={}),e.params=gt(e.params,this.readVPS(f.data)),this.initVPS=f.data),e.vps=[f.data];break;case 33:if(l=!0,c=!0,e.vps!==void 0&&e.vps[0]!==this.initVPS&&e.sps!==void 0&&!this.matchSPS(e.sps[0],f.data)&&(this.initVPS=e.vps[0],e.sps=e.pps=void 0),!e.sps){const g=this.readSPS(f.data);e.width=g.width,e.height=g.height,e.pixelRatio=g.pixelRatio,e.codec=g.codecString,e.sps=[],typeof e.params!="object"&&(e.params={});for(const x in g.params)e.params[x]=g.params[x]}this.pushParameterSet(e.sps,f.data,e.vps),a||(a=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),a.key=!0;break;case 34:if(l=!0,typeof e.params=="object"){if(!e.pps){e.pps=[];const g=this.readPPS(f.data);for(const x in g)e.params[x]=g[x]}this.pushParameterSet(e.pps,f.data,e.vps)}break;case 35:l=!0,e.audFound=!0,(h=a)!=null&&h.frame&&(this.pushAccessUnit(a,e),a=null),a||(a=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts));break;default:l=!1;break}a&&l&&a.units.push(f)}),i&&a&&(this.pushAccessUnit(a,e),this.VideoSample=null)}pushParameterSet(e,t,n){(n&&n[0]===this.initVPS||!n&&!e.length)&&e.push(t)}getNALuType(e,t){return(e[t]&126)>>>1}ebsp2rbsp(e){const t=new Uint8Array(e.byteLength);let n=0;for(let i=0;i<e.byteLength;i++)i>=2&&e[i]===3&&e[i-1]===0&&e[i-2]===0||(t[n]=e[i],n++);return new Uint8Array(t.buffer,0,n)}pushAccessUnit(e,t){super.pushAccessUnit(e,t),this.initVPS&&(this.initVPS=null)}readVPS(e){const t=new fu(e);t.readUByte(),t.readUByte(),t.readBits(4),t.skipBits(2),t.readBits(6);const n=t.readBits(3),i=t.readBoolean();return{numTemporalLayers:n+1,temporalIdNested:i}}readSPS(e){const t=new fu(this.ebsp2rbsp(e));t.readUByte(),t.readUByte(),t.readBits(4);const n=t.readBits(3);t.readBoolean();const i=t.readBits(2),r=t.readBoolean(),a=t.readBits(5),l=t.readUByte(),c=t.readUByte(),f=t.readUByte(),u=t.readUByte(),h=t.readUByte(),p=t.readUByte(),g=t.readUByte(),x=t.readUByte(),y=t.readUByte(),v=t.readUByte(),w=t.readUByte(),L=[],S=[];for(let qe=0;qe<n;qe++)L.push(t.readBoolean()),S.push(t.readBoolean());if(n>0)for(let qe=n;qe<8;qe++)t.readBits(2);for(let qe=0;qe<n;qe++)L[qe]&&(t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte()),S[qe]&&t.readUByte();t.readUEG();const j=t.readUEG();j==3&&t.skipBits(1);const E=t.readUEG(),M=t.readUEG(),N=t.readBoolean();let I=0,A=0,D=0,z=0;N&&(I+=t.readUEG(),A+=t.readUEG(),D+=t.readUEG(),z+=t.readUEG());const O=t.readUEG(),Y=t.readUEG(),q=t.readUEG(),Z=t.readBoolean();for(let qe=Z?0:n;qe<=n;qe++)t.skipUEG(),t.skipUEG(),t.skipUEG();if(t.skipUEG(),t.skipUEG(),t.skipUEG(),t.skipUEG(),t.skipUEG(),t.skipUEG(),t.readBoolean()&&t.readBoolean())for(let Pt=0;Pt<4;Pt++)for(let ps=0;ps<(Pt===3?2:6);ps++)if(!t.readBoolean())t.readUEG();else{const es=Math.min(64,1<<4+(Pt<<1));Pt>1&&t.readEG();for(let Rs=0;Rs<es;Rs++)t.readEG()}t.readBoolean(),t.readBoolean(),t.readBoolean()&&(t.readUByte(),t.skipUEG(),t.skipUEG(),t.readBoolean());const F=t.readUEG();let B=0;for(let qe=0;qe<F;qe++){let Pt=!1;if(qe!==0&&(Pt=t.readBoolean()),Pt){qe===F&&t.readUEG(),t.readBoolean(),t.readUEG();let ps=0;for(let dn=0;dn<=B;dn++){const es=t.readBoolean();let Rs=!1;es||(Rs=t.readBoolean()),(es||Rs)&&ps++}B=ps}else{const ps=t.readUEG(),dn=t.readUEG();B=ps+dn;for(let es=0;es<ps;es++)t.readUEG(),t.readBoolean();for(let es=0;es<dn;es++)t.readUEG(),t.readBoolean()}}if(t.readBoolean()){const qe=t.readUEG();for(let Pt=0;Pt<qe;Pt++){for(let ps=0;ps<q+4;ps++)t.readBits(1);t.readBits(1)}}let $=0,K=1,ce=1,he=!0,xe=1,ve=0;t.readBoolean(),t.readBoolean();let ye=!1;if(t.readBoolean()){if(t.readBoolean()){const hn=t.readUByte(),Wa=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],Ni=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];hn>0&&hn<16?(K=Wa[hn-1],ce=Ni[hn-1]):hn===255&&(K=t.readBits(16),ce=t.readBits(16))}if(t.readBoolean()&&t.readBoolean(),t.readBoolean()&&(t.readBits(3),t.readBoolean(),t.readBoolean()&&(t.readUByte(),t.readUByte(),t.readUByte())),t.readBoolean()&&(t.readUEG(),t.readUEG()),t.readBoolean(),t.readBoolean(),t.readBoolean(),ye=t.readBoolean(),ye&&(I+=t.readUEG(),A+=t.readUEG(),D+=t.readUEG(),z+=t.readUEG()),t.readBoolean()&&(xe=t.readBits(32),ve=t.readBits(32),t.readBoolean()&&t.readUEG(),t.readBoolean())){const Ni=t.readBoolean(),Vr=t.readBoolean();let Mi=!1;(Ni||Vr)&&(Mi=t.readBoolean(),Mi&&(t.readUByte(),t.readBits(5),t.readBoolean(),t.readBits(5)),t.readBits(4),t.readBits(4),Mi&&t.readBits(4),t.readBits(5),t.readBits(5),t.readBits(5));for(let Gr=0;Gr<=n;Gr++){he=t.readBoolean();const oi=he||t.readBoolean();let Hr=!1;oi?t.readEG():Hr=t.readBoolean();const li=Hr?1:t.readUEG()+1;if(Ni)for(let oe=0;oe<li;oe++)t.readUEG(),t.readUEG(),Mi&&(t.readUEG(),t.readUEG()),t.skipBits(1);if(Vr)for(let oe=0;oe<li;oe++)t.readUEG(),t.readUEG(),Mi&&(t.readUEG(),t.readUEG()),t.skipBits(1)}}t.readBoolean()&&(t.readBoolean(),t.readBoolean(),t.readBoolean(),$=t.readUEG())}let ze=E,jt=M;if(N||ye){let qe=1,Pt=1;j===1?qe=Pt=2:j==2&&(qe=2),ze=E-qe*A-qe*I,jt=M-Pt*z-Pt*D}const Ys=i?["A","B","C"][i]:"",Pn=l<<24|c<<16|f<<8|u;let ai=0;for(let qe=0;qe<32;qe++)ai=(ai|(Pn>>qe&1)<<31-qe)>>>0;let ur=ai.toString(16);return a===1&&ur==="2"&&(ur="6"),{codecString:`hvc1.${Ys}${a}.${ur}.${r?"H":"L"}${w}.B0`,params:{general_tier_flag:r,general_profile_idc:a,general_profile_space:i,general_profile_compatibility_flags:[l,c,f,u],general_constraint_indicator_flags:[h,p,g,x,y,v],general_level_idc:w,bit_depth:O+8,bit_depth_luma_minus8:O,bit_depth_chroma_minus8:Y,min_spatial_segmentation_idc:$,chroma_format_idc:j,frame_rate:{fixed:he,fps:ve/xe}},width:ze,height:jt,pixelRatio:[K,ce]}}readPPS(e){const t=new fu(this.ebsp2rbsp(e));t.readUByte(),t.readUByte(),t.skipUEG(),t.skipUEG(),t.skipBits(2),t.skipBits(3),t.skipBits(2),t.skipUEG(),t.skipUEG(),t.skipEG(),t.skipBits(2),t.readBoolean()&&t.skipUEG(),t.skipEG(),t.skipEG(),t.skipBits(4);const i=t.readBoolean(),r=t.readBoolean();let a=1;return r&&i?a=0:r?a=3:i&&(a=2),{parallelismType:a}}matchSPS(e,t){return String.fromCharCode.apply(null,e).substr(3)===String.fromCharCode.apply(null,t).substr(3)}}const fs=188;class ba{constructor(e,t,n,i){this.logger=void 0,this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=e,this.config=t,this.typeSupported=n,this.logger=i,this.videoParser=null}static probe(e,t){const n=ba.syncOffset(e);return n>0&&t.warn(`MPEG2-TS detected but first sync word found @ offset ${n}`),n!==-1}static syncOffset(e){const t=e.length;let n=Math.min(fs*5,t-fs)+1,i=0;for(;i<n;){let r=!1,a=-1,l=0;for(let c=i;c<t;c+=fs)if(e[c]===71&&(t-c===fs||e[c+fs]===71)){if(l++,a===-1&&(a=c,a!==0&&(n=Math.min(a+fs*99,e.length-fs)+1)),r||(r=Vb(e,c)===0),r&&l>1&&(a===0&&l>2||c+fs>n))return a}else{if(l)return-1;break}i++}return-1}static createTrack(e,t){return{container:e==="video"||e==="audio"?"video/mp2t":void 0,type:e,id:I_[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:e==="audio"?t:void 0}}resetInitSegment(e,t,n,i){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=ba.createTrack("video"),this._videoTrack.duration=i,this._audioTrack=ba.createTrack("audio",i),this._id3Track=ba.createTrack("id3"),this._txtTrack=ba.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.remainderData=null,this.audioCodec=t,this.videoCodec=n}resetTimeStamp(){}resetContiguity(){const{_audioTrack:e,_videoTrack:t,_id3Track:n}=this;e&&(e.pesData=null),t&&(t.pesData=null),n&&(n.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(e,t,n=!1,i=!1){n||(this.sampleAes=null);let r;const a=this._videoTrack,l=this._audioTrack,c=this._id3Track,f=this._txtTrack;let u=a.pid,h=a.pesData,p=l.pid,g=c.pid,x=l.pesData,y=c.pesData,v=null,w=this.pmtParsed,L=this._pmtId,S=e.length;if(this.remainderData&&(e=ni(this.remainderData,e),S=e.length,this.remainderData=null),S<fs&&!i)return this.remainderData=e,{audioTrack:l,videoTrack:a,id3Track:c,textTrack:f};const j=Math.max(0,ba.syncOffset(e));S-=(S-j)%fs,S<e.byteLength&&!i&&(this.remainderData=new Uint8Array(e.buffer,S,e.buffer.byteLength-S));let E=0;for(let N=j;N<S;N+=fs)if(e[N]===71){const I=!!(e[N+1]&64),A=Vb(e,N),D=(e[N+3]&48)>>4;let z;if(D>1){if(z=N+5+e[N+4],z===N+fs)continue}else z=N+4;switch(A){case u:if(I){if(h&&(r=Ml(h,this.logger))){if(this.videoParser===null)switch(a.segmentCodec){case"avc":this.videoParser=new o6;break;case"hevc":this.videoParser=new l6;break}this.videoParser!==null&&this.videoParser.parsePES(a,f,r,!1)}h={data:[],size:0}}h&&(h.data.push(e.subarray(z,N+fs)),h.size+=N+fs-z);break;case p:if(I){if(x&&(r=Ml(x,this.logger)))switch(l.segmentCodec){case"aac":this.parseAACPES(l,r);break;case"mp3":this.parseMPEGPES(l,r);break;case"ac3":this.parseAC3PES(l,r);break}x={data:[],size:0}}x&&(x.data.push(e.subarray(z,N+fs)),x.size+=N+fs-z);break;case g:I&&(y&&(r=Ml(y,this.logger))&&this.parseID3PES(c,r),y={data:[],size:0}),y&&(y.data.push(e.subarray(z,N+fs)),y.size+=N+fs-z);break;case 0:I&&(z+=e[z]+1),L=this._pmtId=Cee(e,z);break;case L:{I&&(z+=e[z]+1);const O=Tee(e,z,this.typeSupported,n,this.observer,this.logger);u=O.videoPid,u>0&&(a.pid=u,a.segmentCodec=O.segmentVideoCodec),p=O.audioPid,p>0&&(l.pid=p,l.segmentCodec=O.segmentAudioCodec),g=O.id3Pid,g>0&&(c.pid=g),v!==null&&!w&&(this.logger.warn(`MPEG-TS PMT found at ${N} after unknown PID '${v}'. Backtracking to sync byte @${j} to parse all TS packets.`),v=null,N=j-188),w=this.pmtParsed=!0;break}case 17:case 8191:break;default:v=A;break}}else E++;E>0&&Gb(this.observer,new Error(`Found ${E} TS packet/s that do not start with 0x47`),void 0,this.logger),a.pesData=h,l.pesData=x,c.pesData=y;const M={audioTrack:l,videoTrack:a,id3Track:c,textTrack:f};return i&&this.extractRemainingSamples(M),M}flush(){const{remainderData:e}=this;this.remainderData=null;let t;return e?t=this.demux(e,-1,!1,!0):t={videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(t),this.sampleAes?this.decrypt(t,this.sampleAes):t}extractRemainingSamples(e){const{audioTrack:t,videoTrack:n,id3Track:i,textTrack:r}=e,a=n.pesData,l=t.pesData,c=i.pesData;let f;if(a&&(f=Ml(a,this.logger))){if(this.videoParser===null)switch(n.segmentCodec){case"avc":this.videoParser=new o6;break;case"hevc":this.videoParser=new l6;break}this.videoParser!==null&&(this.videoParser.parsePES(n,r,f,!0),n.pesData=null)}else n.pesData=a;if(l&&(f=Ml(l,this.logger))){switch(t.segmentCodec){case"aac":this.parseAACPES(t,f);break;case"mp3":this.parseMPEGPES(t,f);break;case"ac3":this.parseAC3PES(t,f);break}t.pesData=null}else l!=null&&l.size&&this.logger.log("last AAC PES packet truncated,might overlap between fragments"),t.pesData=l;c&&(f=Ml(c,this.logger))?(this.parseID3PES(i,f),i.pesData=null):i.pesData=c}demuxSampleAes(e,t,n){const i=this.demux(e,n,!0,!this.config.progressive),r=this.sampleAes=new Lee(this.observer,this.config,t);return this.decrypt(i,r)}decrypt(e,t){return new Promise(n=>{const{audioTrack:i,videoTrack:r}=e;i.samples&&i.segmentCodec==="aac"?t.decryptAacSamples(i.samples,0,()=>{r.samples?t.decryptAvcSamples(r.samples,0,0,()=>{n(e)}):n(e)}):r.samples&&t.decryptAvcSamples(r.samples,0,0,()=>{n(e)})})}destroy(){this.observer&&this.observer.removeAllListeners(),this.config=this.logger=this.observer=null,this.aacOverFlow=this.videoParser=this.remainderData=this.sampleAes=null,this._videoTrack=this._audioTrack=this._id3Track=this._txtTrack=void 0}parseAACPES(e,t){let n=0;const i=this.aacOverFlow;let r=t.data;if(i){this.aacOverFlow=null;const h=i.missing,p=i.sample.unit.byteLength;if(h===-1)r=ni(i.sample.unit,r);else{const g=p-h;i.sample.unit.set(r.subarray(0,h),g),e.samples.push(i.sample),n=i.missing}}let a,l;for(a=n,l=r.length;a<l-1&&!qm(r,a);a++);if(a!==n){let h;const p=a<l-1;if(p?h=`AAC PES did not start with ADTS header,offset:${a}`:h="No ADTS header found in AAC PES",Gb(this.observer,new Error(h),p,this.logger),!p)return}fA(e,this.observer,r,a,this.audioCodec);let c;if(t.pts!==void 0)c=t.pts;else if(i){const h=uA(e.samplerate);c=i.sample.pts+h}else{this.logger.warn("[tsdemuxer]: AAC PES unknown PTS");return}let f=0,u;for(;a<l;)if(u=dA(e,r,a,c,f),a+=u.length,u.missing){this.aacOverFlow=u;break}else for(f++;a<l-1&&!qm(r,a);a++);}parseMPEGPES(e,t){const n=t.data,i=n.length;let r=0,a=0;const l=t.pts;if(l===void 0){this.logger.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;a<i;)if(yA(n,a)){const c=gA(e,n,a,l,r);if(c)a+=c.length,r++;else break}else a++}parseAC3PES(e,t){{const n=t.data,i=t.pts;if(i===void 0){this.logger.warn("[tsdemuxer]: AC3 PES unknown PTS");return}const r=n.length;let a=0,l=0,c;for(;l<r&&(c=wA(e,n,l,i,a++))>0;)l+=c}}parseID3PES(e,t){if(t.pts===void 0){this.logger.warn("[tsdemuxer]: ID3 PES unknown PTS");return}const n=gt({},t,{type:this._videoTrack?wn.emsg:wn.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(n)}}function Vb(s,e){return((s[e+1]&31)<<8)+s[e+2]}function Cee(s,e){return(s[e+10]&31)<<8|s[e+11]}function Tee(s,e,t,n,i,r){const a={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},l=(s[e+1]&15)<<8|s[e+2],c=e+3+l-4,f=(s[e+10]&15)<<8|s[e+11];for(e+=12+f;e<c;){const u=Vb(s,e),h=(s[e+3]&15)<<8|s[e+4];switch(s[e]){case 207:if(!n){Jx("ADTS AAC",r);break}case 15:a.audioPid===-1&&(a.audioPid=u);break;case 21:a.id3Pid===-1&&(a.id3Pid=u);break;case 219:if(!n){Jx("H.264",r);break}case 27:a.videoPid===-1&&(a.videoPid=u);break;case 3:case 4:!t.mpeg&&!t.mp3?r.log("MPEG audio found, not supported in this browser"):a.audioPid===-1&&(a.audioPid=u,a.segmentAudioCodec="mp3");break;case 193:if(!n){Jx("AC-3",r);break}case 129:t.ac3?a.audioPid===-1&&(a.audioPid=u,a.segmentAudioCodec="ac3"):r.log("AC-3 audio found, not supported in this browser");break;case 6:if(a.audioPid===-1&&h>0){let p=e+5,g=h;for(;g>2;){switch(s[p]){case 106:t.ac3!==!0?r.log("AC-3 audio found, not supported in this browser for now"):(a.audioPid=u,a.segmentAudioCodec="ac3");break}const y=s[p+1]+2;p+=y,g-=y}}break;case 194:case 135:return Gb(i,new Error("Unsupported EC-3 in M2TS found"),void 0,r),a;case 36:a.videoPid===-1&&(a.videoPid=u,a.segmentVideoCodec="hevc",r.log("HEVC in M2TS found"));break}e+=h+5}return a}function Gb(s,e,t,n){n.warn(`parsing error: ${e.message}`),s.emit(P.ERROR,P.ERROR,{type:Ie.MEDIA_ERROR,details:te.FRAG_PARSING_ERROR,fatal:!1,levelRetry:t,error:e,reason:e.message})}function Jx(s,e){e.log(`${s} with AES-128-CBC encryption found in unencrypted stream`)}function Ml(s,e){let t=0,n,i,r,a,l;const c=s.data;if(!s||s.size===0)return null;for(;c[0].length<19&&c.length>1;)c[0]=ni(c[0],c[1]),c.splice(1,1);if(n=c[0],(n[0]<<16)+(n[1]<<8)+n[2]===1){if(i=(n[4]<<8)+n[5],i&&i>s.size-6)return null;const u=n[7];u&192&&(a=(n[9]&14)*536870912+(n[10]&255)*4194304+(n[11]&254)*16384+(n[12]&255)*128+(n[13]&254)/2,u&64?(l=(n[14]&14)*536870912+(n[15]&255)*4194304+(n[16]&254)*16384+(n[17]&255)*128+(n[18]&254)/2,a-l>60*9e4&&(e.warn(`${Math.round((a-l)/9e4)}s delta between PTS and DTS, align them`),a=l)):l=a),r=n[8];let h=r+9;if(s.size<=h)return null;s.size-=h;const p=new Uint8Array(s.size);for(let g=0,x=c.length;g<x;g++){n=c[g];let y=n.byteLength;if(h)if(h>y){h-=y;continue}else n=n.subarray(h),y-=h,h=0;p.set(n,t),t+=y}return i&&(i-=r+3),{data:p,pts:a,dts:l,len:i}}return null}class jee{static getSilentFrame(e,t){switch(e){case"mp4a.40.2":if(t===1)return new Uint8Array([0,200,0,128,35,128]);if(t===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(t===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(t===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(t===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(t===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(t===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(t===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(t===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}const ua=Math.pow(2,32)-1;class X{static init(){X.types={avc1:[],avcC:[],hvc1:[],hvcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};let e;for(e in X.types)X.types.hasOwnProperty(e)&&(X.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const t=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);X.HDLR_TYPES={video:t,audio:n};const i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),r=new Uint8Array([0,0,0,0,0,0,0,0]);X.STTS=X.STSC=X.STCO=r,X.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),X.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),X.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),X.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const a=new Uint8Array([105,115,111,109]),l=new Uint8Array([97,118,99,49]),c=new Uint8Array([0,0,0,1]);X.FTYP=X.box(X.types.ftyp,a,c,a,l),X.DINF=X.box(X.types.dinf,X.box(X.types.dref,i))}static box(e,...t){let n=8,i=t.length;const r=i;for(;i--;)n+=t[i].byteLength;const a=new Uint8Array(n);for(a[0]=n>>24&255,a[1]=n>>16&255,a[2]=n>>8&255,a[3]=n&255,a.set(e,4),i=0,n=8;i<r;i++)a.set(t[i],n),n+=t[i].byteLength;return a}static hdlr(e){return X.box(X.types.hdlr,X.HDLR_TYPES[e])}static mdat(e){return X.box(X.types.mdat,e)}static mdhd(e,t){t*=e;const n=Math.floor(t/(ua+1)),i=Math.floor(t%(ua+1));return X.box(X.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,n>>24,n>>16&255,n>>8&255,n&255,i>>24,i>>16&255,i>>8&255,i&255,85,196,0,0]))}static mdia(e){return X.box(X.types.mdia,X.mdhd(e.timescale||0,e.duration||0),X.hdlr(e.type),X.minf(e))}static mfhd(e){return X.box(X.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,e&255]))}static minf(e){return e.type==="audio"?X.box(X.types.minf,X.box(X.types.smhd,X.SMHD),X.DINF,X.stbl(e)):X.box(X.types.minf,X.box(X.types.vmhd,X.VMHD),X.DINF,X.stbl(e))}static moof(e,t,n){return X.box(X.types.moof,X.mfhd(e),X.traf(n,t))}static moov(e){let t=e.length;const n=[];for(;t--;)n[t]=X.trak(e[t]);return X.box.apply(null,[X.types.moov,X.mvhd(e[0].timescale||0,e[0].duration||0)].concat(n).concat(X.mvex(e)))}static mvex(e){let t=e.length;const n=[];for(;t--;)n[t]=X.trex(e[t]);return X.box.apply(null,[X.types.mvex,...n])}static mvhd(e,t){t*=e;const n=Math.floor(t/(ua+1)),i=Math.floor(t%(ua+1)),r=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,n>>24,n>>16&255,n>>8&255,n&255,i>>24,i>>16&255,i>>8&255,i&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return X.box(X.types.mvhd,r)}static sdtp(e){const t=e.samples||[],n=new Uint8Array(4+t.length);let i,r;for(i=0;i<t.length;i++)r=t[i].flags,n[i+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return X.box(X.types.sdtp,n)}static stbl(e){return X.box(X.types.stbl,X.stsd(e),X.box(X.types.stts,X.STTS),X.box(X.types.stsc,X.STSC),X.box(X.types.stsz,X.STSZ),X.box(X.types.stco,X.STCO))}static avc1(e){let t=[],n=[],i,r,a;for(i=0;i<e.sps.length;i++)r=e.sps[i],a=r.byteLength,t.push(a>>>8&255),t.push(a&255),t=t.concat(Array.prototype.slice.call(r));for(i=0;i<e.pps.length;i++)r=e.pps[i],a=r.byteLength,n.push(a>>>8&255),n.push(a&255),n=n.concat(Array.prototype.slice.call(r));const l=X.box(X.types.avcC,new Uint8Array([1,t[3],t[4],t[5],255,224|e.sps.length].concat(t).concat([e.pps.length]).concat(n))),c=e.width,f=e.height,u=e.pixelRatio[0],h=e.pixelRatio[1];return X.box(X.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c>>8&255,c&255,f>>8&255,f&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),l,X.box(X.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),X.box(X.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,u&255,h>>24,h>>16&255,h>>8&255,h&255])))}static esds(e){const t=e.config;return new Uint8Array([0,0,0,0,3,25,0,1,0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,...t,6,1,2])}static audioStsd(e){const t=e.samplerate||0;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount||0,0,16,0,0,0,0,t>>8&255,t&255,0,0])}static mp4a(e){return X.box(X.types.mp4a,X.audioStsd(e),X.box(X.types.esds,X.esds(e)))}static mp3(e){return X.box(X.types[".mp3"],X.audioStsd(e))}static ac3(e){return X.box(X.types["ac-3"],X.audioStsd(e),X.box(X.types.dac3,e.config))}static stsd(e){const{segmentCodec:t}=e;if(e.type==="audio"){if(t==="aac")return X.box(X.types.stsd,X.STSD,X.mp4a(e));if(t==="ac3"&&e.config)return X.box(X.types.stsd,X.STSD,X.ac3(e));if(t==="mp3"&&e.codec==="mp3")return X.box(X.types.stsd,X.STSD,X.mp3(e))}else if(e.pps&&e.sps){if(t==="avc")return X.box(X.types.stsd,X.STSD,X.avc1(e));if(t==="hevc"&&e.vps)return X.box(X.types.stsd,X.STSD,X.hvc1(e))}else throw new Error("video track missing pps or sps");throw new Error(`unsupported ${e.type} segment codec (${t}/${e.codec})`)}static tkhd(e){const t=e.id,n=(e.duration||0)*(e.timescale||0),i=e.width||0,r=e.height||0,a=Math.floor(n/(ua+1)),l=Math.floor(n%(ua+1));return X.box(X.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,t&255,0,0,0,0,a>>24,a>>16&255,a>>8&255,a&255,l>>24,l>>16&255,l>>8&255,l&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,i&255,0,0,r>>8&255,r&255,0,0]))}static traf(e,t){const n=X.sdtp(e),i=e.id,r=Math.floor(t/(ua+1)),a=Math.floor(t%(ua+1));return X.box(X.types.traf,X.box(X.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,i&255])),X.box(X.types.tfdt,new Uint8Array([1,0,0,0,r>>24,r>>16&255,r>>8&255,r&255,a>>24,a>>16&255,a>>8&255,a&255])),X.trun(e,n.length+16+20+8+16+8+8),n)}static trak(e){return e.duration=e.duration||4294967295,X.box(X.types.trak,X.tkhd(e),X.mdia(e))}static trex(e){const t=e.id;return X.box(X.types.trex,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,t&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,t){const n=e.samples||[],i=n.length,r=12+16*i,a=new Uint8Array(r);let l,c,f,u,h,p;for(t+=8+r,a.set([e.type==="video"?1:0,0,15,1,i>>>24&255,i>>>16&255,i>>>8&255,i&255,t>>>24&255,t>>>16&255,t>>>8&255,t&255],0),l=0;l<i;l++)c=n[l],f=c.duration,u=c.size,h=c.flags,p=c.cts,a.set([f>>>24&255,f>>>16&255,f>>>8&255,f&255,u>>>24&255,u>>>16&255,u>>>8&255,u&255,h.isLeading<<2|h.dependsOn,h.isDependedOn<<6|h.hasRedundancy<<4|h.paddingValue<<1|h.isNonSync,h.degradPrio&61440,h.degradPrio&15,p>>>24&255,p>>>16&255,p>>>8&255,p&255],12+16*l);return X.box(X.types.trun,a)}static initSegment(e){X.types||X.init();const t=X.moov(e);return ni(X.FTYP,t)}static hvc1(e){const t=e.params,n=[e.vps,e.sps,e.pps],i=4,r=new Uint8Array([1,t.general_profile_space<<6|(t.general_tier_flag?32:0)|t.general_profile_idc,t.general_profile_compatibility_flags[0],t.general_profile_compatibility_flags[1],t.general_profile_compatibility_flags[2],t.general_profile_compatibility_flags[3],t.general_constraint_indicator_flags[0],t.general_constraint_indicator_flags[1],t.general_constraint_indicator_flags[2],t.general_constraint_indicator_flags[3],t.general_constraint_indicator_flags[4],t.general_constraint_indicator_flags[5],t.general_level_idc,240|t.min_spatial_segmentation_idc>>8,255&t.min_spatial_segmentation_idc,252|t.parallelismType,252|t.chroma_format_idc,248|t.bit_depth_luma_minus8,248|t.bit_depth_chroma_minus8,0,parseInt(t.frame_rate.fps),i-1|t.temporal_id_nested<<2|t.num_temporal_layers<<3|(t.frame_rate.fixed?64:0),n.length]);let a=r.length;for(let x=0;x<n.length;x+=1){a+=3;for(let y=0;y<n[x].length;y+=1)a+=2+n[x][y].length}const l=new Uint8Array(a);l.set(r,0),a=r.length;const c=n.length-1;for(let x=0;x<n.length;x+=1){l.set(new Uint8Array([32+x|(x===c?128:0),0,n[x].length]),a),a+=3;for(let y=0;y<n[x].length;y+=1)l.set(new Uint8Array([n[x][y].length>>8,n[x][y].length&255]),a),a+=2,l.set(n[x][y],a),a+=n[x][y].length}const f=X.box(X.types.hvcC,l),u=e.width,h=e.height,p=e.pixelRatio[0],g=e.pixelRatio[1];return X.box(X.types.hvc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u>>8&255,u&255,h>>8&255,h&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),f,X.box(X.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),X.box(X.types.pasp,new Uint8Array([p>>24,p>>16&255,p>>8&255,p&255,g>>24,g>>16&255,g>>8&255,g&255])))}}X.types=void 0;X.HDLR_TYPES=void 0;X.STTS=void 0;X.STSC=void 0;X.STCO=void 0;X.STSZ=void 0;X.VMHD=void 0;X.SMHD=void 0;X.STSD=void 0;X.FTYP=void 0;X.DINF=void 0;const LA=9e4;function cw(s,e,t=1,n=!1){const i=s*e*t;return n?Math.round(i):i}function Eee(s,e,t=1,n=!1){return cw(s,e,1/t,n)}function Ef(s,e=!1){return cw(s,1e3,1/LA,e)}function Nee(s,e=1){return cw(s,LA,1/e)}const Mee=10*1e3,kee=1024,Iee=1152,_ee=1536;let kl=null,qx=null;function c6(s,e,t,n){return{duration:e,size:t,cts:n,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:s?2:1,isNonSync:s?0:1}}}class q0{constructor(e,t,n,i){if(this.logger=void 0,this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=e,this.config=t,this.typeSupported=n,this.logger=i,this.ISGenerated=!1,kl===null){const a=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);kl=a?parseInt(a[1]):0}if(qx===null){const r=navigator.userAgent.match(/Safari\/(\d+)/i);qx=r?parseInt(r[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(e){this.logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e}resetNextTimestamp(){this.logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){this.logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(e){let t=!1;const n=e[0].pts,i=e.reduce((r,a)=>{let l=a.pts,c=l-r;return c<-4294967296&&(t=!0,l=Qn(l,n),c=l-r),c>0?r:l},n);return t&&this.logger.debug("PTS rollover detected"),i}remux(e,t,n,i,r,a,l,c){let f,u,h,p,g,x,y=r,v=r;const w=e.pid>-1,L=t.pid>-1,S=t.samples.length,j=e.samples.length>0,E=l&&S>0||S>1;if((!w||j)&&(!L||E)||this.ISGenerated||l){if(this.ISGenerated){var N,I,A,D;const q=this.videoTrackConfig;(q&&(t.width!==q.width||t.height!==q.height||((N=t.pixelRatio)==null?void 0:N[0])!==((I=q.pixelRatio)==null?void 0:I[0])||((A=t.pixelRatio)==null?void 0:A[1])!==((D=q.pixelRatio)==null?void 0:D[1]))||!q&&E||this.nextAudioPts===null&&j)&&this.resetInitSegment()}this.ISGenerated||(h=this.generateIS(e,t,r,a));const z=this.isVideoContiguous;let O=-1,Y;if(E&&(O=Aee(t.samples),!z&&this.config.forceKeyFrameOnDiscontinuity))if(x=!0,O>0){this.logger.warn(`[mp4-remuxer]: Dropped ${O} out of ${S} video samples due to a missing keyframe`);const q=this.getVideoStartPts(t.samples);t.samples=t.samples.slice(O),t.dropped+=O,v+=(t.samples[0].pts-q)/t.inputTimeScale,Y=v}else O===-1&&(this.logger.warn(`[mp4-remuxer]: No keyframe found out of ${S} video samples`),x=!1);if(this.ISGenerated){if(j&&E){const q=this.getVideoStartPts(t.samples),V=(Qn(e.samples[0].pts,q)-q)/t.inputTimeScale;y+=Math.max(0,V),v+=Math.max(0,-V)}if(j){if(e.samplerate||(this.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),h=this.generateIS(e,t,r,a)),u=this.remuxAudio(e,y,this.isAudioContiguous,a,L||E||c===Me.AUDIO?v:void 0),E){const q=u?u.endPTS-u.startPTS:0;t.inputTimeScale||(this.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),h=this.generateIS(e,t,r,a)),f=this.remuxVideo(t,v,z,q)}}else E&&(f=this.remuxVideo(t,v,z,0));f&&(f.firstKeyFrame=O,f.independent=O!==-1,f.firstKeyFramePTS=Y)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(n.samples.length&&(g=CA(n,r,this._initPTS,this._initDTS)),i.samples.length&&(p=TA(i,r,this._initPTS))),{audio:u,video:f,initSegment:h,independent:x,text:p,id3:g}}generateIS(e,t,n,i){const r=e.samples,a=t.samples,l=this.typeSupported,c={},f=this._initPTS;let u=!f||i,h="audio/mp4",p,g,x;if(u&&(p=g=1/0),e.config&&r.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":l.mpeg?(h="audio/mpeg",e.codec=""):l.mp3&&(e.codec="mp3");break;case"ac3":e.codec="ac-3";break}c.audio={id:"audio",container:h,codec:e.codec,initSegment:e.segmentCodec==="mp3"&&l.mpeg?new Uint8Array(0):X.initSegment([e]),metadata:{channelCount:e.channelCount}},u&&(x=e.inputTimeScale,!f||x!==f.timescale?p=g=r[0].pts-Math.round(x*n):u=!1)}if(t.sps&&t.pps&&a.length){if(t.timescale=t.inputTimeScale,c.video={id:"main",container:"video/mp4",codec:t.codec,initSegment:X.initSegment([t]),metadata:{width:t.width,height:t.height}},u)if(x=t.inputTimeScale,!f||x!==f.timescale){const y=this.getVideoStartPts(a),v=Math.round(x*n);g=Math.min(g,Qn(a[0].dts,y)-v),p=Math.min(p,y-v)}else u=!1;this.videoTrackConfig={width:t.width,height:t.height,pixelRatio:t.pixelRatio}}if(Object.keys(c).length)return this.ISGenerated=!0,u?(this._initPTS={baseTime:p,timescale:x},this._initDTS={baseTime:g,timescale:x}):p=x=void 0,{tracks:c,initPTS:p,timescale:x}}remuxVideo(e,t,n,i){const r=e.inputTimeScale,a=e.samples,l=[],c=a.length,f=this._initPTS;let u=this.nextAvcDts,h=8,p=this.videoSampleDuration,g,x,y=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,w=!1;if(!n||u===null){const B=t*r,U=a[0].pts-Qn(a[0].dts,a[0].pts);kl&&u!==null&&Math.abs(B-U-u)<15e3?n=!0:u=B-U}const L=f.baseTime*r/f.timescale;for(let B=0;B<c;B++){const U=a[B];U.pts=Qn(U.pts-L,u),U.dts=Qn(U.dts-L,u),U.dts<a[B>0?B-1:B].dts&&(w=!0)}w&&a.sort(function(B,U){const $=B.dts-U.dts,K=B.pts-U.pts;return $||K}),g=a[0].dts,x=a[a.length-1].dts;const S=x-g,j=S?Math.round(S/(c-1)):p||e.inputTimeScale/30;if(n){const B=g-u,U=B>j,$=B<-1;if((U||$)&&(U?this.logger.warn(`${(e.segmentCodec||"").toUpperCase()}: ${Ef(B,!0)} ms (${B}dts) hole between fragments detected at ${t.toFixed(3)}`):this.logger.warn(`${(e.segmentCodec||"").toUpperCase()}: ${Ef(-B,!0)} ms (${B}dts) overlapping between fragments detected at ${t.toFixed(3)}`),!$||u>=a[0].pts||kl)){g=u;const K=a[0].pts-B;if(U)a[0].dts=g,a[0].pts=K;else{let ce=!0;for(let he=0;he<a.length&&!(a[he].dts>K&&ce);he++){const xe=a[he].pts;if(a[he].dts-=B,a[he].pts-=B,he<a.length-1){const ve=a[he+1].pts,ye=a[he].pts,be=ve<=ye,ze=ve<=xe;ce=be==ze}}}this.logger.log(`Video: Initial PTS/DTS adjusted: ${Ef(K,!0)}/${Ef(g,!0)}, delta: ${Ef(B,!0)} ms`)}}g=Math.max(0,g);let E=0,M=0,N=g;for(let B=0;B<c;B++){const U=a[B],$=U.units,K=$.length;let ce=0;for(let he=0;he<K;he++)ce+=$[he].data.length;M+=ce,E+=K,U.length=ce,U.dts<N?(U.dts=N,N+=j/4|0||1):N=U.dts,y=Math.min(U.pts,y),v=Math.max(U.pts,v)}x=a[c-1].dts;const I=M+4*E+8;let A;try{A=new Uint8Array(I)}catch(B){this.observer.emit(P.ERROR,P.ERROR,{type:Ie.MUX_ERROR,details:te.REMUX_ALLOC_ERROR,fatal:!1,error:B,bytes:I,reason:`fail allocating video mdat ${I}`});return}const D=new DataView(A.buffer);D.setUint32(0,I),A.set(X.types.mdat,4);let z=!1,O=Number.POSITIVE_INFINITY,Y=Number.POSITIVE_INFINITY,q=Number.NEGATIVE_INFINITY,Z=Number.NEGATIVE_INFINITY;for(let B=0;B<c;B++){const U=a[B],$=U.units;let K=0;for(let xe=0,ve=$.length;xe<ve;xe++){const ye=$[xe],be=ye.data,ze=ye.data.byteLength;D.setUint32(h,ze),h+=4,A.set(be,h),h+=ze,K+=4+ze}let ce;if(B<c-1)p=a[B+1].dts-U.dts,ce=a[B+1].pts-U.pts;else{const xe=this.config,ve=B>0?U.dts-a[B-1].dts:j;if(ce=B>0?U.pts-a[B-1].pts:j,xe.stretchShortVideoTrack&&this.nextAudioPts!==null){const ye=Math.floor(xe.maxBufferHole*r),be=(i?y+i*r:this.nextAudioPts)-U.pts;be>ye?(p=be-ve,p<0?p=ve:z=!0,this.logger.log(`[mp4-remuxer]: It is approximately ${be/90} ms to the next segment; using duration ${p/90} ms for the last video frame.`)):p=ve}else p=ve}const he=Math.round(U.pts-U.dts);O=Math.min(O,p),q=Math.max(q,p),Y=Math.min(Y,ce),Z=Math.max(Z,ce),l.push(c6(U.key,p,K,he))}if(l.length){if(kl){if(kl<70){const B=l[0].flags;B.dependsOn=2,B.isNonSync=0}}else if(qx&&Z-Y<q-O&&j/q<.025&&l[0].cts===0){this.logger.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let B=g;for(let U=0,$=l.length;U<$;U++){const K=B+l[U].duration,ce=B+l[U].cts;if(U<$-1){const he=K+l[U+1].cts;l[U].duration=he-ce}else l[U].duration=U?l[U-1].duration:j;l[U].cts=0,B=K}}}p=z||!p?j:p,this.nextAvcDts=u=x+p,this.videoSampleDuration=p,this.isVideoContiguous=!0;const F={data1:X.moof(e.sequenceNumber++,g,gt(e,{samples:l})),data2:A,startPTS:y/r,endPTS:(v+p)/r,startDTS:g/r,endDTS:u/r,type:"video",hasAudio:!1,hasVideo:!0,nb:l.length,dropped:e.dropped};return e.samples=[],e.dropped=0,F}getSamplesPerFrame(e){switch(e.segmentCodec){case"mp3":return Iee;case"ac3":return _ee;default:return kee}}remuxAudio(e,t,n,i,r){const a=e.inputTimeScale,l=e.samplerate?e.samplerate:a,c=a/l,f=this.getSamplesPerFrame(e),u=f*c,h=this._initPTS,p=e.segmentCodec==="mp3"&&this.typeSupported.mpeg,g=[],x=r!==void 0;let y=e.samples,v=p?0:8,w=this.nextAudioPts||-1;const L=t*a,S=h.baseTime*a/h.timescale;if(this.isAudioContiguous=n=n||y.length&&w>0&&(i&&Math.abs(L-w)<9e3||Math.abs(Qn(y[0].pts-S,L)-w)<20*u),y.forEach(function(V){V.pts=Qn(V.pts-S,L)}),!n||w<0){if(y=y.filter(V=>V.pts>=0),!y.length)return;r===0?w=0:i&&!x?w=Math.max(0,L):w=y[0].pts}if(e.segmentCodec==="aac"){const V=this.config.maxAudioFramesDrift;for(let H=0,F=w;H<y.length;H++){const B=y[H],U=B.pts,$=U-F,K=Math.abs(1e3*$/a);if($<=-V*u&&x)H===0&&(this.logger.warn(`Audio frame @ ${(U/a).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*$/a)} ms.`),this.nextAudioPts=w=F=U);else if($>=V*u&&K<Mee&&x){let ce=Math.round($/u);F=U-ce*u,F<0&&(ce--,F+=u),H===0&&(this.nextAudioPts=w=F),this.logger.warn(`[mp4-remuxer]: Injecting ${ce} audio frame @ ${(F/a).toFixed(3)}s due to ${Math.round(1e3*$/a)} ms gap.`);for(let he=0;he<ce;he++){const xe=Math.max(F,0);let ve=jee.getSilentFrame(e.parsedCodec||e.manifestCodec||e.codec,e.channelCount);ve||(this.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),ve=B.unit.subarray()),y.splice(H,0,{unit:ve,pts:xe}),F+=u,H++}}B.pts=F,F+=u}}let j=null,E=null,M,N=0,I=y.length;for(;I--;)N+=y[I].unit.byteLength;for(let V=0,H=y.length;V<H;V++){const F=y[V],B=F.unit;let U=F.pts;if(E!==null){const K=g[V-1];K.duration=Math.round((U-E)/c)}else if(n&&e.segmentCodec==="aac"&&(U=w),j=U,N>0){N+=v;try{M=new Uint8Array(N)}catch(K){this.observer.emit(P.ERROR,P.ERROR,{type:Ie.MUX_ERROR,details:te.REMUX_ALLOC_ERROR,fatal:!1,error:K,bytes:N,reason:`fail allocating audio mdat ${N}`});return}p||(new DataView(M.buffer).setUint32(0,N),M.set(X.types.mdat,4))}else return;M.set(B,v);const $=B.byteLength;v+=$,g.push(c6(!0,f,$,0)),E=U}const A=g.length;if(!A)return;const D=g[g.length-1];this.nextAudioPts=w=E+c*D.duration;const z=p?new Uint8Array(0):X.moof(e.sequenceNumber++,j/c,gt({},e,{samples:g}));e.samples=[];const O=j/a,Y=w/a,Z={data1:z,data2:M,startPTS:O,endPTS:Y,startDTS:O,endDTS:Y,type:"audio",hasAudio:!0,hasVideo:!1,nb:A};return this.isAudioContiguous=!0,Z}}function Qn(s,e){let t;if(e===null)return s;for(e<s?t=-8589934592:t=8589934592;Math.abs(s-e)>4294967296;)s+=t;return s}function Aee(s){for(let e=0;e<s.length;e++)if(s[e].key)return e;return-1}function CA(s,e,t,n){const i=s.samples.length;if(!i)return;const r=s.inputTimeScale;for(let l=0;l<i;l++){const c=s.samples[l];c.pts=Qn(c.pts-t.baseTime*r/t.timescale,e*r)/r,c.dts=Qn(c.dts-n.baseTime*r/n.timescale,e*r)/r}const a=s.samples;return s.samples=[],{samples:a}}function TA(s,e,t){const n=s.samples.length;if(!n)return;const i=s.inputTimeScale;for(let a=0;a<n;a++){const l=s.samples[a];l.pts=Qn(l.pts-t.baseTime*i/t.timescale,e*i)/i}s.samples.sort((a,l)=>a.pts-l.pts);const r=s.samples;return s.samples=[],{samples:r}}class Dee{constructor(e,t,n,i){this.logger=void 0,this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null,this.logger=i}destroy(){}resetTimeStamp(e){this.initPTS=e,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(e,t,n,i){this.audioCodec=t,this.videoCodec=n,this.generateInitSegment(SZ(e,i)),this.emitInitSegment=!0}generateInitSegment(e){let{audioCodec:t,videoCodec:n}=this;if(!(e!=null&&e.byteLength)){this.initTracks=void 0,this.initData=void 0;return}const i=this.initData=D_(e);i.audio&&(t=f6(i.audio,mt.AUDIO)),i.video&&(n=f6(i.video,mt.VIDEO));const r={};i.audio&&i.video?r.audiovideo={container:"video/mp4",codec:t+","+n,supplemental:i.video.supplemental,initSegment:e,id:"main"}:i.audio?r.audio={container:"audio/mp4",codec:t,initSegment:e,id:"audio"}:i.video?r.video={container:"video/mp4",codec:n,supplemental:i.video.supplemental,initSegment:e,id:"main"}:this.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=r}remux(e,t,n,i,r,a){var l,c;let{initPTS:f,lastEndTime:u}=this;const h={audio:void 0,video:void 0,text:i,id3:n,initSegment:void 0};we(u)||(u=this.lastEndTime=r||0);const p=t.samples;if(!(p!=null&&p.length))return h;const g={initPTS:void 0,timescale:1};let x=this.initData;if((l=x)!=null&&l.length||(this.generateInitSegment(p),x=this.initData),!((c=x)!=null&&c.length))return this.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),h;this.emitInitSegment&&(g.tracks=this.initTracks,this.emitInitSegment=!1);const y=CZ(p,x),v=LZ(x,p),w=v===null?r:v;(a||!f)&&(Pee(f,w,r,y)||g.timescale!==f.timescale)&&(g.initPTS=w-r,f&&f.timescale===1&&this.logger.warn(`Adjusting initPTS @${r} from ${f.baseTime/f.timescale} to ${g.initPTS}`),this.initPTS=f={baseTime:g.initPTS,timescale:1});const L=e?w-f.baseTime/f.timescale:u,S=L+y;jZ(x,p,f.baseTime/f.timescale),y>0?this.lastEndTime=S:(this.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const j=!!x.audio,E=!!x.video;let M="";j&&(M+="audio"),E&&(M+="video");const N={data1:p,startPTS:L,startDTS:L,endPTS:S,endDTS:S,type:M,hasAudio:j,hasVideo:E,nb:1,dropped:0};return h.audio=N.type==="audio"?N:void 0,h.video=N.type!=="audio"?N:void 0,h.initSegment=g,h.id3=CA(n,r,f,f),i.samples.length&&(h.text=TA(i,r,f)),h}}function Pee(s,e,t,n){if(s===null)return!0;const i=Math.max(n,1),r=e-s.baseTime/s.timescale;return Math.abs(r-t)>i}function f6(s,e){const t=s==null?void 0:s.codec;return t&&t.length>4?t:e===mt.AUDIO?t==="ec-3"||t==="ac-3"||t==="alac"?t:t==="fLaC"||t==="Opus"?Gm(t,!1):(st.warn(`Unhandled audio codec "${t}" in mp4 MAP`),t||"mp4a"):(st.warn(`Unhandled video codec "${t}" in mp4 MAP`),t||"avc1")}let Mr;try{Mr=self.performance.now.bind(self.performance)}catch{Mr=Date.now}const Z0=[{demux:See,remux:Dee},{demux:ba,remux:q0},{demux:yee,remux:q0},{demux:vee,remux:q0}];Z0.splice(2,0,{demux:bee,remux:q0});class u6{constructor(e,t,n,i,r,a){this.asyncResult=!1,this.logger=void 0,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=t,this.config=n,this.id=r,this.logger=a}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,t,n,i){const r=n.transmuxing;r.executeStart=Mr();let a=new Uint8Array(e);const{currentTransmuxState:l,transmuxConfig:c}=this;i&&(this.currentTransmuxState=i);const{contiguous:f,discontinuity:u,trackSwitch:h,accurateTimeOffset:p,timeOffset:g,initSegmentChange:x}=i||l,{audioCodec:y,videoCodec:v,defaultInitPts:w,duration:L,initSegmentData:S}=c,j=Ree(a,t);if(j&&Kl(j.method)){const I=this.getDecrypter(),A=ew(j.method);if(I.isSync()){let D=I.softwareDecrypt(a,j.key.buffer,j.iv.buffer,A);if(n.part>-1){const O=I.flush();D=O&&O.buffer}if(!D)return r.executeEnd=Mr(),Zx(n);a=new Uint8Array(D)}else return this.asyncResult=!0,this.decryptionPromise=I.webCryptoDecrypt(a,j.key.buffer,j.iv.buffer,A).then(D=>{const z=this.push(D,null,n);return this.decryptionPromise=null,z}),this.decryptionPromise}const E=this.needsProbing(u,h);if(E){const I=this.configureTransmuxer(a);if(I)return this.logger.warn(`[transmuxer] ${I.message}`),this.observer.emit(P.ERROR,P.ERROR,{type:Ie.MEDIA_ERROR,details:te.FRAG_PARSING_ERROR,fatal:!1,error:I,reason:I.message}),r.executeEnd=Mr(),Zx(n)}(u||h||x||E)&&this.resetInitSegment(S,y,v,L,t),(u||x||E)&&this.resetInitialTimestamp(w),f||this.resetContiguity();const M=this.transmux(a,j,g,p,n);this.asyncResult=Yu(M);const N=this.currentTransmuxState;return N.contiguous=!0,N.discontinuity=!1,N.trackSwitch=!1,r.executeEnd=Mr(),M}flush(e){const t=e.transmuxing;t.executeStart=Mr();const{decrypter:n,currentTransmuxState:i,decryptionPromise:r}=this;if(r)return this.asyncResult=!0,r.then(()=>this.flush(e));const a=[],{timeOffset:l}=i;if(n){const h=n.flush();h&&a.push(this.push(h.buffer,null,e))}const{demuxer:c,remuxer:f}=this;if(!c||!f){t.executeEnd=Mr();const h=[Zx(e)];return this.asyncResult?Promise.resolve(h):h}const u=c.flush(l);return Yu(u)?(this.asyncResult=!0,u.then(h=>(this.flushRemux(a,h,e),a))):(this.flushRemux(a,u,e),this.asyncResult?Promise.resolve(a):a)}flushRemux(e,t,n){const{audioTrack:i,videoTrack:r,id3Track:a,textTrack:l}=t,{accurateTimeOffset:c,timeOffset:f}=this.currentTransmuxState;this.logger.log(`[transmuxer.ts]: Flushed ${this.id} sn: ${n.sn}${n.part>-1?" part: "+n.part:""} of ${this.id===Me.MAIN?"level":"track"} ${n.level}`);const u=this.remuxer.remux(i,r,a,l,f,c,!0,this.id);e.push({remuxResult:u,chunkMeta:n}),n.transmuxing.executeEnd=Mr()}resetInitialTimestamp(e){const{demuxer:t,remuxer:n}=this;!t||!n||(t.resetTimeStamp(e),n.resetTimeStamp(e))}resetContiguity(){const{demuxer:e,remuxer:t}=this;!e||!t||(e.resetContiguity(),t.resetNextTimestamp())}resetInitSegment(e,t,n,i,r){const{demuxer:a,remuxer:l}=this;!a||!l||(a.resetInitSegment(e,t,n,i),l.resetInitSegment(e,t,n,r))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,t,n,i,r){let a;return t&&t.method==="SAMPLE-AES"?a=this.transmuxSampleAes(e,t,n,i,r):a=this.transmuxUnencrypted(e,n,i,r),a}transmuxUnencrypted(e,t,n,i){const{audioTrack:r,videoTrack:a,id3Track:l,textTrack:c}=this.demuxer.demux(e,t,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(r,a,l,c,t,n,!1,this.id),chunkMeta:i}}transmuxSampleAes(e,t,n,i,r){return this.demuxer.demuxSampleAes(e,t,n).then(a=>({remuxResult:this.remuxer.remux(a.audioTrack,a.videoTrack,a.id3Track,a.textTrack,n,i,!1,this.id),chunkMeta:r}))}configureTransmuxer(e){const{config:t,observer:n,typeSupported:i}=this;let r;for(let h=0,p=Z0.length;h<p;h++){var a;if((a=Z0[h].demux)!=null&&a.probe(e,this.logger)){r=Z0[h];break}}if(!r)return new Error("Failed to find demuxer by probing fragment data");const l=this.demuxer,c=this.remuxer,f=r.remux,u=r.demux;(!c||!(c instanceof f))&&(this.remuxer=new f(n,t,i,this.logger)),(!l||!(l instanceof u))&&(this.demuxer=new u(n,t,i,this.logger),this.probe=u.probe)}needsProbing(e,t){return!this.demuxer||!this.remuxer||e||t}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new Z2(this.config)),e}}function Ree(s,e){let t=null;return s.byteLength>0&&(e==null?void 0:e.key)!=null&&e.iv!==null&&e.method!=null&&(t=e),t}const Zx=s=>({remuxResult:{},chunkMeta:s});function Yu(s){return"then"in s&&s.then instanceof Function}class Oee{constructor(e,t,n,i,r){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=t,this.initSegmentData=n,this.duration=i,this.defaultInitPts=r||null}}class Fee{constructor(e,t,n,i,r,a){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=t,this.accurateTimeOffset=n,this.trackSwitch=i,this.timeOffset=r,this.initSegmentChange=a}}let d6=0;class jA{constructor(e,t,n,i){this.error=null,this.hls=void 0,this.id=void 0,this.instanceNo=d6++,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.onWorkerMessage=c=>{const f=c.data,u=this.hls;if(!(!u||!(f!=null&&f.event)||f.instanceNo!==this.instanceNo))switch(f.event){case"init":{var h;const p=(h=this.workerContext)==null?void 0:h.objectURL;p&&self.URL.revokeObjectURL(p);break}case"transmuxComplete":{this.handleTransmuxComplete(f.data);break}case"flush":{this.onFlush(f.data);break}case"workerLog":{u.logger[f.data.logType]&&u.logger[f.data.logType](f.data.message);break}default:{f.data=f.data||{},f.data.frag=this.frag,f.data.part=this.part,f.data.id=this.id,u.trigger(f.event,f.data);break}}},this.onWorkerError=c=>{if(!this.hls)return;const f=new Error(`${c.message}  (${c.filename}:${c.lineno})`);this.hls.config.enableWorker=!1,this.hls.logger.warn(`Error in "${this.id}" Web Worker, fallback to inline`),this.hls.trigger(P.ERROR,{type:Ie.OTHER_ERROR,details:te.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:f})};const r=e.config;this.hls=e,this.id=t,this.useWorker=!!r.enableWorker,this.onTransmuxComplete=n,this.onFlush=i;const a=(c,f)=>{f=f||{},f.frag=this.frag||void 0,c===P.ERROR&&(f=f,f.parent=this.id,f.part=this.part,this.error=f.error),this.hls.trigger(c,f)};this.observer=new nw,this.observer.on(P.FRAG_DECRYPTED,a),this.observer.on(P.ERROR,a);const l=Nj(r.preferManagedMediaSource);if(this.useWorker&&typeof Worker<"u"){const c=this.hls.logger;if(r.workerPath||UX()){try{r.workerPath?(c.log(`loading Web Worker ${r.workerPath} for "${t}"`),this.workerContext=VX(r.workerPath)):(c.log(`injecting Web Worker for "${t}"`),this.workerContext=$X());const{worker:u}=this.workerContext;u.addEventListener("message",this.onWorkerMessage),u.addEventListener("error",this.onWorkerError),u.postMessage({instanceNo:this.instanceNo,cmd:"init",typeSupported:l,id:t,config:Ct(r)})}catch(u){c.warn(`Error setting up "${t}" Web Worker, fallback to inline`,u),this.terminateWorker(),this.error=null,this.transmuxer=new u6(this.observer,l,r,"",t,e.logger)}return}}this.transmuxer=new u6(this.observer,l,r,"",t,e.logger)}reset(){if(this.frag=null,this.part=null,this.workerContext){const e=this.instanceNo;this.instanceNo=d6++;const t=this.hls.config,n=Nj(t.preferManagedMediaSource);this.workerContext.worker.postMessage({instanceNo:this.instanceNo,cmd:"reset",resetNo:e,typeSupported:n,id:this.id,config:Ct(t)})}}terminateWorker(){if(this.workerContext){const{worker:e}=this.workerContext;this.workerContext=null,e.removeEventListener("message",this.onWorkerMessage),e.removeEventListener("error",this.onWorkerError),GX(this.hls.config.workerPath)}}destroy(){if(this.workerContext)this.terminateWorker(),this.onWorkerMessage=this.onWorkerError=null;else{const t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null)}const e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.part=null,this.observer=null,this.hls=null}push(e,t,n,i,r,a,l,c,f,u){var h,p;f.transmuxing.start=self.performance.now();const{instanceNo:g,transmuxer:x}=this,y=a?a.start:r.start,v=r.decryptdata,w=this.frag,L=!(w&&r.cc===w.cc),S=!(w&&f.level===w.level),j=w?f.sn-w.sn:-1,E=this.part?f.part-this.part.index:-1,M=j===0&&f.id>1&&f.id===(w==null?void 0:w.stats.chunkCount),N=!S&&(j===1||j===0&&(E===1||M&&E<=0)),I=self.performance.now();(S||j||r.stats.parsing.start===0)&&(r.stats.parsing.start=I),a&&(E||!N)&&(a.stats.parsing.start=I);const A=!(w&&((h=r.initSegment)==null?void 0:h.url)===((p=w.initSegment)==null?void 0:p.url)),D=new Fee(L,N,c,S,y,A);if(!N||L||A){this.hls.logger.log(`[transmuxer-interface]: Starting new transmux session for ${r.type} sn: ${f.sn}${f.part>-1?" part: "+f.part:""} ${this.id===Me.MAIN?"level":"track"}: ${f.level} id: ${f.id}
        discontinuity: ${L}
        trackSwitch: ${S}
        contiguous: ${N}
        accurateTimeOffset: ${c}
        timeOffset: ${y}
        initSegmentChange: ${A}`);const z=new Oee(n,i,t,l,u);this.configureTransmuxer(z)}if(this.frag=r,this.part=a,this.workerContext)this.workerContext.worker.postMessage({instanceNo:g,cmd:"demux",data:e,decryptdata:v,chunkMeta:f,state:D},e instanceof ArrayBuffer?[e]:[]);else if(x){const z=x.push(e,v,f,D);Yu(z)?z.then(O=>{this.handleTransmuxComplete(O)}).catch(O=>{this.transmuxerError(O,f,"transmuxer-interface push error")}):this.handleTransmuxComplete(z)}}flush(e){e.transmuxing.start=self.performance.now();const{instanceNo:t,transmuxer:n}=this;if(this.workerContext)this.workerContext.worker.postMessage({instanceNo:t,cmd:"flush",chunkMeta:e});else if(n){const i=n.flush(e);Yu(i)?i.then(r=>{this.handleFlushResult(r,e)}).catch(r=>{this.transmuxerError(r,e,"transmuxer-interface flush error")}):this.handleFlushResult(i,e)}}transmuxerError(e,t,n){this.hls&&(this.error=e,this.hls.trigger(P.ERROR,{type:Ie.MEDIA_ERROR,details:te.FRAG_PARSING_ERROR,chunkMeta:t,frag:this.frag||void 0,part:this.part||void 0,fatal:!1,error:e,err:e,reason:n}))}handleFlushResult(e,t){e.forEach(n=>{this.handleTransmuxComplete(n)}),this.onFlush(t)}configureTransmuxer(e){const{instanceNo:t,transmuxer:n}=this;this.workerContext?this.workerContext.worker.postMessage({instanceNo:t,cmd:"configure",config:e}):n&&n.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}const h6=100;class zee extends sw{constructor(e,t,n){super(e,t,n,"audio-stream-controller",Me.AUDIO),this.mainAnchor=null,this.mainFragLoading=null,this.audioOnly=!1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.resetItem()}resetItem(){this.mainDetails=this.mainAnchor=this.mainFragLoading=this.bufferedTrack=this.switchingTrack=this.waitingData=this.cachedTrackLoadedData=null}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(P.LEVEL_LOADED,this.onLevelLoaded,this),e.on(P.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(P.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(P.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(P.BUFFER_RESET,this.onBufferReset,this),e.on(P.BUFFER_CREATED,this.onBufferCreated,this),e.on(P.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(P.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(P.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(P.FRAG_LOADING,this.onFragLoading,this),e.on(P.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){const{hls:e}=this;e&&(super.unregisterListeners(),e.off(P.LEVEL_LOADED,this.onLevelLoaded,this),e.off(P.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(P.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(P.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(P.BUFFER_RESET,this.onBufferReset,this),e.off(P.BUFFER_CREATED,this.onBufferCreated,this),e.off(P.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(P.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(P.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(P.FRAG_LOADING,this.onFragLoading,this),e.off(P.FRAG_BUFFERED,this.onFragBuffered,this))}onInitPtsFound(e,{frag:t,id:n,initPTS:i,timescale:r}){if(n===Me.MAIN){const a=t.cc,l=this.fragCurrent;if(this.initPTS[a]={baseTime:i,timescale:r},this.log(`InitPTS for cc: ${a} found from main: ${i}/${r}`),this.mainAnchor=t,this.state===re.WAITING_INIT_PTS){const c=this.waitingData;(!c&&!this.loadingParts||c&&c.frag.cc!==a)&&(this.nextLoadPosition=this.findSyncFrag(t).start),this.tick()}else!this.hls.hasEnoughToStart&&l&&l.cc!==a?(this.startFragRequested=!1,this.nextLoadPosition=this.findSyncFrag(t).start,l.abortRequests(),this.resetLoadingState()):this.state===re.IDLE&&this.tick()}}findSyncFrag(e){const t=this.getLevelDetails(),n=e.cc;return tX(t,n,e)||t&&H_(t.fragments,n)||e}startLoad(e,t){if(!this.levels){this.startPosition=e,this.state=re.STOPPED;return}const n=this.lastCurrentTime;this.stopLoad(),this.setInterval(h6),n>0&&e===-1?(this.log(`Override startPosition with lastCurrentTime @${n.toFixed(3)}`),e=n,this.state=re.IDLE):this.state=re.WAITING_TRACK,this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=t?-1:e,this.tick()}doTick(){switch(this.state){case re.IDLE:this.doTickIdle();break;case re.WAITING_TRACK:{const{levels:t,trackId:n}=this,i=t==null?void 0:t[n],r=i==null?void 0:i.details;if(r&&!this.waitForLive(i)){if(this.waitForCdnTuneIn(r))break;this.state=re.WAITING_INIT_PTS}break}case re.FRAG_LOADING_WAITING_RETRY:{var e;const t=performance.now(),n=this.retryDate;if(!n||t>=n||(e=this.media)!=null&&e.seeking){const{levels:i,trackId:r}=this;this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded((i==null?void 0:i[r])||null),this.state=re.IDLE}break}case re.WAITING_INIT_PTS:{const t=this.waitingData;if(t){const{frag:n,part:i,cache:r,complete:a}=t,l=this.mainAnchor;if(this.initPTS[n.cc]!==void 0){this.waitingData=null,this.state=re.FRAG_LOADING;const c=r.flush().buffer,f={frag:n,part:i,payload:c,networkDetails:null};this._handleFragmentLoadProgress(f),a&&super._handleFragmentLoadComplete(f)}else l&&l.cc!==t.frag.cc&&(this.log(`Waiting fragment cc (${n.cc}) cancelled because video is at cc ${l.cc}`),this.nextLoadPosition=this.findSyncFrag(l).start,this.clearWaitingFragment())}else this.state=re.IDLE}}this.onTickEnd()}clearWaitingFragment(){const e=this.waitingData;e&&(this.hls.hasEnoughToStart||(this.startFragRequested=!1),this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.state!==re.STOPPED&&(this.state=re.IDLE))}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:e}=this;e!=null&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){var e;const{hls:t,levels:n,media:i,trackId:r}=this,a=t.config;if(!this.buffering||!i&&!this.primaryPrefetch&&(this.startFragRequested||!a.startFragPrefetch)||!(n!=null&&n[r]))return;const l=n[r],c=l.details;if(!c||this.waitForLive(l)||this.waitForCdnTuneIn(c)){this.state=re.WAITING_TRACK,this.startFragRequested=!1;return}const f=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&f&&(this.bufferFlushed=!1,this.afterBufferFlushed(f,mt.AUDIO,Me.AUDIO));const u=this.getFwdBufferInfo(f,Me.AUDIO);if(u===null)return;if(!this.switchingTrack&&this._streamEnded(u,c)){t.trigger(P.BUFFER_EOS,{type:"audio"}),this.state=re.ENDED;return}const h=u.len,p=t.maxBufferLength,g=c.fragments,x=g[0].start,y=this.getLoadPosition(),v=this.flushing?y:u.end;if(this.switchingTrack&&i){const S=y;c.PTSKnown&&S<x&&(u.end>x||u.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),i.currentTime=x+.05)}if(h>=p&&!this.switchingTrack&&v<g[g.length-1].start)return;let w=this.getNextFragment(v,c);if(w&&this.isLoopLoading(w,v)&&(w=this.getNextFragmentLoopLoading(w,c,u,Me.MAIN,p)),!w){this.bufferFlushed=!0;return}let L=((e=this.mainFragLoading)==null?void 0:e.frag)||null;if(!this.audioOnly&&this.startFragRequested&&L&&hs(w)&&!w.endList&&(!c.live||!this.loadingParts&&v<this.hls.liveSyncPosition)&&(this.fragmentTracker.getState(L)===is.OK&&(this.mainFragLoading=L=null),L&&hs(L))){if(w.start>L.end){const j=this.fragmentTracker.getFragAtPos(v,Me.MAIN);j&&j.end>L.end&&(L=j,this.mainFragLoading={frag:j,targetBufferTime:null})}if(w.start>L.end)return}this.loadFragment(w,l,v)}onMediaDetaching(e,t){this.bufferFlushed=this.flushing=!1,super.onMediaDetaching(e,t)}onAudioTracksUpdated(e,{audioTracks:t}){this.resetTransmuxer(),this.levels=t.map(n=>new Uu(n))}onAudioTrackSwitching(e,t){const n=!!t.url;this.trackId=t.id;const{fragCurrent:i}=this;i&&(i.abortRequests(),this.removeUnbufferedFrags(i.start)),this.resetLoadingState(),n?(this.switchingTrack=t,this.flushAudioIfNeeded(t),this.state!==re.STOPPED&&(this.setInterval(h6),this.state=re.IDLE,this.tick())):(this.resetTransmuxer(),this.switchingTrack=null,this.bufferedTrack=t,this.clearInterval())}onManifestLoading(){super.onManifestLoading(),this.bufferFlushed=this.flushing=this.audioOnly=!1,this.resetItem(),this.trackId=-1}onLevelLoaded(e,t){this.mainDetails=t.details;const n=this.cachedTrackLoadedData;n&&(this.cachedTrackLoadedData=null,this.onAudioTrackLoaded(P.AUDIO_TRACK_LOADED,n))}onAudioTrackLoaded(e,t){var n;const{levels:i}=this,{details:r,id:a,groupId:l,track:c}=t;if(!i){this.warn(`Audio tracks reset while loading track ${a} "${c.name}" of "${l}"`);return}const f=this.mainDetails;if(!f||r.endCC>f.endCC||f.expired){this.cachedTrackLoadedData=t,this.state!==re.STOPPED&&(this.state=re.WAITING_TRACK);return}this.cachedTrackLoadedData=null,this.log(`Audio track ${a} "${c.name}" of "${l}" loaded [${r.startSN},${r.endSN}]${r.lastPartSn?`[part-${r.lastPartSn}-${r.lastPartIndex}]`:""},duration:${r.totalduration}`);const u=i[a];let h=0;if(r.live||(n=u.details)!=null&&n.live){if(this.checkLiveUpdate(r),r.deltaUpdateFailed)return;if(u.details){var p;h=this.alignPlaylists(r,u.details,(p=this.levelLastLoaded)==null?void 0:p.details)}r.alignedSliding||(rA(r,f),r.alignedSliding||Jm(r,f),h=r.fragmentStart)}u.details=r,this.levelLastLoaded=u,this.startFragRequested||this.setStartPosition(f,h),this.hls.trigger(P.AUDIO_TRACK_UPDATED,{details:r,id:a,groupId:t.groupId}),this.state===re.WAITING_TRACK&&!this.waitForCdnTuneIn(r)&&(this.state=re.IDLE),this.tick()}_handleFragmentLoadProgress(e){var t;const n=e.frag,{part:i,payload:r}=e,{config:a,trackId:l,levels:c}=this;if(!c){this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);return}const f=c[l];if(!f){this.warn("Audio track is undefined on fragment load progress");return}const u=f.details;if(!u){this.warn("Audio track details undefined on fragment load progress"),this.removeUnbufferedFrags(n.start);return}const h=a.defaultAudioCodec||f.audioCodec||"mp4a.40.2";let p=this.transmuxer;p||(p=this.transmuxer=new jA(this.hls,Me.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const g=this.initPTS[n.cc],x=(t=n.initSegment)==null?void 0:t.data;if(g!==void 0){const v=i?i.index:-1,w=v!==-1,L=new X2(n.level,n.sn,n.stats.chunkCount,r.byteLength,v,w);p.push(r,x,h,"",n,i,u.totalduration,!1,L,g)}else{this.log(`Unknown video PTS for cc ${n.cc}, waiting for video PTS before demuxing audio frag ${n.sn} of [${u.startSN} ,${u.endSN}],track ${l}`);const{cache:y}=this.waitingData=this.waitingData||{frag:n,part:i,cache:new aA,complete:!1};y.push(new Uint8Array(r)),this.state!==re.STOPPED&&(this.state=re.WAITING_INIT_PTS)}}_handleFragmentLoadComplete(e){if(this.waitingData){this.waitingData.complete=!0;return}super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=null}onBufferCreated(e,t){this.bufferFlushed=this.flushing=!1;const n=t.tracks.audio;n&&(this.mediaBuffer=n.buffer||null)}onFragLoading(e,t){!this.audioOnly&&t.frag.type===Me.MAIN&&hs(t.frag)&&(this.mainFragLoading=t,this.state===re.IDLE&&this.tick())}onFragBuffered(e,t){const{frag:n,part:i}=t;if(n.type!==Me.AUDIO){!this.audioOnly&&n.type===Me.MAIN&&!n.elementaryStreams.video&&!n.elementaryStreams.audiovideo&&(this.audioOnly=!0,this.mainFragLoading=null);return}if(this.fragContextChanged(n)){this.warn(`Fragment ${n.sn}${i?" p: "+i.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);return}if(hs(n)){this.fragPrevious=n;const r=this.switchingTrack;r&&(this.bufferedTrack=r,this.switchingTrack=null,this.hls.trigger(P.AUDIO_TRACK_SWITCHED,ct({},r)))}this.fragBufferedComplete(n,i),this.media&&this.tick()}onError(e,t){var n;if(t.fatal){this.state=re.ERROR;return}switch(t.details){case te.FRAG_GAP:case te.FRAG_PARSING_ERROR:case te.FRAG_DECRYPT_ERROR:case te.FRAG_LOAD_ERROR:case te.FRAG_LOAD_TIMEOUT:case te.KEY_LOAD_ERROR:case te.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Me.AUDIO,t);break;case te.AUDIO_TRACK_LOAD_ERROR:case te.AUDIO_TRACK_LOAD_TIMEOUT:case te.LEVEL_PARSING_ERROR:!t.levelRetry&&this.state===re.WAITING_TRACK&&((n=t.context)==null?void 0:n.type)===Qe.AUDIO_TRACK&&(this.state=re.IDLE);break;case te.BUFFER_ADD_CODEC_ERROR:case te.BUFFER_APPEND_ERROR:if(t.parent!=="audio")return;this.resetLoadingState();break;case te.BUFFER_FULL_ERROR:if(t.parent!=="audio")return;this.reduceLengthAndFlushBuffer(t)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case te.INTERNAL_EXCEPTION:this.recoverWorkerError(t);break}}onBufferFlushing(e,{type:t}){t!==mt.VIDEO&&(this.flushing=!0)}onBufferFlushed(e,{type:t}){if(t!==mt.VIDEO){this.flushing=!1,this.bufferFlushed=!0,this.state===re.ENDED&&(this.state=re.IDLE);const n=this.mediaBuffer||this.media;n&&(this.afterBufferFlushed(n,t,Me.AUDIO),this.tick())}}_handleTransmuxComplete(e){var t;const n="audio",{hls:i}=this,{remuxResult:r,chunkMeta:a}=e,l=this.getCurrentContext(a);if(!l){this.resetWhenMissingContext(a);return}const{frag:c,part:f,level:u}=l,{details:h}=u,{audio:p,text:g,id3:x,initSegment:y}=r;if(this.fragContextChanged(c)||!h){this.fragmentTracker.removeFragment(c);return}if(this.state=re.PARSING,this.switchingTrack&&p&&this.completeAudioSwitch(this.switchingTrack),y!=null&&y.tracks){const v=c.initSegment||c;this._bufferInitSegment(u,y.tracks,v,a),i.trigger(P.FRAG_PARSING_INIT_SEGMENT,{frag:v,id:n,tracks:y.tracks})}if(p){const{startPTS:v,endPTS:w,startDTS:L,endDTS:S}=p;f&&(f.elementaryStreams[mt.AUDIO]={startPTS:v,endPTS:w,startDTS:L,endDTS:S}),c.setElementaryStreamInfo(mt.AUDIO,v,w,L,S),this.bufferFragmentData(p,c,f,a)}if(x!=null&&(t=x.samples)!=null&&t.length){const v=gt({id:n,frag:c,details:h},x);i.trigger(P.FRAG_PARSING_METADATA,v)}if(g){const v=gt({id:n,frag:c,details:h},g);i.trigger(P.FRAG_PARSING_USERDATA,v)}}_bufferInitSegment(e,t,n,i){if(this.state!==re.PARSING||(t.video&&delete t.video,t.audiovideo&&delete t.audiovideo,!t.audio))return;const r=t.audio;r.id=Me.AUDIO;const a=e.audioCodec;this.log(`Init audio buffer, container:${r.container}, codecs[level/parsed]=[${a}/${r.codec}]`),a&&a.split(",").length===1&&(r.levelCodec=a),this.hls.trigger(P.BUFFER_CODECS,t);const l=r.initSegment;if(l!=null&&l.byteLength){const c={type:"audio",frag:n,part:null,chunkMeta:i,parent:n.type,data:l};this.hls.trigger(P.BUFFER_APPENDING,c)}this.tickImmediate()}loadFragment(e,t,n){const i=this.fragmentTracker.getState(e);if(this.switchingTrack||i===is.NOT_LOADED||i===is.PARTIAL){var r;if(!hs(e))this._loadInitSegment(e,t);else if((r=t.details)!=null&&r.live&&!this.initPTS[e.cc]){this.log(`Waiting for video PTS in continuity counter ${e.cc} of live stream before loading audio fragment ${e.sn} of level ${this.trackId}`),this.state=re.WAITING_INIT_PTS;const a=this.mainDetails;a&&a.fragmentStart!==t.details.fragmentStart&&Jm(t.details,a)}else super.loadFragment(e,t,n)}else this.clearTrackerIfNeeded(e)}flushAudioIfNeeded(e){if(this.media&&this.bufferedTrack){const{name:t,lang:n,assocLang:i,characteristics:r,audioCodec:a,channels:l}=this.bufferedTrack;Oo({name:t,lang:n,assocLang:i,characteristics:r,audioCodec:a,channels:l},e,bo)||(Ym(e.url,this.hls)?(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null):this.bufferedTrack=e)}}completeAudioSwitch(e){const{hls:t}=this;this.flushAudioIfNeeded(e),this.bufferedTrack=e,this.switchingTrack=null,t.trigger(P.AUDIO_TRACK_SWITCHED,ct({},e))}}class fw extends $r{constructor(e,t){super(t,e.logger),this.hls=void 0,this.canLoad=!1,this.timer=-1,this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){this.timer!==-1&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,t,n){const i=t==null?void 0:t.renditionReports;if(i){let r=-1;for(let a=0;a<i.length;a++){const l=i[a];let c;try{c=new self.URL(l.URI,t.url).href}catch(f){this.warn(`Could not construct new URL for Rendition Report: ${f}`),c=l.URI||""}if(c===e){r=a;break}else c===e.substring(0,c.length)&&(r=a)}if(r!==-1){const a=i[r],l=parseInt(a["LAST-MSN"])||(t==null?void 0:t.lastPartSn);let c=parseInt(a["LAST-PART"])||(t==null?void 0:t.lastPartIndex);if(this.hls.config.lowLatencyMode){const u=Math.min(t.age-t.partTarget,t.targetduration);c>=0&&u>t.partTarget&&(c+=1)}const f=n&&kj(n);return new Ij(l,c>=0?c:void 0,f)}}}loadPlaylist(e){this.clearTimer()}loadingPlaylist(e,t){this.clearTimer()}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}getUrlWithDirectives(e,t){if(t)try{return t.addDirectives(e)}catch(n){this.warn(`Could not construct new URL with HLS Delivery Directives: ${n}`)}return e}playlistLoaded(e,t,n){const{details:i,stats:r}=t,a=self.performance.now(),l=r.loading.first?Math.max(0,a-r.loading.first):0;i.advancedDateTime=Date.now()-l;const c=this.hls.config.timelineOffset;if(c!==i.appliedTimelineOffset){const u=Math.max(c||0,0);i.appliedTimelineOffset=u,i.fragments.forEach(h=>{h.start=h.playlistOffset+u})}if(i.live||n!=null&&n.live){const u="levelInfo"in t?t.levelInfo:t.track;if(i.reloaded(n),n&&i.fragments.length>0){IX(n,i);const L=i.playlistParsingError;if(L){this.warn(L);const S=this.hls;if(!S.config.ignorePlaylistParsingErrors){var f;const{networkDetails:j}=t;S.trigger(P.ERROR,{type:Ie.NETWORK_ERROR,details:te.LEVEL_PARSING_ERROR,fatal:!1,url:i.url,error:L,reason:L.message,level:t.level||void 0,parent:(f=i.fragments[0])==null?void 0:f.type,networkDetails:j,stats:r});return}i.playlistParsingError=null}}i.requestScheduled===-1&&(i.requestScheduled=r.loading.start);const h=this.hls.mainForwardBufferInfo,p=h?h.end-h.len:0,g=(i.edge-p)*1e3,x=eA(i,g);if(i.requestScheduled+x<a?i.requestScheduled=a:i.requestScheduled+=x,this.log(`live playlist ${e} ${i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:i.updated?"UPDATED":"MISSED"}`),!this.canLoad||!i.live)return;let y,v,w;if(i.canBlockReload&&i.endSN&&i.advanced){const L=this.hls.config.lowLatencyMode,S=i.lastPartSn,j=i.endSN,E=i.lastPartIndex,M=E!==-1,N=S===j;M?N?(v=j+1,w=L?0:E):(v=S,w=L?E+1:i.maxPartIndex):v=j+1;const I=i.age,A=I+i.ageHeader;let D=Math.min(A-i.partTarget,i.targetduration*1.5);if(D>0){if(A>i.targetduration*3)this.log(`Playlist last advanced ${I.toFixed(2)}s ago. Omitting segment and part directives.`),v=void 0,w=void 0;else if(n!=null&&n.tuneInGoal&&A-i.partTarget>n.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${n.tuneInGoal} to: ${D} with playlist age: ${i.age}`),D=0;else{const z=Math.floor(D/i.targetduration);if(v+=z,w!==void 0){const O=Math.round(D%i.targetduration/i.partTarget);w+=O}this.log(`CDN Tune-in age: ${i.ageHeader}s last advanced ${I.toFixed(2)}s goal: ${D} skip sn ${z} to part ${w}`)}i.tuneInGoal=D}if(y=this.getDeliveryDirectives(i,t.deliveryDirectives,v,w),L||!N){i.requestScheduled=a,this.loadingPlaylist(u,y);return}}else(i.canBlockReload||i.canSkipUntil)&&(y=this.getDeliveryDirectives(i,t.deliveryDirectives,v,w));y&&v!==void 0&&i.canBlockReload&&(i.requestScheduled=r.loading.first+Math.max(x-l*2,x/2)),this.scheduleLoading(u,y,i)}else this.clearTimer()}scheduleLoading(e,t,n){const i=n||e.details;if(!i){this.loadingPlaylist(e,t);return}const r=self.performance.now(),a=i.requestScheduled;if(r>=a){this.loadingPlaylist(e,t);return}const l=a-r;this.log(`reload live playlist ${e.name||e.bitrate+"bps"} in ${Math.round(l)} ms`),this.clearTimer(),this.timer=self.setTimeout(()=>this.loadingPlaylist(e,t),l)}getDeliveryDirectives(e,t,n,i){let r=kj(e);return t!=null&&t.skip&&e.deltaUpdateFailed&&(n=t.msn,i=t.part,r=J0.No),new Ij(n,i,r)}checkRetry(e){const t=e.details,n=Wm(e),i=e.errorAction,{action:r,retryCount:a=0,retryConfig:l}=i||{},c=!!i&&!!l&&(r===Es.RetryRequest||!i.resolved&&r===Es.SendAlternateToPenaltyBox);if(c){var f;if(a>=l.maxNumRetry)return!1;if(n&&(f=e.context)!=null&&f.deliveryDirectives)this.warn(`Retrying playlist loading ${a+1}/${l.maxNumRetry} after "${t}" without delivery-directives`),this.loadPlaylist();else{const u=q2(l,a);this.clearTimer(),this.timer=self.setTimeout(()=>this.loadPlaylist(),u),this.warn(`Retrying playlist loading ${a+1}/${l.maxNumRetry} after "${t}" in ${u}ms`)}e.levelRetry=!0,i.resolved=!0}return c}}function EA(s,e){if(s.length!==e.length)return!1;for(let t=0;t<s.length;t++)if(!Wu(s[t].attrs,e[t].attrs))return!1;return!0}function Wu(s,e,t){const n=s["STABLE-RENDITION-ID"];return n&&!t?n===e["STABLE-RENDITION-ID"]:!(t||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some(i=>s[i]!==e[i])}function Hb(s,e){return e.label.toLowerCase()===s.name.toLowerCase()&&(!e.language||e.language.toLowerCase()===(s.lang||"").toLowerCase())}class Bee extends fw{constructor(e){super(e,"audio-track-controller"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:e}=this;e.on(P.MANIFEST_LOADING,this.onManifestLoading,this),e.on(P.MANIFEST_PARSED,this.onManifestParsed,this),e.on(P.LEVEL_LOADING,this.onLevelLoading,this),e.on(P.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(P.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(P.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(P.MANIFEST_LOADING,this.onManifestLoading,this),e.off(P.MANIFEST_PARSED,this.onManifestParsed,this),e.off(P.LEVEL_LOADING,this.onLevelLoading,this),e.off(P.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(P.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(P.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,t){this.tracks=t.audioTracks||[]}onAudioTrackLoaded(e,t){const{id:n,groupId:i,details:r}=t,a=this.tracksInGroup[n];if(!a||a.groupId!==i){this.warn(`Audio track with id:${n} and group:${i} not found in active group ${a==null?void 0:a.groupId}`);return}const l=a.details;a.details=t.details,this.log(`Audio track ${n} "${a.name}" lang:${a.lang} group:${i} loaded [${r.startSN}-${r.endSN}]`),n===this.trackId&&this.playlistLoaded(n,t,l)}onLevelLoading(e,t){this.switchLevel(t.level)}onLevelSwitching(e,t){this.switchLevel(t.level)}switchLevel(e){const t=this.hls.levels[e];if(!t)return;const n=t.audioGroups||null,i=this.groupIds;let r=this.currentTrack;if(!n||(i==null?void 0:i.length)!==(n==null?void 0:n.length)||n!=null&&n.some(l=>(i==null?void 0:i.indexOf(l))===-1)){this.groupIds=n,this.trackId=-1,this.currentTrack=null;const l=this.tracks.filter(p=>!n||n.indexOf(p.groupId)!==-1);if(l.length)this.selectDefaultTrack&&!l.some(p=>p.default)&&(this.selectDefaultTrack=!1),l.forEach((p,g)=>{p.id=g});else if(!r&&!this.tracksInGroup.length)return;this.tracksInGroup=l;const c=this.hls.config.audioPreference;if(!r&&c){const p=Qi(c,l,bo);if(p>-1)r=l[p];else{const g=Qi(c,this.tracks);r=this.tracks[g]}}let f=this.findTrackId(r);f===-1&&r&&(f=this.findTrackId(null));const u={audioTracks:l};this.log(`Updating audio tracks, ${l.length} track(s) found in group(s): ${n==null?void 0:n.join(",")}`),this.hls.trigger(P.AUDIO_TRACKS_UPDATED,u);const h=this.trackId;if(f!==-1&&h===-1)this.setAudioTrack(f);else if(l.length&&h===-1){var a;const p=new Error(`No audio track selected for current audio group-ID(s): ${(a=this.groupIds)==null?void 0:a.join(",")} track count: ${l.length}`);this.warn(p.message),this.hls.trigger(P.ERROR,{type:Ie.MEDIA_ERROR,details:te.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:p})}}}onError(e,t){t.fatal||!t.context||t.context.type===Qe.AUDIO_TRACK&&t.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(t.context.groupId)!==-1)&&this.checkRetry(t)}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioOption(e){const t=this.hls;if(t.config.audioPreference=e,e){const n=this.allAudioTracks;if(this.selectDefaultTrack=!1,n.length){const i=this.currentTrack;if(i&&Oo(e,i,bo))return i;const r=Qi(e,this.tracksInGroup,bo);if(r>-1){const a=this.tracksInGroup[r];return this.setAudioTrack(r),a}else if(i){let a=t.loadLevel;a===-1&&(a=t.firstAutoLevel);const l=JZ(e,t.levels,n,a,bo);if(l===-1)return null;t.nextLoadLevel=l}if(e.channels||e.audioCodec){const a=Qi(e,n);if(a>-1)return n[a]}}}return null}setAudioTrack(e){const t=this.tracksInGroup;if(e<0||e>=t.length){this.warn(`Invalid audio track id: ${e}`);return}this.selectDefaultTrack=!1;const n=this.currentTrack,i=t[e],r=i.details&&!i.details.live;if(e===this.trackId&&i===n&&r||(this.log(`Switching to audio-track ${e} "${i.name}" lang:${i.lang} group:${i.groupId} channels:${i.channels}`),this.trackId=e,this.currentTrack=i,this.hls.trigger(P.AUDIO_TRACK_SWITCHING,ct({},i)),r))return;const a=this.switchParams(i.url,n==null?void 0:n.details,i.details);this.loadPlaylist(a)}findTrackId(e){const t=this.tracksInGroup;for(let n=0;n<t.length;n++){const i=t[n];if(!(this.selectDefaultTrack&&!i.default)&&(!e||Oo(e,i,bo)))return n}if(e){const{name:n,lang:i,assocLang:r,characteristics:a,audioCodec:l,channels:c}=e;for(let f=0;f<t.length;f++){const u=t[f];if(Oo({name:n,lang:i,assocLang:r,characteristics:a,audioCodec:l,channels:c},u,bo))return f}for(let f=0;f<t.length;f++){const u=t[f];if(Wu(e.attrs,u.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return f}for(let f=0;f<t.length;f++){const u=t[f];if(Wu(e.attrs,u.attrs,["LANGUAGE"]))return f}}return-1}loadPlaylist(e){super.loadPlaylist();const t=this.currentTrack;this.shouldLoadPlaylist(t)&&Ym(t.url,this.hls)&&this.scheduleLoading(t,e)}loadingPlaylist(e,t){super.loadingPlaylist(e,t);const n=e.id,i=e.groupId,r=this.getUrlWithDirectives(e.url,t),a=e.details,l=a==null?void 0:a.age;this.log(`Loading audio-track ${n} "${e.name}" lang:${e.lang} group:${i}${(t==null?void 0:t.msn)!==void 0?" at sn "+t.msn+" part "+t.part:""}${l&&a.live?" age "+l.toFixed(1)+(a.type&&" "+a.type||""):""} ${r}`),this.hls.trigger(P.AUDIO_TRACK_LOADING,{url:r,id:n,groupId:i,deliveryDirectives:t||null,track:e})}}class Uee{constructor(e){this.tracks=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.tracks=e}destroy(){this.tracks=this.queues=null}append(e,t,n){if(this.queues===null||this.tracks===null)return;const i=this.queues[t];i.push(e),i.length===1&&!n&&this.executeNext(t)}appendBlocker(e){return new Promise(t=>{const n={label:"async-blocker",execute:t,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.append(n,e)})}prependBlocker(e){return new Promise(t=>{if(this.queues){const n={label:"async-blocker-prepend",execute:t,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.queues[e].unshift(n)}})}removeBlockers(){this.queues!==null&&[this.queues.video,this.queues.audio,this.queues.audiovideo].forEach(e=>{var t;const n=(t=e[0])==null?void 0:t.label;(n==="async-blocker"||n==="async-blocker-prepend")&&(e[0].execute(),e.splice(0,1))})}unblockAudio(e){if(this.queues===null)return;this.queues.audio[0]===e&&this.shiftAndExecuteNext("audio")}executeNext(e){if(this.queues===null||this.tracks===null)return;const t=this.queues[e];if(t.length){const i=t[0];try{i.execute()}catch(r){var n;if(i.onError(r),this.queues===null||this.tracks===null)return;const a=(n=this.tracks[e])==null?void 0:n.buffer;a!=null&&a.updating||this.shiftAndExecuteNext(e)}}}shiftAndExecuteNext(e){this.queues!==null&&(this.queues[e].shift(),this.executeNext(e))}current(e){var t;return((t=this.queues)==null?void 0:t[e][0])||null}toString(){const{queues:e,tracks:t}=this;return e===null||t===null?"<destroyed>":`
${this.list("video")}
${this.list("audio")}
${this.list("audiovideo")}}`}list(e){var t,n;return(t=this.queues)!=null&&t[e]||(n=this.tracks)!=null&&n[e]?`${e}: (${this.listSbInfo(e)}) ${this.listOps(e)}`:""}listSbInfo(e){var t;const n=(t=this.tracks)==null?void 0:t[e],i=n==null?void 0:n.buffer;return i?`SourceBuffer${i.updating?" updating":""}${n.ended?" ended":""}${n.ending?" ending":""}`:"none"}listOps(e){var t;return((t=this.queues)==null?void 0:t[e].map(n=>n.label).join(", "))||""}}const m6=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/,NA="HlsJsTrackRemovedError";class $ee extends Error{constructor(e){super(e),this.name=NA}}class Vee extends $r{constructor(e,t){super("buffer-controller",e.logger),this.hls=void 0,this.fragmentTracker=void 0,this.details=null,this._objectUrl=null,this.operationQueue=null,this.bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.blockedAudioAppend=null,this.lastVideoAppendEnd=0,this.appendSource=void 0,this.transferData=void 0,this.overrides=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.sourceBuffers=[[null,null],[null,null]],this._onEndStreaming=n=>{var i;this.hls&&((i=this.mediaSource)==null?void 0:i.readyState)==="open"&&this.hls.pauseBuffering()},this._onStartStreaming=n=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=n=>{const{media:i,mediaSource:r}=this;n&&this.log("Media source opened"),!(!i||!r)&&(r.removeEventListener("sourceopen",this._onMediaSourceOpen),i.removeEventListener("emptied",this._onMediaEmptied),this.updateDuration(),this.hls.trigger(P.MEDIA_ATTACHED,{media:i,mediaSource:r}),this.mediaSource!==null&&this.checkPendingTracks())},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:n,_objectUrl:i}=this;n!==i&&this.error(`Media element src was set while attaching MediaSource (${i} > ${n})`)},this.hls=e,this.fragmentTracker=t,this.appendSource=hZ(Oa(e.config.preferManagedMediaSource)),this.initTracks(),this.registerListeners()}hasSourceTypes(){return Object.keys(this.tracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.transferData=this.overrides=void 0,this.operationQueue&&(this.operationQueue.destroy(),this.operationQueue=null),this.hls=this.fragmentTracker=null,this._onMediaSourceOpen=this._onMediaSourceClose=null,this._onMediaSourceEnded=null,this._onStartStreaming=this._onEndStreaming=null}registerListeners(){const{hls:e}=this;e.on(P.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(P.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(P.MANIFEST_LOADING,this.onManifestLoading,this),e.on(P.MANIFEST_PARSED,this.onManifestParsed,this),e.on(P.BUFFER_RESET,this.onBufferReset,this),e.on(P.BUFFER_APPENDING,this.onBufferAppending,this),e.on(P.BUFFER_CODECS,this.onBufferCodecs,this),e.on(P.BUFFER_EOS,this.onBufferEos,this),e.on(P.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(P.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(P.FRAG_PARSED,this.onFragParsed,this),e.on(P.FRAG_CHANGED,this.onFragChanged,this),e.on(P.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(P.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(P.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(P.MANIFEST_LOADING,this.onManifestLoading,this),e.off(P.MANIFEST_PARSED,this.onManifestParsed,this),e.off(P.BUFFER_RESET,this.onBufferReset,this),e.off(P.BUFFER_APPENDING,this.onBufferAppending,this),e.off(P.BUFFER_CODECS,this.onBufferCodecs,this),e.off(P.BUFFER_EOS,this.onBufferEos,this),e.off(P.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(P.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(P.FRAG_PARSED,this.onFragParsed,this),e.off(P.FRAG_CHANGED,this.onFragChanged,this),e.off(P.ERROR,this.onError,this)}transferMedia(){const{media:e,mediaSource:t}=this;if(!e)return null;const n={};if(this.operationQueue){const r=this.isUpdating();r||this.operationQueue.removeBlockers();const a=this.isQueued();(r||a)&&this.warn(`Transfering MediaSource with${a?" operations in queue":""}${r?" updating SourceBuffer(s)":""} ${this.operationQueue}`),this.operationQueue.destroy()}const i=this.transferData;return!this.sourceBufferCount&&i&&i.mediaSource===t?gt(n,i.tracks):this.sourceBuffers.forEach(r=>{const[a]=r;a&&(n[a]=gt({},this.tracks[a]),this.removeBuffer(a)),r[0]=r[1]=null}),{media:e,mediaSource:t,tracks:n}}initTracks(){const e={};this.sourceBuffers=[[null,null],[null,null]],this.tracks=e,this.resetQueue(),this.resetAppendErrors(),this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.lastVideoAppendEnd=0}onManifestLoading(){this.bufferCodecEventsTotal=0,this.details=null}onManifestParsed(e,t){var n;let i=2;(t.audio&&!t.video||!t.altAudio)&&(i=1),this.bufferCodecEventsTotal=i,this.log(`${i} bufferCodec event(s) expected.`),(n=this.transferData)!=null&&n.mediaSource&&this.sourceBufferCount&&i&&this.bufferCreated()}onMediaAttaching(e,t){const n=this.media=t.media,i=Oa(this.appendSource);if(this.transferData=this.overrides=void 0,n&&i){const r=!!t.mediaSource;(r||t.overrides)&&(this.transferData=t,this.overrides=t.overrides);const a=this.mediaSource=t.mediaSource||new i;if(this.assignMediaSource(a),r)this._objectUrl=n.src,this.attachTransferred();else{const l=this._objectUrl=self.URL.createObjectURL(a);if(this.appendSource)try{n.removeAttribute("src");const c=self.ManagedMediaSource;n.disableRemotePlayback=n.disableRemotePlayback||c&&a instanceof c,p6(n),Gee(n,l),n.load()}catch{n.src=l}else n.src=l}n.addEventListener("emptied",this._onMediaEmptied)}}assignMediaSource(e){var t,n;this.log(`${((t=this.transferData)==null?void 0:t.mediaSource)===e?"transferred":"created"} media source: ${(n=e.constructor)==null?void 0:n.name}`),e.addEventListener("sourceopen",this._onMediaSourceOpen),e.addEventListener("sourceended",this._onMediaSourceEnded),e.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(e.addEventListener("startstreaming",this._onStartStreaming),e.addEventListener("endstreaming",this._onEndStreaming))}attachTransferred(){const e=this.media,t=this.transferData;if(!t||!e)return;const n=this.tracks,i=t.tracks,r=i?Object.keys(i):null,a=r?r.length:0,l=()=>{this.media&&this.mediaSourceOpenOrEnded&&this._onMediaSourceOpen()};if(i&&r&&a){if(!this.tracksReady){this.hls.config.startFragPrefetch=!0,this.log("attachTransferred: waiting for SourceBuffer track info");return}if(this.log(`attachTransferred: (bufferCodecEventsTotal ${this.bufferCodecEventsTotal})
required tracks: ${Ct(n,(c,f)=>c==="initSegment"?void 0:f)};
transfer tracks: ${Ct(i,(c,f)=>c==="initSegment"?void 0:f)}}`),!N_(i,n)){t.mediaSource=null,t.tracks=void 0;const c=e.currentTime,f=this.details,u=Math.max(c,(f==null?void 0:f.fragments[0].start)||0);if(u-c>1){this.log(`attachTransferred: waiting for playback to reach new tracks start time ${c} -> ${u}`);return}this.warn(`attachTransferred: resetting MediaSource for incompatible tracks ("${Object.keys(i)}"->"${Object.keys(n)}") start time: ${u} currentTime: ${c}`),this.onMediaDetaching(P.MEDIA_DETACHING,{}),this.onMediaAttaching(P.MEDIA_ATTACHING,t),e.currentTime=u;return}this.transferData=void 0,r.forEach(c=>{const f=c,u=i[f];if(u){const h=u.buffer;if(h){const p=this.fragmentTracker,g=u.id;if(p.hasFragments(g)||p.hasParts(g)){const v=Ge.getBuffered(h);p.detectEvictedFragments(f,v,g,null,!0)}const x=Xx(f),y=[f,h];this.sourceBuffers[x]=y,h.updating&&this.operationQueue&&this.operationQueue.prependBlocker(f),this.trackSourceBuffer(f,u)}}}),l(),this.bufferCreated()}else this.log("attachTransferred: MediaSource w/o SourceBuffers"),l()}get mediaSourceOpenOrEnded(){var e;const t=(e=this.mediaSource)==null?void 0:e.readyState;return t==="open"||t==="ended"}onMediaDetaching(e,t){const n=!!t.transferMedia;this.transferData=this.overrides=void 0;const{media:i,mediaSource:r,_objectUrl:a}=this;if(r){if(this.log(`media source ${n?"transferring":"detaching"}`),n)this.sourceBuffers.forEach(([l])=>{l&&this.removeBuffer(l)}),this.resetQueue();else{if(this.mediaSourceOpenOrEnded){const l=r.readyState==="open";try{const c=r.sourceBuffers;for(let f=c.length;f--;)l&&c[f].abort(),r.removeSourceBuffer(c[f]);l&&r.endOfStream()}catch(c){this.warn(`onMediaDetaching: ${c.message} while calling endOfStream`)}}this.sourceBufferCount&&this.onBufferReset()}r.removeEventListener("sourceopen",this._onMediaSourceOpen),r.removeEventListener("sourceended",this._onMediaSourceEnded),r.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(r.removeEventListener("startstreaming",this._onStartStreaming),r.removeEventListener("endstreaming",this._onEndStreaming)),this.mediaSource=null,this._objectUrl=null}i&&(i.removeEventListener("emptied",this._onMediaEmptied),n||(a&&self.URL.revokeObjectURL(a),this.mediaSrc===a?(i.removeAttribute("src"),this.appendSource&&p6(i),i.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.media=null),this.hls.trigger(P.MEDIA_DETACHED,t)}onBufferReset(){this.sourceBuffers.forEach(([e])=>{e&&this.resetBuffer(e)}),this.initTracks()}resetBuffer(e){var t;const n=(t=this.tracks[e])==null?void 0:t.buffer;if(this.removeBuffer(e),n)try{var i;(i=this.mediaSource)!=null&&i.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(n)}catch(r){this.warn(`onBufferReset ${e}`,r)}delete this.tracks[e]}removeBuffer(e){this.removeBufferListeners(e),this.sourceBuffers[Xx(e)]=[null,null];const t=this.tracks[e];t&&(t.buffer=void 0)}resetQueue(){this.operationQueue&&this.operationQueue.destroy(),this.operationQueue=new Uee(this.tracks)}onBufferCodecs(e,t){const n=this.tracks,i=Object.keys(t);this.log(`BUFFER_CODECS: "${i}" (current SB count ${this.sourceBufferCount})`);const r="audiovideo"in t&&(n.audio||n.video)||n.audiovideo&&("audio"in t||"video"in t),a=!r&&this.sourceBufferCount&&this.media&&i.some(l=>!n[l]);if(r||a){this.warn(`Unsupported transition between "${Object.keys(n)}" and "${i}" SourceBuffers`);return}i.forEach(l=>{var c,f,u;const h=t[l],{id:p,codec:g,levelCodec:x,container:y,metadata:v,supplemental:w}=h;let L=n[l];const S=(c=this.transferData)==null||(f=c.tracks)==null?void 0:f[l],j=S!=null&&S.buffer?S:L,E=(j==null?void 0:j.pendingCodec)||(j==null?void 0:j.codec),M=j==null?void 0:j.levelCodec;L||(L=n[l]={buffer:void 0,listeners:[],codec:g,supplemental:w,container:y,levelCodec:x,metadata:v,id:p});const N=K0(E,M),I=N==null?void 0:N.replace(m6,"$1");let A=K0(g,x);const D=(u=A)==null?void 0:u.replace(m6,"$1");A&&N&&I!==D&&(l.slice(0,5)==="audio"&&(A=Gm(A,this.appendSource)),this.log(`switching codec ${E} to ${A}`),A!==(L.pendingCodec||L.codec)&&(L.pendingCodec=A),L.container=y,this.appendChangeType(l,y,A))}),(this.tracksReady||this.sourceBufferCount)&&(t.tracks=this.sourceBufferTracks),!this.sourceBufferCount&&this.mediaSourceOpenOrEnded&&this.checkPendingTracks()}get sourceBufferTracks(){return Object.keys(this.tracks).reduce((e,t)=>{const n=this.tracks[t];return e[t]={id:n.id,container:n.container,codec:n.codec,levelCodec:n.levelCodec},e},{})}appendChangeType(e,t,n){const i=`${t};codecs=${n}`,r={label:`change-type=${i}`,execute:()=>{const a=this.tracks[e];if(a){const l=a.buffer;l!=null&&l.changeType&&(this.log(`changing ${e} sourceBuffer type to ${i}`),l.changeType(i),a.codec=n,a.container=t)}this.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:a=>{this.warn(`Failed to change ${e} SourceBuffer type`,a)}};this.append(r,e,this.isPending(this.tracks[e]))}blockAudio(e){var t;const n=e.start,i=n+e.duration*.05;if(((t=this.fragmentTracker.getAppendedFrag(n,Me.MAIN))==null?void 0:t.gap)===!0)return;const a={label:"block-audio",execute:()=>{var l;const c=this.tracks.video;(this.lastVideoAppendEnd>i||c!=null&&c.buffer&&Ge.isBuffered(c.buffer,i)||((l=this.fragmentTracker.getAppendedFrag(i,Me.MAIN))==null?void 0:l.gap)===!0)&&(this.blockedAudioAppend=null,this.shiftAndExecuteNext("audio"))},onStart:()=>{},onComplete:()=>{},onError:l=>{this.warn("Error executing block-audio operation",l)}};this.blockedAudioAppend={op:a,frag:e},this.append(a,"audio",!0)}unblockAudio(){const{blockedAudioAppend:e,operationQueue:t}=this;e&&t&&(this.blockedAudioAppend=null,t.unblockAudio(e.op))}onBufferAppending(e,t){const{tracks:n}=this,{data:i,type:r,parent:a,frag:l,part:c,chunkMeta:f}=t,u=f.buffering[r],h=l.sn,p=self.performance.now();u.start=p;const g=l.stats.buffering,x=c?c.stats.buffering:null;g.start===0&&(g.start=p),x&&x.start===0&&(x.start=p);const y=n.audio;let v=!1;r==="audio"&&(y==null?void 0:y.container)==="audio/mpeg"&&(v=!this.lastMpegAudioChunk||f.id===1||this.lastMpegAudioChunk.sn!==f.sn,this.lastMpegAudioChunk=f);const w=this.tracks.video,L=w==null?void 0:w.buffer;if(L&&h!=="initSegment"){const E=c||l,M=this.blockedAudioAppend;if(r==="audio"&&a!=="main"&&!this.blockedAudioAppend){const I=E.start+E.duration*.05,A=L.buffered,D=this.currentOp("video");!A.length&&!D?this.blockAudio(E):!D&&!Ge.isBuffered(L,I)&&this.lastVideoAppendEnd<I&&this.blockAudio(E)}else if(r==="video"){const N=E.end;if(M){const I=M.frag.start;(N>I||N<this.lastVideoAppendEnd||Ge.isBuffered(L,I))&&this.unblockAudio()}this.lastVideoAppendEnd=N}}const S=(c||l).start,j={label:`append-${r}`,execute:()=>{if(u.executeStart=self.performance.now(),v){const E=this.tracks[r];if(E){const M=E.buffer;if(M){const N=S-M.timestampOffset;Math.abs(N)>=.1&&(this.log(`Updating audio SourceBuffer timestampOffset to ${S} (delta: ${N}) sn: ${h})`),M.timestampOffset=S)}}}this.appendExecutor(i,r)},onStart:()=>{},onComplete:()=>{const E=self.performance.now();u.executeEnd=u.end=E,g.first===0&&(g.first=E),x&&x.first===0&&(x.first=E);const M={};this.sourceBuffers.forEach(([N,I])=>{N&&(M[N]=Ge.getBuffered(I))}),this.appendErrors[r]=0,r==="audio"||r==="video"?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(P.BUFFER_APPENDED,{type:r,frag:l,part:c,chunkMeta:f,parent:l.type,timeRanges:M})},onError:E=>{var M;const N={type:Ie.MEDIA_ERROR,parent:l.type,details:te.BUFFER_APPEND_ERROR,sourceBufferName:r,frag:l,part:c,chunkMeta:f,error:E,err:E,fatal:!1},I=(M=this.media)==null?void 0:M.error;if(E.code===DOMException.QUOTA_EXCEEDED_ERR)N.details=te.BUFFER_FULL_ERROR;else if(E.code===DOMException.INVALID_STATE_ERR&&this.mediaSourceOpenOrEnded&&!I)N.errorAction=$u(!0);else if(E.name===NA&&this.sourceBufferCount===0)N.errorAction=$u(!0);else{const A=++this.appendErrors[r];this.warn(`Failed ${A}/${this.hls.config.appendErrorMaxRetry} times to append segment in "${r}" sourceBuffer (${I||"no media error"})`),(A>=this.hls.config.appendErrorMaxRetry||I)&&(N.fatal=!0)}this.hls.trigger(P.ERROR,N)}};this.append(j,r,this.isPending(this.tracks[r]))}getFlushOp(e,t,n){return this.log(`queuing "${e}" remove ${t}-${n}`),{label:"remove",execute:()=>{this.removeExecutor(e,t,n)},onStart:()=>{},onComplete:()=>{this.hls.trigger(P.BUFFER_FLUSHED,{type:e})},onError:i=>{this.warn(`Failed to remove ${t}-${n} from "${e}" SourceBuffer`,i)}}}onBufferFlushing(e,t){const{type:n,startOffset:i,endOffset:r}=t;n?this.append(this.getFlushOp(n,i,r),n):this.sourceBuffers.forEach(([a])=>{a&&this.append(this.getFlushOp(a,i,r),a)})}onFragParsed(e,t){const{frag:n,part:i}=t,r=[],a=i?i.elementaryStreams:n.elementaryStreams;a[mt.AUDIOVIDEO]?r.push("audiovideo"):(a[mt.AUDIO]&&r.push("audio"),a[mt.VIDEO]&&r.push("video"));const l=()=>{const c=self.performance.now();n.stats.buffering.end=c,i&&(i.stats.buffering.end=c);const f=i?i.stats:n.stats;this.hls.trigger(P.FRAG_BUFFERED,{frag:n,part:i,stats:f,id:n.type})};r.length===0&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${n.type} level: ${n.level} sn: ${n.sn}`),this.blockBuffers(l,r).catch(c=>{this.warn(`Fragment buffered callback ${c}`),this.stepOperationQueue(this.sourceBufferTypes)})}onFragChanged(e,t){this.trimBuffers()}get bufferedToEnd(){return this.sourceBufferCount>0&&!this.sourceBuffers.some(([e])=>{var t,n;return e&&(!((t=this.tracks[e])!=null&&t.ended)||((n=this.tracks[e])==null?void 0:n.ending))})}onBufferEos(e,t){var n;this.sourceBuffers.forEach(([a])=>{if(a){const l=this.tracks[a];(!t.type||t.type===a)&&(l.ending=!0,l.ended||(l.ended=!0,this.log(`${a} buffer reached EOS`)))}});const i=((n=this.overrides)==null?void 0:n.endOfStream)!==!1;this.sourceBufferCount>0&&!this.sourceBuffers.some(([a])=>{var l;return a&&!((l=this.tracks[a])!=null&&l.ended)})&&(i?(this.log("Queueing EOS"),this.blockUntilOpen(()=>{this.tracksEnded();const{mediaSource:a}=this;if(!a||a.readyState!=="open"){a&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${a.readyState}`);return}this.log("Calling mediaSource.endOfStream()"),a.endOfStream(),this.hls.trigger(P.BUFFERED_TO_END,void 0)})):(this.tracksEnded(),this.hls.trigger(P.BUFFERED_TO_END,void 0)))}tracksEnded(){this.sourceBuffers.forEach(([e])=>{if(e!==null){const t=this.tracks[e];t&&(t.ending=!1)}})}onLevelUpdated(e,{details:t}){t.fragments.length&&(this.details=t,this.updateDuration())}updateDuration(){const e=this.getDurationAndRange();e&&this.blockUntilOpen(()=>this.updateMediaSource(e))}onError(e,t){if(t.details===te.BUFFER_APPEND_ERROR&&t.frag){var n;const i=(n=t.errorAction)==null?void 0:n.nextAutoLevel;we(i)&&i!==t.frag.level&&this.resetAppendErrors()}}resetAppendErrors(){this.appendErrors={audio:0,video:0,audiovideo:0}}trimBuffers(){const{hls:e,details:t,media:n}=this;if(!n||t===null||!this.sourceBufferCount)return;const i=e.config,r=n.currentTime,a=t.levelTargetDuration,l=t.live&&i.liveBackBufferLength!==null?i.liveBackBufferLength:i.backBufferLength;if(we(l)&&l>=0){const c=Math.max(l,a),f=Math.floor(r/a)*a-c;this.flushBackBuffer(r,a,f)}if(we(i.frontBufferFlushThreshold)&&i.frontBufferFlushThreshold>0){const c=Math.max(i.maxBufferLength,i.frontBufferFlushThreshold),f=Math.max(c,a),u=Math.floor(r/a)*a+f;this.flushFrontBuffer(r,a,u)}}flushBackBuffer(e,t,n){this.sourceBuffers.forEach(([i,r])=>{if(r){const l=Ge.getBuffered(r);if(l.length>0&&n>l.start(0)){var a;this.hls.trigger(P.BACK_BUFFER_REACHED,{bufferEnd:n});const c=this.tracks[i];if((a=this.details)!=null&&a.live)this.hls.trigger(P.LIVE_BACK_BUFFER_REACHED,{bufferEnd:n});else if(c!=null&&c.ended){this.log(`Cannot flush ${i} back buffer while SourceBuffer is in ended state`);return}this.hls.trigger(P.BUFFER_FLUSHING,{startOffset:0,endOffset:n,type:i})}}})}flushFrontBuffer(e,t,n){this.sourceBuffers.forEach(([i,r])=>{if(r){const a=Ge.getBuffered(r),l=a.length;if(l<2)return;const c=a.start(l-1),f=a.end(l-1);if(n>c||e>=c&&e<=f)return;this.hls.trigger(P.BUFFER_FLUSHING,{startOffset:c,endOffset:1/0,type:i})}})}getDurationAndRange(){var e;const{details:t,mediaSource:n}=this;if(!t||!this.media||(n==null?void 0:n.readyState)!=="open")return null;const i=t.edge;if(t.live&&this.hls.config.liveDurationInfinity){if(t.fragments.length&&t.live&&n.setLiveSeekableRange){const f=Math.max(0,t.fragmentStart),u=Math.max(f,i);return{duration:1/0,start:f,end:u}}return{duration:1/0}}const r=(e=this.overrides)==null?void 0:e.duration;if(r)return we(r)?{duration:r}:null;const a=this.media.duration,l=we(n.duration)?n.duration:0;return i>l&&i>a||!we(a)?{duration:i}:null}updateMediaSource({duration:e,start:t,end:n}){const i=this.mediaSource;!this.media||!i||i.readyState!=="open"||(i.duration!==e&&(we(e)&&this.log(`Updating MediaSource duration to ${e.toFixed(3)}`),i.duration=e),t!==void 0&&n!==void 0&&(this.log(`MediaSource duration is set to ${i.duration}. Setting seekable range to ${t}-${n}.`),i.setLiveSeekableRange(t,n)))}get tracksReady(){const e=this.pendingTrackCount;return e>0&&(e>=this.bufferCodecEventsTotal||this.isPending(this.tracks.audiovideo))}checkPendingTracks(){const{bufferCodecEventsTotal:e,pendingTrackCount:t,tracks:n}=this;if(this.log(`checkPendingTracks (pending: ${t} codec events expected: ${e}) ${Ct(n)}`),this.tracksReady){var i;const r=(i=this.transferData)==null?void 0:i.tracks;r&&Object.keys(r).length?this.attachTransferred():this.createSourceBuffers()}}bufferCreated(){if(this.sourceBufferCount){const e={};this.sourceBuffers.forEach(([t,n])=>{if(t){const i=this.tracks[t];e[t]={buffer:n,container:i.container,codec:i.codec,supplemental:i.supplemental,levelCodec:i.levelCodec,id:i.id,metadata:i.metadata}}}),this.hls.trigger(P.BUFFER_CREATED,{tracks:e}),this.log(`SourceBuffers created. Running queue: ${this.operationQueue}`),this.sourceBuffers.forEach(([t])=>{this.executeNext(t)})}else{const e=new Error("could not create source buffer for media codec(s)");this.hls.trigger(P.ERROR,{type:Ie.MEDIA_ERROR,details:te.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:e,reason:e.message})}}createSourceBuffers(){const{tracks:e,sourceBuffers:t,mediaSource:n}=this;if(!n)throw new Error("createSourceBuffers called when mediaSource was null");for(const r in e){const a=r,l=e[a];if(this.isPending(l)){const c=this.getTrackCodec(l,a),f=`${l.container};codecs=${c}`;l.codec=c,this.log(`creating sourceBuffer(${f})${this.currentOp(a)?" Queued":""} ${Ct(l)}`);try{const u=n.addSourceBuffer(f),h=Xx(a),p=[a,u];t[h]=p,l.buffer=u}catch(u){var i;this.error(`error while trying to add sourceBuffer: ${u.message}`),this.shiftAndExecuteNext(a),(i=this.operationQueue)==null||i.removeBlockers(),delete this.tracks[a],this.hls.trigger(P.ERROR,{type:Ie.MEDIA_ERROR,details:te.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:u,sourceBufferName:a,mimeType:f,parent:l.id});return}this.trackSourceBuffer(a,l)}}this.bufferCreated()}getTrackCodec(e,t){const n=e.supplemental;let i=e.codec;n&&(t==="video"||t==="audiovideo")&&Ob(n,"video")&&(i=RZ(i,n));const r=K0(i,e.levelCodec);return r?t.slice(0,5)==="audio"?Gm(r,this.appendSource):r:""}trackSourceBuffer(e,t){const n=t.buffer;if(!n)return;const i=this.getTrackCodec(t,e);this.tracks[e]={buffer:n,codec:i,container:t.container,levelCodec:t.levelCodec,supplemental:t.supplemental,metadata:t.metadata,id:t.id,listeners:[]},this.removeBufferListeners(e),this.addBufferListener(e,"updatestart",this.onSBUpdateStart),this.addBufferListener(e,"updateend",this.onSBUpdateEnd),this.addBufferListener(e,"error",this.onSBUpdateError),this.appendSource&&this.addBufferListener(e,"bufferedchange",(r,a)=>{const l=a.removedRanges;l!=null&&l.length&&this.hls.trigger(P.BUFFER_FLUSHED,{type:r})})}get mediaSrc(){var e,t;const n=((e=this.media)==null||(t=e.querySelector)==null?void 0:t.call(e,"source"))||this.media;return n==null?void 0:n.src}onSBUpdateStart(e){const t=this.currentOp(e);t&&t.onStart()}onSBUpdateEnd(e){var t;if(((t=this.mediaSource)==null?void 0:t.readyState)==="closed"){this.resetBuffer(e);return}const n=this.currentOp(e);n&&(n.onComplete(),this.shiftAndExecuteNext(e))}onSBUpdateError(e,t){var n;const i=new Error(`${e} SourceBuffer error. MediaSource readyState: ${(n=this.mediaSource)==null?void 0:n.readyState}`);this.error(`${i}`,t),this.hls.trigger(P.ERROR,{type:Ie.MEDIA_ERROR,details:te.BUFFER_APPENDING_ERROR,sourceBufferName:e,error:i,fatal:!1});const r=this.currentOp(e);r&&r.onError(i)}removeExecutor(e,t,n){const{media:i,mediaSource:r}=this,a=this.tracks[e],l=a==null?void 0:a.buffer;if(!i||!r||!l){this.warn(`Attempting to remove from the ${e} SourceBuffer, but it does not exist`),this.shiftAndExecuteNext(e);return}const c=we(i.duration)?i.duration:1/0,f=we(r.duration)?r.duration:1/0,u=Math.max(0,t),h=Math.min(n,c,f);h>u&&(!a.ending||a.ended)?(a.ended=!1,this.log(`Removing [${u},${h}] from the ${e} SourceBuffer`),l.remove(u,h)):this.shiftAndExecuteNext(e)}appendExecutor(e,t){const n=this.tracks[t],i=n==null?void 0:n.buffer;if(!i)throw new $ee(`Attempting to append to the ${t} SourceBuffer, but it does not exist`);n.ending=!1,n.ended=!1,i.appendBuffer(e)}blockUntilOpen(e){if(this.isUpdating()||this.isQueued())this.blockBuffers(e).catch(t=>{this.warn(`SourceBuffer blocked callback ${t}`),this.stepOperationQueue(this.sourceBufferTypes)});else try{e()}catch(t){this.warn(`Callback run without blocking ${this.operationQueue} ${t}`)}}isUpdating(){return this.sourceBuffers.some(([e,t])=>e&&t.updating)}isQueued(){return this.sourceBuffers.some(([e])=>e&&!!this.currentOp(e))}isPending(e){return!!e&&!e.buffer}blockBuffers(e,t=this.sourceBufferTypes){if(!t.length)return this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(e);const{operationQueue:n}=this,i=t.map(a=>this.appendBlocker(a));return t.length>1&&!!this.blockedAudioAppend&&this.unblockAudio(),Promise.all(i).then(a=>{n===this.operationQueue&&(e(),this.stepOperationQueue(this.sourceBufferTypes))})}stepOperationQueue(e){e.forEach(t=>{var n;const i=(n=this.tracks[t])==null?void 0:n.buffer;!i||i.updating||this.shiftAndExecuteNext(t)})}append(e,t,n){this.operationQueue&&this.operationQueue.append(e,t,n)}appendBlocker(e){if(this.operationQueue)return this.operationQueue.appendBlocker(e)}currentOp(e){return this.operationQueue?this.operationQueue.current(e):null}executeNext(e){e&&this.operationQueue&&this.operationQueue.executeNext(e)}shiftAndExecuteNext(e){this.operationQueue&&this.operationQueue.shiftAndExecuteNext(e)}get pendingTrackCount(){return Object.keys(this.tracks).reduce((e,t)=>e+(this.isPending(this.tracks[t])?1:0),0)}get sourceBufferCount(){return this.sourceBuffers.reduce((e,[t])=>e+(t?1:0),0)}get sourceBufferTypes(){return this.sourceBuffers.map(([e])=>e).filter(e=>!!e)}addBufferListener(e,t,n){const i=this.tracks[e];if(!i)return;const r=i.buffer;if(!r)return;const a=n.bind(this,e);i.listeners.push({event:t,listener:a}),r.addEventListener(t,a)}removeBufferListeners(e){const t=this.tracks[e];if(!t)return;const n=t.buffer;n&&(t.listeners.forEach(i=>{n.removeEventListener(i.event,i.listener)}),t.listeners.length=0)}}function p6(s){const e=s.querySelectorAll("source");[].slice.call(e).forEach(t=>{s.removeChild(t)})}function Gee(s,e){const t=self.document.createElement("source");t.type="video/mp4",t.src=e,s.appendChild(t)}function Xx(s){return s==="audio"?1:0}class uw{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:e}=this;e.on(P.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(P.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(P.MANIFEST_PARSED,this.onManifestParsed,this),e.on(P.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(P.BUFFER_CODECS,this.onBufferCodecs,this),e.on(P.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:e}=this;e.off(P.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(P.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(P.MANIFEST_PARSED,this.onManifestParsed,this),e.off(P.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(P.BUFFER_CODECS,this.onBufferCodecs,this),e.off(P.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,t){const n=this.hls.levels[t.droppedLevel];this.isLevelAllowed(n)&&this.restrictedLevels.push({bitrate:n.bitrate,height:n.height,width:n.width})}onMediaAttaching(e,t){this.media=t.media instanceof HTMLVideoElement?t.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(e,t){const n=this.hls;this.restrictedLevels=[],this.firstLevel=t.firstLevel,n.config.capLevelToPlayerSize&&t.video&&this.startCapping()}onLevelsUpdated(e,t){this.timer&&we(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(e,t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()}onMediaDetaching(){this.stopCapping(),this.media=null}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0){this.clientRect=null;return}const e=this.hls.levels;if(e.length){const t=this.hls,n=this.getMaxLevel(e.length-1);n!==this.autoLevelCapping&&t.logger.log(`Setting autoLevelCapping to ${n}: ${e[n].height}p@${e[n].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),t.autoLevelCapping=n,t.autoLevelEnabled&&t.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}}getMaxLevel(e){const t=this.hls.levels;if(!t.length)return-1;const n=t.filter((i,r)=>this.isLevelAllowed(i)&&r<=e);return this.clientRect=null,uw.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const e=this.media,t={width:0,height:0};if(e){const n=e.getBoundingClientRect();t.width=n.width,t.height=n.height,!t.width&&!t.height&&(t.width=n.right-n.left||e.width||0,t.height=n.bottom-n.top||e.height||0)}return this.clientRect=t,t}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch{}return Math.min(e,this.hls.config.maxDevicePixelRatio)}isLevelAllowed(e){return!this.restrictedLevels.some(n=>e.bitrate===n.bitrate&&e.width===n.width&&e.height===n.height)}static getMaxLevelByMediaSize(e,t,n){if(!(e!=null&&e.length))return-1;const i=(l,c)=>c?l.width!==c.width||l.height!==c.height:!0;let r=e.length-1;const a=Math.max(t,n);for(let l=0;l<e.length;l+=1){const c=e[l];if((c.width>=a||c.height>=a)&&i(c,e[l+1])){r=l;break}}return r}}const Hee={MANIFEST:"m",AUDIO:"a",VIDEO:"v",MUXED:"av",INIT:"i",CAPTION:"c",TIMED_TEXT:"tt",KEY:"k",OTHER:"o"},en=Hee,Yee={HLS:"h"},Wee=Yee,Qee="CMCD-Object",Kee="CMCD-Request",Jee="CMCD-Session",qee="CMCD-Status",$f={OBJECT:Qee,REQUEST:Kee,SESSION:Jee,STATUS:qee},Zee={[$f.OBJECT]:["br","d","ot","tb"],[$f.REQUEST]:["bl","dl","mtp","nor","nrr","su"],[$f.SESSION]:["cid","pr","sf","sid","st","v"],[$f.STATUS]:["bs","rtp"]};class hc{constructor(e,t){Array.isArray(e)&&(e=e.map(n=>n instanceof hc?n:new hc(n))),this.value=e,this.params=t}}const Xee="Dict";function ete(s){return Array.isArray(s)?JSON.stringify(s):s instanceof Map?"Map{}":s instanceof Set?"Set{}":typeof s=="object"?JSON.stringify(s):String(s)}function tte(s,e,t,n){return new Error(`failed to ${s} "${ete(e)}" as ${t}`,{cause:n})}function cr(s,e,t){return tte("serialize",s,e,t)}class MA{constructor(e){this.description=e}}const g6="Bare Item",ste="Boolean";function nte(s){if(typeof s!="boolean")throw cr(s,ste);return s?"?1":"?0"}const ite="Byte Sequence";function rte(s){if(ArrayBuffer.isView(s)===!1)throw cr(s,ite);return`:${eee(s)}:`}const ate="Integer";function ote(s){return s<-999999999999999||999999999999999<s}function kA(s){if(ote(s))throw cr(s,ate);return s.toString()}function lte(s){return`@${kA(s.getTime()/1e3)}`}const cte="Decimal";function fte(s){const e=hA(s,3);if(Math.floor(Math.abs(e)).toString().length>12)throw cr(s,cte);const t=e.toString();return t.includes(".")?t:`${t}.0`}const ute="String",dte=/[\x00-\x1f\x7f]+/;function hte(s){if(dte.test(s))throw cr(s,ute);return`"${s.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}function mte(s){return s.description||s.toString().slice(7,-1)}const pte="Token";function x6(s){const e=mte(s);if(/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(e)===!1)throw cr(e,pte);return e}function Yb(s){switch(typeof s){case"number":if(!we(s))throw cr(s,g6);return Number.isInteger(s)?kA(s):fte(s);case"string":return hte(s);case"symbol":return x6(s);case"boolean":return nte(s);case"object":if(s instanceof Date)return lte(s);if(s instanceof Uint8Array)return rte(s);if(s instanceof MA)return x6(s);default:throw cr(s,g6)}}const gte="Key";function Wb(s){if(/^[a-z*][a-z0-9\-_.*]*$/.test(s)===!1)throw cr(s,gte);return s}function dw(s){return s==null?"":Object.entries(s).map(([e,t])=>t===!0?`;${Wb(e)}`:`;${Wb(e)}=${Yb(t)}`).join("")}function IA(s){return s instanceof hc?`${Yb(s.value)}${dw(s.params)}`:Yb(s)}function xte(s){return`(${s.value.map(IA).join(" ")})${dw(s.params)}`}function yte(s,e={whitespace:!0}){if(typeof s!="object")throw cr(s,Xee);const t=s instanceof Map?s.entries():Object.entries(s),n=e!=null&&e.whitespace?" ":"";return Array.from(t).map(([i,r])=>{r instanceof hc||(r=new hc(r));let a=Wb(i);return r.value===!0?a+=dw(r.params):(a+="=",Array.isArray(r.value)?a+=xte(r):a+=IA(r)),a}).join(`,${n}`)}function bte(s,e){return yte(s,e)}function vte(s){return s==="ot"||s==="sf"||s==="st"}function wte(s){return typeof s=="number"?we(s):s!=null&&s!==""&&s!==!1}const X0=s=>Math.round(s),Ste=(s,e)=>(e!=null&&e.baseUrl&&(s=tee(s,e.baseUrl)),encodeURIComponent(s)),d0=s=>X0(s/100)*100,Lte={br:X0,d:X0,bl:d0,dl:d0,mtp:d0,nor:Ste,rtp:d0,tb:X0};function Cte(s,e){const t={};if(s==null||typeof s!="object")return t;const n=Object.keys(s).sort(),i=gt({},Lte,e==null?void 0:e.formatters),r=e==null?void 0:e.filter;return n.forEach(a=>{if(r!=null&&r(a))return;let l=s[a];const c=i[a];c&&(l=c(l,e)),!(a==="v"&&l===1)&&(a=="pr"&&l===1||wte(l)&&(vte(a)&&typeof l=="string"&&(l=new MA(l)),t[a]=l))}),t}function _A(s,e={}){return s?bte(Cte(s,e),gt({whitespace:!1},e)):""}function Tte(s,e={}){const t={};if(!s)return t;const n=Object.entries(s),i=Object.entries(Zee).concat(Object.entries((e==null?void 0:e.customHeaderMap)||{})),r=n.reduce((a,l)=>{var c,f;const[u,h]=l,p=((c=i.find(g=>g[1].includes(u)))===null||c===void 0?void 0:c[0])||$f.REQUEST;return(f=a[p])!==null&&f!==void 0||(a[p]={}),a[p][u]=h,a},{});return Object.entries(r).reduce((a,[l,c])=>(a[l]=_A(c,e),a),t)}function jte(s,e,t){return gt(s,Tte(e,t))}const Ete="CMCD";function Nte(s,e={}){if(!s)return"";const t=_A(s,e);return`${Ete}=${encodeURIComponent(t)}`}const y6=/CMCD=[^&#]+/;function Mte(s,e,t){const n=Nte(e,t);if(!n)return s;if(y6.test(s))return s.replace(y6,n);const i=s.includes("?")?"&":"?";return`${s}${i}${n}`}class kte{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=i=>{try{this.apply(i,{ot:en.MANIFEST,su:!this.initialized})}catch(r){this.hls.logger.warn("Could not generate manifest CMCD data.",r)}},this.applyFragmentData=i=>{try{const{frag:r,part:a}=i,l=this.hls.levels[r.level],c=this.getObjectType(r),f={d:(a||r).duration*1e3,ot:c};(c===en.VIDEO||c===en.AUDIO||c==en.MUXED)&&(f.br=l.bitrate/1e3,f.tb=this.getTopBandwidth(c)/1e3,f.bl=this.getBufferLength(c));const u=a?this.getNextPart(a):this.getNextFrag(r);u!=null&&u.url&&u.url!==r.url&&(f.nor=u.url),this.apply(i,f)}catch(r){this.hls.logger.warn("Could not generate segment CMCD data.",r)}},this.hls=e;const t=this.config=e.config,{cmcd:n}=t;n!=null&&(t.pLoader=this.createPlaylistLoader(),t.fLoader=this.createFragmentLoader(),this.sid=n.sessionId||e.sessionId,this.cid=n.contentId,this.useHeaders=n.useHeaders===!0,this.includeKeys=n.includeKeys,this.registerListeners())}registerListeners(){const e=this.hls;e.on(P.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(P.MEDIA_DETACHED,this.onMediaDetached,this),e.on(P.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const e=this.hls;e.off(P.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(P.MEDIA_DETACHED,this.onMediaDetached,this),e.off(P.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=this.media=null}onMediaAttached(e,t){this.media=t.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,t){var n,i;this.audioBuffer=(n=t.tracks.audio)==null?void 0:n.buffer,this.videoBuffer=(i=t.tracks.video)==null?void 0:i.buffer}createData(){var e;return{v:1,sf:Wee.HLS,sid:this.sid,cid:this.cid,pr:(e=this.media)==null?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e,t={}){gt(t,this.createData());const n=t.ot===en.INIT||t.ot===en.VIDEO||t.ot===en.MUXED;this.starved&&n&&(t.bs=!0,t.su=!0,this.starved=!1),t.su==null&&(t.su=this.buffering);const{includeKeys:i}=this;i&&(t=Object.keys(t).reduce((a,l)=>(i.includes(l)&&(a[l]=t[l]),a),{}));const r={baseUrl:e.url};this.useHeaders?(e.headers||(e.headers={}),jte(e.headers,t,r)):e.url=Mte(e.url,t,r)}getNextFrag(e){var t;const n=(t=this.hls.levels[e.level])==null?void 0:t.details;if(n){const i=e.sn-n.startSN;return n.fragments[i+1]}}getNextPart(e){var t,n;const{index:i,fragment:r}=e,a=(t=this.hls.levels[r.level])==null||(n=t.details)==null?void 0:n.partList;if(a){const{sn:l}=r;for(let c=a.length-1;c>=0;c--){const f=a[c];if(f.index===i&&f.fragment.sn===l)return a[c+1]}}}getObjectType(e){const{type:t}=e;if(t==="subtitle")return en.TIMED_TEXT;if(e.sn==="initSegment")return en.INIT;if(t==="audio")return en.AUDIO;if(t==="main")return this.hls.audioTracks.length?en.VIDEO:en.MUXED}getTopBandwidth(e){let t=0,n;const i=this.hls;if(e===en.AUDIO)n=i.audioTracks;else{const r=i.maxAutoLevel,a=r>-1?r+1:i.levels.length;n=i.levels.slice(0,a)}for(const r of n)r.bitrate>t&&(t=r.bitrate);return t>0?t:NaN}getBufferLength(e){const t=this.media,n=e===en.AUDIO?this.audioBuffer:this.videoBuffer;return!n||!t?NaN:Ge.bufferInfo(n,t.currentTime,this.config.maxBufferHole).len*1e3}createPlaylistLoader(){const{pLoader:e}=this.config,t=this.applyPlaylistData,n=e||this.config.loader;return class{constructor(r){this.loader=void 0,this.loader=new n(r)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(r,a,l){t(r),this.loader.load(r,a,l)}}}createFragmentLoader(){const{fLoader:e}=this.config,t=this.applyFragmentData,n=e||this.config.loader;return class{constructor(r){this.loader=void 0,this.loader=new n(r)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(r,a,l){t(r),this.loader.load(r,a,l)}}}}const Ite=3e5;class _te extends $r{constructor(e){super("content-steering",e.logger),this.hls=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this._pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.registerListeners()}registerListeners(){const e=this.hls;e.on(P.MANIFEST_LOADING,this.onManifestLoading,this),e.on(P.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(P.MANIFEST_PARSED,this.onManifestParsed,this),e.on(P.ERROR,this.onError,this)}unregisterListeners(){const e=this.hls;e&&(e.off(P.MANIFEST_LOADING,this.onManifestLoading,this),e.off(P.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(P.MANIFEST_PARSED,this.onManifestParsed,this),e.off(P.ERROR,this.onError,this))}pathways(){return(this.levels||[]).reduce((e,t)=>(e.indexOf(t.pathwayId)===-1&&e.push(t.pathwayId),e),[])}get pathwayPriority(){return this._pathwayPriority}set pathwayPriority(e){this.updatePathwayPriority(e)}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const e=this.timeToLoad*1e3-(performance.now()-this.updated);if(e>0){this.scheduleRefresh(this.uri,e);return}}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){this.reloadTimer!==-1&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){const t=this.levels;t&&(this.levels=t.filter(n=>n!==e))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,t){const{contentSteering:n}=t;n!==null&&(this.pathwayId=n.pathwayId,this.uri=n.uri,this.started&&this.startLoad())}onManifestParsed(e,t){this.audioTracks=t.audioTracks,this.subtitleTracks=t.subtitleTracks}onError(e,t){const{errorAction:n}=t;if((n==null?void 0:n.action)===Es.SendAlternateToPenaltyBox&&n.flags===yi.MoveAllAlternatesMatchingHost){const i=this.levels;let r=this._pathwayPriority,a=this.pathwayId;if(t.context){const{groupId:l,pathwayId:c,type:f}=t.context;l&&i?a=this.getPathwayForGroupId(l,f,a):c&&(a=c)}a in this.penalizedPathways||(this.penalizedPathways[a]=performance.now()),!r&&i&&(r=this.pathways()),r&&r.length>1&&(this.updatePathwayPriority(r),n.resolved=this.pathwayId!==a),n.resolved||this.warn(`Could not resolve ${t.details} ("${t.error.message}") with content-steering for Pathway: ${a} levels: ${i&&i.length} priorities: ${Ct(r)} penalized: ${Ct(this.penalizedPathways)}`)}}filterParsedLevels(e){this.levels=e;let t=this.getLevelsForPathway(this.pathwayId);if(t.length===0){const n=e[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${n}"`),t=this.getLevelsForPathway(n),this.pathwayId=n}return t.length!==e.length&&this.log(`Found ${t.length}/${e.length} levels in Pathway "${this.pathwayId}"`),t}getLevelsForPathway(e){return this.levels===null?[]:this.levels.filter(t=>e===t.pathwayId)}updatePathwayPriority(e){this._pathwayPriority=e;let t;const n=this.penalizedPathways,i=performance.now();Object.keys(n).forEach(r=>{i-n[r]>Ite&&delete n[r]});for(let r=0;r<e.length;r++){const a=e[r];if(a in n)continue;if(a===this.pathwayId)return;const l=this.hls.nextLoadLevel,c=this.hls.levels[l];if(t=this.getLevelsForPathway(a),t.length>0){this.log(`Setting Pathway to "${a}"`),this.pathwayId=a,nA(t),this.hls.trigger(P.LEVELS_UPDATED,{levels:t});const f=this.hls.levels[l];c&&f&&this.levels&&(f.attrs["STABLE-VARIANT-ID"]!==c.attrs["STABLE-VARIANT-ID"]&&f.bitrate!==c.bitrate&&this.log(`Unstable Pathways change from bitrate ${c.bitrate} to ${f.bitrate}`),this.hls.nextLoadLevel=l);break}}}getPathwayForGroupId(e,t,n){const i=this.getLevelsForPathway(n).concat(this.levels||[]);for(let r=0;r<i.length;r++)if(t===Qe.AUDIO_TRACK&&i[r].hasAudioGroup(e)||t===Qe.SUBTITLE_TRACK&&i[r].hasSubtitleGroup(e))return i[r].pathwayId;return n}clonePathways(e){const t=this.levels;if(!t)return;const n={},i={};e.forEach(r=>{const{ID:a,"BASE-ID":l,"URI-REPLACEMENT":c}=r;if(t.some(u=>u.pathwayId===a))return;const f=this.getLevelsForPathway(l).map(u=>{const h=new Mt(u.attrs);h["PATHWAY-ID"]=a;const p=h.AUDIO&&`${h.AUDIO}_clone_${a}`,g=h.SUBTITLES&&`${h.SUBTITLES}_clone_${a}`;p&&(n[h.AUDIO]=p,h.AUDIO=p),g&&(i[h.SUBTITLES]=g,h.SUBTITLES=g);const x=AA(u.uri,h["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",c),y=new Uu({attrs:h,audioCodec:u.audioCodec,bitrate:u.bitrate,height:u.height,name:u.name,url:x,videoCodec:u.videoCodec,width:u.width});if(u.audioGroups)for(let v=1;v<u.audioGroups.length;v++)y.addGroupId("audio",`${u.audioGroups[v]}_clone_${a}`);if(u.subtitleGroups)for(let v=1;v<u.subtitleGroups.length;v++)y.addGroupId("text",`${u.subtitleGroups[v]}_clone_${a}`);return y});t.push(...f),b6(this.audioTracks,n,c,a),b6(this.subtitleTracks,i,c,a)})}loadSteeringManifest(e){const t=this.hls.config,n=t.loader;this.loader&&this.loader.destroy(),this.loader=new n(t);let i;try{i=new self.URL(e)}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest URI: ${e}`);return}if(i.protocol!=="data:"){const u=(this.hls.bandwidthEstimate||t.abrEwmaDefaultEstimate)|0;i.searchParams.set("_HLS_pathway",this.pathwayId),i.searchParams.set("_HLS_throughput",""+u)}const r={responseType:"json",url:i.href},a=t.steeringManifestLoadPolicy.default,l=a.errorRetry||a.timeoutRetry||{},c={loadPolicy:a,timeout:a.maxLoadTimeMs,maxRetry:l.maxNumRetry||0,retryDelay:l.retryDelayMs||0,maxRetryDelay:l.maxRetryDelayMs||0},f={onSuccess:(u,h,p,g)=>{this.log(`Loaded steering manifest: "${i}"`);const x=u.data;if((x==null?void 0:x.VERSION)!==1){this.log(`Steering VERSION ${x.VERSION} not supported!`);return}this.updated=performance.now(),this.timeToLoad=x.TTL;const{"RELOAD-URI":y,"PATHWAY-CLONES":v,"PATHWAY-PRIORITY":w}=x;if(y)try{this.uri=new self.URL(y,i).href}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest RELOAD-URI: ${y}`);return}this.scheduleRefresh(this.uri||p.url),v&&this.clonePathways(v);const L={steeringManifest:x,url:i.toString()};this.hls.trigger(P.STEERING_MANIFEST_LOADED,L),w&&this.updatePathwayPriority(w)},onError:(u,h,p,g)=>{if(this.log(`Error loading steering manifest: ${u.code} ${u.text} (${h.url})`),this.stopLoad(),u.code===410){this.enabled=!1,this.log(`Steering manifest ${h.url} no longer available`);return}let x=this.timeToLoad*1e3;if(u.code===429){const y=this.loader;if(typeof(y==null?void 0:y.getResponseHeader)=="function"){const v=y.getResponseHeader("Retry-After");v&&(x=parseFloat(v)*1e3)}this.log(`Steering manifest ${h.url} rate limited`);return}this.scheduleRefresh(this.uri||h.url,x)},onTimeout:(u,h,p)=>{this.log(`Timeout loading steering manifest (${h.url})`),this.scheduleRefresh(this.uri||h.url)}};this.log(`Requesting steering manifest: ${i}`),this.loader.load(r,c,f)}scheduleRefresh(e,t=this.timeToLoad*1e3){this.clearTimeout(),this.reloadTimer=self.setTimeout(()=>{var n;const i=(n=this.hls)==null?void 0:n.media;if(i&&!i.ended){this.loadSteeringManifest(e);return}this.scheduleRefresh(e,this.timeToLoad*1e3)},t)}}function b6(s,e,t,n){s&&Object.keys(e).forEach(i=>{const r=s.filter(a=>a.groupId===i).map(a=>{const l=gt({},a);return l.details=void 0,l.attrs=new Mt(l.attrs),l.url=l.attrs.URI=AA(a.url,a.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",t),l.groupId=l.attrs["GROUP-ID"]=e[i],l.attrs["PATHWAY-ID"]=n,l});s.push(...r)})}function AA(s,e,t,n){const{HOST:i,PARAMS:r,[t]:a}=n;let l;e&&(l=a==null?void 0:a[e],l&&(s=l));const c=new self.URL(s);return i&&!l&&(c.host=i),r&&Object.keys(r).sort().forEach(f=>{f&&c.searchParams.set(f,r[f])}),c.href}class Jl extends $r{constructor(e){super("eme",e.logger),this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=Jl.CDMCleanupPromise?[Jl.CDMCleanupPromise]:[],this.onMediaEncrypted=t=>{const{initDataType:n,initData:i}=t,r=`"${t.type}" event: init data type: "${n}"`;if(this.debug(r),i!==null){if(!this.keyFormatPromise){let a=Object.keys(this.keySystemAccessPromises);a.length||(a=l0(this.config));const l=a.map(Hx).filter(c=>!!c);this.keyFormatPromise=this.getKeyFormatPromise(l)}this.keyFormatPromise.then(a=>{const l=Vx(a);let c,f;if(n==="sinf"){if(l!==ft.FAIRPLAY){this.warn(`Ignoring unexpected "${t.type}" event with init data type: "${n}" for selected key-system ${l}`);return}const x=ns(new Uint8Array(i));try{const y=tw(JSON.parse(x).sinf),v=P_(y);if(!v)throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc");c=new Uint8Array(v.subarray(8,24)),f=ft.FAIRPLAY}catch(y){this.warn(`${r} Failed to parse sinf: ${y}`);return}}else{if(l!==ft.WIDEVINE&&l!==ft.PLAYREADY){this.warn(`Ignoring unexpected "${t.type}" event with init data type: "${n}" for selected key-system ${l}`);return}const x=_Z(i),y=x.filter(w=>!!w.systemId&&Gx(w.systemId)===l);y.length>1&&this.warn(`${r} Using first of ${y.length} pssh found for selected key-system ${l}`);const v=y[0];if(!v){x.length===0||x.some(w=>!w.systemId)?this.warn(`${r} contains incomplete or invalid pssh data`):this.log(`ignoring ${r} for ${x.map(w=>Gx(w.systemId)).join(",")} pssh data in favor of playlist keys`);return}if(f=Gx(v.systemId),v.version===0&&v.data)if(f===ft.WIDEVINE){const w=v.data.length-22;c=new Uint8Array(v.data.subarray(w,w+16))}else f===ft.PLAYREADY&&(c=J_(v.data))}if(!f||!c)return;const u=$i.hexDump(c),{keyIdToKeySessionPromise:h,mediaKeySessions:p}=this;let g=h[u];for(let x=0;x<p.length;x++){const y=p[x],v=y.decryptdata;if(!v.keyId)continue;const w=$i.hexDump(v.keyId);if(u===w||v.uri.replace(/-/g,"").indexOf(u)!==-1){if(g=h[w],v.pssh)break;delete h[w],v.pssh=new Uint8Array(i),v.keyId=c,g=h[u]=g.then(()=>this.generateRequestWithPreferredKeySession(y,n,i,"encrypted-event-key-match")),g.catch(L=>this.handleError(L));break}}if(!g){if(f!==l){this.log(`Ignoring "${t.type}" event with ${f} init data for selected key-system ${l}`);return}g=h[u]=this.getKeySystemSelectionPromise([f]).then(({keySystem:x,mediaKeys:y})=>{var v;this.throwIfDestroyed();const w=new Vu("ISO-23001-7",u,(v=Hx(x))!=null?v:"");return w.pssh=new Uint8Array(i),w.keyId=c,this.attemptSetMediaKeys(x,y).then(()=>{this.throwIfDestroyed();const L=this.createMediaKeySessionContext({decryptdata:w,keySystem:x,mediaKeys:y});return this.generateRequestWithPreferredKeySession(L,n,i,"encrypted-event-no-match")})}),g.catch(x=>this.handleError(x))}})}},this.onWaitingForKey=t=>{this.log(`"${t.type}" event`)},this.hls=e,this.config=e.config,this.registerListeners()}destroy(){const e=this.media;this.unregisterListeners(),this.onMediaDetached(),this._clear(e);const t=this.config;t.requestMediaKeySystemAccessFunc=null,t.licenseXhrSetup=t.licenseResponseCallback=void 0,t.drmSystems=t.drmSystemOptions={},this.hls=this.config=this.keyIdToKeySessionPromise=null,this.onMediaEncrypted=this.onWaitingForKey=null}registerListeners(){this.hls.on(P.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(P.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(P.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(P.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(P.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(P.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(P.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(P.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(e){const{drmSystems:t,widevineLicenseUrl:n}=this.config,i=t[e];if(i)return i.licenseUrl;if(e===ft.WIDEVINE&&n)return n}getLicenseServerUrlOrThrow(e){const t=this.getLicenseServerUrl(e);if(t===void 0)throw new Error(`no license server URL configured for key-system "${e}"`);return t}getServerCertificateUrl(e){const{drmSystems:t}=this.config,n=t[e];if(n)return n.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const t=this.hls.levels,n=(a,l,c)=>!!a&&c.indexOf(a)===l,i=t.map(a=>a.audioCodec).filter(n),r=t.map(a=>a.videoCodec).filter(n);return i.length+r.length===0&&r.push("avc1.42e01e"),new Promise((a,l)=>{const c=f=>{const u=f.shift();this.getMediaKeysPromise(u,i,r).then(h=>a({keySystem:u,mediaKeys:h})).catch(h=>{f.length?c(f):h instanceof Gn?l(h):l(new Gn({type:Ie.KEY_SYSTEM_ERROR,details:te.KEY_SYSTEM_NO_ACCESS,error:h,fatal:!0},h.message))})};c(e)})}requestMediaKeySystemAccess(e,t){const{requestMediaKeySystemAccessFunc:n}=this.config;if(typeof n!="function"){let i=`Configured requestMediaKeySystemAccess is not a function ${n}`;return K_===null&&self.location.protocol==="http:"&&(i=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(i))}return n(e,t)}getMediaKeysPromise(e,t,n){const i=LX(e,t,n,this.config.drmSystemOptions),r=this.keySystemAccessPromises[e];let a=r==null?void 0:r.keySystemAccess;if(!a){this.log(`Requesting encrypted media "${e}" key-system access with config: ${Ct(i)}`),a=this.requestMediaKeySystemAccess(e,i);const l=this.keySystemAccessPromises[e]={keySystemAccess:a};return a.catch(c=>{this.log(`Failed to obtain access to key-system "${e}": ${c}`)}),a.then(c=>{this.log(`Access for key-system "${c.keySystem}" obtained`);const f=this.fetchServerCertificate(e);return this.log(`Create media-keys for "${e}"`),l.mediaKeys=c.createMediaKeys().then(u=>(this.log(`Media-keys created for "${e}"`),f.then(h=>h?this.setMediaKeysServerCertificate(u,e,h):u))),l.mediaKeys.catch(u=>{this.error(`Failed to create media-keys for "${e}"}: ${u}`)}),l.mediaKeys})}return a.then(()=>r.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:t,mediaKeys:n}){this.log(`Creating key-system session "${t}" keyId: ${$i.hexDump(e.keyId||[])}`);const i=n.createSession(),r={decryptdata:e,keySystem:t,mediaKeys:n,mediaKeysSession:i,keyStatus:"status-pending"};return this.mediaKeySessions.push(r),r}renewKeySession(e){const t=e.decryptdata;if(t.pssh){const n=this.createMediaKeySessionContext(e),i=this.getKeyIdString(t),r="cenc";this.keyIdToKeySessionPromise[i]=this.generateRequestWithPreferredKeySession(n,r,t.pssh.buffer,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}getKeyIdString(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(e.keyId===null)throw new Error("keyId is null");return $i.hexDump(e.keyId)}updateKeySession(e,t){var n;const i=e.mediaKeysSession;return this.log(`Updating key-session "${i.sessionId}" for keyID ${$i.hexDump(((n=e.decryptdata)==null?void 0:n.keyId)||[])}
      } (data length: ${t&&t.byteLength})`),i.update(t)}selectKeySystemFormat(e){const t=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${t.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(t)),this.keyFormatPromise}getKeyFormatPromise(e){return new Promise((t,n)=>{const i=l0(this.config),r=e.map(Vx).filter(a=>!!a&&i.indexOf(a)!==-1);return this.getKeySystemSelectionPromise(r).then(({keySystem:a})=>{const l=Hx(a);l?t(l):n(new Error(`Unable to find format for key-system "${a}"`))}).catch(n)})}loadKey(e){const t=e.keyInfo.decryptdata,n=this.getKeyIdString(t),i=`(keyId: ${n} format: "${t.keyFormat}" method: ${t.method} uri: ${t.uri})`;this.log(`Starting session for key ${i}`);let r=this.keyIdToKeySessionPromise[n];return r||(r=this.getKeySystemForKeyPromise(t).then(({keySystem:l,mediaKeys:c})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${i}`),this.attemptSetMediaKeys(l,c).then(()=>(this.throwIfDestroyed(),this.createMediaKeySessionContext({keySystem:l,mediaKeys:c,decryptdata:t}))))),(this.keyIdToKeySessionPromise[n]=r.then(l=>{const c="cenc",f=t.pssh?t.pssh.buffer:null;return this.generateRequestWithPreferredKeySession(l,c,f,"playlist-key")})).catch(l=>this.handleError(l))),r}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e){this.hls&&(this.error(e.message),e instanceof Gn?this.hls.trigger(P.ERROR,e.data):this.hls.trigger(P.ERROR,{type:Ie.KEY_SYSTEM_ERROR,details:te.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}getKeySystemForKeyPromise(e){const t=this.getKeyIdString(e),n=this.keyIdToKeySessionPromise[t];if(!n){const i=Vx(e.keyFormat),r=i?[i]:l0(this.config);return this.attemptKeySystemAccess(r)}return n}getKeySystemSelectionPromise(e){if(e.length||(e=l0(this.config)),e.length===0)throw new Gn({type:Ie.KEY_SYSTEM_ERROR,details:te.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${Ct({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}attemptSetMediaKeys(e,t){const n=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const i=Promise.all(n).then(()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(t)});return this.setMediaKeysQueue.push(i),i.then(()=>{this.log(`Media-keys set for "${e}"`),n.push(i),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(r=>n.indexOf(r)===-1)})}generateRequestWithPreferredKeySession(e,t,n,i){var r,a;const l=(r=this.config.drmSystems)==null||(a=r[e.keySystem])==null?void 0:a.generateRequest;if(l)try{const x=l.call(this.hls,t,n,e);if(!x)throw new Error("Invalid response from configured generateRequest filter");t=x.initDataType,n=x.initData?x.initData:null,e.decryptdata.pssh=n?new Uint8Array(n):null}catch(x){var c;if(this.warn(x.message),(c=this.hls)!=null&&c.config.debug)throw x}if(n===null)return this.log(`Skipping key-session request for "${i}" (no initData)`),Promise.resolve(e);const f=this.getKeyIdString(e.decryptdata);this.log(`Generating key-session request for "${i}": ${f} (init data type: ${t} length: ${n?n.byteLength:null})`);const u=new nw,h=e._onmessage=x=>{const y=e.mediaKeysSession;if(!y){u.emit("error",new Error("invalid state"));return}const{messageType:v,message:w}=x;this.log(`"${v}" message event for session "${y.sessionId}" message size: ${w.byteLength}`),v==="license-request"||v==="license-renewal"?this.renewLicense(e,w).catch(L=>{u.eventNames().length?u.emit("error",L):this.handleError(L)}):v==="license-release"?e.keySystem===ft.FAIRPLAY&&(this.updateKeySession(e,Bb("acknowledged")),this.removeSession(e)):this.warn(`unhandled media key message type "${v}"`)},p=e._onkeystatuseschange=x=>{if(!e.mediaKeysSession){u.emit("error",new Error("invalid state"));return}this.onKeyStatusChange(e);const v=e.keyStatus;u.emit("keyStatus",v),v==="expired"&&(this.warn(`${e.keySystem} expired for key ${f}`),this.renewKeySession(e))};e.mediaKeysSession.addEventListener("message",h),e.mediaKeysSession.addEventListener("keystatuseschange",p);const g=new Promise((x,y)=>{u.on("error",y),u.on("keyStatus",v=>{v.startsWith("usable")?x():v==="output-restricted"?y(new Gn({type:Ie.KEY_SYSTEM_ERROR,details:te.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):v==="internal-error"?y(new Gn({type:Ie.KEY_SYSTEM_ERROR,details:te.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${v}"`)):v==="expired"?y(new Error("key expired while generating request")):this.warn(`unhandled key status change "${v}"`)})});return e.mediaKeysSession.generateRequest(t,n).then(()=>{var x;this.log(`Request generated for key-session "${(x=e.mediaKeysSession)==null?void 0:x.sessionId}" keyId: ${f}`)}).catch(x=>{throw new Gn({type:Ie.KEY_SYSTEM_ERROR,details:te.KEY_SYSTEM_NO_SESSION,error:x,fatal:!1},`Error generating key-session request: ${x}`)}).then(()=>g).catch(x=>{throw u.removeAllListeners(),this.removeSession(e),x}).then(()=>(u.removeAllListeners(),e))}onKeyStatusChange(e){e.mediaKeysSession.keyStatuses.forEach((t,n)=>{if(typeof n=="string"&&typeof t=="object"){const i=n;n=t,t=i}this.log(`key status change "${t}" for keyStatuses keyId: ${$i.hexDump("buffer"in n?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):new Uint8Array(n))} session keyId: ${$i.hexDump(new Uint8Array(e.decryptdata.keyId||[]))} uri: ${e.decryptdata.uri}`),e.keyStatus=t})}fetchServerCertificate(e){const t=this.config,n=t.loader,i=new n(t),r=this.getServerCertificateUrl(e);return r?(this.log(`Fetching server certificate for "${e}"`),new Promise((a,l)=>{const c={responseType:"arraybuffer",url:r},f=t.certLoadPolicy.default,u={loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},h={onSuccess:(p,g,x,y)=>{a(p.data)},onError:(p,g,x,y)=>{l(new Gn({type:Ie.KEY_SYSTEM_ERROR,details:te.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:x,response:ct({url:c.url,data:void 0},p)},`"${e}" certificate request failed (${r}). Status: ${p.code} (${p.text})`))},onTimeout:(p,g,x)=>{l(new Gn({type:Ie.KEY_SYSTEM_ERROR,details:te.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:x,response:{url:c.url,data:void 0}},`"${e}" certificate request timed out (${r})`))},onAbort:(p,g,x)=>{l(new Error("aborted"))}};i.load(c,u,h)})):Promise.resolve()}setMediaKeysServerCertificate(e,t,n){return new Promise((i,r)=>{e.setServerCertificate(n).then(a=>{this.log(`setServerCertificate ${a?"success":"not supported by CDM"} (${n==null?void 0:n.byteLength}) on "${t}"`),i(e)}).catch(a=>{r(new Gn({type:Ie.KEY_SYSTEM_ERROR,details:te.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:a,fatal:!0},a.message))})})}renewLicense(e,t){return this.requestLicense(e,new Uint8Array(t)).then(n=>this.updateKeySession(e,new Uint8Array(n)).catch(i=>{throw new Gn({type:Ie.KEY_SYSTEM_ERROR,details:te.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:i,fatal:!0},i.message)}))}unpackPlayReadyKeyMessage(e,t){const n=String.fromCharCode.apply(null,new Uint16Array(t.buffer));if(!n.includes("PlayReadyKeyMessage"))return e.setRequestHeader("Content-Type","text/xml; charset=utf-8"),t;const i=new DOMParser().parseFromString(n,"application/xml"),r=i.querySelectorAll("HttpHeader");if(r.length>0){let u;for(let h=0,p=r.length;h<p;h++){var a,l;u=r[h];const g=(a=u.querySelector("name"))==null?void 0:a.textContent,x=(l=u.querySelector("value"))==null?void 0:l.textContent;g&&x&&e.setRequestHeader(g,x)}}const c=i.querySelector("Challenge"),f=c==null?void 0:c.textContent;if(!f)throw new Error("Cannot find <Challenge> in key message");return Bb(atob(f))}setupLicenseXHR(e,t,n,i){const r=this.config.licenseXhrSetup;return r?Promise.resolve().then(()=>{if(!n.decryptdata)throw new Error("Key removed");return r.call(this.hls,e,t,n,i)}).catch(a=>{if(!n.decryptdata)throw a;return e.open("POST",t,!0),r.call(this.hls,e,t,n,i)}).then(a=>(e.readyState||e.open("POST",t,!0),{xhr:e,licenseChallenge:a||i})):(e.open("POST",t,!0),Promise.resolve({xhr:e,licenseChallenge:i}))}requestLicense(e,t){const n=this.config.keyLoadPolicy.default;return new Promise((i,r)=>{const a=this.getLicenseServerUrlOrThrow(e.keySystem);this.log(`Sending license request to URL: ${a}`);const l=new XMLHttpRequest;l.responseType="arraybuffer",l.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return r(new Error("invalid state"));if(l.readyState===4)if(l.status===200){this._requestLicenseFailureCount=0;let c=l.response;this.log(`License received ${c instanceof ArrayBuffer?c.byteLength:c}`);const f=this.config.licenseResponseCallback;if(f)try{c=f.call(this.hls,l,a,e)}catch(u){this.error(u)}i(c)}else{const c=n.errorRetry,f=c?c.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>f||l.status>=400&&l.status<500)r(new Gn({type:Ie.KEY_SYSTEM_ERROR,details:te.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:l,response:{url:a,data:void 0,code:l.status,text:l.statusText}},`License Request XHR failed (${a}). Status: ${l.status} (${l.statusText})`));else{const u=f-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${u} attempts left`),this.requestLicense(e,t).then(i,r)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=l,this.setupLicenseXHR(l,a,e,t).then(({xhr:c,licenseChallenge:f})=>{e.keySystem==ft.PLAYREADY&&(f=this.unpackPlayReadyKeyMessage(c,f)),c.send(f)})})}onMediaAttached(e,t){if(!this.config.emeEnabled)return;const n=t.media;this.media=n,n.removeEventListener("encrypted",this.onMediaEncrypted),n.removeEventListener("waitingforkey",this.onWaitingForKey),n.addEventListener("encrypted",this.onMediaEncrypted),n.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const e=this.media;e&&(e.removeEventListener("encrypted",this.onMediaEncrypted),e.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null)}_clear(e){var t;const n=this.mediaKeySessions;this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},Vu.clearKeyUriToKeyIdMap();const i=n.length;Jl.CDMCleanupPromise=Promise.all(n.map(r=>this.removeSession(r)).concat(e==null||(t=e.setMediaKeys(null))==null?void 0:t.catch(r=>{var a;this.log(`Could not clear media keys: ${r}`),(a=this.hls)==null||a.trigger(P.ERROR,{type:Ie.OTHER_ERROR,details:te.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR,fatal:!1,error:new Error(`Could not clear media keys: ${r}`)})}))).then(()=>{i&&(this.log("finished closing key sessions and clearing media keys"),n.length=0)}).catch(r=>{var a;this.log(`Could not close sessions and clear media keys: ${r}`),(a=this.hls)==null||a.trigger(P.ERROR,{type:Ie.OTHER_ERROR,details:te.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close sessions and clear media keys: ${r}`)})})}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(e,{sessionKeys:t}){if(!(!t||!this.config.emeEnabled)&&!this.keyFormatPromise){const n=t.reduce((i,r)=>(i.indexOf(r.keyFormat)===-1&&i.push(r.keyFormat),i),[]);this.log(`Selecting key-system from session-keys ${n.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(n)}}removeSession(e){const{mediaKeysSession:t,licenseXhr:n}=e;if(t){this.log(`Remove licenses and keys and close session ${t.sessionId}`),e._onmessage&&(t.removeEventListener("message",e._onmessage),e._onmessage=void 0),e._onkeystatuseschange&&(t.removeEventListener("keystatuseschange",e._onkeystatuseschange),e._onkeystatuseschange=void 0),n&&n.readyState!==XMLHttpRequest.DONE&&n.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const i=this.mediaKeySessions.indexOf(e);i>-1&&this.mediaKeySessions.splice(i,1);const{drmSystemOptions:r}=this.config;return(TX(r)?new Promise((l,c)=>{self.setTimeout(()=>c(new Error("MediaKeySession.remove() timeout")),8e3),t.remove().then(l)}):Promise.resolve()).catch(l=>{var c;this.log(`Could not remove session: ${l}`),(c=this.hls)==null||c.trigger(P.ERROR,{type:Ie.OTHER_ERROR,details:te.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR,fatal:!1,error:new Error(`Could not remove session: ${l}`)})}).then(()=>t.close()).catch(l=>{var c;this.log(`Could not close session: ${l}`),(c=this.hls)==null||c.trigger(P.ERROR,{type:Ie.OTHER_ERROR,details:te.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close session: ${l}`)})})}}}Jl.CDMCleanupPromise=void 0;class Gn extends Error{constructor(e,t){super(t),this.data=void 0,e.error||(e.error=new Error(t)),this.data=e,e.err=e.error}}class Ate{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on(P.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.on(P.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListeners(){this.hls.off(P.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.off(P.MEDIA_DETACHING,this.onMediaDetaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,t){const n=this.hls.config;if(n.capLevelOnFPSDrop){const i=t.media instanceof self.HTMLVideoElement?t.media:null;this.media=i,i&&typeof i.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),n.fpsDroppedMonitoringPeriod)}}onMediaDetaching(){this.media=null}checkFPS(e,t,n){const i=performance.now();if(t){if(this.lastTime){const r=i-this.lastTime,a=n-this.lastDroppedFrames,l=t-this.lastDecodedFrames,c=1e3*a/r,f=this.hls;if(f.trigger(P.FPS_DROP,{currentDropped:a,currentDecoded:l,totalDroppedFrames:n}),c>0&&a>f.config.fpsDroppedMonitoringThreshold*l){let u=f.currentLevel;f.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+u),u>0&&(f.autoLevelCapping===-1||f.autoLevelCapping>=u)&&(u=u-1,f.trigger(P.FPS_DROP_LEVEL_CAPPING,{level:u,droppedLevel:f.currentLevel}),f.autoLevelCapping=u,this.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=n,this.lastDecodedFrames=t}}checkFPSInterval(){const e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){const t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}function DA(s,e){let t;try{t=new Event("addtrack")}catch{t=document.createEvent("Event"),t.initEvent("addtrack",!1,!1)}t.track=s,e.dispatchEvent(t)}function PA(s,e){const t=s.mode;if(t==="disabled"&&(s.mode="hidden"),s.cues&&!s.cues.getCueById(e.id))try{if(s.addCue(e),!s.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(n){st.debug(`[texttrack-utils]: ${n}`);try{const i=new self.TextTrackCue(e.startTime,e.endTime,e.text);i.id=e.id,s.addCue(i)}catch(i){st.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${i}`)}}t==="disabled"&&(s.mode=t)}function Ul(s,e){const t=s.mode;if(t==="disabled"&&(s.mode="hidden"),s.cues)for(let n=s.cues.length;n--;)e&&s.cues[n].removeEventListener("enter",e),s.removeCue(s.cues[n]);t==="disabled"&&(s.mode=t)}function Qb(s,e,t,n){const i=s.mode;if(i==="disabled"&&(s.mode="hidden"),s.cues&&s.cues.length>0){const r=Pte(s.cues,e,t);for(let a=0;a<r.length;a++)(!n||n(r[a]))&&s.removeCue(r[a])}i==="disabled"&&(s.mode=i)}function Dte(s,e){if(e<=s[0].startTime)return 0;const t=s.length-1;if(e>s[t].endTime)return-1;let n=0,i=t,r;for(;n<=i;)if(r=Math.floor((i+n)/2),e<s[r].startTime)i=r-1;else if(e>s[r].startTime&&n<t)n=r+1;else return r;return s[n].startTime-e<e-s[i].startTime?n:i}function Pte(s,e,t){const n=[],i=Dte(s,e);if(i>-1)for(let r=i,a=s.length;r<a;r++){const l=s[r];if(l.startTime>=e&&l.endTime<=t)n.push(l);else if(l.startTime>t)return n}return n}function em(s){const e=[];for(let t=0;t<s.length;t++){const n=s[t];(n.kind==="subtitles"||n.kind==="captions")&&n.label&&e.push(s[t])}return e}class Rte extends fw{constructor(e){super(e,"subtitle-track-controller"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let t=null;const n=em(this.media.textTracks);for(let r=0;r<n.length;r++)if(n[r].mode==="hidden")t=n[r];else if(n[r].mode==="showing"){t=n[r];break}const i=this.findTrackForTextTrack(t);this.subtitleTrack!==i&&this.setSubtitleTrack(i)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:e}=this;e.on(P.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(P.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(P.MANIFEST_LOADING,this.onManifestLoading,this),e.on(P.MANIFEST_PARSED,this.onManifestParsed,this),e.on(P.LEVEL_LOADING,this.onLevelLoading,this),e.on(P.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(P.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(P.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(P.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(P.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(P.MANIFEST_LOADING,this.onManifestLoading,this),e.off(P.MANIFEST_PARSED,this.onManifestParsed,this),e.off(P.LEVEL_LOADING,this.onLevelLoading,this),e.off(P.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(P.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(P.ERROR,this.onError,this)}onMediaAttached(e,t){this.media=t.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,e)}onMediaDetaching(e,t){const n=this.media;if(!n)return;const i=!!t.transferMedia;if(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||n.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),this.subtitleTrack=-1,this.media=null,i)return;em(n.textTracks).forEach(a=>{Ul(a)})}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,t){this.tracks=t.subtitleTracks}onSubtitleTrackLoaded(e,t){const{id:n,groupId:i,details:r}=t,a=this.tracksInGroup[n];if(!a||a.groupId!==i){this.warn(`Subtitle track with id:${n} and group:${i} not found in active group ${a==null?void 0:a.groupId}`);return}const l=a.details;a.details=t.details,this.log(`Subtitle track ${n} "${a.name}" lang:${a.lang} group:${i} loaded [${r.startSN}-${r.endSN}]`),n===this.trackId&&this.playlistLoaded(n,t,l)}onLevelLoading(e,t){this.switchLevel(t.level)}onLevelSwitching(e,t){this.switchLevel(t.level)}switchLevel(e){const t=this.hls.levels[e];if(!t)return;const n=t.subtitleGroups||null,i=this.groupIds;let r=this.currentTrack;if(!n||(i==null?void 0:i.length)!==(n==null?void 0:n.length)||n!=null&&n.some(a=>(i==null?void 0:i.indexOf(a))===-1)){this.groupIds=n,this.trackId=-1,this.currentTrack=null;const a=this.tracks.filter(u=>!n||n.indexOf(u.groupId)!==-1);if(a.length)this.selectDefaultTrack&&!a.some(u=>u.default)&&(this.selectDefaultTrack=!1),a.forEach((u,h)=>{u.id=h});else if(!r&&!this.tracksInGroup.length)return;this.tracksInGroup=a;const l=this.hls.config.subtitlePreference;if(!r&&l){this.selectDefaultTrack=!1;const u=Qi(l,a);if(u>-1)r=a[u];else{const h=Qi(l,this.tracks);r=this.tracks[h]}}let c=this.findTrackId(r);c===-1&&r&&(c=this.findTrackId(null));const f={subtitleTracks:a};this.log(`Updating subtitle tracks, ${a.length} track(s) found in "${n==null?void 0:n.join(",")}" group-id`),this.hls.trigger(P.SUBTITLE_TRACKS_UPDATED,f),c!==-1&&this.trackId===-1&&this.setSubtitleTrack(c)}}findTrackId(e){const t=this.tracksInGroup,n=this.selectDefaultTrack;for(let i=0;i<t.length;i++){const r=t[i];if(!(n&&!r.default||!n&&!e)&&(!e||Oo(r,e)))return i}if(e){for(let i=0;i<t.length;i++){const r=t[i];if(Wu(e.attrs,r.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return i}for(let i=0;i<t.length;i++){const r=t[i];if(Wu(e.attrs,r.attrs,["LANGUAGE"]))return i}}return-1}findTrackForTextTrack(e){if(e){const t=this.tracksInGroup;for(let n=0;n<t.length;n++){const i=t[n];if(Hb(i,e))return n}}return-1}onError(e,t){t.fatal||!t.context||t.context.type===Qe.SUBTITLE_TRACK&&t.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(t.context.groupId)!==-1)&&this.checkRetry(t)}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1,this.setSubtitleTrack(e)}setSubtitleOption(e){if(this.hls.config.subtitlePreference=e,e){if(e.id===-1)return this.setSubtitleTrack(-1),null;const t=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,t.length){const n=this.currentTrack;if(n&&Oo(e,n))return n;const i=Qi(e,this.tracksInGroup);if(i>-1){const r=this.tracksInGroup[i];return this.setSubtitleTrack(i),r}else{if(n)return null;{const r=Qi(e,t);if(r>-1)return t[r]}}}}return null}loadPlaylist(e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentTrack)&&this.scheduleLoading(this.currentTrack,e)}loadingPlaylist(e,t){super.loadingPlaylist(e,t);const n=e.id,i=e.groupId,r=this.getUrlWithDirectives(e.url,t),a=e.details,l=a==null?void 0:a.age;this.log(`Loading subtitle ${n} "${e.name}" lang:${e.lang} group:${i}${(t==null?void 0:t.msn)!==void 0?" at sn "+t.msn+" part "+t.part:""}${l&&a.live?" age "+l.toFixed(1)+(a.type&&" "+a.type||""):""} ${r}`),this.hls.trigger(P.SUBTITLE_TRACK_LOADING,{url:r,id:n,groupId:i,deliveryDirectives:t||null,track:e})}toggleTrackModes(){const{media:e}=this;if(!e)return;const t=em(e.textTracks),n=this.currentTrack;let i;if(n&&(i=t.filter(r=>Hb(n,r))[0],i||this.warn(`Unable to find subtitle TextTrack with name "${n.name}" and language "${n.lang}"`)),[].slice.call(t).forEach(r=>{r.mode!=="disabled"&&r!==i&&(r.mode="disabled")}),i){const r=this.subtitleDisplay?"showing":"hidden";i.mode!==r&&(i.mode=r)}}setSubtitleTrack(e){const t=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=e;return}if(e<-1||e>=t.length||!we(e)){this.warn(`Invalid subtitle track id: ${e}`);return}this.selectDefaultTrack=!1;const n=this.currentTrack,i=t[e]||null;if(this.trackId=e,this.currentTrack=i,this.toggleTrackModes(),!i){this.hls.trigger(P.SUBTITLE_TRACK_SWITCH,{id:e});return}const r=!!i.details&&!i.details.live;if(e===this.trackId&&i===n&&r)return;this.log(`Switching to subtitle-track ${e}`+(i?` "${i.name}" lang:${i.lang} group:${i.groupId}`:""));const{id:a,groupId:l="",name:c,type:f,url:u}=i;this.hls.trigger(P.SUBTITLE_TRACK_SWITCH,{id:a,groupId:l,name:c,type:f,url:u});const h=this.switchParams(i.url,n==null?void 0:n.details,i.details);this.loadPlaylist(h)}}function uu(s){let e=5381,t=s.length;for(;t;)e=e*33^s.charCodeAt(--t);return(e>>>0).toString()}const ql=.025;let Zm=function(s){return s[s.Point=0]="Point",s[s.Range=1]="Range",s}({});function Ote(s,e,t){return`${s.identifier}-${t+1}-${uu(e)}`}class Fte{constructor(e,t){this.base=void 0,this._duration=null,this._timelineStart=null,this.appendInPlaceDisabled=void 0,this.appendInPlaceStarted=void 0,this.dateRange=void 0,this.hasPlayed=!1,this.cumulativeDuration=0,this.resumeOffset=NaN,this.playoutLimit=NaN,this.restrictions={skip:!1,jump:!1},this.snapOptions={out:!1,in:!1},this.assetList=[],this.assetListLoader=void 0,this.assetListResponse=null,this.resumeAnchor=void 0,this.error=void 0,this.resetOnResume=void 0,this.base=t,this.dateRange=e,this.setDateRange(e)}setDateRange(e){this.dateRange=e,this.resumeOffset=e.attr.optionalFloat("X-RESUME-OFFSET",this.resumeOffset),this.playoutLimit=e.attr.optionalFloat("X-PLAYOUT-LIMIT",this.playoutLimit),this.restrictions=e.attr.enumeratedStringList("X-RESTRICT",this.restrictions),this.snapOptions=e.attr.enumeratedStringList("X-SNAP",this.snapOptions)}reset(){var e;this.appendInPlaceStarted=!1,(e=this.assetListLoader)==null||e.destroy(),this.assetListLoader=void 0,this.supplementsPrimary||(this.assetListResponse=null,this.assetList=[],this._duration=null)}isAssetPastPlayoutLimit(e){if(e>=this.assetList.length)return!0;const t=this.playoutLimit;return e<=0||isNaN(t)?!1:this.assetList[e].startOffset>t}findAssetIndex(e){return this.assetList.indexOf(e)}get identifier(){return this.dateRange.id}get startDate(){return this.dateRange.startDate}get startTime(){const e=this.dateRange.startTime;if(this.snapOptions.out){const t=this.dateRange.tagAnchor;if(t)return ey(e,t)}return e}get startOffset(){return this.cue.pre?0:this.startTime}get startIsAligned(){if(this.startTime===0||this.snapOptions.out)return!0;const e=this.dateRange.tagAnchor;if(e){const t=this.dateRange.startTime,n=ey(t,e);return t-n<.1}return!1}get resumptionOffset(){const e=this.resumeOffset,t=we(e)?e:this.duration;return this.cumulativeDuration+t}get resumeTime(){const e=this.startOffset+this.resumptionOffset;if(this.snapOptions.in){const t=this.resumeAnchor;if(t)return ey(e,t)}return e}get appendInPlace(){return this.appendInPlaceStarted?!0:this.appendInPlaceDisabled?!1:!!(!this.cue.once&&!this.cue.pre&&this.startIsAligned&&(isNaN(this.playoutLimit)&&isNaN(this.resumeOffset)||this.resumeOffset&&this.duration&&Math.abs(this.resumeOffset-this.duration)<ql))}set appendInPlace(e){if(this.appendInPlaceStarted){this.resetOnResume=!e;return}this.appendInPlaceDisabled=!e}get timelineStart(){return this._timelineStart!==null?this._timelineStart:this.startTime}set timelineStart(e){this._timelineStart=e}get duration(){const e=this.playoutLimit;let t;return this._duration!==null?t=this._duration:this.dateRange.duration?t=this.dateRange.duration:t=this.dateRange.plannedDuration||0,!isNaN(e)&&e<t&&(t=e),t}set duration(e){this._duration=e}get cue(){return this.dateRange.cue}get timelineOccupancy(){return this.dateRange.attr["X-TIMELINE-OCCUPIES"]==="RANGE"?Zm.Range:Zm.Point}get supplementsPrimary(){return this.dateRange.attr["X-TIMELINE-STYLE"]==="PRIMARY"}get contentMayVary(){return this.dateRange.attr["X-CONTENT-MAY-VARY"]!=="NO"}get assetUrl(){return this.dateRange.attr["X-ASSET-URI"]}get assetListUrl(){return this.dateRange.attr["X-ASSET-LIST"]}get baseUrl(){return this.base.url}get assetListLoaded(){return this.assetList.length>0||this.assetListResponse!==null}toString(){return zte(this)}}function ey(s,e){return s-e.start<e.duration/2&&!(Math.abs(s-(e.start+e.duration))<ql)?e.start:e.start+e.duration}function RA(s,e,t){const n=new self.URL(s,t);return n.protocol!=="data:"&&n.searchParams.set("_HLS_primary_id",e),n}function zte(s){return`["${s.identifier}" ${s.cue.pre?"<pre>":s.cue.post?"<post>":""}${s.timelineStart.toFixed(2)}-${s.resumeTime.toFixed(2)}]`}function Kb(s){const e=s.timelineStart,t=s.duration||0;return`["${s.identifier}" ${e.toFixed(2)}-${(e+t).toFixed(2)}]`}class Bte{constructor(e,t,n,i){this.hls=void 0,this.interstitial=void 0,this.assetItem=void 0,this.tracks=null,this.hasDetails=!1,this.mediaAttached=null,this._currentTime=void 0,this._bufferedEosTime=void 0,this.checkPlayout=()=>{const f=this.interstitial.playoutLimit,u=this.currentTime;this.startOffset+u>=f&&this.hls.trigger(P.PLAYOUT_LIMIT_REACHED,{})};const r=this.hls=new e(t);this.interstitial=n,this.assetItem=i;let a=i.uri;try{a=RA(a,r.sessionId).href}catch{}r.loadSource(a);const l=()=>{this.hasDetails=!0};r.once(P.LEVEL_LOADED,l),r.once(P.AUDIO_TRACK_LOADED,l),r.once(P.SUBTITLE_TRACK_LOADED,l),r.on(P.MEDIA_ATTACHING,(c,{media:f})=>{this.removeMediaListeners(),this.mediaAttached=f,this.interstitial.playoutLimit&&f.addEventListener("timeupdate",this.checkPlayout)})}bufferedInPlaceToEnd(e){var t;if(!this.interstitial.appendInPlace)return!1;if((t=this.hls)!=null&&t.bufferedToEnd)return!0;if(!e||!this._bufferedEosTime)return!1;const n=this.timelineOffset,i=Ge.bufferInfo(e,n,0);return this.getAssetTime(i.end)>=this._bufferedEosTime-.02}get destroyed(){var e;return!((e=this.hls)!=null&&e.userConfig)}get assetId(){return this.assetItem.identifier}get interstitialId(){return this.assetItem.parentIdentifier}get media(){var e;return((e=this.hls)==null?void 0:e.media)||null}get bufferedEnd(){const e=this.media||this.mediaAttached;if(!e)return this._bufferedEosTime?this._bufferedEosTime:this.currentTime;const t=Ge.bufferInfo(e,e.currentTime,.001);return this.getAssetTime(t.end)}get currentTime(){const e=this.media||this.mediaAttached;return e?this.getAssetTime(e.currentTime):this._currentTime||0}get duration(){const e=this.assetItem.duration;return e||0}get remaining(){const e=this.duration;return e?Math.max(0,e-this.currentTime):0}get startOffset(){return this.assetItem.startOffset}get timelineOffset(){var e;return((e=this.hls)==null?void 0:e.config.timelineOffset)||0}set timelineOffset(e){const t=this.timelineOffset;if(e!==t){const n=e-t;if(Math.abs(n)>1/9e4){if(this.hasDetails)throw new Error("Cannot set timelineOffset after playlists are loaded");this.hls.config.timelineOffset=e}}}getAssetTime(e){const t=this.timelineOffset,n=this.duration;return Math.min(Math.max(0,e-t),n)}removeMediaListeners(){const e=this.mediaAttached;e&&(this._currentTime=e.currentTime,this.bufferSnapShot(),e.removeEventListener("timeupdate",this.checkPlayout))}bufferSnapShot(){if(this.mediaAttached){var e;(e=this.hls)!=null&&e.bufferedToEnd&&(this._bufferedEosTime=this.bufferedEnd)}}destroy(){this.removeMediaListeners(),this.hls.destroy(),this.hls=this.interstitial=null,this.tracks=this.mediaAttached=this.checkPlayout=null}attachMedia(e){this.hls.attachMedia(e)}detachMedia(){this.removeMediaListeners(),this.mediaAttached=null,this.hls.detachMedia()}resumeBuffering(){this.hls.resumeBuffering()}pauseBuffering(){this.hls.pauseBuffering()}transferMedia(){return this.bufferSnapShot(),this.hls.transferMedia()}on(e,t,n){this.hls.on(e,t)}once(e,t,n){this.hls.once(e,t)}off(e,t,n){this.hls.off(e,t)}toString(){var e,t;return`HlsAssetPlayer: ${Kb(this.assetItem)} ${(e=this.hls)==null?void 0:e.sessionId} ${(t=this.interstitial)!=null&&t.appendInPlace?"append-in-place":""}`}}const v6=.033;class Ute extends $r{constructor(e,t){super("interstitials-sched",t),this.onScheduleUpdate=void 0,this.eventMap={},this.events=null,this.items=null,this.durations={primary:0,playout:0,integrated:0},this.onScheduleUpdate=e}destroy(){this.reset(),this.onScheduleUpdate=null}reset(){this.eventMap={},this.setDurations(0,0,0),this.events&&this.events.forEach(e=>e.reset()),this.events=this.items=null}resetErrorsInRange(e,t){return this.events?this.events.reduce((n,i)=>e<=i.startOffset&&t>i.startOffset?(delete i.error,n+1):n,0):0}get duration(){const e=this.items;return e?e[e.length-1].end:0}get length(){return this.items?this.items.length:0}getEvent(e){return e&&this.eventMap[e]||null}hasEvent(e){return e in this.eventMap}findItemIndex(e,t){if(e.event)return this.findEventIndex(e.event.identifier);let n=-1;e.nextEvent?n=this.findEventIndex(e.nextEvent.identifier)-1:e.previousEvent&&(n=this.findEventIndex(e.previousEvent.identifier)+1);const i=this.items;if(i)for(i[n]||(t===void 0&&(t=e.start),n=this.findItemIndexAtTime(t));n>=0&&(r=i[n])!=null&&r.event;){var r;n--}return n}findItemIndexAtTime(e,t){const n=this.items;if(n)for(let i=0;i<n.length;i++){let r=n[i];if(t&&t!=="primary"&&(r=r[t]),e===r.start||e>r.start&&e<r.end)return i}return-1}findJumpRestrictedIndex(e,t){const n=this.items;if(n)for(let i=e;i<=t&&n[i];i++){const r=n[i].event;if(r!=null&&r.restrictions.jump&&!r.appendInPlace)return i}return-1}findEventIndex(e){const t=this.items;if(t)for(let i=t.length;i--;){var n;if(((n=t[i].event)==null?void 0:n.identifier)===e)return i}return-1}findAssetIndex(e,t){const n=e.assetList,i=n.length;if(i>1)for(let r=0;r<i;r++){const a=n[r];if(!a.error){const l=a.timelineStart;if(t===l||t>l&&t<l+(a.duration||0))return r}}return 0}get assetIdAtEnd(){var e,t;const n=(e=this.items)==null||(t=e[this.length-1])==null?void 0:t.event;if(n){const i=n.assetList,r=i[i.length-1];if(r)return r.identifier}return null}parseInterstitialDateRanges(e,t){const n=e.main.details,{dateRanges:i}=n,r=this.events,a=this.parseDateRanges(i,{url:n.url},t),l=Object.keys(i),c=r?r.filter(f=>!l.includes(f.identifier)):[];a.length&&a.sort((f,u)=>{const h=f.cue.pre,p=f.cue.post,g=u.cue.pre,x=u.cue.post;if(h&&!g)return-1;if(g&&!h||p&&!x)return 1;if(x&&!p)return-1;if(!h&&!g&&!p&&!x){const y=f.startTime,v=u.startTime;if(y!==v)return y-v}return f.dateRange.tagOrder-u.dateRange.tagOrder}),this.events=a,c.forEach(f=>{this.removeEvent(f)}),this.updateSchedule(e,c)}updateSchedule(e,t=[]){const n=this.events||[];if(n.length||t.length||this.length<2){const i=this.items,r=this.parseSchedule(n,e);(t.length||(i==null?void 0:i.length)!==r.length||r.some((l,c)=>Math.abs(l.playout.start-i[c].playout.start)>.005||Math.abs(l.playout.end-i[c].playout.end)>.005))&&(this.items=r,this.onScheduleUpdate(t,i))}}parseDateRanges(e,t,n){const i=[],r=Object.keys(e);for(let a=0;a<r.length;a++){const l=r[a],c=e[l];if(c.isInterstitial){let f=this.eventMap[l];f?f.setDateRange(c):(f=new Fte(c,t),this.eventMap[l]=f,n===!1&&(f.appendInPlace=n)),i.push(f)}}return i}parseSchedule(e,t){const n=[],i=t.main.details,r=i.live?1/0:i.edge;let a=0;if(e=e.filter(c=>!c.error&&!(c.cue.once&&c.hasPlayed)),e.length){this.resolveOffsets(e,t);let c=0,f=0;if(e.forEach((u,h)=>{const p=u.cue.pre,g=u.cue.post,x=e[h-1]||null,y=u.appendInPlace,v=g?r:u.startOffset,w=u.duration,L=u.timelineOccupancy===Zm.Range?w:0,S=u.resumptionOffset,j=(x==null?void 0:x.startTime)===v,E=v+u.cumulativeDuration;let M=y?E+w:v+S;if(p||!g&&v<=0){const I=f;f+=L,u.timelineStart=E;const A=a;a+=w,n.push({event:u,start:E,end:M,playout:{start:A,end:a},integrated:{start:I,end:f}})}else if(v<=r){if(!j){const D=v-c;if(D>v6){const z=c,O=f;f+=D;const Y=a;a+=D;const q={previousEvent:e[h-1]||null,nextEvent:u,start:z,end:z+D,playout:{start:Y,end:a},integrated:{start:O,end:f}};n.push(q)}else D>0&&x&&(x.cumulativeDuration+=D,n[n.length-1].end=v)}g&&(M=E),u.timelineStart=E;const I=f;f+=L;const A=a;a+=w,n.push({event:u,start:E,end:M,playout:{start:A,end:a},integrated:{start:I,end:f}})}else return;const N=u.resumeTime;g||N>r?c=r:c=N}),c<r){var l;const u=c,h=f,p=r-c;f+=p;const g=a;a+=p,n.push({previousEvent:((l=n[n.length-1])==null?void 0:l.event)||null,nextEvent:null,start:c,end:u+p,playout:{start:g,end:a},integrated:{start:h,end:f}})}this.setDurations(r,a,f)}else n.push({previousEvent:null,nextEvent:null,start:0,end:r,playout:{start:0,end:r},integrated:{start:0,end:r}}),this.setDurations(r,r,r);return n}setDurations(e,t,n){this.durations={primary:e,playout:t,integrated:n}}resolveOffsets(e,t){const n=t.main.details,i=n.live?1/0:n.edge;let r=0,a=-1;e.forEach((l,c)=>{const f=l.cue.pre,u=l.cue.post,h=f?0:u?i:l.startTime;this.updateAssetDurations(l),a===h?l.cumulativeDuration=r:(r=0,a=h),!u&&l.snapOptions.in&&(l.resumeAnchor=Go(null,n.fragments,l.startOffset+l.resumptionOffset,0,0)||void 0),l.appendInPlace&&!l.appendInPlaceStarted&&(this.primaryCanResumeInPlaceAt(l,t)||(l.appendInPlace=!1)),!l.appendInPlace&&c+1<e.length&&e[c+1].startTime-e[c].resumeTime<v6&&(e[c+1].appendInPlace=!1,e[c+1].appendInPlace&&this.warn(`Could not change append strategy for abutting event ${l}`));const g=we(l.resumeOffset)?l.resumeOffset:l.duration;r+=g})}primaryCanResumeInPlaceAt(e,t){const n=e.resumeTime,i=e.startTime+e.resumptionOffset;return Math.abs(n-i)>ql?(this.log(`"${e.identifier}" resumption ${n} not aligned with estimated timeline end ${i}`),!1):t?!Object.keys(t).some(a=>{const l=t[a].details,c=l.edge;if(n>=c)return this.log(`"${e.identifier}" resumption ${n} past ${a} playlist end ${c}`),!1;const f=Go(null,l.fragments,n);if(!f)return this.log(`"${e.identifier}" resumption ${n} does not align with any fragments in ${a} playlist (${l.fragStart}-${l.fragmentEnd})`),!0;const u=a==="audio"?.175:0;return Math.abs(f.start-n)<ql+u||Math.abs(f.end-n)<ql+u?!1:(this.log(`"${e.identifier}" resumption ${n} not aligned with ${a} fragment bounds (${f.start}-${f.end} sn: ${f.sn} cc: ${f.cc})`),!0)}):(this.log(`"${e.identifier}" resumption ${n} can not be aligned with media (none selected)`),!1)}updateAssetDurations(e){if(!e.assetListLoaded)return;const t=e.timelineStart;let n=0,i=!1,r=!1;e.assetList.forEach((a,l)=>{const c=t+n;a.startOffset=n,a.timelineStart=c,i||(i=a.duration===null),r||(r=!!a.error);const f=a.error?0:a.duration||0;n+=f}),i&&!r?e.duration=Math.max(n,e.duration):e.duration=n}removeEvent(e){e.reset(),delete this.eventMap[e.identifier]}}function da(s){return`[${s.event?'"'+s.event.identifier+'"':"primary"}: ${s.start.toFixed(2)}-${s.end.toFixed(2)}]`}class $te{constructor(e){this.hls=void 0,this.hls=e}destroy(){this.hls=null}loadAssetList(e,t){const n=e.assetListUrl;let i;try{i=RA(n,this.hls.sessionId,e.baseUrl)}catch(p){const g=this.assignAssetListError(e,te.ASSET_LIST_LOAD_ERROR,p,n);this.hls.trigger(P.ERROR,g);return}t&&i.protocol!=="data:"&&i.searchParams.set("_HLS_start_offset",""+t);const r=this.hls.config,a=r.loader,l=new a(r),c={responseType:"json",url:i.href},f=r.interstitialAssetListLoadPolicy.default,u={loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},h={onSuccess:(p,g,x,y)=>{const v=p.data,w=v==null?void 0:v.ASSETS;if(!Array.isArray(w)){const L=this.assignAssetListError(e,te.ASSET_LIST_PARSING_ERROR,new Error("Invalid interstitial asset list"),x.url,g,y);this.hls.trigger(P.ERROR,L);return}e.assetListResponse=v,this.hls.trigger(P.ASSET_LIST_LOADED,{event:e,assetListResponse:v,networkDetails:y})},onError:(p,g,x,y)=>{const v=this.assignAssetListError(e,te.ASSET_LIST_LOAD_ERROR,new Error(`Error loading X-ASSET-LIST: HTTP status ${p.code} ${p.text} (${g.url})`),g.url,y,x);this.hls.trigger(P.ERROR,v)},onTimeout:(p,g,x)=>{const y=this.assignAssetListError(e,te.ASSET_LIST_LOAD_TIMEOUT,new Error(`Timeout loading X-ASSET-LIST (${g.url})`),g.url,p,x);this.hls.trigger(P.ERROR,y)}};return l.load(c,u,h),this.hls.trigger(P.ASSET_LIST_LOADING,{event:e}),l}assignAssetListError(e,t,n,i,r,a){return e.error=n,{type:Ie.NETWORK_ERROR,details:t,fatal:!1,interstitial:e,url:i,error:n,networkDetails:a,stats:r}}}function Ar(s,e,t){Ji(s,e,t),s.addEventListener(e,t)}function Ji(s,e,t){s.removeEventListener(e,t)}function w6(s){s==null||s.play().catch(()=>{})}class Vte extends $r{constructor(e,t){super("interstitials",e.logger),this.HlsPlayerClass=void 0,this.hls=void 0,this.assetListLoader=void 0,this.mediaSelection=null,this.altSelection=null,this.media=null,this.detachedData=null,this.requiredTracks=null,this.manager=null,this.playerQueue=[],this.bufferedPos=-1,this.timelinePos=-1,this.schedule=void 0,this.playingItem=null,this.bufferingItem=null,this.waitingItem=null,this.endedItem=null,this.playingAsset=null,this.endedAsset=null,this.bufferingAsset=null,this.shouldPlay=!1,this.onPlay=()=>{this.shouldPlay=!0},this.onPause=()=>{this.shouldPlay=!1},this.onSeeking=()=>{const n=this.currentTime;if(n===void 0||this.playbackDisabled)return;const i=n-this.timelinePos;if(Math.abs(i)<1/7056e5)return;const a=i<=-.01;this.timelinePos=n,this.bufferedPos=n;const l=this.playingItem;if(!l){this.checkBuffer();return}if(a&&this.schedule.resetErrorsInRange(n,n-i)&&this.updateSchedule(),this.checkBuffer(),a&&n<l.start||n>=l.end){var c;const p=this.schedule.findItemIndexAtTime(this.timelinePos);if(!this.isInterstitial(l)&&(c=this.media)!=null&&c.paused&&(this.shouldPlay=!1),!a){const g=this.findItemIndex(l);if(p>g){const x=this.schedule.findJumpRestrictedIndex(g+1,p);if(x>g){this.setSchedulePosition(x);return}}}this.setSchedulePosition(p);return}const f=this.playingAsset;if(!f){if(this.playingLastItem&&this.isInterstitial(l)){const p=l.event.assetList[0];p&&(this.endedItem=this.playingItem,this.playingItem=null,this.setScheduleToAssetAtTime(n,p))}return}const u=f.timelineStart,h=f.duration||0;(a&&n<u||n>=u+h)&&this.setScheduleToAssetAtTime(n,f)},this.onTimeupdate=()=>{const n=this.currentTime;if(n===void 0||this.playbackDisabled)return;if(n>this.timelinePos)this.timelinePos=n,n>this.bufferedPos&&this.checkBuffer();else return;const i=this.playingItem;if(!i||this.playingLastItem)return;if(n>=i.end){this.timelinePos=i.end;const l=this.findItemIndex(i);this.setSchedulePosition(l+1)}const r=this.playingAsset;if(!r)return;const a=r.timelineStart+(r.duration||0);n>=a&&this.setScheduleToAssetAtTime(n,r)},this.onScheduleUpdate=(n,i)=>{const r=this.schedule,a=this.playingItem,l=r.events||[],c=r.items||[],f=r.durations,u=n.map(g=>g.identifier),h=!!(l.length||u.length);if(h&&this.log(`INTERSTITIALS_UPDATED (${l.length}): ${l}
Schedule: ${c.map(g=>da(g))}`),u.length&&this.log(`Removed events ${u}`),this.playerQueue.forEach(g=>{if(g.interstitial.appendInPlace){const x=g.assetItem.timelineStart,y=g.timelineOffset-x;if(y)try{g.timelineOffset=x}catch(v){Math.abs(y)>ql&&this.warn(`${v} ("${g.assetId}" ${g.timelineOffset}->${x})`)}}}),a){const g=this.updateItem(a,this.timelinePos);this.itemsMatch(a,g)&&(this.playingItem=g,this.waitingItem=this.endedItem=null)}else this.waitingItem=this.updateItem(this.waitingItem),this.endedItem=this.updateItem(this.endedItem);const p=this.bufferingItem;if(p){const g=this.updateItem(p,this.bufferedPos);this.itemsMatch(p,g)?this.bufferingItem=g:p.event&&(this.bufferingItem=this.playingItem,this.clearInterstitial(p.event,null))}if(n.forEach(g=>{g.assetList.forEach(x=>{this.clearAssetPlayer(x.identifier,null)})}),h||i){if(this.hls.trigger(P.INTERSTITIALS_UPDATED,{events:l.slice(0),schedule:c.slice(0),durations:f,removedIds:u}),this.isInterstitial(a)&&u.includes(a.event.identifier)){this.warn(`Interstitial "${a.event.identifier}" removed while playing`),this.primaryFallback(a.event);return}this.checkBuffer()}},this.hls=e,this.HlsPlayerClass=t,this.assetListLoader=new $te(e),this.schedule=new Ute(this.onScheduleUpdate,e.logger),this.registerListeners()}registerListeners(){const e=this.hls;e.on(P.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(P.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(P.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(P.MANIFEST_LOADING,this.onManifestLoading,this),e.on(P.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(P.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(P.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),e.on(P.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(P.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),e.on(P.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),e.on(P.ASSET_LIST_LOADED,this.onAssetListLoaded,this),e.on(P.BUFFER_APPENDED,this.onBufferAppended,this),e.on(P.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(P.BUFFERED_TO_END,this.onBufferedToEnd,this),e.on(P.MEDIA_ENDED,this.onMediaEnded,this),e.on(P.ERROR,this.onError,this),e.on(P.DESTROYING,this.onDestroying,this)}unregisterListeners(){const e=this.hls;e&&(e.off(P.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(P.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(P.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(P.MANIFEST_LOADING,this.onManifestLoading,this),e.off(P.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(P.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(P.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),e.off(P.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(P.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),e.off(P.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),e.off(P.ASSET_LIST_LOADED,this.onAssetListLoaded,this),e.off(P.BUFFER_CODECS,this.onBufferCodecs,this),e.off(P.BUFFER_APPENDED,this.onBufferAppended,this),e.off(P.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(P.BUFFERED_TO_END,this.onBufferedToEnd,this),e.off(P.MEDIA_ENDED,this.onMediaEnded,this),e.off(P.ERROR,this.onError,this),e.off(P.DESTROYING,this.onDestroying,this))}startLoad(){this.resumeBuffering()}stopLoad(){this.pauseBuffering()}resumeBuffering(){var e;(e=this.getBufferingPlayer())==null||e.resumeBuffering()}pauseBuffering(){var e;(e=this.getBufferingPlayer())==null||e.pauseBuffering()}destroy(){this.unregisterListeners(),this.stopLoad(),this.assetListLoader&&this.assetListLoader.destroy(),this.emptyPlayerQueue(),this.clearScheduleState(),this.schedule&&this.schedule.destroy(),this.media=this.detachedData=this.mediaSelection=this.requiredTracks=this.altSelection=this.manager=null,this.hls=this.HlsPlayerClass=this.schedule=this.log=null,this.assetListLoader=null,this.onPlay=this.onPause=this.onSeeking=this.onTimeupdate=null,this.onScheduleUpdate=null}onDestroying(){const e=this.primaryMedia||this.media;e&&this.removeMediaListeners(e)}removeMediaListeners(e){Ji(e,"play",this.onPlay),Ji(e,"pause",this.onPause),Ji(e,"seeking",this.onSeeking),Ji(e,"timeupdate",this.onTimeupdate)}onMediaAttaching(e,t){const n=this.media=t.media;Ar(n,"seeking",this.onSeeking),Ar(n,"timeupdate",this.onTimeupdate),Ar(n,"play",this.onPlay),Ar(n,"pause",this.onPause)}onMediaAttached(e,t){const n=this.effectivePlayingItem,i=this.detachedData;if(this.detachedData=null,n===null)this.checkStart();else if(!i){this.clearScheduleState();const r=this.findItemIndex(n);this.setSchedulePosition(r)}}clearScheduleState(){this.playingItem=this.bufferingItem=this.waitingItem=this.endedItem=this.playingAsset=this.endedAsset=this.bufferingAsset=null}onMediaDetaching(e,t){const n=!!t.transferMedia,i=this.media;if(this.media=null,!n&&(i&&this.removeMediaListeners(i),this.detachedData)){const r=this.getBufferingPlayer();r&&(this.playingAsset=this.endedAsset=this.bufferingAsset=this.bufferingItem=this.waitingItem=this.detachedData=null,r.detachMedia()),this.shouldPlay=!1}}get interstitialsManager(){if(!this.manager){if(!this.hls)return null;const e=this,t=()=>e.bufferingItem||e.waitingItem,n=h=>h&&e.getAssetPlayer(h.identifier),i=(h,p,g,x,y)=>{if(h){let v=h[p].start;const w=h.event;if(w){if(p==="playout"||w.timelineOccupancy!==Zm.Point){const L=n(g);(L==null?void 0:L.interstitial)===w&&(v+=L.assetItem.startOffset+L[y])}}else{const L=x==="bufferedPos"?a():e[x];v+=L-h.start}return v}return 0},r=(h,p)=>{if(h!==0&&p!=="primary"&&e.schedule.length){var g;const x=e.schedule.findItemIndexAtTime(h),y=(g=e.schedule.items)==null?void 0:g[x];if(y){const v=y[p].start-y.start;return h+v}}return h},a=()=>{const h=e.bufferedPos;return h===Number.MAX_VALUE?l("primary"):Math.max(h,0)},l=h=>{var p;return(p=e.primaryDetails)!=null&&p.live?e.primaryDetails.edge:e.schedule.durations[h]},c=(h,p)=>{var g,x;const y=e.effectivePlayingItem;if(y!=null&&(g=y.event)!=null&&g.restrictions.skip)return;e.log(`seek to ${h} "${p}"`);const v=e.effectivePlayingItem,w=e.schedule.findItemIndexAtTime(h,p),L=(x=e.schedule.items)==null?void 0:x[w],S=e.getBufferingPlayer(),j=S==null?void 0:S.interstitial,E=j==null?void 0:j.appendInPlace,M=v&&e.itemsMatch(v,L);if(v&&(E||M)){const I=n(e.playingAsset),A=(I==null?void 0:I.media)||e.primaryMedia;if(A){const D=p==="primary"?A.currentTime:i(v,p,e.playingAsset,"timelinePos","currentTime"),z=h-D,O=(E?D:A.currentTime)+z;if(O>=0&&(!I||E||O<=I.duration)){A.currentTime=O;return}}}if(L){let I=h;if(p!=="primary"){const D=L[p].start,z=h-D;I=L.start+z}const A=!e.isInterstitial(L);if((!e.isInterstitial(v)||v.event.appendInPlace)&&(A||L.event.appendInPlace)){const D=e.media||(E?S==null?void 0:S.media:null);D&&(D.currentTime=I)}else if(v){const D=e.findItemIndex(v);if(w>D){const O=e.schedule.findJumpRestrictedIndex(D+1,w);if(O>D){e.setSchedulePosition(O);return}}let z=0;if(A)e.timelinePos=I,e.checkBuffer();else{var N;const O=L==null||(N=L.event)==null?void 0:N.assetList;if(O){const Y=h-(L[p]||L).start;for(let q=O.length;q--;){const Z=O[q];if(Z.duration&&Y>=Z.startOffset&&Y<Z.startOffset+Z.duration){z=q;break}}}}e.setSchedulePosition(w,z)}}},f=()=>{const h=e.effectivePlayingItem;if(e.isInterstitial(h))return h;const p=t();return e.isInterstitial(p)?p:null},u={get currentTime(){const h=f(),p=e.effectivePlayingItem;return p&&p===h?i(p,"playout",e.effectivePlayingAsset,"timelinePos","currentTime")-p.playout.start:0},set currentTime(h){const p=f(),g=e.effectivePlayingItem;g&&g===p&&c(h+g.playout.start,"playout")},get duration(){const h=f();return h?h.playout.end-h.playout.start:0},get assetPlayers(){var h;const p=(h=f())==null?void 0:h.event.assetList;return p?p.map(g=>e.getAssetPlayer(g.identifier)):[]},get playingIndex(){var h;const p=(h=f())==null?void 0:h.event;return p&&e.effectivePlayingAsset?p.findAssetIndex(e.effectivePlayingAsset):-1},get scheduleItem(){return f()}};this.manager={get events(){var h,p;return((h=e.schedule)==null||(p=h.events)==null?void 0:p.slice(0))||[]},get schedule(){var h,p;return((h=e.schedule)==null||(p=h.items)==null?void 0:p.slice(0))||[]},get interstitialPlayer(){return f()?u:null},get playerQueue(){return e.playerQueue.slice(0)},get bufferingAsset(){return e.bufferingAsset},get bufferingItem(){return t()},get bufferingIndex(){const h=t();return e.findItemIndex(h)},get playingAsset(){return e.effectivePlayingAsset},get playingItem(){return e.effectivePlayingItem},get playingIndex(){const h=e.effectivePlayingItem;return e.findItemIndex(h)},primary:{get bufferedEnd(){return a()},get currentTime(){const h=e.timelinePos;return h>0?h:0},set currentTime(h){c(h,"primary")},get duration(){return l("primary")},get seekableStart(){var h;return((h=e.primaryDetails)==null?void 0:h.fragmentStart)||0}},integrated:{get bufferedEnd(){return i(t(),"integrated",e.bufferingAsset,"bufferedPos","bufferedEnd")},get currentTime(){return i(e.effectivePlayingItem,"integrated",e.effectivePlayingAsset,"timelinePos","currentTime")},set currentTime(h){c(h,"integrated")},get duration(){return l("integrated")},get seekableStart(){var h;return r(((h=e.primaryDetails)==null?void 0:h.fragmentStart)||0,"integrated")}},skip:()=>{const h=e.effectivePlayingItem,p=h==null?void 0:h.event;if(p&&!p.restrictions.skip){const g=e.findItemIndex(h);if(p.appendInPlace){const x=h.playout.start+h.event.duration;c(x+.001,"playout")}else e.advanceAfterAssetEnded(p,g,1/0)}}}}return this.manager}get effectivePlayingItem(){return this.waitingItem||this.playingItem||this.endedItem}get effectivePlayingAsset(){return this.playingAsset||this.endedAsset}get playingLastItem(){var e;const t=this.playingItem,n=(e=this.schedule)==null?void 0:e.items;return!this.playbackStarted||!t||!n?!1:this.findItemIndex(t)===n.length-1}get playbackStarted(){return this.effectivePlayingItem!==null}get currentTime(){var e,t,n;if(this.mediaSelection===null)return;const i=this.waitingItem||this.playingItem;if(this.isInterstitial(i)&&!i.event.appendInPlace)return;let r=this.media;!r&&(e=this.bufferingItem)!=null&&(t=e.event)!=null&&t.appendInPlace&&(r=this.primaryMedia);const a=(n=r)==null?void 0:n.currentTime;if(!(a===void 0||!we(a)))return a}get primaryMedia(){var e;return this.media||((e=this.detachedData)==null?void 0:e.media)||null}isInterstitial(e){return!!(e!=null&&e.event)}retreiveMediaSource(e,t){const n=this.getAssetPlayer(e);n&&this.transferMediaFromPlayer(n,t)}transferMediaFromPlayer(e,t){const n=e.interstitial.appendInPlace,i=e.media;if(n&&i===this.primaryMedia){if(this.bufferingAsset=null,(!t||this.isInterstitial(t)&&!t.event.appendInPlace)&&t&&i){this.detachedData={media:i};return}const r=e.transferMedia();this.log(`transfer MediaSource from ${e} ${Ct(r)}`),this.detachedData=r}else t&&i&&(this.shouldPlay||(this.shouldPlay=!i.paused))}transferMediaTo(e,t){var n,i;if(e.media===t)return;let r=null;const a=this.hls,l=e!==a,c=l&&e.interstitial.appendInPlace,f=(n=this.detachedData)==null?void 0:n.mediaSource;let u;if(a.media)c&&(r=a.transferMedia(),this.detachedData=r),u="Primary";else if(f){const g=this.getBufferingPlayer();g?(r=g.transferMedia(),u=`${g}`):u="detached MediaSource"}else u="detached media";if(!r){if(f)r=this.detachedData,this.log(`using detachedData: MediaSource ${Ct(r)}`);else if(!this.detachedData||a.media===t){const g=this.playerQueue;g.length>1&&g.forEach(x=>{if(l&&x.interstitial.appendInPlace!==c){const y=x.interstitial;this.clearInterstitial(x.interstitial,null),y.appendInPlace=!1,y.appendInPlace&&this.warn(`Could not change append strategy for queued assets ${y}`)}}),this.hls.detachMedia(),this.detachedData={media:t}}}const h=r&&"mediaSource"in r&&((i=r.mediaSource)==null?void 0:i.readyState)!=="closed",p=h&&r?r:t;if(this.log(`${h?"transfering MediaSource":"attaching media"} to ${l?e:"Primary"} from ${u}`),p===r){const g=l&&e.assetId===this.schedule.assetIdAtEnd;p.overrides={duration:this.schedule.duration,endOfStream:!l||g,cueRemoval:!l}}e.attachMedia(p)}onInterstitialCueEnter(){this.onTimeupdate()}checkStart(){const e=this.schedule,t=e.events;if(!t||this.playbackDisabled||!this.media)return;this.bufferedPos===-1&&(this.bufferedPos=0);const n=this.timelinePos,i=this.effectivePlayingItem;if(n===-1){const r=this.hls.startPosition;if(this.timelinePos=r,t.length&&t[0].cue.pre){const a=e.findEventIndex(t[0].identifier);this.setSchedulePosition(a)}else if(r>=0||!this.primaryLive){const a=this.timelinePos=r>0?r:0,l=e.findItemIndexAtTime(a);this.setSchedulePosition(l)}}else if(i&&!this.playingItem){const r=e.findItemIndex(i);this.setSchedulePosition(r)}}advanceAfterAssetEnded(e,t,n){const i=n+1;if(!e.isAssetPastPlayoutLimit(i)&&!e.assetList[i].error)this.setSchedulePosition(t,i);else{const r=this.schedule.items;if(r){const a=t+1,l=r.length;if(a>=l){this.setSchedulePosition(-1);return}const c=e.resumeTime;this.timelinePos<c&&(this.timelinePos=c,this.checkBuffer()),this.setSchedulePosition(a)}}}setScheduleToAssetAtTime(e,t){const n=this.schedule,i=t.parentIdentifier,r=n.getEvent(i);if(r){const a=n.findEventIndex(i),l=n.findAssetIndex(r,e);this.setSchedulePosition(a,l)}}setSchedulePosition(e,t){const n=this.schedule.items;if(!n||this.playbackDisabled)return;this.log(`setSchedulePosition ${e}, ${t}`);const i=e>=0?n[e]:null,r=this.playingItem,a=this.playingLastItem;if(this.isInterstitial(r)){var l;const f=r.event,u=this.playingAsset,h=u==null?void 0:u.identifier,p=h?this.getAssetPlayer(h):null;if(p&&h&&(!this.eventItemsMatch(r,i)||t!==void 0&&h!==((l=f.assetList)==null?void 0:l[t].identifier))){var c;const g=f.findAssetIndex(u);this.log(`INTERSTITIAL_ASSET_ENDED ${g+1}/${f.assetList.length} ${Kb(u)}`),this.endedAsset=u,this.playingAsset=null,this.hls.trigger(P.INTERSTITIAL_ASSET_ENDED,{asset:u,assetListIndex:g,event:f,schedule:n.slice(0),scheduleIndex:e,player:p}),this.retreiveMediaSource(h,i),p.media&&!((c=this.detachedData)!=null&&c.mediaSource)&&p.detachMedia()}if(!this.eventItemsMatch(r,i)&&(this.endedItem=r,this.playingItem=null,this.log(`INTERSTITIAL_ENDED ${f} ${da(r)}`),f.hasPlayed=!0,this.hls.trigger(P.INTERSTITIAL_ENDED,{event:f,schedule:n.slice(0),scheduleIndex:e}),f.cue.once)){this.updateSchedule();const g=this.schedule.items;if(i&&g){const x=this.schedule.findItemIndex(i);this.advanceSchedule(x,g,t,r,a)}return}}this.advanceSchedule(e,n,t,r,a)}advanceSchedule(e,t,n,i,r){const a=e>=0?t[e]:null,l=this.primaryMedia,c=this.playerQueue;if(c.length&&c.forEach(f=>{const u=f.interstitial,h=this.schedule.findEventIndex(u.identifier);(h<e||h>e+1)&&this.clearInterstitial(u,a)}),this.isInterstitial(a)){this.timelinePos=Math.min(Math.max(this.timelinePos,a.start),a.end);const f=a.event;n===void 0&&(n=this.schedule.findAssetIndex(f,this.timelinePos));const u=this.waitingItem;this.assetsBuffered(a,l)||this.setBufferingItem(a);let h=this.preloadAssets(f,n);if(this.eventItemsMatch(a,u||i)||(this.waitingItem=a,this.log(`INTERSTITIAL_STARTED ${da(a)} ${f.appendInPlace?"append in place":""}`),this.hls.trigger(P.INTERSTITIAL_STARTED,{event:f,schedule:t.slice(0),scheduleIndex:e})),!f.assetListLoaded){this.log(`Waiting for ASSET-LIST to complete loading ${f}`);return}if(f.assetListLoader&&(f.assetListLoader.destroy(),f.assetListLoader=void 0),!l){this.log(`Waiting for attachMedia to start Interstitial ${f}`);return}this.waitingItem=this.endedItem=null,this.playingItem=a;const p=f.assetList[n];if(!p){const g=t[e+1],x=this.media;g&&x&&!this.isInterstitial(g)&&x.currentTime<g.start&&(x.currentTime=this.timelinePos=g.start),this.advanceAfterAssetEnded(f,e,n||0);return}if(h||(h=this.getAssetPlayer(p.identifier)),h===null||h.destroyed){const g=f.assetList.length;this.warn(`asset ${n+1}/${g} player destroyed ${f}`),h=this.createAssetPlayer(f,p,n)}if(!this.eventItemsMatch(a,this.bufferingItem)&&f.appendInPlace&&this.isAssetBuffered(p))return;this.startAssetPlayer(h,n,t,e,l),this.shouldPlay&&w6(h.media)}else a!==null?(this.resumePrimary(a,e,i),this.shouldPlay&&w6(this.hls.media)):r&&this.isInterstitial(i)&&(this.endedItem=null,this.playingItem=i,i.event.appendInPlace||this.attachPrimary(this.schedule.durations.primary,null))}get playbackDisabled(){return this.hls.config.enableInterstitialPlayback===!1}get primaryDetails(){var e,t;return(e=this.mediaSelection)==null||(t=e.main)==null?void 0:t.details}get primaryLive(){var e;return!!((e=this.primaryDetails)!=null&&e.live)}resumePrimary(e,t,n){var i;if(this.playingItem=e,this.playingAsset=this.endedAsset=null,this.waitingItem=this.endedItem=null,this.bufferedToItem(e),this.log(`resuming ${da(e)}`),!((i=this.detachedData)!=null&&i.mediaSource)){let a=this.timelinePos;(a<e.start||a>=e.end)&&(a=this.getPrimaryResumption(e,t),this.timelinePos=a),this.attachPrimary(a,e)}if(!n)return;const r=this.schedule.items;r&&(this.log(`resumed ${da(e)}`),this.hls.trigger(P.INTERSTITIALS_PRIMARY_RESUMED,{schedule:r.slice(0),scheduleIndex:t}),this.checkBuffer())}getPrimaryResumption(e,t){const n=e.start;if(this.primaryLive){const i=this.primaryDetails;if(t===0)return this.hls.startPosition;if(i&&(n<i.fragmentStart||n>i.edge))return this.hls.liveSyncPosition||-1}return n}isAssetBuffered(e){const t=this.getAssetPlayer(e.identifier);return t!=null&&t.hls?t.hls.bufferedToEnd:Ge.bufferInfo(this.primaryMedia,this.timelinePos,0).end+1>=e.timelineStart+(e.duration||0)}attachPrimary(e,t,n){t?this.setBufferingItem(t):this.bufferingItem=this.playingItem,this.bufferingAsset=null;const i=this.primaryMedia;if(!i)return;const r=this.hls;r.media?this.checkBuffer():(this.transferMediaTo(r,i),n&&this.startLoadingPrimaryAt(e,n)),n||(this.timelinePos=e,this.startLoadingPrimaryAt(e,n))}startLoadingPrimaryAt(e,t){var n;const i=this.hls;!i.loadingEnabled||!i.media||Math.abs((((n=i.mainForwardBufferInfo)==null?void 0:n.start)||i.media.currentTime)-e)>.5?i.startLoad(e,t):i.bufferingEnabled||i.resumeBuffering()}onManifestLoading(){this.stopLoad(),this.schedule.reset(),this.emptyPlayerQueue(),this.clearScheduleState(),this.shouldPlay=!1,this.bufferedPos=this.timelinePos=-1,this.mediaSelection=this.altSelection=this.manager=this.requiredTracks=null,this.hls.off(P.BUFFER_CODECS,this.onBufferCodecs,this),this.hls.on(P.BUFFER_CODECS,this.onBufferCodecs,this)}onLevelUpdated(e,t){if(t.level===-1)return;const n=this.hls.levels[t.level],i=ct(ct({},this.mediaSelection||this.altSelection),{},{main:n});this.mediaSelection=i,this.schedule.parseInterstitialDateRanges(i,this.hls.config.interstitialAppendInPlace),!this.effectivePlayingItem&&this.schedule.items&&this.checkStart()}onAudioTrackUpdated(e,t){const n=this.hls.audioTracks[t.id],i=this.mediaSelection;if(!i){this.altSelection=ct(ct({},this.altSelection),{},{audio:n});return}const r=ct(ct({},i),{},{audio:n});this.mediaSelection=r}onSubtitleTrackUpdated(e,t){const n=this.hls.subtitleTracks[t.id],i=this.mediaSelection;if(!i){this.altSelection=ct(ct({},this.altSelection),{},{subtitles:n});return}const r=ct(ct({},i),{},{subtitles:n});this.mediaSelection=r}onAudioTrackSwitching(e,t){const n=Aj(t);this.playerQueue.forEach(i=>i.hls.setAudioOption(t)||i.hls.setAudioOption(n))}onSubtitleTrackSwitch(e,t){const n=Aj(t);this.playerQueue.forEach(i=>i.hls.setSubtitleOption(t)||t.id!==-1&&i.hls.setSubtitleOption(n))}onBufferCodecs(e,t){const n=t.tracks;n&&(this.requiredTracks=n)}onBufferAppended(e,t){this.checkBuffer()}onBufferFlushed(e,t){const n=this.playingItem;if(n&&!this.itemsMatch(n,this.bufferingItem)&&!this.isInterstitial(n)){const i=this.timelinePos;this.bufferedPos=i,this.checkBuffer()}}onBufferedToEnd(e){const t=this.schedule.events;if(this.bufferedPos<Number.MAX_VALUE&&t){for(let i=0;i<t.length;i++){const r=t[i];if(r.cue.post){var n;const a=this.schedule.findEventIndex(r.identifier),l=(n=this.schedule.items)==null?void 0:n[a];this.isInterstitial(l)&&this.eventItemsMatch(l,this.bufferingItem)&&this.bufferedToItem(l,0);break}}this.bufferedPos=Number.MAX_VALUE}}onMediaEnded(e){const t=this.playingItem;if(!this.playingLastItem&&t){const n=this.findItemIndex(t);this.setSchedulePosition(n+1)}else this.shouldPlay=!1}updateItem(e,t){const n=this.schedule.items;if(e&&n){const i=this.findItemIndex(e,t);return n[i]||null}return null}itemsMatch(e,t){return!!t&&(e===t||e.event&&t.event&&this.eventItemsMatch(e,t)||!e.event&&!t.event&&this.findItemIndex(e)===this.findItemIndex(t))}eventItemsMatch(e,t){var n;return!!t&&(e===t||e.event.identifier===((n=t.event)==null?void 0:n.identifier))}findItemIndex(e,t){return e?this.schedule.findItemIndex(e,t):-1}updateSchedule(){const e=this.mediaSelection;e&&this.schedule.updateSchedule(e,[])}checkBuffer(e){const t=this.schedule.items;if(!t)return;const n=Ge.bufferInfo(this.primaryMedia,this.timelinePos,0);e&&(this.bufferedPos=this.timelinePos),e||(e=n.len<1),this.updateBufferedPos(n.end,t,e)}updateBufferedPos(e,t,n){const i=this.schedule,r=this.bufferingItem;if(this.bufferedPos>e)return;if(t.length===1&&this.itemsMatch(t[0],r)){this.bufferedPos=e;return}const a=this.playingItem,l=this.findItemIndex(a);let c=i.findItemIndexAtTime(e);if(this.bufferedPos<e){var f,u;const h=this.findItemIndex(r),p=Math.min(h+1,t.length-1),g=t[p];if((c===-1&&r&&e>=r.end||(f=g.event)!=null&&f.appendInPlace&&e+.01>=g.start)&&(c=p),p-l>1&&(r==null||(u=r.event)==null?void 0:u.appendInPlace)===!1)return;if(this.bufferedPos=e,c>h&&c>l)this.bufferedToItem(g);else{const x=this.primaryDetails;this.primaryLive&&x&&e>x.edge-x.targetduration&&g.start<x.edge+this.hls.config.interstitialLiveLookAhead&&this.isInterstitial(g)&&this.preloadAssets(g.event,0)}}else n&&a&&!this.itemsMatch(a,r)&&(c===l?this.bufferedToItem(a):c===l+1&&this.bufferedToItem(t[c]))}assetsBuffered(e,t){return e.event.assetList.length===0?!1:!e.event.assetList.some(i=>{const r=this.getAssetPlayer(i.identifier);return!(r!=null&&r.bufferedInPlaceToEnd(t))})}setBufferingItem(e){const t=this.bufferingItem,n=this.schedule;if(this.itemsMatch(e,t))this.bufferingItem!==e&&(this.bufferingItem=e);else{const{items:i,events:r}=n;if(!i||!r)return t;const a=this.isInterstitial(e),l=this.getBufferingPlayer();if(this.bufferingItem=e,this.bufferedPos=Math.max(e.start,Math.min(e.end,this.timelinePos)),!this.playbackDisabled){const c=l?l.remaining:t?t.end-this.timelinePos:0;this.log(`buffered to boundary ${da(e)}`+(t?` (${c.toFixed(2)} remaining)`:"")),a?e.event.assetList.forEach(f=>{const u=this.getAssetPlayer(f.identifier);u&&u.resumeBuffering()}):(this.hls.resumeBuffering(),this.playerQueue.forEach(f=>f.pauseBuffering()))}this.hls.trigger(P.INTERSTITIALS_BUFFERED_TO_BOUNDARY,{events:r.slice(0),schedule:i.slice(0),bufferingIndex:this.findItemIndex(e),playingIndex:this.findItemIndex(this.playingItem)})}return t}bufferedToItem(e,t=0){const n=this.setBufferingItem(e);if(!this.playbackDisabled){if(this.isInterstitial(e))this.bufferedToEvent(e,t);else if(n!==null){this.bufferingAsset=null;const i=this.detachedData;i?i.mediaSource?this.attachPrimary(e.start,e,!0):this.preloadPrimary(e):this.preloadPrimary(e)}}}preloadPrimary(e){const t=this.findItemIndex(e),n=this.getPrimaryResumption(e,t);this.startLoadingPrimaryAt(n)}bufferedToEvent(e,t){const n=e.event,i=n.assetList.length===0&&!n.assetListLoader,r=n.cue.once;if(i||!r){const a=this.preloadAssets(n,t);if(a!=null&&a.interstitial.appendInPlace){const l=n.assetList[t],c=this.primaryMedia;l&&c&&this.bufferAssetPlayer(a,c)}}}preloadAssets(e,t){const n=e.assetUrl,i=e.assetList.length,r=i===0&&!e.assetListLoader,a=e.cue.once;if(r){const c=e.timelineStart;if(e.appendInPlace){var l;const p=this.playingItem;!this.isInterstitial(p)&&(p==null||(l=p.nextEvent)==null?void 0:l.identifier)===e.identifier&&this.flushFrontBuffer(c+.25)}let f,u=0;if(!this.playingItem&&this.primaryLive&&(u=this.hls.startPosition,u===-1&&(u=this.hls.liveSyncPosition||0)),u&&!(e.cue.pre||e.cue.post)){const p=u-c;p>0&&(f=Math.round(p*1e3)/1e3)}if(this.log(`Load interstitial asset ${t+1}/${n?1:i} ${e}${f?` live-start: ${u} start-offset: ${f}`:""}`),n)return this.createAsset(e,0,0,c,e.duration,n);const h=this.assetListLoader.loadAssetList(e,f);h&&(e.assetListLoader=h)}else if(!a&&i){for(let c=t;c<i;c++){const f=e.assetList[c],u=this.getAssetPlayerQueueIndex(f.identifier);(u===-1||this.playerQueue[u].destroyed)&&!f.error&&this.createAssetPlayer(e,f,c)}return this.getAssetPlayer(e.assetList[t].identifier)}return null}flushFrontBuffer(e){const t=this.requiredTracks;if(!t)return;this.log(`Removing front buffer starting at ${e}`),Object.keys(t).forEach(i=>{this.hls.trigger(P.BUFFER_FLUSHING,{startOffset:e,endOffset:1/0,type:i})})}getAssetPlayerQueueIndex(e){const t=this.playerQueue;for(let n=0;n<t.length;n++)if(e===t[n].assetId)return n;return-1}getAssetPlayer(e){const t=this.getAssetPlayerQueueIndex(e);return this.playerQueue[t]||null}getBufferingPlayer(){const{playerQueue:e,primaryMedia:t}=this;if(t){for(let n=0;n<e.length;n++)if(e[n].media===t)return e[n]}return null}createAsset(e,t,n,i,r,a){const l={parentIdentifier:e.identifier,identifier:Ote(e,a,t),duration:r,startOffset:n,timelineStart:i,uri:a};return this.createAssetPlayer(e,l,t)}createAssetPlayer(e,t,n){this.log(`create HLSAssetPlayer for ${Kb(t)}`);const i=this.hls,r=i.userConfig;let a=r.videoPreference;const l=i.loadLevelObj||i.levels[i.currentLevel];(a||l)&&(a=gt({},a),l.videoCodec&&(a.videoCodec=l.videoCodec),l.videoRange&&(a.allowedVideoRanges=[l.videoRange]));const c=i.audioTracks[i.audioTrack],f=i.subtitleTracks[i.subtitleTrack];let u=0;if(this.primaryLive||e.appendInPlace){const S=this.timelinePos-t.timelineStart;if(S>1){const j=t.duration;j&&S<j&&(u=S)}}const h=t.identifier,p=ct(ct({},r),{},{autoStartLoad:!0,startFragPrefetch:!0,primarySessionId:i.sessionId,assetPlayerId:h,abrEwmaDefaultEstimate:i.bandwidthEstimate,interstitialsController:void 0,startPosition:u,liveDurationInfinity:!1,testBandwidth:!1,videoPreference:a,audioPreference:c||r.audioPreference,subtitlePreference:f||r.subtitlePreference});e.appendInPlace&&(e.appendInPlaceStarted=!0,t.timelineStart&&(p.timelineOffset=t.timelineStart));const g=p.cmcd;g!=null&&g.sessionId&&g.contentId&&(p.cmcd=gt({},g,{contentId:uu(t.uri)})),this.getAssetPlayer(h)&&this.warn(`Duplicate date range identifier ${e} and asset ${h}`);const x=new Bte(this.HlsPlayerClass,p,e,t);this.playerQueue.push(x),e.assetList[n]=t;const y=S=>{if(S.live){const M=new Error(`Interstitials MUST be VOD assets ${e}`),N={fatal:!0,type:Ie.OTHER_ERROR,details:te.INTERSTITIAL_ASSET_ITEM_ERROR,error:M};this.handleAssetItemError(N,e,this.schedule.findEventIndex(e.identifier),n,M.message);return}const j=S.edge-S.fragmentStart,E=t.duration;(E===null||j>E)&&(this.log(`Interstitial asset "${h}" duration change ${E} > ${j}`),t.duration=j,this.updateSchedule())};x.on(P.LEVEL_UPDATED,(S,{details:j})=>y(j)),x.on(P.LEVEL_PTS_UPDATED,(S,{details:j})=>y(j));const v=(S,j)=>{const E=this.getAssetPlayer(h);if(E&&j.tracks){E.off(P.BUFFER_CODECS,v),E.tracks=j.tracks;const M=this.primaryMedia;this.bufferingAsset===E.assetItem&&M&&!E.media&&this.bufferAssetPlayer(E,M)}};x.on(P.BUFFER_CODECS,v);const w=()=>{var S;const j=this.getAssetPlayer(h);if(this.log(`buffered to end of asset ${j}`),!j)return;const E=this.schedule.findEventIndex(e.identifier),M=e.findAssetIndex(t),N=M+1,I=(S=this.schedule.items)==null?void 0:S[E];if(this.isInterstitial(I))if(M!==-1&&!e.isAssetPastPlayoutLimit(N)&&!e.assetList[N].error)this.bufferedToItem(I,N);else{var A;const D=(A=this.schedule.items)==null?void 0:A[E+1];D&&this.bufferedToItem(D)}};x.on(P.BUFFERED_TO_END,w);const L=S=>()=>{if(!this.getAssetPlayer(h))return;this.shouldPlay=!0;const E=this.schedule.findEventIndex(e.identifier);this.advanceAfterAssetEnded(e,E,S)};return x.once(P.MEDIA_ENDED,L(n)),x.once(P.PLAYOUT_LIMIT_REACHED,L(1/0)),x.on(P.ERROR,(S,j)=>{const E=this.getAssetPlayer(h);if(j.details===te.BUFFER_STALLED_ERROR){if(E!=null&&E.media){const M=E.currentTime,N=E.duration-M;M&&e.appendInPlace&&N/E.media.playbackRate<.5?(this.log(`Advancing buffer past end of asset ${h} ${e} at ${E.media.currentTime}`),w()):(this.warn(`Stalled at ${M} of ${M+N} in asset ${h} ${e}`),this.onTimeupdate(),this.checkBuffer(!0))}return}this.handleAssetItemError(j,e,this.schedule.findEventIndex(e.identifier),n,`Asset player error ${j.error} ${e}`)}),x.on(P.DESTROYING,()=>{if(!this.getAssetPlayer(h))return;const j=new Error(`Asset player destroyed unexpectedly ${h}`),E={fatal:!0,type:Ie.OTHER_ERROR,details:te.INTERSTITIAL_ASSET_ITEM_ERROR,error:j};this.handleAssetItemError(E,e,this.schedule.findEventIndex(e.identifier),n,j.message)}),this.hls.trigger(P.INTERSTITIAL_ASSET_PLAYER_CREATED,{asset:t,assetListIndex:n,event:e,player:x}),x}clearInterstitial(e,t){e.assetList.forEach(n=>{this.clearAssetPlayer(n.identifier,t)}),e.reset()}clearAssetPlayer(e,t){const n=this.getAssetPlayerQueueIndex(e);if(n!==-1){this.log(`clearAssetPlayer "${e}" toSegment: ${t&&da(t)}`);const i=this.playerQueue[n];this.transferMediaFromPlayer(i,t),this.playerQueue.splice(n,1),i.destroy()}}emptyPlayerQueue(){let e;for(;e=this.playerQueue.pop();)e.destroy();this.playerQueue=[]}startAssetPlayer(e,t,n,i,r){const{interstitial:a,assetItem:l,assetId:c}=e,f=a.assetList.length,u=this.playingAsset;this.endedAsset=null,this.playingAsset=l,(!u||u.identifier!==c)&&(u&&(this.clearAssetPlayer(u.identifier,n[i]),delete u.error),this.log(`INTERSTITIAL_ASSET_STARTED ${t+1}/${f} ${e}`),this.hls.trigger(P.INTERSTITIAL_ASSET_STARTED,{asset:l,assetListIndex:t,event:a,schedule:n.slice(0),scheduleIndex:i,player:e})),this.bufferAssetPlayer(e,r)}bufferAssetPlayer(e,t){var n,i;const{interstitial:r,assetItem:a,assetId:l}=e,c=this.schedule.findEventIndex(r.identifier),f=(n=this.schedule.items)==null?void 0:n[c];if(!f)return;this.setBufferingItem(f),this.bufferingAsset=a;const u=this.getBufferingPlayer();if(u===e)return;const h=r.appendInPlace;if(h&&(u==null?void 0:u.interstitial.appendInPlace)===!1)return;const p=(u==null?void 0:u.tracks)||((i=this.detachedData)==null?void 0:i.tracks)||this.requiredTracks;if(h&&a!==this.playingAsset){if(!e.tracks)return;if(p&&!N_(p,e.tracks)){const g=new Error(`Asset "${l}" SourceBuffer tracks ('${Object.keys(e.tracks)}') are not compatible with primary content tracks ('${Object.keys(p)}')`),x={fatal:!0,type:Ie.OTHER_ERROR,details:te.INTERSTITIAL_ASSET_ITEM_ERROR,error:g},y=r.findAssetIndex(a);this.handleAssetItemError(x,r,c,y,g.message);return}}this.transferMediaTo(e,t)}handleAssetItemError(e,t,n,i,r){if(e.details===te.BUFFER_STALLED_ERROR)return;const a=t.assetList[i]||null;let l=null;if(a){const h=this.getAssetPlayerQueueIndex(a.identifier);l=this.playerQueue[h]||null}const c=this.schedule.items,f=gt({},e,{fatal:!1,errorAction:$u(!0),asset:a,assetListIndex:i,event:t,schedule:c,scheduleIndex:n,player:l});if(this.warn(`Asset item error: ${e.error}`),this.hls.trigger(P.INTERSTITIAL_ASSET_ERROR,f),!e.fatal)return;const u=new Error(r);a&&(this.playingAsset!==a&&this.clearAssetPlayer(a.identifier,null),a.error=u),t.assetList.some(h=>!h.error)?t.appendInPlace&&(t.error=u):t.error=u,this.primaryFallback(t)}primaryFallback(e){const t=e.timelineStart,n=this.effectivePlayingItem;if(this.updateSchedule(),n){this.log(`Fallback to primary from event "${e.identifier}" start: ${t} pos: ${this.timelinePos} playing: ${n?da(n):"<none>"} error: ${e.error}`),e.appendInPlace&&(this.attachPrimary(t,null),this.flushFrontBuffer(t));let i=this.timelinePos;i===-1&&(i=this.hls.startPosition);const r=this.updateItem(n,i);if(this.itemsMatch(n,r))this.clearInterstitial(e,null);else{const a=this.schedule.findItemIndexAtTime(i);this.setSchedulePosition(a)}}else this.checkStart()}onAssetListLoaded(e,t){var n;const i=t.event,r=i.identifier,a=t.assetListResponse.ASSETS;if(!this.schedule.hasEvent(r))return;const l=i.timelineStart,c=i.duration;let f=0;a.forEach((x,y)=>{const v=parseFloat(x.DURATION);this.createAsset(i,y,f,l+f,v,x.URI),f+=v}),i.duration=f,this.log(`Loaded asset-list with duration: ${f} (was: ${c}) ${i}`);const u=this.waitingItem,h=(u==null?void 0:u.event.identifier)===r;this.updateSchedule();const p=(n=this.bufferingItem)==null?void 0:n.event;if(h){var g;const x=this.schedule.findEventIndex(r),y=(g=this.schedule.items)==null?void 0:g[x];if(y){if(!this.playingItem&&this.timelinePos>y.end&&this.schedule.findItemIndexAtTime(this.timelinePos)!==x){i.error=new Error(`Interstitial no longer within playback range ${this.timelinePos} ${i}`),this.primaryFallback(i);return}this.setBufferingItem(y)}this.setSchedulePosition(x)}else if((p==null?void 0:p.identifier)===r&&p.appendInPlace){const x=i.assetList[0],y=this.getAssetPlayer(x.identifier),v=this.primaryMedia;x&&y&&v&&this.bufferAssetPlayer(y,v)}}onError(e,t){switch(t.details){case te.ASSET_LIST_PARSING_ERROR:case te.ASSET_LIST_LOAD_ERROR:case te.ASSET_LIST_LOAD_TIMEOUT:{const n=t.interstitial;n&&this.primaryFallback(n);break}case te.BUFFER_STALLED_ERROR:{this.onTimeupdate(),this.checkBuffer(!0);break}}}}const S6=500;class Gte extends sw{constructor(e,t,n){super(e,t,n,"subtitle-stream-controller",Me.SUBTITLE),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(P.LEVEL_LOADED,this.onLevelLoaded,this),e.on(P.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(P.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(P.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(P.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(P.BUFFER_FLUSHING,this.onBufferFlushing,this)}unregisterListeners(){super.unregisterListeners();const{hls:e}=this;e.off(P.LEVEL_LOADED,this.onLevelLoaded,this),e.off(P.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(P.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(P.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(P.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(P.BUFFER_FLUSHING,this.onBufferFlushing,this)}startLoad(e,t){this.stopLoad(),this.state=re.IDLE,this.setInterval(S6),this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=t?-1:e,this.tick()}onManifestLoading(){super.onManifestLoading(),this.mainDetails=null}onMediaDetaching(e,t){this.tracksBuffered=[],super.onMediaDetaching(e,t)}onLevelLoaded(e,t){this.mainDetails=t.details}onSubtitleFragProcessed(e,t){const{frag:n,success:i}=t;if(hs(n)&&(this.fragPrevious=n),this.state=re.IDLE,!i)return;const r=this.tracksBuffered[this.currentTrackId];if(!r)return;let a;const l=n.start;for(let f=0;f<r.length;f++)if(l>=r[f].start&&l<=r[f].end){a=r[f];break}const c=n.start+n.duration;a?a.end=c:(a={start:l,end:c},r.push(a)),this.fragmentTracker.fragBuffered(n),this.fragBufferedComplete(n,null),this.media&&this.tick()}onBufferFlushing(e,t){const{startOffset:n,endOffset:i}=t;if(n===0&&i!==Number.POSITIVE_INFINITY){const r=i-1;if(r<=0)return;t.endOffsetSubtitles=Math.max(0,r),this.tracksBuffered.forEach(a=>{for(let l=0;l<a.length;){if(a[l].end<=r){a.shift();continue}else if(a[l].start<r)a[l].start=r;else break;l++}}),this.fragmentTracker.removeFragmentsInRange(n,r,Me.SUBTITLE)}}onError(e,t){const n=t.frag;(n==null?void 0:n.type)===Me.SUBTITLE&&(t.details===te.FRAG_GAP&&this.fragmentTracker.fragBuffered(n,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==re.STOPPED&&(this.state=re.IDLE))}onSubtitleTracksUpdated(e,{subtitleTracks:t}){if(this.levels&&EA(this.levels,t)){this.levels=t.map(n=>new Uu(n));return}this.tracksBuffered=[],this.levels=t.map(n=>{const i=new Uu(n);return this.tracksBuffered[i.id]=[],i}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,Me.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null}onSubtitleTrackSwitch(e,t){var n;if(this.currentTrackId=t.id,!((n=this.levels)!=null&&n.length)||this.currentTrackId===-1){this.clearInterval();return}const i=this.levels[this.currentTrackId];i!=null&&i.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,i&&this.state!==re.STOPPED&&this.setInterval(S6)}onSubtitleTrackLoaded(e,t){var n;const{currentTrackId:i,levels:r}=this,{details:a,id:l}=t;if(!r){this.warn(`Subtitle tracks were reset while loading level ${l}`);return}const c=r[l];if(l>=r.length||!c)return;this.log(`Subtitle track ${l} loaded [${a.startSN},${a.endSN}]${a.lastPartSn?`[part-${a.lastPartSn}-${a.lastPartIndex}]`:""},duration:${a.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let f=0;if(a.live||(n=c.details)!=null&&n.live){const h=this.mainDetails;if(a.deltaUpdateFailed||!h)return;const p=h.fragments[0];if(!c.details)a.hasProgramDateTime&&h.hasProgramDateTime?(Jm(a,h),f=a.fragmentStart):p&&(f=p.start,$b(a,f));else{var u;f=this.alignPlaylists(a,c.details,(u=this.levelLastLoaded)==null?void 0:u.details),f===0&&p&&(f=p.start,$b(a,f))}}c.details=a,this.levelLastLoaded=c,l===i&&(this.hls.trigger(P.SUBTITLE_TRACK_UPDATED,{details:a,id:l,groupId:t.groupId}),this.tick(),a.live&&!this.fragCurrent&&this.media&&this.state===re.IDLE&&(Go(null,a.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),c.details=void 0)))}_handleFragmentLoadComplete(e){const{frag:t,payload:n}=e,i=t.decryptdata,r=this.hls;if(!this.fragContextChanged(t)&&n&&n.byteLength>0&&i!=null&&i.key&&i.iv&&Kl(i.method)){const a=performance.now();this.decrypter.decrypt(new Uint8Array(n),i.key.buffer,i.iv.buffer,ew(i.method)).catch(l=>{throw r.trigger(P.ERROR,{type:Ie.MEDIA_ERROR,details:te.FRAG_DECRYPT_ERROR,fatal:!1,error:l,reason:l.message,frag:t}),l}).then(l=>{const c=performance.now();r.trigger(P.FRAG_DECRYPTED,{frag:t,payload:l,stats:{tstart:a,tdecrypt:c}})}).catch(l=>{this.warn(`${l.name}: ${l.message}`),this.state=re.IDLE})}}doTick(){if(!this.media){this.state=re.IDLE;return}if(this.state===re.IDLE){const{currentTrackId:e,levels:t}=this,n=t==null?void 0:t[e];if(!n||!t.length||!n.details||this.waitForLive(n))return;const{config:i}=this,r=this.getLoadPosition(),a=Ge.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],r,i.maxBufferHole),{end:l,len:c}=a,f=n.details,u=this.hls.maxBufferLength+f.levelTargetDuration;if(c>u)return;const h=f.fragments,p=h.length,g=f.edge;let x=null;const y=this.fragPrevious;if(l<g){const L=i.maxFragLookUpTolerance,S=l>g-L?0:L;x=Go(y,h,Math.max(h[0].start,l),S),!x&&y&&y.start<h[0].start&&(x=h[0])}else x=h[p-1];if(x=this.filterReplacedPrimary(x,n.details),!x)return;const v=x.sn-f.startSN,w=h[v-1];if(w&&w.cc===x.cc&&this.fragmentTracker.getState(w)===is.NOT_LOADED&&(x=w),this.fragmentTracker.getState(x)===is.NOT_LOADED){const L=this.mapToInitFragWhenRequired(x);L&&this.loadFragment(L,n,l)}}}loadFragment(e,t,n){hs(e)?super.loadFragment(e,t,n):this._loadInitSegment(e,t)}get mediaBufferTimeRanges(){return new Hte(this.tracksBuffered[this.currentTrackId]||[])}}class Hte{constructor(e){this.buffered=void 0;const t=(n,i,r)=>{if(i=i>>>0,i>r-1)throw new DOMException(`Failed to execute '${n}' on 'TimeRanges': The index provided (${i}) is greater than the maximum bound (${r})`);return e[i][n]};this.buffered={get length(){return e.length},end(n){return t("end",n,e.length)},start(n){return t("start",n,e.length)}}}}const Yte={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},OA=s=>String.fromCharCode(Yte[s]||s),xi=15,Lr=100,Wte={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},Qte={17:2,18:4,21:6,22:8,23:10,19:13,20:15},Kte={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},Jte={25:2,26:4,29:6,30:8,31:10,27:13,28:15},qte=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class Zte{constructor(){this.time=null,this.verboseLevel=0}log(e,t){if(this.verboseLevel>=e){const n=typeof t=="function"?t():t;st.log(`${this.time} [${e}] ${n}`)}}}const mo=function(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].toString(16));return t};class FA{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){const t=["foreground","underline","italics","background","flash"];for(let n=0;n<t.length;n++){const i=t[n];e.hasOwnProperty(i)&&(this[i]=e[i])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class Xte{constructor(){this.uchar=" ",this.penState=new FA}reset(){this.uchar=" ",this.penState.reset()}setChar(e,t){this.uchar=e,this.penState.copy(t)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}class ese{constructor(e){this.chars=[],this.pos=0,this.currPenState=new FA,this.cueStartTime=null,this.logger=void 0;for(let t=0;t<Lr;t++)this.chars.push(new Xte);this.logger=e}equals(e){for(let t=0;t<Lr;t++)if(!this.chars[t].equals(e.chars[t]))return!1;return!0}copy(e){for(let t=0;t<Lr;t++)this.chars[t].copy(e.chars[t])}isEmpty(){let e=!0;for(let t=0;t<Lr;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>Lr&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=Lr)}moveCursor(e){const t=this.pos+e;if(e>1)for(let n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();const t=OA(e);if(this.pos>=Lr){this.logger.log(0,()=>"Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1)}clearFromPos(e){let t;for(t=e;t<Lr;t++)this.chars[t].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const e=[];let t=!0;for(let n=0;n<Lr;n++){const i=this.chars[n].uchar;i!==" "&&(t=!1),e.push(i)}return t?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}class ty{constructor(e){this.rows=[],this.currRow=xi-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let t=0;t<xi;t++)this.rows.push(new ese(e));this.logger=e}reset(){for(let e=0;e<xi;e++)this.rows[e].clear();this.currRow=xi-1}equals(e){let t=!0;for(let n=0;n<xi;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t}copy(e){for(let t=0;t<xi;t++)this.rows[t].copy(e.rows[t])}isEmpty(){let e=!0;for(let t=0;t<xi;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e),this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,()=>"pacData = "+Ct(e));let t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(let l=0;l<xi;l++)this.rows[l].clear();const r=this.currRow+1-this.nrRollUpRows,a=this.lastOutputScreen;if(a){const l=a.rows[r].cueStartTime,c=this.logger.time;if(l!==null&&c!==null&&l<c)for(let f=0;f<this.nrRollUpRows;f++)this.rows[t-this.nrRollUpRows+f+1].copy(a.rows[r+f])}}this.currRow=t;const n=this.rows[this.currRow];if(e.indent!==null){const r=e.indent,a=Math.max(r-1,0);n.setCursor(e.indent),e.color=n.chars[a].penState.foreground}const i={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(i)}setBkgData(e){this.logger.log(2,()=>"bkgData = "+Ct(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(this.nrRollUpRows===null){this.logger.log(3,"roll_up but nrRollUpRows not set yet");return}this.logger.log(1,()=>this.getDisplayText());const e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;const t=[];let n="",i=-1;for(let r=0;r<xi;r++){const a=this.rows[r].getTextString();a&&(i=r+1,e?t.push("Row "+i+": '"+a+"'"):t.push(a.trim()))}return t.length>0&&(e?n="["+t.join(" | ")+"]":n=t.join(`
`)),n}getTextAndFormat(){return this.rows}}class L6{constructor(e,t,n){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new ty(n),this.nonDisplayedMemory=new ty(n),this.lastOutputScreen=new ty(n),this.currRollUpRow=this.displayedMemory.rows[xi-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[xi-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,()=>"MODE="+e),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let n=0;n<e.length;n++)this.writeScreen.insertChar(e[n]);const t=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>t+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){const t={flash:!1};if(t.underline=e%2===1,t.italics=e>=46,t.italics)t.foreground="white";else{const n=Math.floor(e/2)-16,i=["white","green","blue","cyan","red","yellow","magenta"];t.foreground=i[n]}this.logger.log(2,"MIDROW: "+Ct(t)),this.writeScreen.setPen(t)}outputDataUpdate(e=!1){const t=this.logger.time;t!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=t:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t),this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}class C6{constructor(e,t,n){this.channels=void 0,this.currentChannel=0,this.cmdHistory=sse(),this.logger=void 0;const i=this.logger=new Zte;this.channels=[null,new L6(e,t,i),new L6(e+1,n,i)]}getHandler(e){return this.channels[e].getHandler()}setHandler(e,t){this.channels[e].setHandler(t)}addData(e,t){this.logger.time=e;for(let n=0;n<t.length;n+=2){const i=t[n]&127,r=t[n+1]&127;let a=!1,l=null;if(i===0&&r===0)continue;this.logger.log(3,()=>"["+mo([t[n],t[n+1]])+"] -> ("+mo([i,r])+")");const c=this.cmdHistory;if(i>=16&&i<=31){if(tse(i,r,c)){h0(null,null,c),this.logger.log(3,()=>"Repeated command ("+mo([i,r])+") is dropped");continue}h0(i,r,this.cmdHistory),a=this.parseCmd(i,r),a||(a=this.parseMidrow(i,r)),a||(a=this.parsePAC(i,r)),a||(a=this.parseBackgroundAttributes(i,r))}else h0(null,null,c);if(!a&&(l=this.parseChars(i,r),l)){const u=this.currentChannel;u&&u>0?this.channels[u].insertChars(l):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!a&&!l&&this.logger.log(2,()=>"Couldn't parse cleaned data "+mo([i,r])+" orig: "+mo([t[n],t[n+1]]))}}parseCmd(e,t){const n=(e===20||e===28||e===21||e===29)&&t>=32&&t<=47,i=(e===23||e===31)&&t>=33&&t<=35;if(!(n||i))return!1;const r=e===20||e===21||e===23?1:2,a=this.channels[r];return e===20||e===21||e===28||e===29?t===32?a.ccRCL():t===33?a.ccBS():t===34?a.ccAOF():t===35?a.ccAON():t===36?a.ccDER():t===37?a.ccRU(2):t===38?a.ccRU(3):t===39?a.ccRU(4):t===40?a.ccFON():t===41?a.ccRDC():t===42?a.ccTR():t===43?a.ccRTD():t===44?a.ccEDM():t===45?a.ccCR():t===46?a.ccENM():t===47&&a.ccEOC():a.ccTO(t-32),this.currentChannel=r,!0}parseMidrow(e,t){let n=0;if((e===17||e===25)&&t>=32&&t<=47){if(e===17?n=1:n=2,n!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const i=this.channels[n];return i?(i.ccMIDROW(t),this.logger.log(3,()=>"MIDROW ("+mo([e,t])+")"),!0):!1}return!1}parsePAC(e,t){let n;const i=(e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127,r=(e===16||e===24)&&t>=64&&t<=95;if(!(i||r))return!1;const a=e<=23?1:2;t>=64&&t<=95?n=a===1?Wte[e]:Kte[e]:n=a===1?Qte[e]:Jte[e];const l=this.channels[a];return l?(l.setPAC(this.interpretPAC(n,t)),this.currentChannel=a,!0):!1}interpretPAC(e,t){let n;const i={color:null,italics:!1,indent:null,underline:!1,row:e};return t>95?n=t-96:n=t-64,i.underline=(n&1)===1,n<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(i.italics=!0,i.color="white"):i.indent=Math.floor((n-16)/2)*4,i}parseChars(e,t){let n,i=null,r=null;if(e>=25?(n=2,r=e-8):(n=1,r=e),r>=17&&r<=19){let a;r===17?a=t+80:r===18?a=t+112:a=t+144,this.logger.log(2,()=>"Special char '"+OA(a)+"' in channel "+n),i=[a]}else e>=32&&e<=127&&(i=t===0?[e]:[e,t]);return i&&this.logger.log(3,()=>"Char codes =  "+mo(i).join(",")),i}parseBackgroundAttributes(e,t){const n=(e===16||e===24)&&t>=32&&t<=47,i=(e===23||e===31)&&t>=45&&t<=47;if(!(n||i))return!1;let r;const a={};e===16||e===24?(r=Math.floor((t-32)/2),a.background=qte[r],t%2===1&&(a.background=a.background+"_semi")):t===45?a.background="transparent":(a.foreground="black",t===47&&(a.underline=!0));const l=e<=23?1:2;return this.channels[l].setBkgData(a),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){const t=this.channels[e];t&&t.reset()}h0(null,null,this.cmdHistory)}cueSplitAtTime(e){for(let t=0;t<this.channels.length;t++){const n=this.channels[t];n&&n.cueSplitAtTime(e)}}}function h0(s,e,t){t.a=s,t.b=e}function tse(s,e,t){return t.a===s&&t.b===e}function sse(){return{a:null,b:null}}var hw=function(){if(Km!=null&&Km.VTTCue)return self.VTTCue;const s=["","lr","rl"],e=["start","middle","end","left","right"];function t(l,c){if(typeof c!="string"||!Array.isArray(l))return!1;const f=c.toLowerCase();return~l.indexOf(f)?f:!1}function n(l){return t(s,l)}function i(l){return t(e,l)}function r(l,...c){let f=1;for(;f<arguments.length;f++){const u=arguments[f];for(const h in u)l[h]=u[h]}return l}function a(l,c,f){const u=this,h={enumerable:!0};u.hasBeenReset=!1;let p="",g=!1,x=l,y=c,v=f,w=null,L="",S=!0,j="auto",E="start",M=50,N="middle",I=50,A="middle";Object.defineProperty(u,"id",r({},h,{get:function(){return p},set:function(D){p=""+D}})),Object.defineProperty(u,"pauseOnExit",r({},h,{get:function(){return g},set:function(D){g=!!D}})),Object.defineProperty(u,"startTime",r({},h,{get:function(){return x},set:function(D){if(typeof D!="number")throw new TypeError("Start time must be set to a number.");x=D,this.hasBeenReset=!0}})),Object.defineProperty(u,"endTime",r({},h,{get:function(){return y},set:function(D){if(typeof D!="number")throw new TypeError("End time must be set to a number.");y=D,this.hasBeenReset=!0}})),Object.defineProperty(u,"text",r({},h,{get:function(){return v},set:function(D){v=""+D,this.hasBeenReset=!0}})),Object.defineProperty(u,"region",r({},h,{get:function(){return w},set:function(D){w=D,this.hasBeenReset=!0}})),Object.defineProperty(u,"vertical",r({},h,{get:function(){return L},set:function(D){const z=n(D);if(z===!1)throw new SyntaxError("An invalid or illegal string was specified.");L=z,this.hasBeenReset=!0}})),Object.defineProperty(u,"snapToLines",r({},h,{get:function(){return S},set:function(D){S=!!D,this.hasBeenReset=!0}})),Object.defineProperty(u,"line",r({},h,{get:function(){return j},set:function(D){if(typeof D!="number"&&D!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");j=D,this.hasBeenReset=!0}})),Object.defineProperty(u,"lineAlign",r({},h,{get:function(){return E},set:function(D){const z=i(D);if(!z)throw new SyntaxError("An invalid or illegal string was specified.");E=z,this.hasBeenReset=!0}})),Object.defineProperty(u,"position",r({},h,{get:function(){return M},set:function(D){if(D<0||D>100)throw new Error("Position must be between 0 and 100.");M=D,this.hasBeenReset=!0}})),Object.defineProperty(u,"positionAlign",r({},h,{get:function(){return N},set:function(D){const z=i(D);if(!z)throw new SyntaxError("An invalid or illegal string was specified.");N=z,this.hasBeenReset=!0}})),Object.defineProperty(u,"size",r({},h,{get:function(){return I},set:function(D){if(D<0||D>100)throw new Error("Size must be between 0 and 100.");I=D,this.hasBeenReset=!0}})),Object.defineProperty(u,"align",r({},h,{get:function(){return A},set:function(D){const z=i(D);if(!z)throw new SyntaxError("An invalid or illegal string was specified.");A=z,this.hasBeenReset=!0}})),u.displayState=void 0}return a.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},a}();class nse{decode(e,t){if(!e)return"";if(typeof e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}function zA(s){function e(n,i,r,a){return(n|0)*3600+(i|0)*60+(r|0)+parseFloat(a||0)}const t=s.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return t?parseFloat(t[2])>59?e(t[2],t[3],0,t[4]):e(t[1],t[2],t[3],t[4]):null}class ise{constructor(){this.values=Object.create(null)}set(e,t){!this.get(e)&&t!==""&&(this.values[e]=t)}get(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t}has(e){return e in this.values}alt(e,t,n){for(let i=0;i<n.length;++i)if(t===n[i]){this.set(e,t);break}}integer(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))}percent(e,t){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(t)){const n=parseFloat(t);if(n>=0&&n<=100)return this.set(e,n),!0}return!1}}function BA(s,e,t,n){const i=n?s.split(n):[s];for(const r in i){if(typeof i[r]!="string")continue;const a=i[r].split(t);if(a.length!==2)continue;const l=a[0],c=a[1];e(l,c)}}const Jb=new hw(0,0,""),m0=Jb.align==="middle"?"middle":"center";function rse(s,e,t){const n=s;function i(){const l=zA(s);if(l===null)throw new Error("Malformed timestamp: "+n);return s=s.replace(/^[^\sa-zA-Z-]+/,""),l}function r(l,c){const f=new ise;BA(l,function(p,g){let x;switch(p){case"region":for(let y=t.length-1;y>=0;y--)if(t[y].id===g){f.set(p,t[y].region);break}break;case"vertical":f.alt(p,g,["rl","lr"]);break;case"line":x=g.split(","),f.integer(p,x[0]),f.percent(p,x[0])&&f.set("snapToLines",!1),f.alt(p,x[0],["auto"]),x.length===2&&f.alt("lineAlign",x[1],["start",m0,"end"]);break;case"position":x=g.split(","),f.percent(p,x[0]),x.length===2&&f.alt("positionAlign",x[1],["start",m0,"end","line-left","line-right","auto"]);break;case"size":f.percent(p,g);break;case"align":f.alt(p,g,["start",m0,"end","left","right"]);break}},/:/,/\s/),c.region=f.get("region",null),c.vertical=f.get("vertical","");let u=f.get("line","auto");u==="auto"&&Jb.line===-1&&(u=-1),c.line=u,c.lineAlign=f.get("lineAlign","start"),c.snapToLines=f.get("snapToLines",!0),c.size=f.get("size",100),c.align=f.get("align",m0);let h=f.get("position","auto");h==="auto"&&Jb.position===50&&(h=c.align==="start"||c.align==="left"?0:c.align==="end"||c.align==="right"?100:50),c.position=h}function a(){s=s.replace(/^\s+/,"")}if(a(),e.startTime=i(),a(),s.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+n);s=s.slice(3),a(),e.endTime=i(),a(),r(s,e)}function UA(s){return s.replace(/<br(?: \/)?>/gi,`
`)}class ase{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new nse,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){const t=this;e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));function n(){let r=t.buffer,a=0;for(r=UA(r);a<r.length&&r[a]!=="\r"&&r[a]!==`
`;)++a;const l=r.slice(0,a);return r[a]==="\r"&&++a,r[a]===`
`&&++a,t.buffer=r.slice(a),l}function i(r){BA(r,function(a,l){},/:/)}try{let r="";if(t.state==="INITIAL"){if(!/\r\n|\n/.test(t.buffer))return this;r=n();const l=r.match(/^()?WEBVTT([ \t].*)?$/);if(!(l!=null&&l[0]))throw new Error("Malformed WebVTT signature.");t.state="HEADER"}let a=!1;for(;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(a?a=!1:r=n(),t.state){case"HEADER":/:/.test(r)?i(r):r||(t.state="ID");continue;case"NOTE":r||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){t.state="NOTE";break}if(!r)continue;if(t.cue=new hw(0,0,""),t.state="CUE",r.indexOf("-->")===-1){t.cue.id=r;continue}case"CUE":if(!t.cue){t.state="BADCUE";continue}try{rse(r,t.cue,t.regionList)}catch{t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":{const l=r.indexOf("-->")!==-1;if(!r||l&&(a=!0)){t.oncue&&t.cue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}if(t.cue===null)continue;t.cue.text&&(t.cue.text+=`
`),t.cue.text+=r}continue;case"BADCUE":r||(t.state="ID")}}}catch{t.state==="CUETEXT"&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state=t.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this}flush(){const e=this;try{if((e.cue||e.state==="HEADER")&&(e.buffer+=`

`,e.parse()),e.state==="INITIAL"||e.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(t){e.onparsingerror&&e.onparsingerror(t)}return e.onflush&&e.onflush(),this}}const ose=/\r\n|\n\r|\n|\r/g,sy=function(e,t,n=0){return e.slice(n,n+t.length)===t},lse=function(e){let t=parseInt(e.slice(-3));const n=parseInt(e.slice(-6,-4)),i=parseInt(e.slice(-9,-7)),r=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!we(t)||!we(n)||!we(i)||!we(r))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${e}`);return t+=1e3*n,t+=60*1e3*i,t+=60*60*1e3*r,t};function mw(s,e,t){return uu(s.toString())+uu(e.toString())+uu(t)}const cse=function(e,t,n){let i=e[t],r=e[i.prevCC];if(!r||!r.new&&i.new){e.ccOffset=e.presentationOffset=i.start,i.new=!1;return}for(;(a=r)!=null&&a.new;){var a;e.ccOffset+=i.start-r.start,i.new=!1,i=r,r=e[i.prevCC]}e.presentationOffset=n};function fse(s,e,t,n,i,r,a){const l=new ase,c=Mn(new Uint8Array(s)).trim().replace(ose,`
`).split(`
`),f=[],u=e?Nee(e.baseTime,e.timescale):0;let h="00:00.000",p=0,g=0,x,y=!0;l.oncue=function(v){const w=t[n];let L=t.ccOffset;const S=(p-u)/9e4;if(w!=null&&w.new&&(g!==void 0?L=t.ccOffset=w.start:cse(t,n,S)),S){if(!e){x=new Error("Missing initPTS for VTT MPEGTS");return}L=S-t.presentationOffset}const j=v.endTime-v.startTime,E=Qn((v.startTime+L-g)*9e4,i*9e4)/9e4;v.startTime=Math.max(E,0),v.endTime=Math.max(E+j,0);const M=v.text.trim();v.text=decodeURIComponent(encodeURIComponent(M)),v.id||(v.id=mw(v.startTime,v.endTime,M)),v.endTime>0&&f.push(v)},l.onparsingerror=function(v){x=v},l.onflush=function(){if(x){a(x);return}r(f)},c.forEach(v=>{if(y)if(sy(v,"X-TIMESTAMP-MAP=")){y=!1,v.slice(16).split(",").forEach(w=>{sy(w,"LOCAL:")?h=w.slice(6):sy(w,"MPEGTS:")&&(p=parseInt(w.slice(7)))});try{g=lse(h)/1e3}catch(w){x=w}return}else v===""&&(y=!1);l.parse(v+`
`)}),l.flush()}const ny="stpp.ttml.im1t",$A=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,VA=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,use={left:"start",center:"center",right:"end",start:"start",end:"end"};function T6(s,e,t,n){const i=Ue(new Uint8Array(s),["mdat"]);if(i.length===0){n(new Error("Could not parse IMSC1 mdat"));return}const r=i.map(l=>Mn(l)),a=Eee(e.baseTime,1,e.timescale);try{r.forEach(l=>t(dse(l,a)))}catch(l){n(l)}}function dse(s,e){const i=new DOMParser().parseFromString(s,"text/xml").getElementsByTagName("tt")[0];if(!i)throw new Error("Invalid ttml");const r={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},a=Object.keys(r).reduce((h,p)=>(h[p]=i.getAttribute(`ttp:${p}`)||r[p],h),{}),l=i.getAttribute("xml:space")!=="preserve",c=j6(iy(i,"styling","style")),f=j6(iy(i,"layout","region")),u=iy(i,"body","[begin]");return[].map.call(u,h=>{const p=GA(h,l);if(!p||!h.hasAttribute("begin"))return null;const g=ay(h.getAttribute("begin"),a),x=ay(h.getAttribute("dur"),a);let y=ay(h.getAttribute("end"),a);if(g===null)throw E6(h);if(y===null){if(x===null)throw E6(h);y=g+x}const v=new hw(g-e,y-e,p);v.id=mw(v.startTime,v.endTime,v.text);const w=f[h.getAttribute("region")],L=c[h.getAttribute("style")],S=hse(w,L,c),{textAlign:j}=S;if(j){const E=use[j];E&&(v.lineAlign=E),v.align=j}return gt(v,S),v}).filter(h=>h!==null)}function iy(s,e,t){const n=s.getElementsByTagName(e)[0];return n?[].slice.call(n.querySelectorAll(t)):[]}function j6(s){return s.reduce((e,t)=>{const n=t.getAttribute("xml:id");return n&&(e[n]=t),e},{})}function GA(s,e){return[].slice.call(s.childNodes).reduce((t,n,i)=>{var r;return n.nodeName==="br"&&i?t+`
`:(r=n.childNodes)!=null&&r.length?GA(n,e):e?t+n.textContent.trim().replace(/\s+/g," "):t+n.textContent},"")}function hse(s,e,t){const n="http://www.w3.org/ns/ttml#styling";let i=null;const r=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],a=s!=null&&s.hasAttribute("style")?s.getAttribute("style"):null;return a&&t.hasOwnProperty(a)&&(i=t[a]),r.reduce((l,c)=>{const f=ry(e,n,c)||ry(s,n,c)||ry(i,n,c);return f&&(l[c]=f),l},{})}function ry(s,e,t){return s&&s.hasAttributeNS(e,t)?s.getAttributeNS(e,t):null}function E6(s){return new Error(`Could not parse ttml timestamp ${s}`)}function ay(s,e){if(!s)return null;let t=zA(s);return t===null&&($A.test(s)?t=mse(s,e):VA.test(s)&&(t=pse(s,e))),t}function mse(s,e){const t=$A.exec(s),n=(t[4]|0)+(t[5]|0)/e.subFrameRate;return(t[1]|0)*3600+(t[2]|0)*60+(t[3]|0)+n/e.frameRate}function pse(s,e){const t=VA.exec(s),n=Number(t[1]);switch(t[2]){case"h":return n*3600;case"m":return n*60;case"ms":return n*1e3;case"f":return n/e.frameRate;case"t":return n/e.tickRate}return n}class p0{constructor(e,t){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=t}dispatchCue(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,t,n){(this.startTime===null||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}class gse{constructor(e){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=M6(),this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},e.on(P.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(P.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(P.MANIFEST_LOADING,this.onManifestLoading,this),e.on(P.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(P.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(P.FRAG_LOADING,this.onFragLoading,this),e.on(P.FRAG_LOADED,this.onFragLoaded,this),e.on(P.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(P.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(P.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(P.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(P.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:e}=this;e.off(P.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(P.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(P.MANIFEST_LOADING,this.onManifestLoading,this),e.off(P.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(P.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(P.FRAG_LOADING,this.onFragLoading,this),e.off(P.FRAG_LOADED,this.onFragLoaded,this),e.off(P.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(P.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(P.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(P.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(P.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.media=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){const e=new p0(this,"textTrack1"),t=new p0(this,"textTrack2"),n=new p0(this,"textTrack3"),i=new p0(this,"textTrack4");this.cea608Parser1=new C6(1,e,t),this.cea608Parser2=new C6(3,n,i)}addCues(e,t,n,i,r){let a=!1;for(let l=r.length;l--;){const c=r[l],f=xse(c[0],c[1],t,n);if(f>=0&&(c[0]=Math.min(c[0],t),c[1]=Math.max(c[1],n),a=!0,f/(n-t)>.5))return}if(a||r.push([t,n]),this.config.renderTextTracksNatively){const l=this.captionsTracks[e];this.Cues.newCue(l,t,n,i)}else{const l=this.Cues.newCue(null,t,n,i);this.hls.trigger(P.CUES_PARSED,{type:"captions",cues:l,track:e})}}onInitPtsFound(e,{frag:t,id:n,initPTS:i,timescale:r}){const{unparsedVttFrags:a}=this;n===Me.MAIN&&(this.initPTS[t.cc]={baseTime:i,timescale:r}),a.length&&(this.unparsedVttFrags=[],a.forEach(l=>{this.onFragLoaded(P.FRAG_LOADED,l)}))}getExistingTrack(e,t){const{media:n}=this;if(n)for(let i=0;i<n.textTracks.length;i++){const r=n.textTracks[i];if(N6(r,{name:e,lang:t,characteristics:"transcribes-spoken-dialog,describes-music-and-sound"}))return r}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;const{captionsProperties:t,captionsTracks:n,media:i}=this,{label:r,languageCode:a}=t[e],l=this.getExistingTrack(r,a);if(l)n[e]=l,Ul(n[e]),DA(n[e],i);else{const c=this.createTextTrack("captions",r,a);c&&(c[e]=!0,n[e]=c)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;const t=this.captionsProperties[e];if(!t)return;const n=t.label,i={_id:e,label:n,kind:"captions",default:t.media?!!t.media.default:!1,closedCaptions:t.media};this.nonNativeCaptionsTracks[e]=i,this.hls.trigger(P.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[i]})}createTextTrack(e,t,n){const i=this.media;if(i)return i.addTextTrack(e,t,n)}onMediaAttaching(e,t){this.media=t.media,t.mediaSource||this._cleanTracks()}onMediaDetaching(e,t){const n=!!t.transferMedia;if(this.media=null,n)return;const{captionsTracks:i}=this;Object.keys(i).forEach(r=>{Ul(i[r]),delete i[r]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=M6(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:e}=this;if(!e)return;const t=e.textTracks;if(t)for(let n=0;n<t.length;n++)Ul(t[n])}onSubtitleTracksUpdated(e,t){const n=t.subtitleTracks||[],i=n.some(r=>r.textCodec===ny);if(this.config.enableWebVTT||i&&this.config.enableIMSC1){if(EA(this.tracks,n)){this.tracks=n;return}if(this.textTracks=[],this.tracks=n,this.config.renderTextTracksNatively){const a=this.media,l=a?em(a.textTracks):null;if(this.tracks.forEach((c,f)=>{let u;if(l){let h=null;for(let p=0;p<l.length;p++)if(l[p]&&N6(l[p],c)){h=l[p],l[p]=null;break}h&&(u=h)}if(u)Ul(u);else{const h=HA(c);u=this.createTextTrack(h,c.name,c.lang),u&&(u.mode="disabled")}u&&this.textTracks.push(u)}),l!=null&&l.length){const c=l.filter(f=>f!==null).map(f=>f.label);c.length&&this.hls.logger.warn(`Media element contains unused subtitle tracks: ${c.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const a=this.tracks.map(l=>({label:l.name,kind:l.type.toLowerCase(),default:l.default,subtitleTrack:l}));this.hls.trigger(P.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:a})}}}onManifestLoaded(e,t){this.config.enableCEA708Captions&&t.captions&&t.captions.forEach(n=>{const i=/(?:CC|SERVICE)([1-4])/.exec(n.instreamId);if(!i)return;const r=`textTrack${i[1]}`,a=this.captionsProperties[r];a&&(a.label=n.name,n.lang&&(a.languageCode=n.lang),a.media=n)})}closedCaptionsForLevel(e){const t=this.hls.levels[e.level];return t==null?void 0:t.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,t){if(this.enabled&&t.frag.type===Me.MAIN){var n,i;const{cea608Parser1:r,cea608Parser2:a,lastSn:l}=this,{cc:c,sn:f}=t.frag,u=(n=(i=t.part)==null?void 0:i.index)!=null?n:-1;r&&a&&(f!==l+1||f===l&&u!==this.lastPartIndex+1||c!==this.lastCc)&&(r.reset(),a.reset()),this.lastCc=c,this.lastSn=f,this.lastPartIndex=u}}onFragLoaded(e,t){const{frag:n,payload:i}=t;if(n.type===Me.SUBTITLE)if(i.byteLength){const r=n.decryptdata,a="stats"in t;if(r==null||!r.encrypted||a){const l=this.tracks[n.level],c=this.vttCCs;c[n.cc]||(c[n.cc]={start:n.start,prevCC:this.prevCC,new:!0},this.prevCC=n.cc),l&&l.textCodec===ny?this._parseIMSC1(n,i):this._parseVTTs(t)}}else this.hls.trigger(P.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,t){const n=this.hls;T6(t,this.initPTS[e.cc],i=>{this._appendCues(i,e.level),n.trigger(P.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},i=>{n.logger.log(`Failed to parse IMSC1: ${i}`),n.trigger(P.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:i})})}_parseVTTs(e){var t;const{frag:n,payload:i}=e,{initPTS:r,unparsedVttFrags:a}=this,l=r.length-1;if(!r[n.cc]&&l===-1){a.push(e);return}const c=this.hls,f=(t=n.initSegment)!=null&&t.data?ni(n.initSegment.data,new Uint8Array(i)).buffer:i;fse(f,this.initPTS[n.cc],this.vttCCs,n.cc,n.start,u=>{this._appendCues(u,n.level),c.trigger(P.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:n})},u=>{const h=u.message==="Missing initPTS for VTT MPEGTS";h?a.push(e):this._fallbackToIMSC1(n,i),c.logger.log(`Failed to parse VTT cue: ${u}`),!(h&&l>n.cc)&&c.trigger(P.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:u})})}_fallbackToIMSC1(e,t){const n=this.tracks[e.level];n.textCodec||T6(t,this.initPTS[e.cc],()=>{n.textCodec=ny,this._parseIMSC1(e,t)},()=>{n.textCodec="wvtt"})}_appendCues(e,t){const n=this.hls;if(this.config.renderTextTracksNatively){const i=this.textTracks[t];if(!i||i.mode==="disabled")return;e.forEach(r=>PA(i,r))}else{const i=this.tracks[t];if(!i)return;const r=i.default?"default":"subtitles"+t;n.trigger(P.CUES_PARSED,{type:"subtitles",cues:e,track:r})}}onFragDecrypted(e,t){const{frag:n}=t;n.type===Me.SUBTITLE&&this.onFragLoaded(P.FRAG_LOADED,t)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,t){if(!this.enabled||!this.config.enableCEA708Captions)return;const{frag:n,samples:i}=t;if(!(n.type===Me.MAIN&&this.closedCaptionsForLevel(n)==="NONE"))for(let r=0;r<i.length;r++){const a=i[r].bytes;if(a){this.cea608Parser1||this.initCea608Parsers();const l=this.extractCea608Data(a);this.cea608Parser1.addData(i[r].pts,l[0]),this.cea608Parser2.addData(i[r].pts,l[1])}}}onBufferFlushing(e,{startOffset:t,endOffset:n,endOffsetSubtitles:i,type:r}){const{media:a}=this;if(!(!a||a.currentTime<n)){if(!r||r==="video"){const{captionsTracks:l}=this;Object.keys(l).forEach(c=>Qb(l[c],t,n))}if(this.config.renderTextTracksNatively&&t===0&&i!==void 0){const{textTracks:l}=this;Object.keys(l).forEach(c=>Qb(l[c],t,i))}}}extractCea608Data(e){const t=[[],[]],n=e[0]&31;let i=2;for(let r=0;r<n;r++){const a=e[i++],l=127&e[i++],c=127&e[i++];if(l===0&&c===0)continue;if((4&a)!==0){const u=3&a;(u===0||u===1)&&(t[u].push(l),t[u].push(c))}}return t}}function HA(s){return s.characteristics&&/transcribes-spoken-dialog/gi.test(s.characteristics)&&/describes-music-and-sound/gi.test(s.characteristics)?"captions":"subtitles"}function N6(s,e){return!!s&&s.kind===HA(e)&&Hb(e,s)}function xse(s,e,t,n){return Math.min(e,n)-Math.max(s,t)}function M6(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}const yse=/\s/,bse={newCue(s,e,t,n){const i=[];let r,a,l,c,f;const u=self.VTTCue||self.TextTrackCue;for(let p=0;p<n.rows.length;p++)if(r=n.rows[p],l=!0,c=0,f="",!r.isEmpty()){var h;for(let y=0;y<r.chars.length;y++)yse.test(r.chars[y].uchar)&&l?c++:(f+=r.chars[y].uchar,l=!1);r.cueStartTime=e,e===t&&(t+=1e-4),c>=16?c--:c++;const g=UA(f.trim()),x=mw(e,t,g);s!=null&&(h=s.cues)!=null&&h.getCueById(x)||(a=new u(e,t,g),a.id=x,a.line=p+1,a.align="left",a.position=10+Math.min(80,Math.floor(c*8/32)*10),i.push(a))}return s&&i.length&&(i.sort((p,g)=>p.line==="auto"||g.line==="auto"?0:p.line>8&&g.line>8?g.line-p.line:p.line-g.line),i.forEach(p=>PA(s,p))),i}};function vse(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}const wse=/(\d+)-(\d+)\/(\d+)/;class k6{constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||Tse,this.controller=new self.AbortController,this.stats=new Q2}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,t,n){const i=this.stats;if(i.loading.start)throw new Error("Loader can only be used once.");i.loading.start=self.performance.now();const r=Sse(e,this.controller.signal),a=e.responseType==="arraybuffer",l=a?"byteLength":"length",{maxTimeToFirstByteMs:c,maxLoadTimeMs:f}=t.loadPolicy;this.context=e,this.config=t,this.callbacks=n,this.request=this.fetchSetup(e,r),self.clearTimeout(this.requestTimeout),t.timeout=c&&we(c)?c:f,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(i,e,this.response))},t.timeout),(Yu(this.request)?this.request.then(self.fetch):self.fetch(this.request)).then(h=>{var p;this.response=this.loader=h;const g=Math.max(self.performance.now(),i.loading.start);if(self.clearTimeout(this.requestTimeout),t.timeout=f,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(i,e,this.response))},f-(g-i.loading.start)),!h.ok){const{status:y,statusText:v}=h;throw new jse(v||"fetch, bad network response",y,h)}i.loading.first=g,i.total=Cse(h.headers)||i.total;const x=(p=this.callbacks)==null?void 0:p.onProgress;return x&&we(t.highWaterMark)?this.loadProgressively(h,i,e,t.highWaterMark,x):a?h.arrayBuffer():e.responseType==="json"?h.json():h.text()}).then(h=>{var p,g;const x=this.response;if(!x)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),i.loading.end=Math.max(self.performance.now(),i.loading.first);const y=h[l];y&&(i.loaded=i.total=y);const v={url:x.url,data:h,code:x.status},w=(p=this.callbacks)==null?void 0:p.onProgress;w&&!we(t.highWaterMark)&&w(i,e,h,x),(g=this.callbacks)==null||g.onSuccess(v,i,e,x)}).catch(h=>{var p;if(self.clearTimeout(this.requestTimeout),i.aborted)return;const g=h&&h.code||0,x=h?h.message:null;(p=this.callbacks)==null||p.onError({code:g,text:x},e,h?h.details:null,i)})}getCacheAge(){let e=null;if(this.response){const t=this.response.headers.get("age");e=t?parseFloat(t):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,t,n,i=0,r){const a=new aA,l=e.body.getReader(),c=()=>l.read().then(f=>{if(f.done)return a.dataLength&&r(t,n,a.flush().buffer,e),Promise.resolve(new ArrayBuffer(0));const u=f.value,h=u.length;return t.loaded+=h,h<i||a.dataLength?(a.push(u),a.dataLength>=i&&r(t,n,a.flush().buffer,e)):r(t,n,u.buffer,e),c()}).catch(()=>Promise.reject());return c()}}function Sse(s,e){const t={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(gt({},s.headers))};return s.rangeEnd&&t.headers.set("Range","bytes="+s.rangeStart+"-"+String(s.rangeEnd-1)),t}function Lse(s){const e=wse.exec(s);if(e)return parseInt(e[2])-parseInt(e[1])+1}function Cse(s){const e=s.get("Content-Range");if(e){const n=Lse(e);if(we(n))return n}const t=s.get("Content-Length");if(t)return parseInt(t)}function Tse(s,e){return new self.Request(s.url,e)}class jse extends Error{constructor(e,t,n){super(e),this.code=void 0,this.details=void 0,this.code=t,this.details=n}}const Ese=/^age:\s*[\d.]+\s*$/im;class YA{constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new Q2,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,e.readyState!==4&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,t,n){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=t,this.callbacks=n,this.loadInternal()}loadInternal(){const{config:e,context:t}=this;if(!e||!t)return;const n=this.loader=new self.XMLHttpRequest,i=this.stats;i.loading.first=0,i.loaded=0,i.aborted=!1;const r=this.xhrSetup;r?Promise.resolve().then(()=>{if(!(this.loader!==n||this.stats.aborted))return r(n,t.url)}).catch(a=>{if(!(this.loader!==n||this.stats.aborted))return n.open("GET",t.url,!0),r(n,t.url)}).then(()=>{this.loader!==n||this.stats.aborted||this.openAndSendXhr(n,t,e)}).catch(a=>{var l;(l=this.callbacks)==null||l.onError({code:n.status,text:a.message},t,n,i)}):this.openAndSendXhr(n,t,e)}openAndSendXhr(e,t,n){e.readyState||e.open("GET",t.url,!0);const i=t.headers,{maxTimeToFirstByteMs:r,maxLoadTimeMs:a}=n.loadPolicy;if(i)for(const l in i)e.setRequestHeader(l,i[l]);t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,self.clearTimeout(this.requestTimeout),n.timeout=r&&we(r)?r:a,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),n.timeout),e.send()}readystatechange(){const{context:e,loader:t,stats:n}=this;if(!e||!t)return;const i=t.readyState,r=this.config;if(!n.aborted&&i>=2&&(n.loading.first===0&&(n.loading.first=Math.max(self.performance.now(),n.loading.start),r.timeout!==r.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),r.timeout=r.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),r.loadPolicy.maxLoadTimeMs-(n.loading.first-n.loading.start)))),i===4)){self.clearTimeout(this.requestTimeout),t.onreadystatechange=null,t.onprogress=null;const f=t.status,u=t.responseType==="text"?t.responseText:null;if(f>=200&&f<300){const x=u??t.response;if(x!=null){var a,l;n.loading.end=Math.max(self.performance.now(),n.loading.first);const y=t.responseType==="arraybuffer"?x.byteLength:x.length;n.loaded=n.total=y,n.bwEstimate=n.total*8e3/(n.loading.end-n.loading.first);const v=(a=this.callbacks)==null?void 0:a.onProgress;v&&v(n,e,x,t);const w={url:t.responseURL,data:x,code:f};(l=this.callbacks)==null||l.onSuccess(w,n,e,t);return}}const h=r.loadPolicy.errorRetry,p=n.retry,g={url:e.url,data:void 0,code:f};if(Qm(h,p,!1,g))this.retry(h);else{var c;st.error(`${f} while loading ${e.url}`),(c=this.callbacks)==null||c.onError({code:f,text:t.statusText},e,t,n)}}}loadtimeout(){if(!this.config)return;const e=this.config.loadPolicy.timeoutRetry,t=this.stats.retry;if(Qm(e,t,!0))this.retry(e);else{var n;st.warn(`timeout while loading ${(n=this.context)==null?void 0:n.url}`);const i=this.callbacks;i&&(this.abortInternal(),i.onTimeout(this.stats,this.context,this.loader))}}retry(e){const{context:t,stats:n}=this;this.retryDelay=q2(e,n.retry),n.retry++,st.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${t==null?void 0:t.url}, retrying ${n.retry}/${e.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){const t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total)}getCacheAge(){let e=null;if(this.loader&&Ese.test(this.loader.getAllResponseHeaders())){const t=this.loader.getResponseHeader("age");e=t?parseFloat(t):null}return e}getResponseHeader(e){return this.loader&&new RegExp(`^${e}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}const Nse={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},Mse=ct(ct({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,maxDevicePixelRatio:Number.POSITIVE_INFINITY,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,maxBufferSize:60*1e3*1e3,maxFragLookUpTolerance:.25,maxBufferHole:.1,detectStallWithCurrentTimeMs:1250,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,nudgeOnVideoHole:!0,liveSyncDurationCount:3,liveSyncOnStallIncrease:1,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,ignorePlaylistParsingErrors:!1,loader:YA,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:qZ,bufferController:Vee,capLevelController:uw,errorController:nX,fpsController:Ate,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:K_,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableEmsgKLVMetadata:!1,enableID3MetadataCues:!0,enableInterstitialPlayback:!0,interstitialAppendInPlace:!0,interstitialLiveLookAhead:10,useMediaCapabilities:!0,certLoadPolicy:{default:Nse},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},interstitialAssetListLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:3e4,timeoutRetry:{maxNumRetry:0,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:0,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},kse()),{},{subtitleStreamController:Gte,subtitleTrackController:Rte,timelineController:gse,audioStreamController:zee,audioTrackController:Bee,emeController:Jl,cmcdController:kte,contentSteeringController:_te,interstitialsController:Vte});function kse(){return{cueHandler:bse,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function Ise(s,e,t){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(e.liveMaxLatencyDurationCount!==void 0&&(e.liveSyncDurationCount===void 0||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(e.liveMaxLatencyDuration!==void 0&&(e.liveSyncDuration===void 0||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const n=qb(s),i=["manifest","level","frag"],r=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return i.forEach(a=>{const l=`${a==="level"?"playlist":a}LoadPolicy`,c=e[l]===void 0,f=[];r.forEach(u=>{const h=`${a}Loading${u}`,p=e[h];if(p!==void 0&&c){f.push(h);const g=n[l].default;switch(e[l]={default:g},u){case"TimeOut":g.maxLoadTimeMs=p,g.maxTimeToFirstByteMs=p;break;case"MaxRetry":g.errorRetry.maxNumRetry=p,g.timeoutRetry.maxNumRetry=p;break;case"RetryDelay":g.errorRetry.retryDelayMs=p,g.timeoutRetry.retryDelayMs=p;break;case"MaxRetryTimeout":g.errorRetry.maxRetryDelayMs=p,g.timeoutRetry.maxRetryDelayMs=p;break}}}),f.length&&t.warn(`hls.js config: "${f.join('", "')}" setting(s) are deprecated, use "${l}": ${Ct(e[l])}`)}),ct(ct({},n),e)}function qb(s){return s&&typeof s=="object"?Array.isArray(s)?s.map(qb):Object.keys(s).reduce((e,t)=>(e[t]=qb(s[t]),e),{}):s}function _se(s,e){const t=s.loader;t!==k6&&t!==YA?(e.log("[config]: Custom loader detected, cannot enable progressive streaming"),s.progressive=!1):vse()&&(s.loader=k6,s.progressive=!0,s.enableSoftwareAES=!0,e.log("[config]: Progressive streaming enabled, using FetchLoader"))}const tm=2,Ase=.1,Dse=.05,Pse=100;class Rse extends Y_{constructor(e,t){super("gap-controller",e.logger),this.hls=null,this.fragmentTracker=null,this.media=null,this.mediaSource=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.buffered={},this.lastCurrentTime=0,this.ended=0,this.waiting=0,this.onMediaPlaying=()=>{this.ended=0,this.waiting=0},this.onMediaWaiting=()=>{var n;(n=this.media)!=null&&n.seeking||(this.waiting=self.performance.now(),this.tick())},this.onMediaEnded=()=>{if(this.hls){var n;this.ended=((n=this.media)==null?void 0:n.currentTime)||1,this.hls.trigger(P.MEDIA_ENDED,{stalled:!1})}},this.hls=e,this.fragmentTracker=t,this.registerListeners()}registerListeners(){const{hls:e}=this;e&&(e.on(P.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(P.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(P.BUFFER_APPENDED,this.onBufferAppended,this))}unregisterListeners(){const{hls:e}=this;e&&(e.off(P.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(P.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(P.BUFFER_APPENDED,this.onBufferAppended,this))}destroy(){super.destroy(),this.unregisterListeners(),this.media=this.hls=this.fragmentTracker=null,this.mediaSource=void 0}onMediaAttached(e,t){this.setInterval(Pse),this.mediaSource=t.mediaSource;const n=this.media=t.media;Ar(n,"playing",this.onMediaPlaying),Ar(n,"waiting",this.onMediaWaiting),Ar(n,"ended",this.onMediaEnded)}onMediaDetaching(e,t){this.clearInterval();const{media:n}=this;n&&(Ji(n,"playing",this.onMediaPlaying),Ji(n,"waiting",this.onMediaWaiting),Ji(n,"ended",this.onMediaEnded),this.media=null),this.mediaSource=void 0}onBufferAppended(e,t){this.buffered=t.timeRanges}get hasBuffered(){return Object.keys(this.buffered).length>0}tick(){var e;if(!((e=this.media)!=null&&e.readyState)||!this.hasBuffered)return;const t=this.media.currentTime;this.poll(t,this.lastCurrentTime),this.lastCurrentTime=t}poll(e,t){var n,i;const r=(n=this.hls)==null?void 0:n.config;if(!r)return;const{media:a,stalled:l}=this;if(!a)return;const{seeking:c}=a,f=this.seeking&&!c,u=!this.seeking&&c,h=a.paused&&!c||a.ended||a.playbackRate===0;if(this.seeking=c,e!==t){t&&(this.ended=0),this.moved=!0,c||(this.nudgeRetry=0,r.nudgeOnVideoHole&&!h&&e>t&&this.nudgeOnVideoHole(e,t)),this.waiting===0&&this.stallResolved(e);return}if(u||f){f&&this.stallResolved(e);return}if(h){this.nudgeRetry=0,this.stallResolved(e),!this.ended&&a.ended&&this.hls&&(this.ended=e||1,this.hls.trigger(P.MEDIA_ENDED,{stalled:!1}));return}if(!Ge.getBuffered(a).length){this.nudgeRetry=0;return}const p=Ge.bufferInfo(a,e,0),g=p.nextStart||0,x=this.fragmentTracker;if(c&&x&&this.hls){const M=I6(this.hls.inFlightFragments,e),N=p.len>tm,I=!g||M||g-e>tm&&!x.getPartialFragment(e);if(N||I)return;this.moved=!1}const y=(i=this.hls)==null?void 0:i.latestLevelDetails;if(!this.moved&&this.stalled!==null&&x){if(!(p.len>0)&&!g)return;const N=Math.max(g,p.start||0)-e,A=!!(y!=null&&y.live)?y.targetduration*2:tm,D=x.getPartialFragment(e);if(N>0&&(N<=A||D)){a.paused||this._trySkipBufferHole(D);return}}const v=r.detectStallWithCurrentTimeMs,w=self.performance.now(),L=this.waiting;if(l===null){L>0&&w-L<v?this.stalled=L:this.stalled=w;return}const S=w-l;if(!c&&(S>=v||L)&&this.hls){var j;if(((j=this.mediaSource)==null?void 0:j.readyState)==="ended"&&!(y!=null&&y.live)&&Math.abs(e-((y==null?void 0:y.edge)||0))<1){if(this.ended)return;this.ended=e||1,this.hls.trigger(P.MEDIA_ENDED,{stalled:!0});return}if(this._reportStall(p),!this.media||!this.hls)return}const E=Ge.bufferInfo(a,e,r.maxBufferHole);this._tryFixBufferStall(E,S)}stallResolved(e){const t=this.stalled;if(t&&this.hls&&(this.stalled=null,this.stallReported)){const n=self.performance.now()-t;this.log(`playback not stuck anymore @${e}, after ${Math.round(n)}ms`),this.stallReported=!1,this.waiting=0,this.hls.trigger(P.STALL_RESOLVED,{})}}nudgeOnVideoHole(e,t){var n;const i=this.buffered.video;if(this.hls&&this.media&&this.fragmentTracker&&(n=this.buffered.audio)!=null&&n.length&&i&&i.length>1&&e>i.end(0)){const r=Ge.bufferedInfo(Ge.timeRangesToArray(this.buffered.audio),e,0);if(r.len>1&&t>=r.start){const a=Ge.timeRangesToArray(i),l=Ge.bufferedInfo(a,t,0).bufferedIndex;if(l>-1&&l<a.length-1){const c=Ge.bufferedInfo(a,e,0).bufferedIndex,f=a[l].end,u=a[l+1].start;if((c===-1||c>l)&&u-f<1&&e-f<2){const h=new Error(`nudging playhead to flush pipeline after video hole. currentTime: ${e} hole: ${f} -> ${u} buffered index: ${c}`);this.warn(h.message),this.media.currentTime+=1e-6;const p=this.fragmentTracker.getPartialFragment(e)||void 0,g=Ge.bufferInfo(this.media,e,0);this.hls.trigger(P.ERROR,{type:Ie.MEDIA_ERROR,details:te.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:h,reason:h.message,frag:p,buffer:g.len,bufferInfo:g})}}}}}_tryFixBufferStall(e,t){var n,i;const{fragmentTracker:r,media:a}=this,l=(n=this.hls)==null?void 0:n.config;if(!a||!r||!l)return;const c=a.currentTime,f=(i=this.hls)==null?void 0:i.latestLevelDetails,u=r.getPartialFragment(c);if((u||f!=null&&f.live&&c<f.fragmentStart)&&(this._trySkipBufferHole(u)||!this.media))return;const h=e.buffered;(h&&h.length>1&&e.len>l.maxBufferHole||e.nextStart&&e.nextStart-c<l.maxBufferHole)&&(t>l.highBufferWatchdogPeriod*1e3||this.waiting)&&(this.warn("Trying to nudge playhead over buffer-hole"),this._tryNudgeBuffer(e))}_reportStall(e){const{hls:t,media:n,stallReported:i,stalled:r}=this;if(!i&&r!==null&&n&&t){this.stallReported=!0;const a=new Error(`Playback stalling at @${n.currentTime} due to low buffer (${Ct(e)})`);this.warn(a.message),t.trigger(P.ERROR,{type:Ie.MEDIA_ERROR,details:te.BUFFER_STALLED_ERROR,fatal:!1,error:a,buffer:e.len,bufferInfo:e,stalled:{start:r}})}}_trySkipBufferHole(e){var t;const{fragmentTracker:n,media:i}=this,r=(t=this.hls)==null?void 0:t.config;if(!i||!n||!r)return 0;const a=i.currentTime,l=Ge.bufferInfo(i,a,0),c=a<l.start?l.start:l.nextStart;if(c&&this.hls){const u=l.len<=r.maxBufferHole,h=l.len>0&&l.len<1&&i.readyState<3,p=c-a;if(p>0&&(u||h)){if(p>r.maxBufferHole){let x=!1;if(a===0){const y=n.getAppendedFrag(0,Me.MAIN);y&&c<y.end&&(x=!0)}if(!x){const y=e||n.getAppendedFrag(a,Me.MAIN);if(y){var f;if(!((f=this.hls.loadLevelObj)!=null&&f.details)||I6(this.hls.inFlightFragments,c))return 0;let w=!1,L=y.end;for(;L<c;){const S=n.getPartialFragment(L);if(S)L+=S.duration;else{w=!0;break}}if(w)return 0}}}const g=Math.max(c+Dse,a+Ase);if(this.warn(`skipping hole, adjusting currentTime from ${a} to ${g}`),this.moved=!0,i.currentTime=g,!(e!=null&&e.gap)){const x=new Error(`fragment loaded with buffer holes, seeking from ${a} to ${g}`);this.hls.trigger(P.ERROR,{type:Ie.MEDIA_ERROR,details:te.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:x,reason:x.message,frag:e||void 0,buffer:l.len,bufferInfo:l})}return g}}return 0}_tryNudgeBuffer(e){const{hls:t,media:n,nudgeRetry:i}=this,r=t==null?void 0:t.config;if(!n||!r)return 0;const a=n.currentTime;if(this.nudgeRetry++,i<r.nudgeMaxRetry){const l=a+(i+1)*r.nudgeOffset,c=new Error(`Nudging 'currentTime' from ${a} to ${l}`);this.warn(c.message),n.currentTime=l,t.trigger(P.ERROR,{type:Ie.MEDIA_ERROR,details:te.BUFFER_NUDGE_ON_STALL,error:c,fatal:!1,buffer:e.len,bufferInfo:e})}else{const l=new Error(`Playhead still not moving while enough data buffered @${a} after ${r.nudgeMaxRetry} nudges`);this.error(l.message),t.trigger(P.ERROR,{type:Ie.MEDIA_ERROR,details:te.BUFFER_STALLED_ERROR,error:l,fatal:!0,buffer:e.len,bufferInfo:e})}}}function I6(s,e){const t=_6(s.main);if(t&&t.start<=e)return t;const n=_6(s.audio);return n&&n.start<=e?n:null}function _6(s){if(!s)return null;switch(s.state){case re.IDLE:case re.STOPPED:case re.ENDED:case re.ERROR:return null}return s.frag}const Ose=.25;function Zb(){if(!(typeof self>"u"))return self.VTTCue||self.TextTrackCue}function A6(s,e,t,n,i){let r=new s(e,t,"");try{r.value=n,i&&(r.type=i)}catch{r=new s(e,t,Ct(i?ct({type:i},n):n))}return r}const g0=(()=>{const s=Zb();try{s&&new s(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function Fse(s){return Uint8Array.from(s.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}class zse{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.removeCues=!0,this.onEventCueEnter=()=>{this.hls&&this.hls.trigger(P.EVENT_CUE_ENTER,{})},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=this.onEventCueEnter=null}_registerListeners(){const{hls:e}=this;e.on(P.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(P.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(P.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(P.MANIFEST_LOADING,this.onManifestLoading,this),e.on(P.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(P.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(P.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(P.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this)}_unregisterListeners(){const{hls:e}=this;e.off(P.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(P.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(P.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(P.MANIFEST_LOADING,this.onManifestLoading,this),e.off(P.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(P.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(P.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(P.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this)}onMediaAttaching(e,t){var n;this.media=t.media,((n=t.overrides)==null?void 0:n.cueRemoval)===!1&&(this.removeCues=!1)}onMediaAttached(){const e=this.hls.latestLevelDetails;e&&this.updateDateRangeCues(e)}onMediaDetaching(e,t){this.media=null,!t.transferMedia&&(this.id3Track&&(this.removeCues&&Ul(this.id3Track,this.onEventCueEnter),this.id3Track=null),this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){const t=this.getID3Track(e.textTracks);return t.mode="hidden",t}getID3Track(e){if(this.media){for(let t=0;t<e.length;t++){const n=e[t];if(n.kind==="metadata"&&n.label==="id3")return DA(n,this.media),n}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,t){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:n,enableID3MetadataCues:i}}}=this;if(!n&&!i)return;const{samples:r}=t;this.id3Track||(this.id3Track=this.createTrack(this.media));const a=Zb();if(a)for(let l=0;l<r.length;l++){const c=r[l].type;if(c===wn.emsg&&!n||!i)continue;const f=mA(r[l].data);if(f){const u=r[l].pts;let h=u+r[l].duration;h>g0&&(h=g0),h-u<=0&&(h=u+Ose);for(let g=0;g<f.length;g++){const x=f[g];if(!pA(x)){this.updateId3CueEnds(u,c);const y=A6(a,u,h,x,c);y&&this.id3Track.addCue(y)}}}}}updateId3CueEnds(e,t){var n;const i=(n=this.id3Track)==null?void 0:n.cues;if(i)for(let r=i.length;r--;){const a=i[r];a.type===t&&a.startTime<e&&a.endTime===g0&&(a.endTime=e)}}onBufferFlushing(e,{startOffset:t,endOffset:n,type:i}){const{id3Track:r,hls:a}=this;if(!a)return;const{config:{enableEmsgMetadataCues:l,enableID3MetadataCues:c}}=a;if(r&&(l||c)){let f;i==="audio"?f=u=>u.type===wn.audioId3&&c:i==="video"?f=u=>u.type===wn.emsg&&l:f=u=>u.type===wn.audioId3&&c||u.type===wn.emsg&&l,Qb(r,t,n,f)}}onLevelUpdated(e,{details:t}){this.updateDateRangeCues(t,!0)}onLevelPtsUpdated(e,t){Math.abs(t.drift)>.01&&this.updateDateRangeCues(t.details)}updateDateRangeCues(e,t){if(!this.media||!e.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{id3Track:n}=this,{dateRanges:i}=e,r=Object.keys(i);let a=this.dateRangeCuesAppended;if(n&&t){var l;if((l=n.cues)!=null&&l.length){const u=Object.keys(a).filter(h=>!r.includes(h));for(let h=u.length;h--;){const p=u[h],g=a[p].cues;delete a[p],Object.keys(g).forEach(x=>{try{const y=g[x];y.removeEventListener("enter",this.onEventCueEnter),n.removeCue(y)}catch{}})}}else a=this.dateRangeCuesAppended={}}const c=e.fragments[e.fragments.length-1];if(r.length===0||!we(c==null?void 0:c.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const f=Zb();for(let u=0;u<r.length;u++){const h=r[u],p=i[h],g=p.startTime,x=a[h],y=(x==null?void 0:x.cues)||{};let v=(x==null?void 0:x.durationKnown)||!1,w=g0;const{duration:L,endDate:S}=p;if(S&&L!==null)w=g+L,v=!0;else if(p.endOnNext&&!v){const E=r.reduce((M,N)=>{if(N!==p.id){const I=i[N];if(I.class===p.class&&I.startDate>p.startDate&&(!M||p.startDate<M.startDate))return I}return M},null);E&&(w=E.startTime,v=!0)}const j=Object.keys(p.attr);for(let E=0;E<j.length;E++){const M=j[E];if(!gX(M))continue;const N=y[M];if(N)v&&!x.durationKnown?N.endTime=w:Math.abs(N.startTime-g)>.01&&(N.startTime=g,N.endTime=w);else if(f){let I=p.attr[M];xX(M)&&(I=Fse(I));const D=A6(f,g,w,{key:M,data:I},wn.dateRange);D&&(D.id=h,this.id3Track.addCue(D),y[M]=D,this.hls.config.interstitialsController&&(M==="X-ASSET-LIST"||M==="X-ASSET-URL")&&D.addEventListener("enter",this.onEventCueEnter))}}a[h]={cues:y,dateRange:p,durationKnown:v}}}}class Bse{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.currentTime=0,this.stallCount=0,this._latency=null,this._targetLatencyUpdated=!1,this.onTimeupdate=()=>{const{media:t}=this,n=this.levelDetails;if(!t||!n)return;this.currentTime=t.currentTime;const i=this.computeLatency();if(i===null)return;this._latency=i;const{lowLatencyMode:r,maxLiveSyncPlaybackRate:a}=this.config;if(!r||a===1||!n.live)return;const l=this.targetLatency;if(l===null)return;const c=i-l,f=Math.min(this.maxLatency,l+n.targetduration);if(c<f&&c>.05&&this.forwardBufferLength>1){const h=Math.min(2,Math.max(1,a)),p=Math.round(2/(1+Math.exp(-.75*c-this.edgeStalled))*20)/20,g=Math.min(h,Math.max(1,p));this.changeMediaPlaybackRate(t,g)}else t.playbackRate!==1&&t.playbackRate!==0&&this.changeMediaPlaybackRate(t,1)},this.hls=e,this.config=e.config,this.registerListeners()}get levelDetails(){var e;return((e=this.hls)==null?void 0:e.latestLevelDetails)||null}get latency(){return this._latency||0}get maxLatency(){const{config:e}=this;if(e.liveMaxLatencyDuration!==void 0)return e.liveMaxLatencyDuration;const t=this.levelDetails;return t?e.liveMaxLatencyDurationCount*t.targetduration:0}get targetLatency(){const e=this.levelDetails;if(e===null||this.hls===null)return null;const{holdBack:t,partHoldBack:n,targetduration:i}=e,{liveSyncDuration:r,liveSyncDurationCount:a,lowLatencyMode:l}=this.config,c=this.hls.userConfig;let f=l&&n||t;(this._targetLatencyUpdated||c.liveSyncDuration||c.liveSyncDurationCount||f===0)&&(f=r!==void 0?r:a*i);const u=i;return f+Math.min(this.stallCount*this.config.liveSyncOnStallIncrease,u)}set targetLatency(e){this.stallCount=0,this.config.liveSyncDuration=e,this._targetLatencyUpdated=!0}get liveSyncPosition(){const e=this.estimateLiveEdge(),t=this.targetLatency;if(e===null||t===null)return null;const n=this.levelDetails;if(n===null)return null;const i=n.edge,r=e-t-this.edgeStalled,a=i-n.totalduration,l=i-(this.config.lowLatencyMode&&n.partTarget||n.targetduration);return Math.min(Math.max(a,r),l)}get drift(){const e=this.levelDetails;return e===null?1:e.drift}get edgeStalled(){const e=this.levelDetails;if(e===null)return 0;const t=(this.config.lowLatencyMode&&e.partTarget||e.targetduration)*3;return Math.max(e.age-t,0)}get forwardBufferLength(){const{media:e}=this,t=this.levelDetails;if(!e||!t)return 0;const n=e.buffered.length;return(n?e.buffered.end(n-1):t.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.hls=null}registerListeners(){const{hls:e}=this;e&&(e.on(P.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(P.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(P.MANIFEST_LOADING,this.onManifestLoading,this),e.on(P.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(P.ERROR,this.onError,this))}unregisterListeners(){const{hls:e}=this;e&&(e.off(P.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(P.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(P.MANIFEST_LOADING,this.onManifestLoading,this),e.off(P.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(P.ERROR,this.onError,this))}onMediaAttached(e,t){this.media=t.media,this.media.addEventListener("timeupdate",this.onTimeupdate)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.onTimeupdate),this.media=null)}onManifestLoading(){this._latency=null,this.stallCount=0}onLevelUpdated(e,{details:t}){t.advanced&&this.onTimeupdate(),!t.live&&this.media&&this.media.removeEventListener("timeupdate",this.onTimeupdate)}onError(e,t){var n;t.details===te.BUFFER_STALLED_ERROR&&(this.stallCount++,this.hls&&(n=this.levelDetails)!=null&&n.live&&this.hls.logger.warn("[latency-controller]: Stall detected, adjusting target latency"))}changeMediaPlaybackRate(e,t){var n,i;e.playbackRate!==t&&((n=this.hls)==null||n.logger.debug(`[latency-controller]: latency=${this.latency.toFixed(3)}, targetLatency=${(i=this.targetLatency)==null?void 0:i.toFixed(3)}, forwardBufferLength=${this.forwardBufferLength.toFixed(3)}: adjusting playback rate from ${e.playbackRate} to ${t}`),e.playbackRate=t)}estimateLiveEdge(){const e=this.levelDetails;return e===null?null:e.edge+e.age}computeLatency(){const e=this.estimateLiveEdge();return e===null?null:e-this.currentTime}}class Use extends fw{constructor(e,t){super(e,"level-controller"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=t,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(P.MANIFEST_LOADING,this.onManifestLoading,this),e.on(P.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(P.LEVEL_LOADED,this.onLevelLoaded,this),e.on(P.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(P.FRAG_BUFFERED,this.onFragBuffered,this),e.on(P.ERROR,this.onError,this)}_unregisterListeners(){const{hls:e}=this;e.off(P.MANIFEST_LOADING,this.onManifestLoading,this),e.off(P.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(P.LEVEL_LOADED,this.onLevelLoaded,this),e.off(P.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(P.FRAG_BUFFERED,this.onFragBuffered,this),e.off(P.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach(t=>{t.loadError=0,t.fragmentError=0}),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(e,t){this.resetLevels()}onManifestLoaded(e,t){const n=this.hls.config.preferManagedMediaSource,i=[],r={},a={};let l=!1,c=!1,f=!1;t.levels.forEach(u=>{var h;const p=u.attrs;let{audioCodec:g,videoCodec:x}=u;g&&(u.audioCodec=g=Gm(g,n)||void 0),((h=x)==null?void 0:h.indexOf("avc1"))===0&&(x=u.videoCodec=OZ(x));const{width:y,height:v,unknownCodecs:w}=u;let L=w?w.length:0;if(w)for(let z=L;z--;){const O=w[z];this.isAudioSupported(O)?(u.audioCodec=g=g?`${g},${O}`:O,L--,uc.audio[g.substring(0,4)]=2):this.isVideoSupported(O)&&(u.videoCodec=x=x?`${x},${O}`:O,L--,uc.video[x.substring(0,4)]=2)}if(l||(l=!!(y&&v)),c||(c=!!x),f||(f=!!g),L||g&&!this.isAudioSupported(g)||x&&!this.isVideoSupported(x)){this.log(`Some or all CODECS not supported "${p.CODECS}"`);return}const{CODECS:S,"FRAME-RATE":j,"HDCP-LEVEL":E,"PATHWAY-ID":M,RESOLUTION:N,"VIDEO-RANGE":I}=p,D=`${`${M||"."}-`}${u.bitrate}-${N}-${j}-${S}-${I}-${E}`;if(r[D])if(r[D].uri!==u.url&&!u.attrs["PATHWAY-ID"]){const z=a[D]+=1;u.attrs["PATHWAY-ID"]=new Array(z+1).join(".");const O=this.createLevel(u);r[D]=O,i.push(O)}else r[D].addGroupId("audio",p.AUDIO),r[D].addGroupId("text",p.SUBTITLES);else{const z=this.createLevel(u);r[D]=z,a[D]=1,i.push(z)}}),this.filterAndSortMediaOptions(i,t,l,c,f)}createLevel(e){const t=new Uu(e),n=e.supplemental;if(n!=null&&n.videoCodec&&!this.isVideoSupported(n.videoCodec)){const i=new Error(`SUPPLEMENTAL-CODECS not supported "${n.videoCodec}"`);this.log(i.message),t.supportedResult=$_(i,[])}return t}isAudioSupported(e){return Ob(e,"audio",this.hls.config.preferManagedMediaSource)}isVideoSupported(e){return Ob(e,"video",this.hls.config.preferManagedMediaSource)}filterAndSortMediaOptions(e,t,n,i,r){let a=[],l=[],c=e;if((n||i)&&r&&(c=c.filter(({videoCodec:v,videoRange:w,width:L,height:S})=>(!!v||!!(L&&S))&&$Z(w))),c.length===0){Promise.resolve().then(()=>{if(this.hls){let v="no level with compatible codecs found in manifest",w=v;t.levels.length&&(w=`one or more CODECS in variant not supported: ${Ct(t.levels.map(S=>S.attrs.CODECS).filter((S,j,E)=>E.indexOf(S)===j))}`,this.warn(w),v+=` (${w})`);const L=new Error(v);this.hls.trigger(P.ERROR,{type:Ie.MEDIA_ERROR,details:te.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:t.url,error:L,reason:w})}});return}t.audioTracks&&(a=t.audioTracks.filter(v=>!v.audioCodec||this.isAudioSupported(v.audioCodec)),D6(a)),t.subtitles&&(l=t.subtitles,D6(l));const f=c.slice(0);c.sort((v,w)=>{if(v.attrs["HDCP-LEVEL"]!==w.attrs["HDCP-LEVEL"])return(v.attrs["HDCP-LEVEL"]||"")>(w.attrs["HDCP-LEVEL"]||"")?1:-1;if(n&&v.height!==w.height)return v.height-w.height;if(v.frameRate!==w.frameRate)return v.frameRate-w.frameRate;if(v.videoRange!==w.videoRange)return Hm.indexOf(v.videoRange)-Hm.indexOf(w.videoRange);if(v.videoCodec!==w.videoCodec){const L=Ej(v.videoCodec),S=Ej(w.videoCodec);if(L!==S)return S-L}if(v.uri===w.uri&&v.codecSet!==w.codecSet){const L=Vm(v.codecSet),S=Vm(w.codecSet);if(L!==S)return S-L}return v.averageBitrate!==w.averageBitrate?v.averageBitrate-w.averageBitrate:0});let u=f[0];if(this.steering&&(c=this.steering.filterParsedLevels(c),c.length!==f.length)){for(let v=0;v<f.length;v++)if(f[v].pathwayId===c[0].pathwayId){u=f[v];break}}this._levels=c;for(let v=0;v<c.length;v++)if(c[v]===u){var h;this._firstLevel=v;const w=u.bitrate,L=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${c.length} level(s) found, first bitrate: ${w}`),((h=this.hls.userConfig)==null?void 0:h.abrEwmaDefaultEstimate)===void 0){const S=Math.min(w,this.hls.config.abrEwmaDefaultEstimateMax);S>L&&L===this.hls.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=S)}break}const p=r&&!i,g=this.hls.config,x=!!(g.audioStreamController&&g.audioTrackController),y={levels:c,audioTracks:a,subtitleTracks:l,sessionData:t.sessionData,sessionKeys:t.sessionKeys,firstLevel:this._firstLevel,stats:t.stats,audio:r,video:i,altAudio:x&&!p&&a.some(v=>!!v.url)};this.hls.trigger(P.MANIFEST_PARSED,y)}get levels(){return this._levels.length===0?null:this._levels}get loadLevelObj(){return this.currentLevel}get level(){return this.currentLevelIndex}set level(e){const t=this._levels;if(t.length===0)return;if(e<0||e>=t.length){const u=new Error("invalid level idx"),h=e<0;if(this.hls.trigger(P.ERROR,{type:Ie.OTHER_ERROR,details:te.LEVEL_SWITCH_ERROR,level:e,fatal:h,error:u,reason:u.message}),h)return;e=Math.min(e,t.length-1)}const n=this.currentLevelIndex,i=this.currentLevel,r=i?i.attrs["PATHWAY-ID"]:void 0,a=t[e],l=a.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=a,n===e&&i&&r===l)return;this.log(`Switching to level ${e} (${a.height?a.height+"p ":""}${a.videoRange?a.videoRange+" ":""}${a.codecSet?a.codecSet+" ":""}@${a.bitrate})${l?" with Pathway "+l:""} from level ${n}${r?" with Pathway "+r:""}`);const c={level:e,attrs:a.attrs,details:a.details,bitrate:a.bitrate,averageBitrate:a.averageBitrate,maxBitrate:a.maxBitrate,realBitrate:a.realBitrate,width:a.width,height:a.height,codecSet:a.codecSet,audioCodec:a.audioCodec,videoCodec:a.videoCodec,audioGroups:a.audioGroups,subtitleGroups:a.subtitleGroups,loaded:a.loaded,loadError:a.loadError,fragmentError:a.fragmentError,name:a.name,id:a.id,uri:a.uri,url:a.url,urlId:0,audioGroupIds:a.audioGroupIds,textGroupIds:a.textGroupIds};this.hls.trigger(P.LEVEL_SWITCHING,c);const f=a.details;if(!f||f.live){const u=this.switchParams(a.uri,i==null?void 0:i.details,f);this.loadPlaylist(u)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,this._startLevel===void 0&&(this._startLevel=e),e!==-1&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(this._startLevel===void 0){const e=this.hls.config.startLevel;return e!==void 0?e:this.hls.firstAutoLevel}return this._startLevel}set startLevel(e){this._startLevel=e}get pathways(){return this.steering?this.steering.pathways():[]}get pathwayPriority(){return this.steering?this.steering.pathwayPriority:null}set pathwayPriority(e){if(this.steering){const t=this.steering.pathways(),n=e.filter(i=>t.indexOf(i)!==-1);if(e.length<1){this.warn(`pathwayPriority ${e} should contain at least one pathway from list: ${t}`);return}this.steering.pathwayPriority=n}}onError(e,t){t.fatal||!t.context||t.context.type===Qe.LEVEL&&t.context.level===this.level&&this.checkRetry(t)}onFragBuffered(e,{frag:t}){if(t!==void 0&&t.type===Me.MAIN){const n=t.elementaryStreams;if(!Object.keys(n).some(r=>!!n[r]))return;const i=this._levels[t.level];i!=null&&i.loadError&&(this.log(`Resetting level error count of ${i.loadError} on frag buffered`),i.loadError=0)}}onLevelLoaded(e,t){var n;const{level:i,details:r}=t,a=t.levelInfo;if(!a){var l;this.warn(`Invalid level index ${i}`),(l=t.deliveryDirectives)!=null&&l.skip&&(r.deltaUpdateFailed=!0);return}if(a===this.currentLevel||t.withoutMultiVariant){a.fragmentError===0&&(a.loadError=0);let c=a.details;c===t.details&&c.advanced&&(c=void 0),this.playlistLoaded(i,t,c)}else(n=t.deliveryDirectives)!=null&&n.skip&&(r.deltaUpdateFailed=!0)}loadPlaylist(e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentLevel)&&this.scheduleLoading(this.currentLevel,e)}loadingPlaylist(e,t){super.loadingPlaylist(e,t);const n=this.getUrlWithDirectives(e.uri,t),i=this.currentLevelIndex,r=e.attrs["PATHWAY-ID"],a=e.details,l=a==null?void 0:a.age;this.log(`Loading level index ${i}${(t==null?void 0:t.msn)!==void 0?" at sn "+t.msn+" part "+t.part:""}${r?" Pathway "+r:""}${l&&a.live?" age "+l.toFixed(1)+(a.type&&" "+a.type||""):""} ${n}`),this.hls.trigger(P.LEVEL_LOADING,{url:n,level:i,levelInfo:e,pathwayId:e.attrs["PATHWAY-ID"],id:0,deliveryDirectives:t||null})}get nextLoadLevel(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=e)}removeLevel(e){var t;if(this._levels.length===1)return;const n=this._levels.filter((r,a)=>a!==e?!0:(this.steering&&this.steering.removeLevel(r),r===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,r.details&&r.details.fragments.forEach(l=>l.level=-1)),!1));nA(n),this._levels=n,this.currentLevelIndex>-1&&(t=this.currentLevel)!=null&&t.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.manualLevelIndex>-1&&(this.manualLevelIndex=this.currentLevelIndex);const i=n.length-1;this._firstLevel=Math.min(this._firstLevel,i),this._startLevel&&(this._startLevel=Math.min(this._startLevel,i)),this.hls.trigger(P.LEVELS_UPDATED,{levels:n})}onLevelsUpdated(e,{levels:t}){this._levels=t}checkMaxAutoUpdated(){const{autoLevelCapping:e,maxAutoLevel:t,maxHdcpLevel:n}=this.hls;this._maxAutoLevel!==t&&(this._maxAutoLevel=t,this.hls.trigger(P.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:e,levels:this.levels,maxAutoLevel:t,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:n}))}}function D6(s){const e={};s.forEach(t=>{const n=t.groupId||"";t.id=e[n]=e[n]||0,e[n]++})}function WA(){return self.SourceBuffer||self.WebKitSourceBuffer}function QA(){if(!Oa())return!1;const e=WA();return!e||e.prototype&&typeof e.prototype.appendBuffer=="function"&&typeof e.prototype.remove=="function"}function $se(){if(!QA())return!1;const s=Oa();return typeof(s==null?void 0:s.isTypeSupported)=="function"&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some(e=>s.isTypeSupported(Bu(e,"video")))||["mp4a.40.2","fLaC"].some(e=>s.isTypeSupported(Bu(e,"audio"))))}function Vse(){var s;const e=WA();return typeof(e==null||(s=e.prototype)==null?void 0:s.changeType)=="function"}const Gse=100;class Hse extends sw{constructor(e,t,n){super(e,t,n,"stream-controller",Me.MAIN),this.audioCodecSwap=!1,this.level=-1,this._forceStartLoad=!1,this._hasEnoughToStart=!1,this.altAudio=0,this.audioOnly=!1,this.fragPlaying=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this.onMediaPlaying=()=>{this.tick()},this.onMediaSeeked=()=>{const i=this.media,r=i?i.currentTime:null;if(r===null||!we(r)||(this.log(`Media seeked to ${r.toFixed(3)}`),!this.getBufferedFrag(r)))return;const a=this.getFwdBufferInfoAtPos(i,r,Me.MAIN,0);if(a===null||a.len===0){this.warn(`Main forward buffer length at ${r} on "seeked" event ${a?a.len:"empty"})`);return}this.tick()},this.registerListeners()}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(P.MANIFEST_PARSED,this.onManifestParsed,this),e.on(P.LEVEL_LOADING,this.onLevelLoading,this),e.on(P.LEVEL_LOADED,this.onLevelLoaded,this),e.on(P.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(P.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(P.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(P.BUFFER_CREATED,this.onBufferCreated,this),e.on(P.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(P.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(P.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){super.unregisterListeners();const{hls:e}=this;e.off(P.MANIFEST_PARSED,this.onManifestParsed,this),e.off(P.LEVEL_LOADED,this.onLevelLoaded,this),e.off(P.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(P.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(P.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(P.BUFFER_CREATED,this.onBufferCreated,this),e.off(P.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(P.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(P.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this.onMediaPlaying=this.onMediaSeeked=null,this.unregisterListeners(),super.onHandlerDestroying()}startLoad(e,t){if(this.levels){const{lastCurrentTime:n,hls:i}=this;if(this.stopLoad(),this.setInterval(Gse),this.level=-1,!this.startFragRequested){let r=i.startLevel;r===-1&&(i.config.testBandwidth&&this.levels.length>1?(r=0,this.bitrateTest=!0):r=i.firstAutoLevel),i.nextLoadLevel=r,this.level=i.loadLevel,this._hasEnoughToStart=!!t}n>0&&e===-1&&!t&&(this.log(`Override startPosition with lastCurrentTime @${n.toFixed(3)}`),e=n),this.state=re.IDLE,this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=t?-1:e,this.tick()}else this._forceStartLoad=!0,this.state=re.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case re.WAITING_LEVEL:{const{levels:t,level:n}=this,i=t==null?void 0:t[n],r=i==null?void 0:i.details;if(r&&(!r.live||this.levelLastLoaded===i&&!this.waitForLive(i))){if(this.waitForCdnTuneIn(r))break;this.state=re.IDLE;break}else if(this.hls.nextLoadLevel!==this.level){this.state=re.IDLE;break}break}case re.FRAG_LOADING_WAITING_RETRY:{var e;const t=self.performance.now(),n=this.retryDate;if(!n||t>=n||(e=this.media)!=null&&e.seeking){const{levels:i,level:r}=this,a=i==null?void 0:i[r];this.resetStartWhenNotLoaded(a||null),this.state=re.IDLE}}break}this.state===re.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){var e;super.onTickEnd(),(e=this.media)!=null&&e.readyState&&this.media.seeking===!1&&(this.lastCurrentTime=this.media.currentTime),this.checkFragmentChanged()}doTickIdle(){const{hls:e,levelLastLoaded:t,levels:n,media:i}=this;if(t===null||!i&&!this.primaryPrefetch&&(this.startFragRequested||!e.config.startFragPrefetch)||this.altAudio&&this.audioOnly)return;const r=this.buffering?e.nextLoadLevel:e.loadLevel;if(!(n!=null&&n[r]))return;const a=n[r],l=this.getMainFwdBufferInfo();if(l===null)return;const c=this.getLevelDetails();if(c&&this._streamEnded(l,c)){const y={};this.altAudio===2&&(y.type="video"),this.hls.trigger(P.BUFFER_EOS,y),this.state=re.ENDED;return}if(!this.buffering)return;e.loadLevel!==r&&e.manualLevel===-1&&this.log(`Adapting to level ${r} from level ${this.level}`),this.level=e.nextLoadLevel=r;const f=a.details;if(!f||this.state===re.WAITING_LEVEL||this.waitForLive(a)){this.level=r,this.state=re.WAITING_LEVEL,this.startFragRequested=!1;return}const u=l.len,h=this.getMaxBufferLength(a.maxBitrate);if(u>=h)return;this.backtrackFragment&&this.backtrackFragment.start>l.end&&(this.backtrackFragment=null);const p=this.backtrackFragment?this.backtrackFragment.start:l.end;let g=this.getNextFragment(p,f);if(this.couldBacktrack&&!this.fragPrevious&&g&&hs(g)&&this.fragmentTracker.getState(g)!==is.OK){var x;const v=((x=this.backtrackFragment)!=null?x:g).sn-f.startSN,w=f.fragments[v-1];w&&g.cc===w.cc&&(g=w,this.fragmentTracker.removeFragment(w))}else this.backtrackFragment&&l.len&&(this.backtrackFragment=null);if(g&&this.isLoopLoading(g,p)){if(!g.gap){const v=this.audioOnly&&!this.altAudio?mt.AUDIO:mt.VIDEO,w=(v===mt.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;w&&this.afterBufferFlushed(w,v,Me.MAIN)}g=this.getNextFragmentLoopLoading(g,f,l,Me.MAIN,h)}g&&(g.initSegment&&!g.initSegment.data&&!this.bitrateTest&&(g=g.initSegment),this.loadFragment(g,a,p))}loadFragment(e,t,n){const i=this.fragmentTracker.getState(e);i===is.NOT_LOADED||i===is.PARTIAL?hs(e)?this.bitrateTest?(this.log(`Fragment ${e.sn} of level ${e.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(e,t)):super.loadFragment(e,t,n):this._loadInitSegment(e,t):this.clearTrackerIfNeeded(e)}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,Me.MAIN)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:e,media:t}=this;if(t!=null&&t.readyState){let n;const i=this.getAppendedFrag(t.currentTime);i&&i.start>1&&this.flushMainBuffer(0,i.start-1);const r=this.getLevelDetails();if(r!=null&&r.live){const l=this.getMainFwdBufferInfo();if(!l||l.len<r.targetduration*2)return}if(!t.paused&&e){const l=this.hls.nextLoadLevel,c=e[l],f=this.fragLastKbps;f&&this.fragCurrent?n=this.fragCurrent.duration*c.maxBitrate/(1e3*f)+1:n=0}else n=0;const a=this.getBufferedFrag(t.currentTime+n);if(a){const l=this.followingBufferedFrag(a);if(l){this.abortCurrentFrag();const c=l.maxStartPTS?l.maxStartPTS:l.start,f=l.duration,u=Math.max(a.end,c+Math.min(Math.max(f-this.config.maxFragLookUpTolerance,f*(this.couldBacktrack?.5:.125)),f*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(u,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case re.KEY_LOADING:case re.FRAG_LOADING:case re.FRAG_LOADING_WAITING_RETRY:case re.PARSING:case re.PARSED:this.state=re.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,t){super.flushMainBuffer(e,t,this.altAudio===2?"video":null)}onMediaAttached(e,t){super.onMediaAttached(e,t);const n=t.media;Ar(n,"playing",this.onMediaPlaying),Ar(n,"seeked",this.onMediaSeeked)}onMediaDetaching(e,t){const{media:n}=this;n&&(Ji(n,"playing",this.onMediaPlaying),Ji(n,"seeked",this.onMediaSeeked)),this.videoBuffer=null,this.fragPlaying=null,super.onMediaDetaching(e,t),!t.transferMedia&&(this._hasEnoughToStart=!1)}onManifestLoading(){super.onManifestLoading(),this.log("Trigger BUFFER_RESET"),this.hls.trigger(P.BUFFER_RESET,void 0),this.couldBacktrack=!1,this.fragLastKbps=0,this.fragPlaying=this.backtrackFragment=null,this.altAudio=0,this.audioOnly=!1}onManifestParsed(e,t){let n=!1,i=!1;t.levels.forEach(r=>{const a=r.audioCodec;a&&(n=n||a.indexOf("mp4a.40.2")!==-1,i=i||a.indexOf("mp4a.40.5")!==-1)}),this.audioCodecSwitch=n&&i&&!Vse(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1}onLevelLoading(e,t){const{levels:n}=this;if(!n||this.state!==re.IDLE)return;const i=t.levelInfo;(!i.details||i.details.live&&(this.levelLastLoaded!==i||i.details.expired)||this.waitForCdnTuneIn(i.details))&&(this.state=re.WAITING_LEVEL)}onLevelLoaded(e,t){var n;const{levels:i,startFragRequested:r}=this,a=t.level,l=t.details,c=l.totalduration;if(!i){this.warn(`Levels were reset while loading level ${a}`);return}this.log(`Level ${a} loaded [${l.startSN},${l.endSN}]${l.lastPartSn?`[part-${l.lastPartSn}-${l.lastPartIndex}]`:""}, cc [${l.startCC}, ${l.endCC}] duration:${c}`);const f=t.levelInfo,u=this.fragCurrent;u&&(this.state===re.FRAG_LOADING||this.state===re.FRAG_LOADING_WAITING_RETRY)&&u.level!==t.level&&u.loader&&this.abortCurrentFrag();let h=0;if(l.live||(n=f.details)!=null&&n.live){var p;if(this.checkLiveUpdate(l),l.deltaUpdateFailed)return;h=this.alignPlaylists(l,f.details,(p=this.levelLastLoaded)==null?void 0:p.details)}if(f.details=l,this.levelLastLoaded=f,r||this.setStartPosition(l,h),this.hls.trigger(P.LEVEL_UPDATED,{details:l,level:a}),this.state===re.WAITING_LEVEL){if(this.waitForCdnTuneIn(l))return;this.state=re.IDLE}r&&l.live&&this.synchronizeToLiveEdge(l),this.tick()}synchronizeToLiveEdge(e){const{config:t,media:n}=this;if(!n)return;const i=this.hls.liveSyncPosition,r=this.getLoadPosition(),a=e.fragmentStart,l=e.edge,c=r>=a-t.maxFragLookUpTolerance&&r<=l;if(i!==null&&n.duration>i&&(r<i||!c)){const f=t.liveMaxLatencyDuration!==void 0?t.liveMaxLatencyDuration:t.liveMaxLatencyDurationCount*e.targetduration;(!c&&n.readyState<4||r<l-f)&&(this._hasEnoughToStart||(this.nextLoadPosition=i),n.readyState&&(this.warn(`Playback: ${r.toFixed(3)} is located too far from the end of live sliding playlist: ${l}, reset currentTime to : ${i.toFixed(3)}`),n.currentTime=i))}}_handleFragmentLoadProgress(e){var t;const n=e.frag,{part:i,payload:r}=e,{levels:a}=this;if(!a){this.warn(`Levels were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);return}const l=a[n.level];if(!l){this.warn(`Level ${n.level} not found on progress`);return}const c=l.details;if(!c){this.warn(`Dropping fragment ${n.sn} of level ${n.level} after level details were reset`),this.fragmentTracker.removeFragment(n);return}const f=l.videoCodec,u=c.PTSKnown||!c.live,h=(t=n.initSegment)==null?void 0:t.data,p=this._getAudioCodec(l),g=this.transmuxer=this.transmuxer||new jA(this.hls,Me.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),x=i?i.index:-1,y=x!==-1,v=new X2(n.level,n.sn,n.stats.chunkCount,r.byteLength,x,y),w=this.initPTS[n.cc];g.push(r,h,p,f,n,i,c.totalduration,u,v,w)}onAudioTrackSwitching(e,t){const n=this.hls,i=this.altAudio===2;if(Ym(t.url,n))this.altAudio=1;else{if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const a=this.fragCurrent;a&&(this.log("Switching to main audio track, cancel main fragment load"),a.abortRequests(),this.fragmentTracker.removeFragment(a)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();if(i){this.fragmentTracker.removeAllFragments(),n.once(P.BUFFER_FLUSHED,()=>{var a;(a=this.hls)==null||a.trigger(P.AUDIO_TRACK_SWITCHED,t)}),n.trigger(P.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null});return}n.trigger(P.AUDIO_TRACK_SWITCHED,t)}}onAudioTrackSwitched(e,t){const n=Ym(t.url,this.hls);if(n){const i=this.videoBuffer;i&&this.mediaBuffer!==i&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=n?2:0,this.tick()}onBufferCreated(e,t){const n=t.tracks;let i,r,a=!1;for(const l in n){const c=n[l];if(c.id==="main"){if(r=l,i=c,l==="video"){const f=n[l];f&&(this.videoBuffer=f.buffer)}}else a=!0}a&&i?(this.log(`Alternate track found, use ${r}.buffered to schedule main fragment loading`),this.mediaBuffer=i.buffer):this.mediaBuffer=this.media}onFragBuffered(e,t){const{frag:n,part:i}=t,r=n.type===Me.MAIN;if(r){if(this.fragContextChanged(n)){this.warn(`Fragment ${n.sn}${i?" p: "+i.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}`),this.state===re.PARSED&&(this.state=re.IDLE);return}const l=i?i.stats:n.stats;this.fragLastKbps=Math.round(8*l.total/(l.buffering.end-l.loading.first)),hs(n)&&(this.fragPrevious=n),this.fragBufferedComplete(n,i)}const a=this.media;a&&(!this._hasEnoughToStart&&Ge.getBuffered(a).length&&(this._hasEnoughToStart=!0,this.seekToStartPos()),r&&this.tick())}get hasEnoughToStart(){return this._hasEnoughToStart}onError(e,t){var n;if(t.fatal){this.state=re.ERROR;return}switch(t.details){case te.FRAG_GAP:case te.FRAG_PARSING_ERROR:case te.FRAG_DECRYPT_ERROR:case te.FRAG_LOAD_ERROR:case te.FRAG_LOAD_TIMEOUT:case te.KEY_LOAD_ERROR:case te.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Me.MAIN,t);break;case te.LEVEL_LOAD_ERROR:case te.LEVEL_LOAD_TIMEOUT:case te.LEVEL_PARSING_ERROR:!t.levelRetry&&this.state===re.WAITING_LEVEL&&((n=t.context)==null?void 0:n.type)===Qe.LEVEL&&(this.state=re.IDLE);break;case te.BUFFER_ADD_CODEC_ERROR:case te.BUFFER_APPEND_ERROR:if(t.parent!=="main")return;this.resetLoadingState();break;case te.BUFFER_FULL_ERROR:if(t.parent!=="main")return;this.reduceLengthAndFlushBuffer(t)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case te.INTERNAL_EXCEPTION:this.recoverWorkerError(t);break}}onFragLoadEmergencyAborted(){this.state=re.IDLE,this._hasEnoughToStart||(this.startFragRequested=!1,this.nextLoadPosition=this.lastCurrentTime),this.tickImmediate()}onBufferFlushed(e,{type:t}){if(t!==mt.AUDIO||!this.altAudio){const n=(t===mt.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;n&&(this.afterBufferFlushed(n,t,Me.MAIN),this.tick())}}onLevelsUpdated(e,t){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level,this.level===-1&&this.resetWhenMissingContext(this.fragCurrent)),this.levels=t.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:e}=this;if(!e)return;const t=e.currentTime;let n=this.startPosition;if(n>=0&&t<n){if(e.seeking){this.log(`could not seek to ${n}, already seeking at ${t}`);return}const i=this.timelineOffset;i&&n&&(n+=i);const r=this.getLevelDetails(),a=Ge.getBuffered(e),l=a.length?a.start(0):0,c=l-n,f=Math.max(this.config.maxBufferHole,this.config.maxFragLookUpTolerance);c>0&&(c<f||this.loadingParts&&c<2*((r==null?void 0:r.partTarget)||0))&&(this.log(`adjusting start position by ${c} to match buffer start`),n+=c,this.startPosition=n),t<n&&(this.log(`seek to target start position ${n} from current time ${t} buffer start ${l}`),e.currentTime=n)}}_getAudioCodec(e){let t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&t&&(this.log("Swapping audio codec"),t.indexOf("mp4a.40.5")!==-1?t="mp4a.40.2":t="mp4a.40.5"),t}_loadBitrateTestFrag(e,t){e.bitrateTest=!0,this._doFragLoad(e,t).then(n=>{const{hls:i}=this,r=n==null?void 0:n.frag;if(!r||this.fragContextChanged(r))return;t.fragmentError=0,this.state=re.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;const a=r.stats;a.parsing.start=a.parsing.end=a.buffering.start=a.buffering.end=self.performance.now(),i.trigger(P.FRAG_LOADED,n),r.bitrateTest=!1})}_handleTransmuxComplete(e){var t;const n=this.playlistType,{hls:i}=this,{remuxResult:r,chunkMeta:a}=e,l=this.getCurrentContext(a);if(!l){this.resetWhenMissingContext(a);return}const{frag:c,part:f,level:u}=l,{video:h,text:p,id3:g,initSegment:x}=r,{details:y}=u,v=this.altAudio?void 0:r.audio;if(this.fragContextChanged(c)){this.fragmentTracker.removeFragment(c);return}if(this.state=re.PARSING,x){if(x!=null&&x.tracks){const S=c.initSegment||c;this._bufferInitSegment(u,x.tracks,S,a),i.trigger(P.FRAG_PARSING_INIT_SEGMENT,{frag:S,id:n,tracks:x.tracks})}const w=x.initPTS,L=x.timescale;we(w)&&(this.initPTS[c.cc]={baseTime:w,timescale:L},i.trigger(P.INIT_PTS_FOUND,{frag:c,id:n,initPTS:w,timescale:L}))}if(h&&y){v&&h.type==="audiovideo"&&this.logMuxedErr(c);const w=y.fragments[c.sn-1-y.startSN],L=c.sn===y.startSN,S=!w||c.cc>w.cc;if(r.independent!==!1){const{startPTS:j,endPTS:E,startDTS:M,endDTS:N}=h;if(f)f.elementaryStreams[h.type]={startPTS:j,endPTS:E,startDTS:M,endDTS:N};else if(h.firstKeyFrame&&h.independent&&a.id===1&&!S&&(this.couldBacktrack=!0),h.dropped&&h.independent){const I=this.getMainFwdBufferInfo(),A=(I?I.end:this.getLoadPosition())+this.config.maxBufferHole,D=h.firstKeyFramePTS?h.firstKeyFramePTS:j;if(!L&&A<D-this.config.maxBufferHole&&!S){this.backtrack(c);return}else S&&(c.gap=!0);c.setElementaryStreamInfo(h.type,c.start,E,c.start,N,!0)}else L&&j-(y.appliedTimelineOffset||0)>tm&&(c.gap=!0);c.setElementaryStreamInfo(h.type,j,E,M,N),this.backtrackFragment&&(this.backtrackFragment=c),this.bufferFragmentData(h,c,f,a,L||S)}else if(L||S)c.gap=!0;else{this.backtrack(c);return}}if(v){const{startPTS:w,endPTS:L,startDTS:S,endDTS:j}=v;f&&(f.elementaryStreams[mt.AUDIO]={startPTS:w,endPTS:L,startDTS:S,endDTS:j}),c.setElementaryStreamInfo(mt.AUDIO,w,L,S,j),this.bufferFragmentData(v,c,f,a)}if(y&&g!=null&&(t=g.samples)!=null&&t.length){const w={id:n,frag:c,details:y,samples:g.samples};i.trigger(P.FRAG_PARSING_METADATA,w)}if(y&&p){const w={id:n,frag:c,details:y,samples:p.samples};i.trigger(P.FRAG_PARSING_USERDATA,w)}}logMuxedErr(e){this.warn(`${hs(e)?"Media":"Init"} segment with muxed audiovideo where only video expected: ${e.url}`)}_bufferInitSegment(e,t,n,i){if(this.state!==re.PARSING)return;this.audioOnly=!!t.audio&&!t.video,this.altAudio&&!this.audioOnly&&(delete t.audio,t.audiovideo&&this.logMuxedErr(n));const{audio:r,video:a,audiovideo:l}=t;if(r){let f=K0(r.codec,e.audioCodec);f==="mp4a"&&(f="mp4a.40.5");const u=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){f&&(f.indexOf("mp4a.40.5")!==-1?f="mp4a.40.2":f="mp4a.40.5");const h=r.metadata;h&&"channelCount"in h&&(h.channelCount||1)!==1&&u.indexOf("firefox")===-1&&(f="mp4a.40.5")}f&&f.indexOf("mp4a.40.5")!==-1&&u.indexOf("android")!==-1&&r.container!=="audio/mpeg"&&(f="mp4a.40.2",this.log(`Android: force audio codec to ${f}`)),e.audioCodec&&e.audioCodec!==f&&this.log(`Swapping manifest audio codec "${e.audioCodec}" for "${f}"`),r.levelCodec=f,r.id=Me.MAIN,this.log(`Init audio buffer, container:${r.container}, codecs[selected/level/parsed]=[${f||""}/${e.audioCodec||""}/${r.codec}]`),delete t.audiovideo}if(a){a.levelCodec=e.videoCodec,a.id=Me.MAIN;const f=a.codec;if((f==null?void 0:f.length)===4)switch(f){case"hvc1":case"hev1":a.codec="hvc1.1.6.L120.90";break;case"av01":a.codec="av01.0.04M.08";break;case"avc1":a.codec="avc1.42e01e";break}this.log(`Init video buffer, container:${a.container}, codecs[level/parsed]=[${e.videoCodec||""}/${f}]${a.codec!==f?" parsed-corrected="+a.codec:""}${a.supplemental?" supplemental="+a.supplemental:""}`),delete t.audiovideo}l&&(this.log(`Init audiovideo buffer, container:${l.container}, codecs[level/parsed]=[${e.codecs}/${l.codec}]`),delete t.video,delete t.audio);const c=Object.keys(t);if(c.length){if(this.hls.trigger(P.BUFFER_CODECS,t),!this.hls)return;c.forEach(f=>{const h=t[f].initSegment;h!=null&&h.byteLength&&this.hls.trigger(P.BUFFER_APPENDING,{type:f,data:h,frag:n,part:null,chunkMeta:i,parent:n.type})})}this.tickImmediate()}getMainFwdBufferInfo(){const e=this.mediaBuffer&&this.altAudio===2?this.mediaBuffer:this.media;return this.getFwdBufferInfo(e,Me.MAIN)}get maxBufferLength(){const{levels:e,level:t}=this,n=e==null?void 0:e[t];return n?this.getMaxBufferLength(n.maxBitrate):this.config.maxBufferLength}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=re.IDLE}checkFragmentChanged(){const e=this.media;let t=null;if(e&&e.readyState>1&&e.seeking===!1){const n=e.currentTime;if(Ge.isBuffered(e,n)?t=this.getAppendedFrag(n):Ge.isBuffered(e,n+.1)&&(t=this.getAppendedFrag(n+.1)),t){this.backtrackFragment=null;const i=this.fragPlaying,r=t.level;(!i||t.sn!==i.sn||i.level!==r)&&(this.fragPlaying=t,this.hls.trigger(P.FRAG_CHANGED,{frag:t}),(!i||i.level!==r)&&this.hls.trigger(P.LEVEL_SWITCHED,{level:r}))}}}get nextLevel(){const e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){var e;if(this.fragPlaying)return this.fragPlaying;const t=((e=this.media)==null?void 0:e.currentTime)||this.lastCurrentTime;return we(t)?this.getAppendedFrag(t):null}get currentProgramDateTime(){var e;const t=((e=this.media)==null?void 0:e.currentTime)||this.lastCurrentTime;if(we(t)){const n=this.getLevelDetails(),i=this.currentFrag||(n?Go(null,n.fragments,t):null);if(i){const r=i.programDateTime;if(r!==null){const a=r+(t-i.start)*1e3;return new Date(a)}}}return null}get currentLevel(){const e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){const e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}}class Yse{constructor(e){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=e}abort(e){for(const n in this.keyUriToKeyInfo){const i=this.keyUriToKeyInfo[n].loader;if(i){var t;if(e&&e!==((t=i.context)==null?void 0:t.frag.type))return;i.abort()}}}detach(){for(const e in this.keyUriToKeyInfo){const t=this.keyUriToKeyInfo[e];(t.mediaKeySessionContext||t.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[e]}}destroy(){this.detach();for(const e in this.keyUriToKeyInfo){const t=this.keyUriToKeyInfo[e].loader;t&&t.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(e,t=te.KEY_LOAD_ERROR,n,i,r){return new Nr({type:Ie.NETWORK_ERROR,details:t,fatal:!1,frag:e,response:r,error:n,networkDetails:i})}loadClear(e,t){if(this.emeController&&this.config.emeEnabled){const{sn:n,cc:i}=e;for(let r=0;r<t.length;r++){const a=t[r];if(i<=a.cc&&(n==="initSegment"||a.sn==="initSegment"||n<a.sn)){this.emeController.selectKeySystemFormat(a).then(l=>{a.setKeyFormat(l)});break}}}}load(e){return!e.decryptdata&&e.encrypted&&this.emeController&&this.config.emeEnabled?this.emeController.selectKeySystemFormat(e).then(t=>this.loadInternal(e,t)):this.loadInternal(e)}loadInternal(e,t){var n,i;t&&e.setKeyFormat(t);const r=e.decryptdata;if(!r){const f=new Error(t?`Expected frag.decryptdata to be defined after setting format ${t}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(e,te.KEY_LOAD_ERROR,f))}const a=r.uri;if(!a)return Promise.reject(this.createKeyLoadError(e,te.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${a}"`)));let l=this.keyUriToKeyInfo[a];if((n=l)!=null&&n.decryptdata.key)return r.key=l.decryptdata.key,Promise.resolve({frag:e,keyInfo:l});if((i=l)!=null&&i.keyLoadPromise){var c;switch((c=l.mediaKeySessionContext)==null?void 0:c.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return l.keyLoadPromise.then(f=>(r.key=f.keyInfo.decryptdata.key,{frag:e,keyInfo:l}))}}switch(l=this.keyUriToKeyInfo[a]={decryptdata:r,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},r.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return r.keyFormat==="identity"?this.loadKeyHTTP(l,e):this.loadKeyEME(l,e);case"AES-128":case"AES-256":case"AES-256-CTR":return this.loadKeyHTTP(l,e);default:return Promise.reject(this.createKeyLoadError(e,te.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${r.method}"`)))}}loadKeyEME(e,t){const n={frag:t,keyInfo:e};if(this.emeController&&this.config.emeEnabled){const i=this.emeController.loadKey(n);if(i)return(e.keyLoadPromise=i.then(r=>(e.mediaKeySessionContext=r,n))).catch(r=>{throw e.keyLoadPromise=null,r})}return Promise.resolve(n)}loadKeyHTTP(e,t){const n=this.config,i=n.loader,r=new i(n);return t.keyLoader=e.loader=r,e.keyLoadPromise=new Promise((a,l)=>{const c={keyInfo:e,frag:t,responseType:"arraybuffer",url:e.decryptdata.uri},f=n.keyLoadPolicy.default,u={loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},h={onSuccess:(p,g,x,y)=>{const{frag:v,keyInfo:w,url:L}=x;if(!v.decryptdata||w!==this.keyUriToKeyInfo[L])return l(this.createKeyLoadError(v,te.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),y));w.decryptdata.key=v.decryptdata.key=new Uint8Array(p.data),v.keyLoader=null,w.loader=null,a({frag:v,keyInfo:w})},onError:(p,g,x,y)=>{this.resetLoader(g),l(this.createKeyLoadError(t,te.KEY_LOAD_ERROR,new Error(`HTTP Error ${p.code} loading key ${p.text}`),x,ct({url:c.url,data:void 0},p)))},onTimeout:(p,g,x)=>{this.resetLoader(g),l(this.createKeyLoadError(t,te.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),x))},onAbort:(p,g,x)=>{this.resetLoader(g),l(this.createKeyLoadError(t,te.INTERNAL_ABORTED,new Error("key loading aborted"),x))}};r.load(c,u,h)})}resetLoader(e){const{frag:t,keyInfo:n,url:i}=e,r=n.loader;t.keyLoader===r&&(t.keyLoader=null,n.loader=null),delete this.keyUriToKeyInfo[i],r&&r.destroy()}}function P6(s){const{type:e}=s;switch(e){case Qe.AUDIO_TRACK:return Me.AUDIO;case Qe.SUBTITLE_TRACK:return Me.SUBTITLE;default:return Me.MAIN}}function oy(s,e){let t=s.url;return(t===void 0||t.indexOf("data:")===0)&&(t=e.url),t}class Wse{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.onManifestLoaded=this.checkAutostartLoad,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:e}=this;e.on(P.MANIFEST_LOADING,this.onManifestLoading,this),e.on(P.LEVEL_LOADING,this.onLevelLoading,this),e.on(P.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(P.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),e.on(P.LEVELS_UPDATED,this.onLevelsUpdated,this)}unregisterListeners(){const{hls:e}=this;e.off(P.MANIFEST_LOADING,this.onManifestLoading,this),e.off(P.LEVEL_LOADING,this.onLevelLoading,this),e.off(P.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(P.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),e.off(P.LEVELS_UPDATED,this.onLevelsUpdated,this)}createInternalLoader(e){const t=this.hls.config,n=t.pLoader,i=t.loader,r=n||i,a=new r(t);return this.loaders[e.type]=a,a}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(const e in this.loaders){const t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,t){const{url:n}=t;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:Qe.MANIFEST,url:n,deliveryDirectives:null,levelOrTrack:null})}onLevelLoading(e,t){const{id:n,level:i,pathwayId:r,url:a,deliveryDirectives:l,levelInfo:c}=t;this.load({id:n,level:i,pathwayId:r,responseType:"text",type:Qe.LEVEL,url:a,deliveryDirectives:l,levelOrTrack:c})}onAudioTrackLoading(e,t){const{id:n,groupId:i,url:r,deliveryDirectives:a,track:l}=t;this.load({id:n,groupId:i,level:null,responseType:"text",type:Qe.AUDIO_TRACK,url:r,deliveryDirectives:a,levelOrTrack:l})}onSubtitleTrackLoading(e,t){const{id:n,groupId:i,url:r,deliveryDirectives:a,track:l}=t;this.load({id:n,groupId:i,level:null,responseType:"text",type:Qe.SUBTITLE_TRACK,url:r,deliveryDirectives:a,levelOrTrack:l})}onLevelsUpdated(e,t){const n=this.loaders[Qe.LEVEL];if(n){const i=n.context;i&&!t.levels.some(r=>r===i.levelOrTrack)&&(n.abort(),delete this.loaders[Qe.LEVEL])}}load(e){var t;const n=this.hls.config;let i=this.getInternalLoader(e);if(i){const f=this.hls.logger,u=i.context;if(u&&u.levelOrTrack===e.levelOrTrack&&(u.url===e.url||u.deliveryDirectives&&!e.deliveryDirectives)){u.url===e.url?f.log(`[playlist-loader]: ignore ${e.url} ongoing request`):f.log(`[playlist-loader]: ignore ${e.url} in favor of ${u.url}`);return}f.log(`[playlist-loader]: aborting previous loader for type: ${e.type}`),i.abort()}let r;if(e.type===Qe.MANIFEST?r=n.manifestLoadPolicy.default:r=gt({},n.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),i=this.createInternalLoader(e),we((t=e.deliveryDirectives)==null?void 0:t.part)){let f;if(e.type===Qe.LEVEL&&e.level!==null?f=this.hls.levels[e.level].details:e.type===Qe.AUDIO_TRACK&&e.id!==null?f=this.hls.audioTracks[e.id].details:e.type===Qe.SUBTITLE_TRACK&&e.id!==null&&(f=this.hls.subtitleTracks[e.id].details),f){const u=f.partTarget,h=f.targetduration;if(u&&h){const p=Math.max(u*3,h*.8)*1e3;r=gt({},r,{maxTimeToFirstByteMs:Math.min(p,r.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(p,r.maxTimeToFirstByteMs)})}}}const a=r.errorRetry||r.timeoutRetry||{},l={loadPolicy:r,timeout:r.maxLoadTimeMs,maxRetry:a.maxNumRetry||0,retryDelay:a.retryDelayMs||0,maxRetryDelay:a.maxRetryDelayMs||0},c={onSuccess:(f,u,h,p)=>{const g=this.getInternalLoader(h);this.resetInternalLoader(h.type);const x=f.data;if(x.indexOf("#EXTM3U")!==0){this.handleManifestParsingError(f,h,new Error("no EXTM3U delimiter"),p||null,u);return}u.parsing.start=performance.now(),Ki.isMediaPlaylist(x)||h.type!==Qe.MANIFEST?this.handleTrackOrLevelPlaylist(f,u,h,p||null,g):this.handleMasterPlaylist(f,u,h,p)},onError:(f,u,h,p)=>{this.handleNetworkError(u,h,!1,f,p)},onTimeout:(f,u,h)=>{this.handleNetworkError(u,h,!0,void 0,f)}};i.load(e,l,c)}checkAutostartLoad(){if(!this.hls)return;const{config:{autoStartLoad:e,startPosition:t},forceStartLoad:n}=this.hls;(e||n)&&(this.hls.logger.log(`${e?"auto":"force"} startLoad with configured startPosition ${t}`),this.hls.startLoad(t))}handleMasterPlaylist(e,t,n,i){const r=this.hls,a=e.data,l=oy(e,n),c=Ki.parseMasterPlaylist(a,l);if(c.playlistParsingError){this.handleManifestParsingError(e,n,c.playlistParsingError,i,t);return}const{contentSteering:f,levels:u,sessionData:h,sessionKeys:p,startTimeOffset:g,variableList:x}=c;this.variableList=x;const{AUDIO:y=[],SUBTITLES:v,"CLOSED-CAPTIONS":w}=Ki.parseMasterPlaylistMedia(a,l,c);y.length&&!y.some(S=>!S.url)&&u[0].audioCodec&&!u[0].attrs.AUDIO&&(this.hls.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),y.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new Mt({}),bitrate:0,url:""})),r.trigger(P.MANIFEST_LOADED,{levels:u,audioTracks:y,subtitles:v,captions:w,contentSteering:f,url:l,stats:t,networkDetails:i,sessionData:h,sessionKeys:p,startTimeOffset:g,variableList:x})}handleTrackOrLevelPlaylist(e,t,n,i,r){const a=this.hls,{id:l,level:c,type:f}=n,u=oy(e,n),h=we(c)?c:we(l)?l:0,p=P6(n),g=Ki.parseLevelPlaylist(e.data,u,h,p,0,this.variableList);if(f===Qe.MANIFEST){const x={attrs:new Mt({}),bitrate:0,details:g,name:"",url:u};g.requestScheduled=t.loading.start+eA(g,0),a.trigger(P.MANIFEST_LOADED,{levels:[x],audioTracks:[],url:u,stats:t,networkDetails:i,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}t.parsing.end=performance.now(),n.levelDetails=g,this.handlePlaylistLoaded(g,e,t,n,i,r)}handleManifestParsingError(e,t,n,i,r){this.hls.trigger(P.ERROR,{type:Ie.NETWORK_ERROR,details:te.MANIFEST_PARSING_ERROR,fatal:t.type===Qe.MANIFEST,url:e.url,err:n,error:n,reason:n.message,response:e,context:t,networkDetails:i,stats:r})}handleNetworkError(e,t,n=!1,i,r){let a=`A network ${n?"timeout":"error"+(i?" (status "+i.code+")":"")} occurred while loading ${e.type}`;e.type===Qe.LEVEL?a+=`: ${e.level} id: ${e.id}`:(e.type===Qe.AUDIO_TRACK||e.type===Qe.SUBTITLE_TRACK)&&(a+=` id: ${e.id} group-id: "${e.groupId}"`);const l=new Error(a);this.hls.logger.warn(`[playlist-loader]: ${a}`);let c=te.UNKNOWN,f=!1;const u=this.getInternalLoader(e);switch(e.type){case Qe.MANIFEST:c=n?te.MANIFEST_LOAD_TIMEOUT:te.MANIFEST_LOAD_ERROR,f=!0;break;case Qe.LEVEL:c=n?te.LEVEL_LOAD_TIMEOUT:te.LEVEL_LOAD_ERROR,f=!1;break;case Qe.AUDIO_TRACK:c=n?te.AUDIO_TRACK_LOAD_TIMEOUT:te.AUDIO_TRACK_LOAD_ERROR,f=!1;break;case Qe.SUBTITLE_TRACK:c=n?te.SUBTITLE_TRACK_LOAD_TIMEOUT:te.SUBTITLE_LOAD_ERROR,f=!1;break}u&&this.resetInternalLoader(e.type);const h={type:Ie.NETWORK_ERROR,details:c,fatal:f,url:e.url,loader:u,context:e,error:l,networkDetails:t,stats:r};if(i){const p=(t==null?void 0:t.url)||e.url;h.response=ct({url:p,data:void 0},i)}this.hls.trigger(P.ERROR,h)}handlePlaylistLoaded(e,t,n,i,r,a){const l=this.hls,{type:c,level:f,id:u,groupId:h,deliveryDirectives:p}=i,g=oy(t,i),x=P6(i),y=typeof i.level=="number"&&x===Me.MAIN?f:void 0;if(!e.fragments.length){const w=e.playlistParsingError=new Error("No Segments found in Playlist");l.trigger(P.ERROR,{type:Ie.NETWORK_ERROR,details:te.LEVEL_EMPTY_ERROR,fatal:!1,url:g,error:w,reason:w.message,response:t,context:i,level:y,parent:x,networkDetails:r,stats:n});return}e.targetduration||(e.playlistParsingError=new Error("Missing Target Duration"));const v=e.playlistParsingError;if(v){if(this.hls.logger.warn(v),!l.config.ignorePlaylistParsingErrors){l.trigger(P.ERROR,{type:Ie.NETWORK_ERROR,details:te.LEVEL_PARSING_ERROR,fatal:!1,url:g,error:v,reason:v.message,response:t,context:i,level:y,parent:x,networkDetails:r,stats:n});return}e.playlistParsingError=null}switch(e.live&&a&&(a.getCacheAge&&(e.ageHeader=a.getCacheAge()||0),(!a.getCacheAge||isNaN(e.ageHeader))&&(e.ageHeader=0)),c){case Qe.MANIFEST:case Qe.LEVEL:l.trigger(P.LEVEL_LOADED,{details:e,levelInfo:i.levelOrTrack||l.levels[0],level:y||0,id:u||0,stats:n,networkDetails:r,deliveryDirectives:p,withoutMultiVariant:c===Qe.MANIFEST});break;case Qe.AUDIO_TRACK:l.trigger(P.AUDIO_TRACK_LOADED,{details:e,track:i.levelOrTrack,id:u||0,groupId:h||"",stats:n,networkDetails:r,deliveryDirectives:p});break;case Qe.SUBTITLE_TRACK:l.trigger(P.SUBTITLE_TRACK_LOADED,{details:e,track:i.levelOrTrack,id:u||0,groupId:h||"",stats:n,networkDetails:r,deliveryDirectives:p});break}}}class Sn{static get version(){return Gu}static isMSESupported(){return QA()}static isSupported(){return $se()}static getMediaSource(){return Oa()}static get Events(){return P}static get MetadataSchema(){return wn}static get ErrorTypes(){return Ie}static get ErrorDetails(){return te}static get DefaultConfig(){return Sn.defaultConfig?Sn.defaultConfig:Mse}static set DefaultConfig(e){Sn.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.logger=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new nw,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioStreamController=void 0,this.subtititleStreamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.interstitialsController=void 0,this.gapController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this._url=null,this._sessionId=void 0,this.triggeringException=void 0,this.started=!1;const t=this.logger=dZ(e.debug||!1,"Hls instance",e.assetPlayerId),n=this.config=Ise(Sn.DefaultConfig,e,t);this.userConfig=e,n.progressive&&_se(n,t);const{abrController:i,bufferController:r,capLevelController:a,errorController:l,fpsController:c}=n,f=new l(this),u=this.abrController=new i(this),h=new iX(this),p=n.interstitialsController,g=p?this.interstitialsController=new p(this,Sn):null,x=this.bufferController=new r(this,h),y=this.capLevelController=new a(this),v=new c(this),w=new Wse(this),L=n.contentSteeringController,S=L?new L(this):null,j=this.levelController=new Use(this,S),E=new zse(this),M=new Yse(this.config),N=this.streamController=new Hse(this,h,M),I=this.gapController=new Rse(this,h);y.setStreamController(N),v.setStreamController(N);const A=[w,j,N];g&&A.splice(1,0,g),S&&A.splice(1,0,S),this.networkControllers=A;const D=[u,x,I,y,v,E,h];this.audioTrackController=this.createController(n.audioTrackController,A);const z=n.audioStreamController;z&&A.push(this.audioStreamController=new z(this,h,M)),this.subtitleTrackController=this.createController(n.subtitleTrackController,A);const O=n.subtitleStreamController;O&&A.push(this.subtititleStreamController=new O(this,h,M)),this.createController(n.timelineController,D),M.emeController=this.emeController=this.createController(n.emeController,D),this.cmcdController=this.createController(n.cmcdController,D),this.latencyController=this.createController(Bse,D),this.coreComponents=D,A.push(f);const Y=f.onErrorOut;typeof Y=="function"&&this.on(P.ERROR,Y,f),this.on(P.MANIFEST_LOADED,w.onManifestLoaded,w)}createController(e,t){if(e){const n=new e(this);return t&&t.push(n),n}return null}on(e,t,n=this){this._emitter.on(e,t,n)}once(e,t,n=this){this._emitter.once(e,t,n)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,t,n=this,i){this._emitter.off(e,t,n,i)}listeners(e){return this._emitter.listeners(e)}emit(e,t,n){return this._emitter.emit(e,t,n)}trigger(e,t){if(this.config.debug)return this.emit(e,e,t);try{return this.emit(e,e,t)}catch(n){if(this.logger.error("An internal error happened while handling event "+e+'. Error message: "'+n.message+'". Here is a stacktrace:',n),!this.triggeringException){this.triggeringException=!0;const i=e===P.ERROR;this.trigger(P.ERROR,{type:Ie.OTHER_ERROR,details:te.INTERNAL_EXCEPTION,fatal:i,event:e,error:n}),this.triggeringException=!1}}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){this.logger.log("destroy"),this.trigger(P.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this._url=null,this.networkControllers.forEach(t=>t.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(t=>t.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){if(!e||"media"in e&&!e.media){const r=new Error(`attachMedia failed: invalid argument (${e})`);this.trigger(P.ERROR,{type:Ie.OTHER_ERROR,details:te.ATTACH_MEDIA_ERROR,fatal:!0,error:r});return}this.logger.log("attachMedia"),this._media&&(this.logger.warn("media must be detached before attaching"),this.detachMedia());const t="media"in e,n=t?e.media:e,i=t?e:{media:n};this._media=n,this.trigger(P.MEDIA_ATTACHING,i)}detachMedia(){this.logger.log("detachMedia"),this.trigger(P.MEDIA_DETACHING,{}),this._media=null}transferMedia(){this._media=null;const e=this.bufferController.transferMedia();return this.trigger(P.MEDIA_DETACHING,{transferMedia:e}),e}loadSource(e){this.stopLoad();const t=this.media,n=this._url,i=this._url=W2.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.logger.log(`loadSource:${i}`),t&&n&&(n!==i||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(t)),this.trigger(P.MANIFEST_LOADING,{url:e})}get url(){return this._url}get hasEnoughToStart(){return this.streamController.hasEnoughToStart}get startPosition(){return this.streamController.startPositionValue}startLoad(e=-1,t){this.logger.log(`startLoad(${e+(t?", <skip seek to start>":"")})`),this.started=!0,this.resumeBuffering();for(let n=0;n<this.networkControllers.length&&(this.networkControllers[n].startLoad(e,t),!(!this.started||!this.networkControllers));n++);}stopLoad(){this.logger.log("stopLoad"),this.started=!1;for(let e=0;e<this.networkControllers.length&&(this.networkControllers[e].stopLoad(),!(this.started||!this.networkControllers));e++);}get loadingEnabled(){return this.started}get bufferingEnabled(){return this.streamController.bufferingEnabled}resumeBuffering(){this.bufferingEnabled||(this.logger.log("resume buffering"),this.networkControllers.forEach(e=>{e.resumeBuffering&&e.resumeBuffering()}))}pauseBuffering(){this.bufferingEnabled&&(this.logger.log("pause buffering"),this.networkControllers.forEach(e=>{e.pauseBuffering&&e.pauseBuffering()}))}get inFlightFragments(){const e={[Me.MAIN]:this.streamController.inFlightFrag};return this.audioStreamController&&(e[Me.AUDIO]=this.audioStreamController.inFlightFrag),this.subtititleStreamController&&(e[Me.SUBTITLE]=this.subtititleStreamController.inFlightFrag),e}swapAudioCodec(){this.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){this.logger.log("recoverMediaError");const e=this._media,t=e==null?void 0:e.currentTime;this.detachMedia(),e&&(this.attachMedia(e),t&&this.startLoad(t))}removeLevel(e){this.levelController.removeLevel(e)}get sessionId(){let e=this._sessionId;return e||(e=this._sessionId=see()),e}get levels(){const e=this.levelController.levels;return e||[]}get latestLevelDetails(){return this.streamController.getLevelDetails()||null}get loadLevelObj(){return this.levelController.loadLevelObj}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){this.logger.log(`set currentLevel:${e}`),this.levelController.manualLevel=e,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){this.logger.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){this.logger.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){this.logger.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){const e=this.levelController.startLevel;return e===-1&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:e}set startLevel(e){this.logger.log(`set startLevel:${e}`),e!==-1&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}set bandwidthEstimate(e){this.abrController.resetEstimator(e)}get abrEwmaDefaultEstimate(){const{bwEstimator:e}=this.abrController;return e?e.defaultEstimate:NaN}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(this.logger.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){UZ(e)&&this._maxHdcpLevel!==e&&(this._maxHdcpLevel=e,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return this.levelController.manualLevel===-1}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:t}}=this;if(!e)return 0;const n=e.length;for(let i=0;i<n;i++)if(e[i].maxBitrate>=t)return i;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:t,maxHdcpLevel:n}=this;let i;if(t===-1&&e!=null&&e.length?i=e.length-1:i=t,n)for(let r=i;r--;){const a=e[r].attrs["HDCP-LEVEL"];if(a&&a<=n)return r}return i}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(e){this.abrController.nextAutoLevel=e}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get maxBufferLength(){return this.streamController.maxBufferLength}setAudioOption(e){var t;return((t=this.audioTrackController)==null?void 0:t.setAudioOption(e))||null}setSubtitleOption(e){var t;return((t=this.subtitleTrackController)==null?void 0:t.setSubtitleOption(e))||null}get allAudioTracks(){const e=this.audioTrackController;return e?e.allAudioTracks:[]}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const t=this.audioTrackController;t&&(t.audioTrack=e)}get allSubtitleTracks(){const e=this.subtitleTrackController;return e?e.allSubtitleTracks:[]}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return e?e.subtitleDisplay:!1}set subtitleDisplay(e){const t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}set targetLatency(e){this.latencyController.targetLatency=e}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}get pathways(){return this.levelController.pathways}get pathwayPriority(){return this.levelController.pathwayPriority}set pathwayPriority(e){this.levelController.pathwayPriority=e}get bufferedToEnd(){var e;return!!((e=this.bufferController)!=null&&e.bufferedToEnd)}get interstitialsManager(){var e;return((e=this.interstitialsController)==null?void 0:e.interstitialsManager)||null}getMediaDecodingInfo(e,t=this.allAudioTracks){const n=G_(t);return V_(e,n,navigator.mediaCapabilities)}}Sn.defaultConfig=void 0;const KA=({playbackUrl:s,autoPlay:e=!0,muted:t=!1,controls:n=!0})=>{const i=T.useRef(null);return T.useEffect(()=>{let r;if(i.current&&s){const a=i.current;(()=>{Sn.isSupported()?(r=new Sn({enableWorker:!0,lowLatencyMode:!0,backBufferLength:90}),r.loadSource(s),r.attachMedia(a),r.on(Sn.Events.MANIFEST_PARSED,()=>{e&&a.play().catch(c=>{console.error("Error attempting to play:",c)})}),r.on(Sn.Events.ERROR,(c,f)=>{if(f.fatal)switch(f.type){case Sn.ErrorTypes.NETWORK_ERROR:console.error("Network error, trying to recover..."),r.startLoad();break;case Sn.ErrorTypes.MEDIA_ERROR:console.error("Media error, trying to recover..."),r.recoverMediaError();break;default:console.error("Unrecoverable error:",f),r.destroy();break}})):a.canPlayType("application/vnd.apple.mpegurl")&&(a.src=s,a.addEventListener("loadedmetadata",()=>{e&&a.play().catch(c=>{console.error("Error attempting to play:",c)})}))})()}return()=>{r&&r.destroy()}},[s,e]),o.jsx("div",{className:"relative w-full",children:o.jsx("video",{ref:i,className:"w-full h-full rounded-lg",controls:n,muted:t,playsInline:!0})})},Qse=({livestream:s,onStatusChange:e})=>{const[t,n]=T.useState(!1),[i,r]=T.useState(!1),[a,l]=T.useState(null),c=async()=>{var g,x;r(!0),l(null);try{const y=await Q.post(`http://localhost:5000/api/livestream/${s._id}/activate`,{},{withCredentials:!0});r(!1),e&&y.data.success&&e(y.data.data)}catch(y){r(!1);const v=((x=(g=y.response)==null?void 0:g.data)==null?void 0:x.error)||"Failed to activate livestream";l(v),de(v),console.error("Error activating livestream:",y)}},f=async()=>{var g,x;r(!0),l(null);try{const y=await Q.post(`http://localhost:5000/api/livestream/${s._id}/deactivate`,{},{withCredentials:!0});r(!1),e&&y.data.success&&e(y.data.data)}catch(y){r(!1);const v=((x=(g=y.response)==null?void 0:g.data)==null?void 0:x.error)||"Failed to deactivate livestream";l(v),de(v),console.error("Error deactivating livestream:",y)}},u=async()=>{var g,x;if(window.confirm("Are you sure you want to delete this livestream?")){r(!0),l(null);try{await Q.delete(`http://localhost:5000/api/livestream/${s._id}`,{withCredentials:!0}),r(!1),e&&e(null,!0)}catch(y){r(!1);const v=((x=(g=y.response)==null?void 0:g.data)==null?void 0:x.error)||"Failed to delete livestream";l(v),de(v),console.error("Error deleting livestream:",y)}}},h=(g,x="Text")=>{navigator.clipboard.writeText(g),Be(`${x} copied to clipboard!`)},p=g=>g?new Date(g).toLocaleString():"N/A";return o.jsxs("div",{className:"bg-[#111111] rounded-lg shadow-md overflow-hidden",children:[o.jsx("div",{className:`p-2 text-center text-white font-medium ${s.status==="active"?"bg-green-600":s.status==="idle"&&s.endedAt?"bg-gray-600":"bg-yellow-600"}`,children:s.status==="active"?"LIVE NOW":s.status==="idle"&&s.endedAt?"ENDED":"IDLE"}),s.status==="active"&&o.jsx("div",{className:"w-full",children:o.jsx(KA,{playbackUrl:s.playbackUrl})}),o.jsxs("div",{className:"p-4",children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:s.name}),a&&o.jsx("div",{className:"bg-red-500 text-white p-3 rounded-md mb-4",children:a}),o.jsxs("div",{className:"space-y-3 mb-4",children:[o.jsxs("p",{className:"text-gray-300",children:[o.jsx("span",{className:"font-medium",children:"Status:"})," ",o.jsx("span",{className:`${s.status==="active"?"text-green-500":s.status==="idle"&&s.endedAt?"text-gray-500":"text-yellow-500"}`,children:s.status==="active"?"Live":s.status==="idle"&&s.endedAt?"Ended":"Idle"})]}),o.jsxs("p",{className:"text-gray-300",children:[o.jsx("span",{className:"font-medium",children:"Type:"})," ",s.isScreenSharing?"Screen Sharing":"Video Stream"]}),s.startedAt&&o.jsxs("p",{className:"text-gray-300",children:[o.jsx("span",{className:"font-medium",children:"Started:"})," ",p(s.startedAt)]}),s.endedAt&&o.jsxs("p",{className:"text-gray-300",children:[o.jsx("span",{className:"font-medium",children:"Ended:"})," ",p(s.endedAt)]})]}),(!s.endedAt||s.status==="active")&&o.jsxs("div",{className:"mb-4 p-3 bg-gray-800 rounded-md",children:[o.jsx("h3",{className:"text-white font-medium mb-2",children:"Stream Information"}),o.jsxs("div",{className:"mb-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-400",children:"RTMP URL:"}),o.jsx("button",{onClick:()=>h(s.rtmpUrl,"RTMP URL"),className:"text-blue-400 hover:text-blue-300 text-sm",children:"Copy"})]}),o.jsx("div",{className:"bg-gray-900 p-2 rounded text-gray-300 text-sm break-all",children:s.rtmpUrl})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-400",children:"Stream Key:"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>n(!t),className:"text-blue-400 hover:text-blue-300 text-sm",children:t?"Hide":"Show"}),o.jsx("button",{onClick:()=>h(s.streamKey,"Stream Key"),className:"text-blue-400 hover:text-blue-300 text-sm",children:"Copy"})]})]}),o.jsx("div",{className:"bg-gray-900 p-2 rounded text-gray-300 text-sm break-all",children:t?s.streamKey:""})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-400",children:"Playback URL:"}),o.jsx("button",{onClick:()=>h(s.playbackUrl,"Playback URL"),className:"text-blue-400 hover:text-blue-300 text-sm",children:"Copy"})]}),o.jsx("div",{className:"bg-gray-900 p-2 rounded text-gray-300 text-sm break-all",children:s.playbackUrl})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.status!=="active"&&!s.endedAt&&o.jsx("button",{onClick:c,disabled:i,className:`px-4 py-2 rounded-md ${i?"bg-gray-600 cursor-not-allowed":"bg-green-600 hover:bg-green-700"} text-white`,children:"Activate Stream"}),s.status==="active"&&o.jsx("button",{onClick:f,disabled:i,className:`px-4 py-2 rounded-md ${i?"bg-gray-600 cursor-not-allowed":"bg-red-600 hover:bg-red-700"} text-white`,children:"End Stream"}),o.jsx("button",{onClick:u,disabled:i,className:`px-4 py-2 rounded-md ${i?"bg-gray-600 cursor-not-allowed":"bg-gray-700 hover:bg-gray-800"} text-white`,children:"Delete"})]})]})]})},Kse=()=>{const[s,e]=T.useState(null),[t,n]=T.useState(!0),[i,r]=T.useState(null),[a,l]=T.useState([]),[c,f]=T.useState(null),u=He();T.useEffect(()=>{const g=JSON.parse(localStorage.getItem("user"));if(!g){u("/login");return}e(g),(async()=>{try{const y=await Q.get("http://localhost:5000/api/livestream",{withCredentials:!0});if(y.data.success){const v=y.data.data.filter(L=>L.user._id===g._id);l(v);const w=v.find(L=>L.status==="active");w&&f(w)}n(!1)}catch(y){console.error("Error fetching livestreams:",y),r("Failed to load your livestreams"),n(!1)}})()},[u]);const h=g=>{l(x=>[g,...x]),f(g),Be("Livestream created successfully!")},p=(g,x=!1)=>{x?(l(y=>y.filter(v=>v._id!==c._id)),f(null),Be("Livestream deleted successfully")):(l(y=>y.map(v=>v._id===g._id?g:v)),f(g),g.status==="active"?Be("Livestream activated successfully"):g.endedAt&&ON("Livestream ended"))};return t?o.jsxs("div",{className:"min-h-screen bg-black text-white",children:[o.jsx(Ae,{}),o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Go Live"}),o.jsx("p",{children:"Loading..."})]}),o.jsx(it,{})]}):o.jsxs("div",{className:"min-h-screen bg-black text-white",children:[o.jsx(Ae,{}),o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Go Live"}),i&&o.jsx("div",{className:"bg-red-500 text-white p-4 rounded-md mb-6",children:i}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsx(nZ,{onStreamCreated:h}),o.jsxs("div",{className:"mt-6 bg-[#111111] p-6 rounded-lg shadow-md",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"My Livestreams"}),a.length===0?o.jsx("p",{className:"text-gray-400",children:"You haven't created any livestreams yet."}):o.jsx("div",{className:"space-y-3",children:a.map(g=>o.jsxs("div",{onClick:()=>f(g),className:`p-3 rounded-md cursor-pointer ${c&&c._id===g._id?"bg-blue-900":"bg-gray-800 hover:bg-gray-700"}`,children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"font-medium text-white",children:g.name}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${g.status==="active"?"bg-green-600 text-white":g.endedAt?"bg-gray-600 text-white":"bg-yellow-600 text-white"}`,children:g.status==="active"?"Live":g.endedAt?"Ended":"Idle"})]}),o.jsx("p",{className:"text-sm text-gray-400 mt-1",children:g.isScreenSharing?"Screen Sharing":"Video Stream"})]},g._id))})]})]}),o.jsxs("div",{className:"lg:col-span-2",children:[c?o.jsx(Qse,{livestream:c,onStatusChange:p}):o.jsx("div",{className:"bg-[#111111] p-6 rounded-lg shadow-md flex items-center justify-center h-64",children:o.jsx("p",{className:"text-gray-400 text-center",children:"Select a livestream from the list or create a new one to get started."})}),o.jsxs("div",{className:"mt-6 bg-[#111111] p-6 rounded-lg shadow-md",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"How to Stream with OBS Studio"}),o.jsxs("div",{className:"mb-6 p-4 bg-red-900 bg-opacity-30 border border-red-700 rounded-md",children:[o.jsx("h3",{className:"text-red-300 font-bold text-lg mb-2",children:" Cloudinary Plan Limitation"}),o.jsxs("p",{className:"text-red-200",children:[o.jsx("strong",{children:"Important:"})," Livestreaming is not available on the Cloudinary free plan. You will need to upgrade to a paid Cloudinary plan to use this feature."]}),o.jsx("p",{className:"text-red-200 mt-2",children:'The error "Error creating livestream" occurs because the Cloudinary API restricts livestreaming functionality to paid plans only.'}),o.jsx("a",{href:"https://cloudinary.com/pricing",target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-3 px-4 py-2 bg-red-700 hover:bg-red-600 text-white rounded-md transition",children:"View Cloudinary Pricing"})]}),o.jsx("p",{className:"text-gray-300 mb-4",children:"Once you've upgraded your Cloudinary plan, follow these steps:"}),o.jsxs("ol",{className:"list-decimal list-inside space-y-3 text-gray-300",children:[o.jsxs("li",{children:["Download and install ",o.jsx("a",{href:"https://obsproject.com/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"OBS Studio"})]}),o.jsx("li",{children:"Open OBS Studio and go to Settings > Stream"}),o.jsx("li",{children:'Select "Custom..." as the service'}),o.jsx("li",{children:'Copy the RTMP URL from your selected livestream and paste it into the "Server" field'}),o.jsx("li",{children:'Copy the Stream Key and paste it into the "Stream Key" field'}),o.jsx("li",{children:'Click "OK" to save settings'}),o.jsx("li",{children:"Set up your scenes and sources (camera, microphone, screen capture, etc.)"}),o.jsx("li",{children:'Click "Start Streaming" to begin your livestream'})]}),o.jsx("div",{className:"mt-4 p-3 bg-yellow-800 bg-opacity-30 border border-yellow-700 rounded-md",children:o.jsxs("p",{className:"text-yellow-300 text-sm",children:[o.jsx("strong",{children:"Note:"})," Even on paid plans, Cloudinary has limitations on bandwidth and streaming duration. Check your plan details for specific limits."]})})]})]})]})]}),o.jsx(it,{})]})},Jse=()=>{var u,h;const{id:s}=nd(),[e,t]=T.useState(null),[n,i]=T.useState(!0),[r,a]=T.useState(null),[l,c]=T.useState(null);T.useEffect(()=>{const p=JSON.parse(localStorage.getItem("user"));c(p);const g=async()=>{var y,v;try{const w=await Q.get(`http://localhost:5000/api/livestream/${s}`,{withCredentials:!0});if(w.data.success){if(t(w.data.data),w.data.data.status==="active")try{await Q.post("http://localhost:5000/api/earnings/record-livestream-view",{livestreamId:s})}catch(L){console.error("Error recording monetized livestream view:",L)}}else a("Failed to load livestream");i(!1)}catch(w){console.error("Error fetching livestream:",w),a(((v=(y=w.response)==null?void 0:y.data)==null?void 0:v.error)||"Failed to load livestream"),i(!1)}};g();const x=setInterval(g,3e4);return()=>clearInterval(x)},[s]);const f=p=>p?new Date(p).toLocaleString():"";return n?o.jsxs("div",{className:"min-h-screen bg-black text-white",children:[o.jsx(Ae,{}),o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Loading Livestream..."})}),o.jsx(it,{})]}):r||!e?o.jsxs("div",{className:"min-h-screen bg-black text-white",children:[o.jsx(Ae,{}),o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Error"}),o.jsx("div",{className:"bg-red-500 text-white p-4 rounded-md",children:r||"Livestream not found"}),o.jsx(le,{to:"/feed",className:"mt-4 inline-block px-4 py-2 bg-blue-600 text-white rounded-md",children:"Back to Feed"})]}),o.jsx(it,{})]}):o.jsxs("div",{className:"min-h-screen bg-black text-white",children:[o.jsx(Ae,{}),o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.status==="active"?o.jsx("div",{className:"bg-red-600 text-white text-center py-2 px-4 rounded-t-md font-medium",children:"LIVE NOW"}):o.jsx("div",{className:"bg-gray-700 text-white text-center py-2 px-4 rounded-t-md font-medium",children:e.endedAt?"RECORDED STREAM":"STREAM NOT STARTED"}),o.jsx("div",{className:"w-full bg-gray-900 aspect-video",children:e.status==="active"||e.endedAt?o.jsx(KA,{playbackUrl:e.playbackUrl}):o.jsx("div",{className:"w-full h-full flex items-center justify-center",children:o.jsx("p",{className:"text-gray-400",children:"This stream hasn't started yet."})})}),o.jsxs("div",{className:"bg-[#111111] p-4 rounded-b-md mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold",children:e.name}),o.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 mt-2 text-sm text-gray-400",children:[o.jsxs("span",{children:["Streamer: ",((u=e.user)==null?void 0:u.name)||"Anonymous"]}),o.jsx("span",{children:""}),o.jsx("span",{children:e.status==="active"?`Started ${f(e.startedAt)}`:e.endedAt?`Ended ${f(e.endedAt)}`:"Not started yet"}),o.jsx("span",{children:""}),o.jsx("span",{children:e.isScreenSharing?"Screen Sharing":"Video Stream"})]}),l&&l._id===((h=e.user)==null?void 0:h._id)&&o.jsx("div",{className:"mt-4",children:o.jsx(le,{to:"/live-course",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md",children:"Manage Stream"})})]}),o.jsxs("div",{className:"mt-8",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"More Livestreams"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:o.jsx("div",{className:"bg-[#111111] p-4 rounded-md text-center",children:o.jsx(le,{to:"/feed",className:"text-blue-400 hover:underline",children:"Browse all livestreams"})})})]})]}),o.jsx(it,{})]})},ly="http://localhost:5000",qse=({channel:s,isOwner:e,currentUser:t})=>{const[n,i]=T.useState(!1),[r,a]=T.useState(null),[l,c]=T.useState(null),[f,u]=T.useState(null),[h,p]=T.useState(null),[g,x]=T.useState(!1),y=L=>{console.log("Profile image change triggered",L);const S=L.target.files[0];if(S){console.log("Profile file selected:",S.name),a(S);const j=new FileReader;j.onloadend=()=>{console.log("Profile image preview created"),u(j.result)},j.readAsDataURL(S)}else console.log("No profile file selected")},v=L=>{console.log("Banner image change triggered",L);const S=L.target.files[0];if(S){console.log("Banner file selected:",S.name),c(S);const j=new FileReader;j.onloadend=()=>{console.log("Banner image preview created"),p(j.result)},j.readAsDataURL(S)}else console.log("No banner file selected")},w=async()=>{var L,S;try{x(!0);const j=new FormData;r&&(console.log("Adding profile image to form data:",r.name),j.append("profileImage",r)),l&&(console.log("Adding banner image to form data:",l.name),j.append("bannerImage",l)),console.log("Form data entries:");for(let M of j.entries())console.log(M[0],M[1]);const E=await Q.put(`${ly}/api/channels/update`,j,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0});if(E.data.success){const M={...t,profileImageUrl:E.data.user.profileImageUrl,bannerImageUrl:E.data.user.bannerImageUrl};localStorage.setItem("user",JSON.stringify(M)),Be("Channel updated successfully"),i(!1),window.location.reload()}}catch(j){console.error("Error updating channel:",j),de(((S=(L=j.response)==null?void 0:L.data)==null?void 0:S.message)||"Failed to update channel")}finally{x(!1)}};return o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-full h-48 md:h-64 bg-gray-800 relative",style:h?{backgroundImage:`url(${h})`,backgroundSize:"cover",backgroundPosition:"center"}:s.bannerImageUrl?{backgroundImage:`url(${ly}${s.bannerImageUrl})`,backgroundSize:"cover",backgroundPosition:"center"}:{},children:e&&n&&o.jsxs("label",{className:"absolute bottom-4 right-4 bg-black bg-opacity-70 p-2 rounded-full cursor-pointer z-10 hover:bg-gray-800",onClick:()=>document.getElementById("banner-upload").click(),children:[o.jsx(nL,{className:"text-white text-xl"}),o.jsx("input",{type:"file",accept:"image/*",onChange:v,className:"hidden",id:"banner-upload"})]})}),o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-end space-y-4 md:space-y-0 md:space-x-6 -mt-16 md:-mt-20",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-full border-4 border-black overflow-hidden bg-gray-700 flex items-center justify-center",style:f?{backgroundImage:`url(${f})`,backgroundSize:"cover",backgroundPosition:"center"}:s.profileImageUrl?{backgroundImage:`url(${ly}${s.profileImageUrl})`,backgroundSize:"cover",backgroundPosition:"center"}:{},children:!f&&!s.profileImageUrl&&o.jsx(No,{className:"text-4xl text-gray-400"})}),e&&n&&o.jsxs("label",{className:"absolute bottom-0 right-0 bg-black bg-opacity-70 p-2 rounded-full cursor-pointer z-10 hover:bg-gray-800",onClick:()=>document.getElementById("profile-upload").click(),children:[o.jsx(nL,{className:"text-white"}),o.jsx("input",{type:"file",accept:"image/*",onChange:y,className:"hidden",id:"profile-upload"})]})]}),o.jsxs("div",{className:"flex-1 pb-4",children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:s.name}),o.jsx("div",{className:"text-gray-400 mt-1"})]}),o.jsx("div",{className:"pb-4",children:e?n?o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:w,disabled:g,className:"px-4 py-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-colors",children:g?"Saving...":"Save"}),o.jsx("button",{onClick:()=>i(!1),disabled:g,className:"px-4 py-2 bg-gray-700 text-white rounded-full hover:bg-gray-600 transition-colors",children:"Cancel"})]}):o.jsxs("button",{onClick:()=>i(!0),className:"flex items-center space-x-2 px-4 py-2 bg-gray-700 text-white rounded-full hover:bg-gray-600 transition-colors",children:[o.jsx(Ua,{}),o.jsx("span",{children:"Customize Channel"})]}):t&&o.jsx(PI,{channelId:s._id,channelName:s.name})})]})})]})},Zse=({activeTab:s,onTabChange:e,hasShorts:t,hasLive:n})=>{const i=[{id:"home",label:"Home"},{id:"videos",label:"Videos"},...t?[{id:"shorts",label:"Shorts"}]:[],...n?[{id:"live",label:"Live"}]:[],{id:"community",label:"Community"},{id:"about",label:"About"}];return o.jsx("div",{className:"border-b border-gray-800",children:o.jsx("nav",{className:"flex space-x-8 overflow-x-auto scrollbar-hide",children:i.map(r=>o.jsx("button",{onClick:()=>e(r.id),className:`py-4 px-1 font-medium text-sm border-b-2 whitespace-nowrap ${s===r.id?"border-white text-white":"border-transparent text-gray-400 hover:text-white"}`,children:r.label},r.id))})})},Xse="http://localhost:5000",ene=s=>{const e={year:"numeric",month:"short",day:"numeric"};return new Date(s).toLocaleDateString(void 0,e)},tne=s=>s>=1e6?`${(s/1e6).toFixed(1)}M views`:s>=1e3?`${(s/1e3).toFixed(1)}K views`:`${s} views`,ha=({title:s,videos:e,type:t,emptyMessage:n,showMoreLink:i,showAll:r})=>{if(!e||e.length===0)return o.jsxs("div",{className:"py-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:s}),o.jsx("p",{className:"text-gray-400",children:n})]});const a=t==="short"?"grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6":"grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",l=c=>{switch(t){case"livestream":return`/watch-livestream/${c._id}`;case"ended-livestream":return`/watch-livestream/${c._id}`;case"short":return`/watch/${c._id}`;default:return`/watch/${c._id}`}};return o.jsxs("div",{className:"py-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-semibold",children:s}),i&&o.jsx("button",{onClick:i,className:"text-blue-500 hover:text-blue-400",children:"View all"})]}),o.jsx("div",{className:`grid ${a} gap-4`,children:e.map(c=>o.jsxs(le,{to:l(c),className:"block rounded-lg overflow-hidden bg-gray-900 hover:bg-gray-800 transition-colors",children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:c.thumbnailUrl||`${Xse}${c.thumbnail}`,alt:c.title||c.name,className:`w-full ${t==="short"?"aspect-[9/16] object-cover":"aspect-video object-cover"}`}),t==="livestream"&&o.jsx("div",{className:"absolute top-2 left-2 bg-red-600 text-white text-xs px-2 py-1 rounded",children:"LIVE"}),t==="ended-livestream"&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"bg-black bg-opacity-50 rounded-full p-3",children:o.jsx(ar,{className:"text-white"})})})]}),o.jsxs("div",{className:"p-3",children:[o.jsx("h3",{className:"font-medium text-sm line-clamp-2",children:c.title||c.name}),t!=="short"&&o.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[c.views!==void 0&&o.jsxs("span",{children:[tne(c.views),"  "]}),o.jsx("span",{children:ene(c.createdAt)})]})]})]},c._id))})]})},sne="http://localhost:5000",nne=s=>{const e={year:"numeric",month:"long",day:"numeric"};return new Date(s).toLocaleDateString(void 0,e)},R6=s=>s>=1e6?`${(s/1e6).toFixed(1)}M`:s>=1e3?`${(s/1e3).toFixed(1)}K`:s.toString(),ine=({channel:s})=>{var j,E,M,N,I,A,D,z,O,Y,q,Z;const[e,t]=T.useState(!1),[n,i]=T.useState(s.channelDescription||""),[r,a]=T.useState(s.location||""),[l,c]=T.useState(((j=s.socialLinks)==null?void 0:j.website)||""),[f,u]=T.useState(((E=s.socialLinks)==null?void 0:E.twitter)||""),[h,p]=T.useState(((M=s.socialLinks)==null?void 0:M.instagram)||""),[g,x]=T.useState(((N=s.socialLinks)==null?void 0:N.facebook)||""),[y,v]=T.useState(!1),w=JSON.parse(localStorage.getItem("user")),L=w&&w._id===s._id,S=async()=>{var V,H;try{if(v(!0),(await Q.put(`${sne}/api/channels/update`,{channelDescription:n,location:r,website:l,twitter:f,instagram:h,facebook:g},{withCredentials:!0})).data.success){Be("Channel information updated successfully"),t(!1);const B={...w,channelDescription:n,location:r,socialLinks:{website:l,twitter:f,instagram:h,facebook:g}};localStorage.setItem("user",JSON.stringify(B)),window.location.reload()}}catch(F){console.error("Error updating channel info:",F),de(((H=(V=F.response)==null?void 0:V.data)==null?void 0:H.message)||"Failed to update channel information")}finally{v(!1)}};return o.jsxs("div",{className:"py-6 grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Description"}),L&&!e&&o.jsxs("button",{onClick:()=>t(!0),className:"text-blue-500 hover:text-blue-400 flex items-center",children:[o.jsx(Ua,{className:"mr-1"})," Edit"]})]}),e?o.jsxs("div",{className:"space-y-4",children:[o.jsx("textarea",{value:n,onChange:V=>i(V.target.value),placeholder:"Tell viewers about your channel...",className:"w-full h-40 bg-gray-800 text-white border border-gray-700 rounded p-3 focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Location"}),o.jsx("input",{type:"text",value:r,onChange:V=>a(V.target.value),placeholder:"Your location",className:"w-full bg-gray-800 text-white border border-gray-700 rounded p-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Website"}),o.jsx("input",{type:"url",value:l,onChange:V=>c(V.target.value),placeholder:"https://yourwebsite.com",className:"w-full bg-gray-800 text-white border border-gray-700 rounded p-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Twitter"}),o.jsx("input",{type:"text",value:f,onChange:V=>u(V.target.value),placeholder:"Twitter username or URL",className:"w-full bg-gray-800 text-white border border-gray-700 rounded p-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Instagram"}),o.jsx("input",{type:"text",value:h,onChange:V=>p(V.target.value),placeholder:"Instagram username or URL",className:"w-full bg-gray-800 text-white border border-gray-700 rounded p-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Facebook"}),o.jsx("input",{type:"text",value:g,onChange:V=>x(V.target.value),placeholder:"Facebook page URL",className:"w-full bg-gray-800 text-white border border-gray-700 rounded p-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{onClick:S,disabled:y,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:y?"Saving...":"Save"}),o.jsx("button",{onClick:()=>t(!1),disabled:y,className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 transition-colors",children:"Cancel"})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-gray-300 whitespace-pre-line",children:s.channelDescription||"No description provided."}),(s.location||((I=s.socialLinks)==null?void 0:I.website)||((A=s.socialLinks)==null?void 0:A.twitter)||((D=s.socialLinks)==null?void 0:D.instagram)||((z=s.socialLinks)==null?void 0:z.facebook))&&o.jsxs("div",{className:"mt-6 space-y-2",children:[o.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Links"}),s.location&&o.jsxs("div",{className:"flex items-center text-gray-300",children:[o.jsx(vF,{className:"mr-2 text-gray-400"}),o.jsx("span",{children:s.location})]}),((O=s.socialLinks)==null?void 0:O.website)&&o.jsxs("div",{className:"flex items-center",children:[o.jsx(mF,{className:"mr-2 text-gray-400"}),o.jsx("a",{href:s.socialLinks.website.startsWith("http")?s.socialLinks.website:`https://${s.socialLinks.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-400",children:s.socialLinks.website})]}),((Y=s.socialLinks)==null?void 0:Y.twitter)&&o.jsxs("div",{className:"flex items-center",children:[o.jsx(wN,{className:"mr-2 text-gray-400"}),o.jsx("a",{href:s.socialLinks.twitter.startsWith("http")?s.socialLinks.twitter:`https://twitter.com/${s.socialLinks.twitter}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-400",children:s.socialLinks.twitter})]}),((q=s.socialLinks)==null?void 0:q.instagram)&&o.jsxs("div",{className:"flex items-center",children:[o.jsx(vN,{className:"mr-2 text-gray-400"}),o.jsx("a",{href:s.socialLinks.instagram.startsWith("http")?s.socialLinks.instagram:`https://instagram.com/${s.socialLinks.instagram}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-400",children:s.socialLinks.instagram})]}),((Z=s.socialLinks)==null?void 0:Z.facebook)&&o.jsxs("div",{className:"flex items-center",children:[o.jsx(sF,{className:"mr-2 text-gray-400"}),o.jsx("a",{href:s.socialLinks.facebook.startsWith("http")?s.socialLinks.facebook:`https://facebook.com/${s.socialLinks.facebook}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-400",children:s.socialLinks.facebook})]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Stats"}),o.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 space-y-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-400",children:"Joined"}),o.jsx("p",{className:"text-lg",children:nne(s.channelJoinDate||s.createdAt||Date.now())})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-400",children:"Total views"}),o.jsx("p",{className:"text-lg",children:R6(s.totalViews||0)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-400",children:"Subscribers"}),o.jsx("p",{className:"text-lg",children:R6(s.subscriberCount||0)})]})]})]})]})},Nf="http://localhost:5000",O6=s=>{const e=new Date(s),n=Math.abs(new Date-e),i=Math.floor(n/(1e3*60*60*24));if(i===0){const r=Math.floor(n/36e5);if(r===0){const a=Math.floor(n/6e4);return`${a} minute${a!==1?"s":""} ago`}return`${r} hour${r!==1?"s":""} ago`}else{if(i<7)return`${i} day${i!==1?"s":""} ago`;if(i<30){const r=Math.floor(i/7);return`${r} week${r!==1?"s":""} ago`}else if(i<365){const r=Math.floor(i/30);return`${r} month${r!==1?"s":""} ago`}else{const r=Math.floor(i/365);return`${r} year${r!==1?"s":""} ago`}}},rne=({post:s,currentUser:e,onDelete:t})=>{const[n,i]=T.useState(!1),[r,a]=T.useState(""),[l,c]=T.useState(s.likes.includes(e==null?void 0:e._id)),[f,u]=T.useState(s.likes.length),[h,p]=T.useState(!1),[g,x]=T.useState(!1),y=e&&s.userId._id===e._id,v=async()=>{if(e)try{x(!0);const S=await Q.post(`${Nf}/api/channels/community/post/${s._id}/like`,{},{withCredentials:!0});S.data.success&&(c(!l),u(S.data.likes))}catch(S){console.error("Error liking post:",S),de("Failed to like post")}finally{x(!1)}},w=async S=>{if(S.preventDefault(),!(!r.trim()||!e))try{x(!0),(await Q.post(`${Nf}/api/channels/community/post/${s._id}/comment`,{text:r},{withCredentials:!0})).data.success&&(Be("Comment added"),a(""))}catch(j){console.error("Error adding comment:",j),de("Failed to add comment")}finally{x(!1)}},L=async()=>{if(y)try{x(!0),(await Q.delete(`${Nf}/api/channels/community/post/${s._id}`,{withCredentials:!0})).data.success&&(Be("Post deleted"),t&&t(s._id))}catch(S){console.error("Error deleting post:",S),de("Failed to delete post")}finally{x(!1)}};return o.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 mb-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsx("div",{className:"flex items-center",children:o.jsxs(le,{to:`/channel/${s.userId._id}`,className:"flex items-center",children:[o.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-700 mr-3",children:s.userId.profileImageUrl?o.jsx("img",{src:`${Nf}${s.userId.profileImageUrl}`,alt:s.userId.name,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:s.userId.name.charAt(0).toUpperCase()})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:s.userId.name}),o.jsx("p",{className:"text-xs text-gray-400",children:O6(s.createdAt)})]})]})}),y&&o.jsxs("div",{className:"relative",children:[o.jsx("button",{onClick:()=>p(!h),className:"text-gray-400 hover:text-white p-1",children:o.jsx(bv,{})}),h&&o.jsx("div",{className:"absolute right-0 mt-1 w-32 bg-gray-800 rounded-md shadow-lg z-10",children:o.jsxs("button",{onClick:L,disabled:g,className:"flex items-center w-full px-4 py-2 text-sm text-red-500 hover:bg-gray-700",children:[o.jsx(Gs,{className:"mr-2"}),"Delete"]})})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("p",{className:"text-gray-200 whitespace-pre-line",children:s.text}),s.imageUrl&&o.jsx("div",{className:"mt-3 rounded-lg overflow-hidden",children:o.jsx("img",{src:`${Nf}${s.imageUrl}`,alt:"Post",className:"w-full max-h-96 object-contain"})})]}),o.jsxs("div",{className:"flex items-center space-x-4 border-t border-gray-800 pt-3",children:[o.jsxs("button",{onClick:v,disabled:!e||g,className:`flex items-center space-x-1 ${l?"text-blue-500":"text-gray-400"} hover:text-blue-500`,children:[l?o.jsx(wi,{}):o.jsx(Tv,{}),o.jsx("span",{children:f})]}),o.jsxs("button",{onClick:()=>i(!n),className:"flex items-center space-x-1 text-gray-400 hover:text-white",children:[o.jsx(hm,{}),o.jsx("span",{children:s.comments.length})]})]}),n&&o.jsxs("div",{className:"mt-4 border-t border-gray-800 pt-4",children:[e&&o.jsxs("form",{onSubmit:w,className:"mb-4 flex",children:[o.jsx("input",{type:"text",value:r,onChange:S=>a(S.target.value),placeholder:"Add a comment...",className:"flex-1 bg-gray-800 text-white border border-gray-700 rounded-l p-2 focus:outline-none focus:ring-1 focus:ring-blue-500"}),o.jsx("button",{type:"submit",disabled:!r.trim()||g,className:"bg-blue-600 text-white px-4 py-2 rounded-r hover:bg-blue-700 transition-colors disabled:opacity-50",children:"Post"})]}),o.jsx("div",{className:"space-y-4",children:s.comments.length>0?s.comments.map(S=>o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden bg-gray-700 flex-shrink-0",children:o.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:S.username.charAt(0).toUpperCase()})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("p",{className:"font-medium text-sm",children:S.username}),o.jsx("p",{className:"text-xs text-gray-400",children:O6(S.createdAt)})]}),o.jsx("p",{className:"text-sm text-gray-300",children:S.text})]})]},S._id)):o.jsx("p",{className:"text-gray-400 text-sm",children:"No comments yet"})})]})]})},cy="http://localhost:5000",ane=({channelId:s,isOwner:e})=>{const[t,n]=T.useState([]),[i,r]=T.useState(!0),[a,l]=T.useState(null),[c,f]=T.useState(""),[u,h]=T.useState(null),[p,g]=T.useState(null),[x,y]=T.useState(!1),[v,w]=T.useState(null);T.useEffect(()=>{(async()=>{try{r(!0);const I=JSON.parse(localStorage.getItem("user"));w(I);const A=await Q.get(`${cy}/api/channels/${s}/community`);if(A.data.success)n(A.data.posts);else throw new Error("Failed to fetch community posts")}catch(I){console.error("Error fetching community posts:",I),l(I.message||"Failed to load community posts")}finally{r(!1)}})()},[s]);const L=N=>{const I=N.target.files[0];if(I){h(I);const A=new FileReader;A.onloadend=()=>{g(A.result)},A.readAsDataURL(I)}},S=()=>{h(null),g(null)},j=async N=>{var I,A;if(N.preventDefault(),!c.trim()&&!u){de("Please add text or an image to your post");return}try{y(!0);const D=new FormData;D.append("text",c),u&&D.append("image",u);const z=await Q.post(`${cy}/api/channels/community/post`,D,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0});z.data.success&&(Be("Post created successfully"),n([z.data.post,...t]),f(""),h(null),g(null))}catch(D){console.error("Error creating post:",D),de(((A=(I=D.response)==null?void 0:I.data)==null?void 0:A.message)||"Failed to create post")}finally{y(!1)}},E=N=>{n(t.filter(I=>I._id!==N))},M=async()=>{try{r(!0);const N=await Q.get(`${cy}/api/channels/${s}/community`);N.data.success&&n(N.data.posts)}catch(N){console.error("Error refreshing posts:",N)}finally{r(!1)}};return i&&t.length===0?o.jsx("div",{className:"py-6 flex justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-white"})}):a&&t.length===0?o.jsxs("div",{className:"py-6",children:[o.jsx("p",{className:"text-red-500",children:a}),o.jsx("button",{onClick:M,className:"mt-2 px-4 py-2 bg-gray-800 text-white rounded hover:bg-gray-700",children:"Try Again"})]}):o.jsxs("div",{className:"py-6",children:[e&&o.jsx("div",{className:"bg-gray-900 rounded-lg p-4 mb-8",children:o.jsxs("form",{onSubmit:j,children:[o.jsx("textarea",{value:c,onChange:N=>f(N.target.value),placeholder:"Share something with your audience...",className:"w-full bg-gray-800 text-white border border-gray-700 rounded p-3 focus:outline-none focus:ring-2 focus:ring-blue-500 mb-3",rows:3}),p&&o.jsxs("div",{className:"relative mb-3",children:[o.jsx("img",{src:p,alt:"Preview",className:"max-h-60 rounded"}),o.jsx("button",{type:"button",onClick:S,className:"absolute top-2 right-2 bg-black bg-opacity-70 text-white p-1 rounded-full",children:""})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("label",{className:"flex items-center space-x-2 text-gray-400 hover:text-white cursor-pointer",children:[o.jsx(gF,{}),o.jsx("span",{children:"Add Image"}),o.jsx("input",{type:"file",accept:"image/*",onChange:L,className:"hidden"})]}),o.jsx("button",{type:"submit",disabled:x||!c.trim()&&!u,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors disabled:opacity-50",children:x?"Posting...":"Post"})]})]})}),t.length>0?o.jsx("div",{children:t.map(N=>o.jsx(rne,{post:N,currentUser:v,onDelete:E},N._id))}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx("p",{className:"text-gray-400",children:"No community posts yet."}),e&&o.jsx("p",{className:"text-gray-500 mt-2",children:"Create your first post to engage with your audience!"})]})]})},Mf="http://localhost:5000",one=()=>{const{channelId:s}=nd(),e=He(),[t,n]=T.useState("home"),[i,r]=T.useState(null),[a,l]=T.useState([]),[c,f]=T.useState([]),[u,h]=T.useState([]),[p,g]=T.useState([]),[x,y]=T.useState(!0),[v,w]=T.useState(null),[L,S]=T.useState(!1),[j,E]=T.useState(null);T.useEffect(()=>{s&&(async()=>{try{y(!0);const A=JSON.parse(localStorage.getItem("user"));E(A),A&&A._id===s&&S(!0);const D=await Q.get(`${Mf}/api/channels/${s}`);if(D.data.success)r(D.data.channel);else throw new Error("Failed to fetch channel information");const z=await Q.get(`${Mf}/api/channels/${s}/videos?type=video`);z.data.success&&l(z.data.videos);const O=await Q.get(`${Mf}/api/channels/${s}/videos?type=short`);O.data.success&&f(O.data.videos);const Y=await Q.get(`${Mf}/api/channels/${s}/livestreams?status=active`);Y.data.success&&h(Y.data.livestreams);const q=await Q.get(`${Mf}/api/channels/${s}/livestreams?status=ended`);q.data.success&&g(q.data.livestreams),y(!1)}catch(A){console.error("Error fetching channel data:",A),w(A.message||"Failed to load channel data"),de(A.message||"Failed to load channel data"),y(!1)}})()},[s]);const M=I=>{n(I)},N=()=>{switch(t){case"home":return o.jsxs("div",{className:"space-y-8",children:[u.length>0&&o.jsx(ha,{title:"Live Now",videos:u,type:"livestream",emptyMessage:"No active livestreams"}),o.jsx(ha,{title:"Videos",videos:a.slice(0,8),type:"video",emptyMessage:"No videos uploaded yet",showMoreLink:a.length>8?()=>M("videos"):null}),c.length>0&&o.jsx(ha,{title:"Shorts",videos:c.slice(0,8),type:"short",emptyMessage:"No shorts uploaded yet",showMoreLink:c.length>8?()=>M("shorts"):null}),p.length>0&&o.jsx(ha,{title:"Past Live Streams",videos:p.slice(0,4),type:"ended-livestream",emptyMessage:"No past livestreams",showMoreLink:p.length>4?()=>M("live"):null})]});case"videos":return o.jsx(ha,{title:"Videos",videos:a,type:"video",emptyMessage:"No videos uploaded yet",showAll:!0});case"shorts":return o.jsx(ha,{title:"Shorts",videos:c,type:"short",emptyMessage:"No shorts uploaded yet",showAll:!0});case"live":return o.jsxs("div",{className:"space-y-8",children:[u.length>0&&o.jsx(ha,{title:"Live Now",videos:u,type:"livestream",emptyMessage:"No active livestreams",showAll:!0}),o.jsx(ha,{title:"Past Live Streams",videos:p,type:"ended-livestream",emptyMessage:"No past livestreams",showAll:!0})]});case"community":return o.jsx(ane,{channelId:s,isOwner:L});case"about":return o.jsx(ine,{channel:i});default:return null}};return x?o.jsxs(o.Fragment,{children:[o.jsx(Ae,{}),o.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white"})})]}):v?o.jsxs(o.Fragment,{children:[o.jsx(Ae,{}),o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col items-center justify-center",children:[o.jsx("p",{className:"text-xl text-red-500 mb-4",children:v}),o.jsx("button",{onClick:()=>e(-1),className:"px-4 py-2 bg-gray-800 text-white rounded hover:bg-gray-700",children:"Go Back"})]})]}):o.jsxs(o.Fragment,{children:[o.jsx(Ae,{}),o.jsx("div",{className:"min-h-screen bg-black text-white",children:i&&o.jsxs(o.Fragment,{children:[o.jsx(qse,{channel:i,isOwner:L,currentUser:j}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[o.jsx(Zse,{activeTab:t,onTabChange:M,hasShorts:c.length>0,hasLive:u.length>0||p.length>0}),o.jsx("div",{className:"mt-6",children:N()})]})]})}),o.jsx(it,{})]})},lne=({user:s})=>{var a;const[e,t]=T.useState(!1),n=T.useRef(null);T.useEffect(()=>{const l=c=>{n.current&&!n.current.contains(c.target)&&t(!1)};return document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[]);const i=[{to:"/studio",icon:o.jsx(wp,{className:"text-xl"}),text:"Dashboard",end:!0},{to:"/studio/content",icon:o.jsx(kn,{className:"text-xl"}),text:"Content"},{to:"/studio/courses",icon:o.jsx(gu,{className:"text-xl"}),text:"Courses"},{to:"/studio/analytics",icon:o.jsx(oF,{className:"text-xl"}),text:"Analytics"},{to:"/studio/monetization",icon:o.jsx(jN,{className:"text-xl"}),text:"Monetization"},{to:"/studio/verification",icon:o.jsx(Cn,{className:"text-xl"}),text:"Verification"},{to:"/studio/settings",icon:o.jsx(TN,{className:"text-xl"}),text:"Settings"}],r=[{to:"/upload-video",text:"Upload Video"},{to:"/upload-short",text:"Upload Short"},{to:"/live-course",text:"Go Live"},{to:"/studio/courses",text:"Create Course"}];return o.jsxs("div",{className:"w-64 bg-gray-900 min-h-screen p-4 flex flex-col",children:[o.jsxs("div",{className:"mb-6 flex items-center",children:[s!=null&&s.profileImageUrl?o.jsx("img",{src:s.profileImageUrl,alt:s.name,className:"w-10 h-10 rounded-full mr-3"}):o.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center mr-3",children:o.jsx("span",{className:"text-white font-bold",children:(a=s==null?void 0:s.name)==null?void 0:a.charAt(0)})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-white",children:s==null?void 0:s.name}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Creator Studio"})]})]}),o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"relative",ref:n,children:[o.jsxs("button",{className:"bg-red-600 hover:bg-red-700 text-white w-full py-2 px-4 rounded-lg flex items-center justify-center",onClick:()=>t(!e),children:[o.jsx(Lv,{className:"mr-2"}),o.jsx("span",{children:"Create"})]}),e&&o.jsx("div",{className:"absolute left-0 mt-2 w-full bg-gray-800 rounded-lg shadow-lg overflow-hidden z-10",children:r.map((l,c)=>o.jsx(j0,{to:l.to,className:"block px-4 py-2 text-white hover:bg-gray-700",onClick:()=>t(!1),children:l.text},c))})]})}),o.jsx("nav",{className:"flex-1",children:o.jsx("ul",{className:"space-y-2",children:i.map((l,c)=>o.jsx("li",{children:o.jsxs(j0,{to:l.to,end:l.end,className:({isActive:f})=>`flex items-center px-4 py-2 rounded-lg transition-colors ${f?"bg-gray-800 text-white":"text-gray-400 hover:bg-gray-800 hover:text-white"}`,children:[o.jsx("span",{className:"mr-3",children:l.icon}),o.jsx("span",{children:l.text})]})},c))})}),o.jsx("div",{className:"mt-6 pt-6 border-t border-gray-800",children:o.jsxs(j0,{to:`/channel/${s==null?void 0:s._id}`,className:"flex items-center px-4 py-2 text-gray-400 hover:bg-gray-800 hover:text-white rounded-lg transition-colors",children:[o.jsx("span",{className:"mr-3",children:o.jsx(kn,{className:"text-xl"})}),o.jsx("span",{children:"View Channel"})]})})]})},cne="http://localhost:5000",fne=()=>{const[s,e]=T.useState(!0),[t,n]=T.useState(null),i=He();return T.useEffect(()=>{(async()=>{try{const a=await Q.get(`${cne}/api/auth/check`,{withCredentials:!0});a.data.user?(n(a.data.user),a.data.user.role!=="creator"&&a.data.user.role!=="admin"&&(de("You need a creator account to access the Studio"),i("/dashboard"))):i("/login")}catch(a){console.error("Authentication error:",a),i("/login")}finally{e(!1)}})()},[i]),s?o.jsxs(o.Fragment,{children:[o.jsx(Ae,{}),o.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white"})})]}):o.jsxs(o.Fragment,{children:[o.jsx(Ae,{}),o.jsx("div",{className:"min-h-screen bg-black text-white",children:o.jsxs("div",{className:"flex",children:[o.jsx(lne,{user:t}),o.jsx("div",{className:"flex-1 p-6",children:o.jsx(l8,{context:[t,n]})})]})}),o.jsx(it,{})]})},Qo=()=>o.jsx("div",{className:"flex justify-center items-center",children:o.jsx("div",{className:"w-16 h-16 border-t-4 border-blue-500 border-solid rounded-full animate-spin"})}),une="http://localhost:5000",dne=()=>{var h,p,g,x,y,v,w,L,S,j,E,M,N,I,A,D,z,O,Y,q,Z,V,H,F,B,U,$,K,ce,he,xe,ve,ye;const[s]=Ho(),[e,t]=T.useState(!0),[n,i]=T.useState(null),[r,a]=T.useState(null);T.useEffect(()=>{s&&(async()=>{var ze,jt;try{t(!0);const Ys=await Q.get(`${une}/api/studio/overview`,{withCredentials:!0});Ys.data.success?i(Ys.data.data):(a("Failed to load dashboard data"),de("Failed to load dashboard data"))}catch(Ys){console.error("Error fetching dashboard data:",Ys),a("Error loading dashboard data"),de(((jt=(ze=Ys.response)==null?void 0:ze.data)==null?void 0:jt.message)||"Error loading dashboard data")}finally{t(!1)}})()},[s]);const l=be=>be>=1e6?(be/1e6).toFixed(1)+"M":be>=1e3?(be/1e3).toFixed(1)+"K":be,c=be=>{const ze=Math.floor(be/60);return ze>=1e3?(ze/1e3).toFixed(1)+"K hours":ze+" hours"},f=be=>be?new Date(be).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",u=be=>new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0}).format(be||0);return e?o.jsx(Qo,{}):r?o.jsxs("div",{className:"text-center py-10",children:[o.jsx("p",{className:"text-red-500 mb-4",children:r}),o.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",children:"Retry"})]}):o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Creator Studio Dashboard"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 shadow-lg",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"bg-blue-600 p-3 rounded-full mr-4",children:o.jsx(qi,{className:"text-white text-xl"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-gray-400 text-sm",children:"Total Views"}),o.jsx("p",{className:"text-2xl font-bold",children:l(((h=n==null?void 0:n.analytics)==null?void 0:h.totalViews)||0)})]})]}),o.jsx("div",{className:"text-gray-400 text-sm",children:"Lifetime channel views"})]}),o.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 shadow-lg",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"bg-purple-600 p-3 rounded-full mr-4",children:o.jsx(Cv,{className:"text-white text-xl"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-gray-400 text-sm",children:"Subscribers"}),o.jsx("p",{className:"text-2xl font-bold",children:l(((p=n==null?void 0:n.analytics)==null?void 0:p.totalSubscribers)||0)})]})]}),o.jsx("div",{className:"text-gray-400 text-sm",children:(g=n==null?void 0:n.monetization)!=null&&g.isEligible?o.jsx("span",{className:"text-green-400",children:"Eligible for monetization"}):o.jsxs("span",{children:["Need ",1e3-(((x=n==null?void 0:n.channel)==null?void 0:x.subscriberCount)||0)," more for monetization"]})})]}),o.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 shadow-lg",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"bg-green-600 p-3 rounded-full mr-4",children:o.jsx(Or,{className:"text-white text-xl"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-gray-400 text-sm",children:"Watch Time"}),o.jsx("p",{className:"text-2xl font-bold",children:c(((y=n==null?void 0:n.analytics)==null?void 0:y.totalWatchTimeMinutes)||0)})]})]}),o.jsx("div",{className:"text-gray-400 text-sm",children:(((v=n==null?void 0:n.analytics)==null?void 0:v.totalWatchTimeMinutes)||0)>=24e4?o.jsx("span",{className:"text-green-400",children:"Meets 4000 hour requirement"}):o.jsxs("span",{children:["Need ",c(24e4-(((w=n==null?void 0:n.analytics)==null?void 0:w.totalWatchTimeMinutes)||0))," more"]})})]}),o.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 shadow-lg",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"bg-red-600 p-3 rounded-full mr-4",children:o.jsx($s,{className:"text-white text-xl"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-gray-400 text-sm",children:"Earnings (30 days)"}),o.jsx("p",{className:"text-2xl font-bold",children:u(((L=n==null?void 0:n.recentEarnings)==null?void 0:L.totalAmount)||0)})]})]}),o.jsx("div",{className:"text-gray-400 text-sm",children:(S=n==null?void 0:n.channel)!=null&&S.isMonetized?o.jsx("span",{className:"text-green-400",children:"Channel is monetized"}):o.jsx("span",{children:"Not monetized yet"})})]})]}),o.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-8",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Monetization Status"}),o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[o.jsxs("div",{className:"mb-4 md:mb-0",children:[o.jsxs("p",{className:"text-lg",children:["Status:",o.jsx("span",{className:`ml-2 font-semibold ${((j=n==null?void 0:n.channel)==null?void 0:j.monetizationStatus)==="approved"?"text-green-400":((E=n==null?void 0:n.channel)==null?void 0:E.monetizationStatus)==="under_review"?"text-yellow-400":"text-gray-400"}`,children:((M=n==null?void 0:n.channel)==null?void 0:M.monetizationStatus)==="approved"?"Approved":((N=n==null?void 0:n.channel)==null?void 0:N.monetizationStatus)==="under_review"?"Under Review":((I=n==null?void 0:n.channel)==null?void 0:I.monetizationStatus)==="rejected"?"Rejected":"Not Eligible"})]}),((A=n==null?void 0:n.monetization)==null?void 0:A.application)&&o.jsxs("p",{className:"text-gray-400 mt-1",children:["Applied on: ",f(n.monetization.application.applicationDate)]})]}),o.jsxs("div",{children:[!((D=n==null?void 0:n.channel)!=null&&D.isMonetized)&&((z=n==null?void 0:n.monetization)==null?void 0:z.isEligible)&&((O=n==null?void 0:n.channel)==null?void 0:O.monetizationStatus)==="not_eligible"&&o.jsx(le,{to:"/studio/monetization",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",children:"Apply for Monetization"}),((Y=n==null?void 0:n.channel)==null?void 0:Y.isMonetized)&&o.jsx(le,{to:"/studio/monetization",className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded",children:"View Earnings"})]})]}),o.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("span",{children:"Subscribers"}),o.jsxs("span",{className:`font-semibold ${(((q=n==null?void 0:n.channel)==null?void 0:q.subscriberCount)||0)>=1e3?"text-green-400":"text-gray-400"}`,children:[l(((Z=n==null?void 0:n.channel)==null?void 0:Z.subscriberCount)||0),"/1,000"]})]}),o.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:o.jsx("div",{className:`h-2.5 rounded-full ${(((V=n==null?void 0:n.channel)==null?void 0:V.subscriberCount)||0)>=1e3?"bg-green-600":"bg-blue-600"}`,style:{width:`${Math.min(100,(((H=n==null?void 0:n.channel)==null?void 0:H.subscriberCount)||0)/1e3*100)}%`}})})]}),o.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("span",{children:"Watch Hours"}),o.jsxs("span",{className:`font-semibold ${(((F=n==null?void 0:n.analytics)==null?void 0:F.totalWatchTimeMinutes)||0)>=24e4?"text-green-400":"text-gray-400"}`,children:[Math.floor((((B=n==null?void 0:n.analytics)==null?void 0:B.totalWatchTimeMinutes)||0)/60),"/4,000"]})]}),o.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:o.jsx("div",{className:`h-2.5 rounded-full ${(((U=n==null?void 0:n.analytics)==null?void 0:U.totalWatchTimeMinutes)||0)>=24e4?"bg-green-600":"bg-blue-600"}`,style:{width:`${Math.min(100,((($=n==null?void 0:n.analytics)==null?void 0:$.totalWatchTimeMinutes)||0)/24e4*100)}%`}})})]}),o.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("span",{children:"Short Views"}),o.jsxs("span",{className:`font-semibold ${(((K=n==null?void 0:n.channel)==null?void 0:K.totalShortViews)||0)>=1e7?"text-green-400":"text-gray-400"}`,children:[l(((ce=n==null?void 0:n.channel)==null?void 0:ce.totalShortViews)||0),"/10M"]})]}),o.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:o.jsx("div",{className:`h-2.5 rounded-full ${(((he=n==null?void 0:n.channel)==null?void 0:he.totalShortViews)||0)>=1e7?"bg-green-600":"bg-blue-600"}`,style:{width:`${Math.min(100,(((xe=n==null?void 0:n.channel)==null?void 0:xe.totalShortViews)||0)/1e7*100)}%`}})})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Recent Videos"}),o.jsx(le,{to:"/studio/content",className:"text-blue-400 hover:text-blue-300 text-sm",children:"View All"})]}),((ve=n==null?void 0:n.recentVideos)==null?void 0:ve.length)>0?o.jsx("div",{className:"space-y-4",children:n.recentVideos.map(be=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("img",{src:be.thumbnailUrl,alt:be.title,className:"w-24 h-16 object-cover rounded mr-4"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium truncate",children:be.title}),o.jsxs("div",{className:"flex items-center text-sm text-gray-400 mt-1",children:[o.jsxs("span",{className:"flex items-center mr-3",children:[o.jsx(qi,{className:"mr-1"})," ",l(be.views)]}),o.jsx("span",{children:f(be.createdAt)})]})]})]},be._id))}):o.jsx("p",{className:"text-gray-400",children:"No videos uploaded yet"})]}),o.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Recent Livestreams"}),o.jsx(le,{to:"/live-course",className:"text-blue-400 hover:text-blue-300 text-sm",children:"Go Live"})]}),((ye=n==null?void 0:n.recentLivestreams)==null?void 0:ye.length)>0?o.jsx("div",{className:"space-y-4",children:n.recentLivestreams.map(be=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-24 h-16 bg-gray-700 rounded flex items-center justify-center mr-4",children:o.jsx(ar,{className:"text-2xl text-red-500"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium truncate",children:be.name}),o.jsxs("div",{className:"flex items-center text-sm text-gray-400 mt-1",children:[o.jsx("span",{className:`mr-3 ${be.status==="active"?"text-green-500":be.status==="ended"?"text-gray-400":"text-yellow-500"}`,children:be.status==="active"?"Live":be.status==="ended"?"Ended":"Idle"}),o.jsxs("span",{className:"flex items-center mr-3",children:[o.jsx(qi,{className:"mr-1"})," ",l(be.viewers)]}),o.jsx("span",{children:f(be.createdAt)})]})]})]},be._id))}):o.jsx("p",{className:"text-gray-400",children:"No livestreams yet"})]})]})]})},hne="http://localhost:5000",mne=()=>{const[s]=Ho(),[e,t]=T.useState(!0),[n,i]=T.useState([]),[r,a]=T.useState({currentPage:1,totalPages:1,totalItems:0,itemsPerPage:10}),[l,c]=T.useState({type:"all",sort:"newest",page:1}),[f,u]=T.useState(!1);T.useEffect(()=>{s&&(async()=>{var v,w;try{t(!0);const L=await Q.get(`${hne}/api/studio/content`,{params:{type:l.type,sort:l.sort,page:l.page,limit:10},withCredentials:!0});L.data.success?(i(L.data.data.videos),a(L.data.data.pagination)):de("Failed to load content")}catch(L){console.error("Error fetching content:",L),de(((w=(v=L.response)==null?void 0:v.data)==null?void 0:w.message)||"Error loading content")}finally{t(!1)}})()},[s,l]);const h=y=>{const{name:v,value:w}=y.target;c({...l,[v]:w,page:1})},p=y=>{y<1||y>r.totalPages||c({...l,page:y})},g=y=>y?new Date(y).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",x=y=>y>=1e6?(y/1e6).toFixed(1)+"M":y>=1e3?(y/1e3).toFixed(1)+"K":y;return e&&l.page===1?o.jsx(Qo,{}):o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Content"}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsxs("button",{onClick:()=>u(!f),className:"bg-gray-700 hover:bg-gray-600 text-white px-3 py-2 rounded flex items-center",children:[o.jsx(vv,{className:"mr-2"}),"Filters"]}),o.jsx(le,{to:"/upload-video",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",children:"Upload Video"}),o.jsx(le,{to:"/upload-short",className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded",children:"Upload Short"})]})]}),f&&o.jsx("div",{className:"bg-gray-800 rounded-lg p-4 mb-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Content Type"}),o.jsxs("select",{name:"type",value:l.type,onChange:h,className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Content"}),o.jsx("option",{value:"video",children:"Videos"}),o.jsx("option",{value:"short",children:"Shorts"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Sort By"}),o.jsxs("select",{name:"sort",value:l.sort,onChange:h,className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"newest",children:"Date (Newest)"}),o.jsx("option",{value:"oldest",children:"Date (Oldest)"}),o.jsx("option",{value:"most-viewed",children:"Most Views"}),o.jsx("option",{value:"least-viewed",children:"Least Views"}),o.jsx("option",{value:"most-liked",children:"Most Likes"})]})]})]})}),o.jsx("div",{className:"bg-gray-800 rounded-lg overflow-hidden mb-6",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-900",children:[o.jsx("th",{className:"px-4 py-3 text-left",children:"Video"}),o.jsx("th",{className:"px-4 py-3 text-center",children:"Type"}),o.jsx("th",{className:"px-4 py-3 text-right",children:"Views"}),o.jsx("th",{className:"px-4 py-3 text-right",children:"Likes"}),o.jsx("th",{className:"px-4 py-3 text-right",children:"Comments"}),o.jsx("th",{className:"px-4 py-3 text-right",children:"Date"}),o.jsx("th",{className:"px-4 py-3 text-center",children:"Actions"})]})}),o.jsx("tbody",{children:n.length>0?n.map(y=>{var v,w;return o.jsxs("tr",{className:"border-t border-gray-700 hover:bg-gray-700",children:[o.jsx("td",{className:"px-4 py-3",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("img",{src:y.thumbnailUrl,alt:y.title,className:"w-20 h-12 object-cover rounded mr-3"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium truncate max-w-xs",children:y.title}),o.jsx(le,{to:`/watch/${y._id}`,className:"text-blue-400 hover:text-blue-300 text-sm",target:"_blank",children:"View"})]})]})}),o.jsx("td",{className:"px-4 py-3 text-center",children:o.jsx("span",{className:`px-2 py-1 rounded text-xs ${y.type==="video"?"bg-blue-900 text-blue-200":"bg-red-900 text-red-200"}`,children:y.type==="video"?"Video":"Short"})}),o.jsx("td",{className:"px-4 py-3 text-right",children:o.jsxs("div",{className:"flex items-center justify-end",children:[o.jsx(qi,{className:"mr-1 text-gray-400"}),x(y.views)]})}),o.jsx("td",{className:"px-4 py-3 text-right",children:o.jsxs("div",{className:"flex items-center justify-end",children:[o.jsx(wi,{className:"mr-1 text-gray-400"}),x(((v=y.likes)==null?void 0:v.length)||0)]})}),o.jsx("td",{className:"px-4 py-3 text-right",children:o.jsxs("div",{className:"flex items-center justify-end",children:[o.jsx(hm,{className:"mr-1 text-gray-400"}),x(((w=y.comments)==null?void 0:w.length)||0)]})}),o.jsx("td",{className:"px-4 py-3 text-right",children:g(y.createdAt)}),o.jsx("td",{className:"px-4 py-3",children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx("button",{className:"text-blue-400 hover:text-blue-300",title:"Edit",children:o.jsx(Ua,{})}),o.jsx("button",{className:"text-red-400 hover:text-red-300",title:"Delete",children:o.jsx(Gs,{})})]})})]},y._id)}):o.jsx("tr",{children:o.jsx("td",{colSpan:"7",className:"px-4 py-6 text-center text-gray-400",children:e?"Loading content...":"No content found"})})})]})}),r.totalPages>1&&o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"text-gray-400",children:["Showing ",(r.currentPage-1)*r.itemsPerPage+1," to ",Math.min(r.currentPage*r.itemsPerPage,r.totalItems)," of ",r.totalItems," items"]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>p(r.currentPage-1),disabled:r.currentPage===1,className:`px-3 py-1 rounded ${r.currentPage===1?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-gray-700 text-white hover:bg-gray-600"}`,children:"Previous"}),[...Array(r.totalPages)].map((y,v)=>o.jsx("button",{onClick:()=>p(v+1),className:`px-3 py-1 rounded ${r.currentPage===v+1?"bg-blue-600 text-white":"bg-gray-700 text-white hover:bg-gray-600"}`,children:v+1},v)),o.jsx("button",{onClick:()=>p(r.currentPage+1),disabled:r.currentPage===r.totalPages,className:`px-3 py-1 rounded ${r.currentPage===r.totalPages?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-gray-700 text-white hover:bg-gray-600"}`,children:"Next"})]})]})]})};pd.register(zm,Bm,ou,Bl,lu,zl,S_,C_,v_);const pne="http://localhost:5000",gne=()=>{var x,y,v,w,L,S;const[s]=Ho(),[e,t]=T.useState(!0),[n,i]=T.useState(null),[r,a]=T.useState("30d");T.useEffect(()=>{s&&(async()=>{var E,M;try{t(!0);const N=await Q.get(`${pne}/api/studio/analytics`,{params:{period:r},withCredentials:!0});N.data.success?i(N.data.data):de("Failed to load analytics data")}catch(N){console.error("Error fetching analytics data:",N),de(((M=(E=N.response)==null?void 0:E.data)==null?void 0:M.message)||"Error loading analytics data")}finally{t(!1)}})()},[s,r]);const l=j=>j>=1e6?(j/1e6).toFixed(1)+"M":j>=1e3?(j/1e3).toFixed(1)+"K":j,c=j=>{const E=Math.floor(j/60);return E>=1e3?(E/1e3).toFixed(1)+"K hours":E+" hours"},f=j=>new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0}).format(j||0),u=()=>{if(!n||!n.period.dailyData)return null;const j=n.period.dailyData.map(M=>new Date(M.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})),E=n.period.dailyData.map(M=>M.views);return{labels:j,datasets:[{label:"Views",data:E,borderColor:"rgba(54, 162, 235, 1)",backgroundColor:"rgba(54, 162, 235, 0.2)",fill:!0,tension:.4}]}},h=()=>{if(!n||!n.period.dailyData)return null;const j=n.period.dailyData.map(M=>new Date(M.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})),E=n.period.dailyData.map(M=>M.watchTimeMinutes/60);return{labels:j,datasets:[{label:"Watch Time (hours)",data:E,borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)",fill:!0,tension:.4}]}},p=()=>{if(!n||!n.period.dailyData)return null;const j=n.period.dailyData.map(N=>new Date(N.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})),E=n.period.dailyData.map(N=>N.subscribersGained),M=n.period.dailyData.map(N=>-N.subscribersLost);return{labels:j,datasets:[{label:"Subscribers Gained",data:E,backgroundColor:"rgba(75, 192, 192, 0.6)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1},{label:"Subscribers Lost",data:M,backgroundColor:"rgba(255, 99, 132, 0.6)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1}]}},g=()=>{if(!n||!n.trafficSources)return null;const{trafficSources:j}=n;return{labels:["Direct","Suggested","Search","External","Notifications","Other"],datasets:[{data:[j.direct||0,j.suggested||0,j.search||0,j.external||0,j.notifications||0,j.other||0],backgroundColor:["rgba(54, 162, 235, 0.6)","rgba(75, 192, 192, 0.6)","rgba(255, 206, 86, 0.6)","rgba(153, 102, 255, 0.6)","rgba(255, 159, 64, 0.6)","rgba(201, 203, 207, 0.6)"],borderColor:["rgba(54, 162, 235, 1)","rgba(75, 192, 192, 1)","rgba(255, 206, 86, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(201, 203, 207, 1)"],borderWidth:1}]}};return e?o.jsx(Qo,{}):o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Analytics"}),o.jsx("div",{children:o.jsxs("select",{value:r,onChange:j=>a(j.target.value),className:"bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"7d",children:"Last 7 days"}),o.jsx("option",{value:"30d",children:"Last 30 days"}),o.jsx("option",{value:"90d",children:"Last 90 days"}),o.jsx("option",{value:"365d",children:"Last 365 days"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 shadow-lg",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"bg-blue-600 p-3 rounded-full mr-4",children:o.jsx(qi,{className:"text-white text-xl"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-gray-400 text-sm",children:"Total Views"}),o.jsx("p",{className:"text-2xl font-bold",children:l(((x=n==null?void 0:n.overview)==null?void 0:x.totalViews)||0)})]})]}),o.jsx("div",{className:"text-gray-400 text-sm",children:"Lifetime channel views"})]}),o.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 shadow-lg",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"bg-purple-600 p-3 rounded-full mr-4",children:o.jsx(Cv,{className:"text-white text-xl"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-gray-400 text-sm",children:"Subscribers"}),o.jsx("p",{className:"text-2xl font-bold",children:l(((y=n==null?void 0:n.overview)==null?void 0:y.totalSubscribers)||0)})]})]}),o.jsx("div",{className:"text-gray-400 text-sm",children:"Total channel subscribers"})]}),o.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 shadow-lg",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"bg-green-600 p-3 rounded-full mr-4",children:o.jsx(Or,{className:"text-white text-xl"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-gray-400 text-sm",children:"Watch Time"}),o.jsx("p",{className:"text-2xl font-bold",children:c(((v=n==null?void 0:n.overview)==null?void 0:v.totalWatchTimeMinutes)||0)})]})]}),o.jsx("div",{className:"text-gray-400 text-sm",children:"Total watch time across all videos"})]}),o.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 shadow-lg",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"bg-red-600 p-3 rounded-full mr-4",children:o.jsx($s,{className:"text-white text-xl"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-gray-400 text-sm",children:"Total Earnings"}),o.jsx("p",{className:"text-2xl font-bold",children:f(((w=n==null?void 0:n.overview)==null?void 0:w.totalEarnings)||0)})]})]}),o.jsx("div",{className:"text-gray-400 text-sm",children:"Lifetime earnings from all sources"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[o.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Views"}),u()&&o.jsx("div",{className:"h-80",children:o.jsx(Db,{data:u(),options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,ticks:{color:"rgba(255, 255, 255, 0.7)"},grid:{color:"rgba(255, 255, 255, 0.1)"}},x:{ticks:{color:"rgba(255, 255, 255, 0.7)"},grid:{color:"rgba(255, 255, 255, 0.1)"}}},plugins:{legend:{labels:{color:"rgba(255, 255, 255, 0.7)"}}}}})})]}),o.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Watch Time"}),h()&&o.jsx("div",{className:"h-80",children:o.jsx(Db,{data:h(),options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,ticks:{color:"rgba(255, 255, 255, 0.7)"},grid:{color:"rgba(255, 255, 255, 0.1)"}},x:{ticks:{color:"rgba(255, 255, 255, 0.7)"},grid:{color:"rgba(255, 255, 255, 0.1)"}}},plugins:{legend:{labels:{color:"rgba(255, 255, 255, 0.7)"}}}}})})]}),o.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Subscribers"}),p()&&o.jsx("div",{className:"h-80",children:o.jsx(Fq,{data:p(),options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{ticks:{color:"rgba(255, 255, 255, 0.7)"},grid:{color:"rgba(255, 255, 255, 0.1)"}},x:{ticks:{color:"rgba(255, 255, 255, 0.7)"},grid:{color:"rgba(255, 255, 255, 0.1)"}}},plugins:{legend:{labels:{color:"rgba(255, 255, 255, 0.7)"}}}}})})]}),o.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Traffic Sources"}),g()&&o.jsx("div",{className:"h-80 flex items-center justify-center",children:o.jsx("div",{className:"w-3/4 h-full",children:o.jsx(zq,{data:g(),options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{color:"rgba(255, 255, 255, 0.7)"}}}}})})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Top Videos"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-700",children:[o.jsx("th",{className:"text-left py-3",children:"Video"}),o.jsx("th",{className:"text-right py-3",children:"Views"}),o.jsx("th",{className:"text-right py-3",children:"Watch Time"})]})}),o.jsx("tbody",{children:(L=n==null?void 0:n.topContent)!=null&&L.videos&&n.topContent.videos.length>0?n.topContent.videos.map((j,E)=>o.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-700",children:[o.jsx("td",{className:"py-3 truncate max-w-xs",children:j.title}),o.jsx("td",{className:"py-3 text-right",children:l(j.views)}),o.jsx("td",{className:"py-3 text-right",children:c(j.watchTimeMinutes)})]},E)):o.jsx("tr",{children:o.jsx("td",{colSpan:"3",className:"py-4 text-center text-gray-400",children:"No video data available"})})})]})})]}),o.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Top Livestreams"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-700",children:[o.jsx("th",{className:"text-left py-3",children:"Livestream"}),o.jsx("th",{className:"text-right py-3",children:"Views"}),o.jsx("th",{className:"text-right py-3",children:"Peak Viewers"})]})}),o.jsx("tbody",{children:(S=n==null?void 0:n.topContent)!=null&&S.livestreams&&n.topContent.livestreams.length>0?n.topContent.livestreams.map((j,E)=>o.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-700",children:[o.jsx("td",{className:"py-3 truncate max-w-xs",children:j.title}),o.jsx("td",{className:"py-3 text-right",children:l(j.totalViews)}),o.jsx("td",{className:"py-3 text-right",children:l(j.peakConcurrentViewers)})]},E)):o.jsx("tr",{children:o.jsx("td",{colSpan:"3",className:"py-4 text-center text-gray-400",children:"No livestream data available"})})})]})})]})]})]})},F6="http://localhost:5000",xne=({isOpen:s,onClose:e,pendingAmount:t,onWithdrawalComplete:n})=>{const[i,r]=T.useState(!1),[a,l]=T.useState("jazzCash"),[c,f]=T.useState({jazzCash:null,easyPaisa:null,payFast:null,bankDetails:{accountTitle:null,accountNumber:null,bankName:null}}),[u,h]=T.useState([]);T.useEffect(()=>{s&&(async()=>{var w;try{const L=await Q.get(`${F6}/api/studio/payment-methods`,{withCredentials:!0});if(L.data.success){f(L.data.data.paymentMethods);const S=[];L.data.data.paymentMethods.jazzCash&&S.push("jazzCash"),L.data.data.paymentMethods.easyPaisa&&S.push("easyPaisa"),L.data.data.paymentMethods.payFast&&S.push("payFast"),(w=L.data.data.paymentMethods.bankDetails)!=null&&w.accountNumber&&S.push("bankTransfer"),h(S),S.length>0&&!S.includes(a)&&l(S[0])}}catch(L){console.error("Error fetching payment methods:",L),de("Failed to load payment methods")}})()},[s]);const p=async v=>{var w,L;if(v.preventDefault(),!a){de("Please select a payment method");return}try{r(!0),(await Q.post(`${F6}/api/withdrawals/request`,{paymentMethod:a},{withCredentials:!0})).data.success?(Be("Withdrawal request submitted successfully"),n(),e()):de("Failed to submit withdrawal request")}catch(S){console.error("Error submitting withdrawal request:",S),de(((L=(w=S.response)==null?void 0:w.data)==null?void 0:L.message)||"Error submitting withdrawal request")}finally{r(!1)}},g=v=>new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0}).format(v||0),x=v=>{switch(v){case"jazzCash":return"JazzCash";case"easyPaisa":return"EasyPaisa";case"payFast":return"PayFast";case"bankTransfer":return"Bank Transfer";default:return v}},y=v=>{switch(v){case"jazzCash":return c.jazzCash;case"easyPaisa":return c.easyPaisa;case"payFast":return c.payFast;case"bankTransfer":return`${c.bankDetails.accountTitle} - ${c.bankDetails.accountNumber} (${c.bankDetails.bankName})`;default:return""}};return s?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-md relative",children:[o.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:o.jsx(Na,{})}),o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx("div",{className:"bg-green-600 p-3 rounded-full mr-4",children:o.jsx($s,{className:"text-white text-xl"})}),o.jsx("h2",{className:"text-2xl font-bold",children:"Withdraw Earnings"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("p",{className:"text-gray-300 mb-2",children:"Available for withdrawal:"}),o.jsx("p",{className:"text-3xl font-bold text-green-500",children:g(t)})]}),u.length===0?o.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg mb-6",children:[o.jsx("p",{className:"text-yellow-400 mb-2",children:"No payment methods available"}),o.jsx("p",{className:"text-gray-300",children:"Please add a payment method in your account settings before requesting a withdrawal."})]}):o.jsxs("form",{onSubmit:p,children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Select Payment Method"}),o.jsx("select",{className:"w-full bg-gray-700 text-white px-4 py-2 rounded",value:a,onChange:v=>l(v.target.value),required:!0,children:u.map(v=>o.jsx("option",{value:v,children:x(v)},v))}),a&&o.jsx("div",{className:"mt-2 text-gray-400",children:o.jsxs("p",{children:["Payment will be sent to: ",y(a)]})})]}),o.jsx("div",{className:"bg-gray-700 p-4 rounded-lg mb-6",children:o.jsxs("p",{className:"text-gray-300 text-sm",children:[o.jsx("strong",{children:"Note:"})," Withdrawal requests are typically processed within 3-5 business days. You will receive a notification once your withdrawal has been processed."]})}),o.jsxs("div",{className:"flex justify-end",children:[o.jsx("button",{type:"button",onClick:e,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded mr-2",disabled:i,children:"Cancel"}),o.jsx("button",{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded",disabled:i,children:i?"Processing...":"Confirm Withdrawal"})]})]})]})}):null},yne="http://localhost:5000",bne=()=>{const[s,e]=T.useState(!0),[t,n]=T.useState([]);T.useEffect(()=>{(async()=>{try{e(!0);const h=await Q.get(`${yne}/api/withdrawals/history`,{withCredentials:!0});h.data.success&&n(h.data.data.withdrawals)}catch(h){console.error("Error fetching withdrawal history:",h),de("Failed to load withdrawal history")}finally{e(!1)}})()},[]);const i=u=>new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0}).format(u||0),r=u=>new Date(u).toLocaleDateString("en-PK",{year:"numeric",month:"short",day:"numeric"}),a=u=>{switch(u){case"jazzCash":return"JazzCash";case"easyPaisa":return"EasyPaisa";case"payFast":return"PayFast";case"bankTransfer":return"Bank Transfer";default:return u}},l=u=>{switch(u){case"completed":return o.jsx(Cn,{className:"text-green-500 text-lg"});case"rejected":return o.jsx(Eo,{className:"text-red-500 text-lg"});case"processing":return o.jsx(pm,{className:"text-yellow-500 text-lg"});case"pending":default:return o.jsx(aL,{className:"text-blue-500 text-lg"})}},c=u=>{switch(u){case"completed":return"Completed";case"rejected":return"Rejected";case"processing":return"Processing";case"pending":default:return"Pending"}},f=u=>{switch(u){case"completed":return"bg-green-900 text-green-300";case"rejected":return"bg-red-900 text-red-300";case"processing":return"bg-yellow-900 text-yellow-300";case"pending":default:return"bg-blue-900 text-blue-300"}};return s?o.jsxs("div",{className:"flex justify-center items-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-white"}),o.jsx("span",{className:"ml-2",children:"Loading withdrawal history..."})]}):o.jsxs("div",{className:"mt-8",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(vp,{className:"mr-2 text-gray-400"}),o.jsx("h3",{className:"text-xl font-semibold",children:"Withdrawal History"})]}),t.length===0?o.jsx("div",{className:"bg-gray-800 rounded-lg p-6 text-center",children:o.jsx("p",{className:"text-gray-400",children:"You haven't made any withdrawal requests yet."})}):o.jsx("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left",children:"Date"}),o.jsx("th",{className:"px-4 py-3 text-left",children:"Amount"}),o.jsx("th",{className:"px-4 py-3 text-left",children:"Payment Method"}),o.jsx("th",{className:"px-4 py-3 text-left",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-700",children:t.map(u=>o.jsxs("tr",{className:"hover:bg-gray-700",children:[o.jsx("td",{className:"px-4 py-3",children:r(u.requestDate)}),o.jsx("td",{className:"px-4 py-3 font-medium",children:i(u.amount)}),o.jsx("td",{className:"px-4 py-3",children:a(u.paymentMethod)}),o.jsx("td",{className:"px-4 py-3",children:o.jsxs("div",{className:"flex items-center",children:[o.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f(u.status)}`,children:[l(u.status),o.jsx("span",{className:"ml-1",children:c(u.status)})]}),u.status==="rejected"&&u.rejectionReason&&o.jsxs("div",{className:"ml-2 group relative",children:[o.jsx(aL,{className:"text-gray-400 cursor-help"}),o.jsx("div",{className:"absolute left-0 bottom-full mb-2 w-48 bg-gray-900 p-2 rounded text-xs opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:u.rejectionReason})]})]})})]},u._id))})]})})})]})},x0="http://localhost:5000",vne=()=>{var j,E;const[s]=Ho(),[e,t]=T.useState(!0),[n,i]=T.useState(null),[r,a]=T.useState(!1),[l,c]=T.useState(!1),[f,u]=T.useState({paymentMethod:"jazzCash",accountName:"",accountNumber:"",additionalInfo:"",taxId:""}),[h,p]=T.useState(!1);T.useEffect(()=>{s&&(async()=>{var N,I;try{t(!0);const A=await Q.get(`${x0}/api/studio/monetization`,{withCredentials:!0});A.data.success?i(A.data.data):de("Failed to load monetization data")}catch(A){console.error("Error fetching monetization data:",A),de(((I=(N=A.response)==null?void 0:N.data)==null?void 0:I.message)||"Error loading monetization data")}finally{t(!1)}})()},[s]);const g=M=>{const{name:N,value:I}=M.target;u({...f,[N]:I})},x=async M=>{var N,I;M.preventDefault();try{if(p(!0),(await Q.post(`${x0}/api/studio/monetization/apply`,f,{withCredentials:!0})).data.success){Be("Monetization application submitted successfully");const D=await Q.get(`${x0}/api/studio/monetization`,{withCredentials:!0});D.data.success&&i(D.data.data),a(!1)}else de("Failed to submit application")}catch(A){console.error("Error submitting application:",A),de(((I=(N=A.response)==null?void 0:N.data)==null?void 0:I.message)||"Error submitting application")}finally{p(!1)}},y=async()=>{try{const M=await Q.get(`${x0}/api/studio/monetization`,{withCredentials:!0});M.data.success&&i(M.data.data)}catch(M){console.error("Error refreshing data after withdrawal:",M)}},v=M=>M>=1e6?(M/1e6).toFixed(1)+"M":M>=1e3?(M/1e3).toFixed(1)+"K":M,w=M=>new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0}).format(M||0);if(e)return o.jsx(Qo,{});const{monetizationStatus:L,earnings:S}=n;return o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Monetization"}),o.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-8",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Monetization Status"}),o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx("div",{className:`p-3 rounded-full mr-4 ${L.status==="approved"?"bg-green-600":L.status==="under_review"?"bg-yellow-600":"bg-gray-600"}`,children:o.jsx(jN,{className:"text-white text-xl"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold",children:L.status==="approved"?"Monetization Enabled":L.status==="under_review"?"Application Under Review":L.status==="rejected"?"Application Rejected":"Not Monetized"}),o.jsx("p",{className:"text-gray-400",children:L.status==="approved"?"Your channel is monetized and earning revenue":L.status==="under_review"?"We are reviewing your application":L.status==="rejected"?`Reason: ${((j=L.application)==null?void 0:j.rejectionReason)||"Did not meet requirements"}`:L.isEligible?"Your channel is eligible for monetization":"Your channel does not meet the requirements yet"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{children:"Subscribers"}),L.requirements.subscribers.met?o.jsx(Cn,{className:"text-green-500"}):o.jsx(Eo,{className:"text-red-500"})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Required: 1,000"}),o.jsxs("span",{className:L.requirements.subscribers.met?"text-green-400":"text-gray-400",children:["Current: ",v(L.requirements.subscribers.current)]})]})]}),o.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{children:"Watch Time"}),L.requirements.watchTime.met?o.jsx(Cn,{className:"text-green-500"}):o.jsx(Eo,{className:"text-red-500"})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Required: 4,000 hours"}),o.jsxs("span",{className:L.requirements.watchTime.met?"text-green-400":"text-gray-400",children:["Current: ",Math.floor(L.requirements.watchTime.current/60)," hours"]})]})]}),o.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{children:"Short Views"}),L.requirements.shortViews.met?o.jsx(Cn,{className:"text-green-500"}):o.jsx(Eo,{className:"text-red-500"})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Required: 10M"}),o.jsxs("span",{className:L.requirements.shortViews.met?"text-green-400":"text-gray-400",children:["Current: ",v(L.requirements.shortViews.current)]})]})]})]}),L.isEligible&&L.status==="not_eligible"&&o.jsx("button",{onClick:()=>a(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",children:"Apply for Monetization"})]}),r&&o.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-8",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Monetization Application"}),o.jsxs("form",{onSubmit:x,children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Payment Method"}),o.jsxs("select",{name:"paymentMethod",value:f.paymentMethod,onChange:g,className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[o.jsx("option",{value:"jazzCash",children:"JazzCash"}),o.jsx("option",{value:"easyPaisa",children:"EasyPaisa"}),o.jsx("option",{value:"payFast",children:"PayFast"}),o.jsx("option",{value:"bankTransfer",children:"Bank Transfer"})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Account Name"}),o.jsx("input",{type:"text",name:"accountName",value:f.accountName,onChange:g,className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Account Number"}),o.jsx("input",{type:"text",name:"accountNumber",value:f.accountNumber,onChange:g,className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Tax ID (Optional)"}),o.jsx("input",{type:"text",name:"taxId",value:f.taxId,onChange:g,className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Additional Information (Optional)"}),o.jsx("textarea",{name:"additionalInfo",value:f.additionalInfo,onChange:g,className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"3"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("button",{type:"button",onClick:()=>a(!1),className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded",children:"Cancel"}),o.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded flex items-center",disabled:h,children:h?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"mr-2",children:"Submitting..."}),o.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"})]}):"Submit Application"})]})]})]}),L.status==="approved"&&o.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-8",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Earnings Summary"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx($s,{className:"text-green-500 mr-2"}),o.jsx("span",{children:"30-Day Earnings"})]}),o.jsx("p",{className:"text-2xl font-bold",children:w(S.summary.total.creatorTotal)})]}),o.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx($s,{className:"text-yellow-500 mr-2"}),o.jsx("span",{children:"Pending Payout"})]}),o.jsx("p",{className:"text-2xl font-bold",children:w(S.pendingPayout)})]}),o.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx($s,{className:"text-blue-500 mr-2"}),o.jsx("span",{children:"Lifetime Earnings"})]}),o.jsx("p",{className:"text-2xl font-bold",children:w(s.totalEarnings)})]})]}),o.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Earnings by Source"}),o.jsx("div",{className:"bg-gray-900 rounded-lg overflow-hidden mb-6",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-800",children:[o.jsx("th",{className:"px-4 py-3 text-left",children:"Source"}),o.jsx("th",{className:"px-4 py-3 text-right",children:"Earnings"}),o.jsx("th",{className:"px-4 py-3 text-right",children:"Transactions"})]})}),o.jsx("tbody",{children:S.summary.bySource.map((M,N)=>o.jsxs("tr",{className:"border-t border-gray-800",children:[o.jsx("td",{className:"px-4 py-3",children:M._id==="video_view"?"Video Views":M._id==="livestream_view"?"Livestream Views":M._id==="ad_impression"?"Ad Impressions":M._id==="ad_click"?"Ad Clicks":M._id==="subscription"?"Subscriptions":M._id}),o.jsx("td",{className:"px-4 py-3 text-right",children:w(M.creatorEarnings)}),o.jsx("td",{className:"px-4 py-3 text-right",children:M.count})]},N))})]})}),S.pendingPayout>=S.settings.minimumPayoutAmount&&o.jsxs("button",{onClick:()=>c(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded",children:["Request Withdrawal (",w(S.pendingPayout),")"]}),S.pendingPayout<S.settings.minimumPayoutAmount&&o.jsxs("p",{className:"text-gray-400",children:["Minimum payout amount: ",w(S.settings.minimumPayoutAmount)]}),o.jsx(bne,{})]}),o.jsx(xne,{isOpen:l,onClose:()=>c(!1),pendingAmount:((E=n==null?void 0:n.earnings)==null?void 0:E.pendingPayout)||0,onWithdrawalComplete:y})]})},fy="http://localhost:5000",wne=()=>{const[s]=Ho(),[e,t]=T.useState(!0),[n,i]=T.useState(null),[r,a]=T.useState(!1),[l,c]=T.useState({documentType:"national_id",documentNumber:"",contactPhone:"",contactEmail:""}),[f,u]=T.useState(null),[h,p]=T.useState(null),[g,x]=T.useState(!1);T.useEffect(()=>{s&&(async()=>{var S,j;try{t(!0);const E=await Q.get(`${fy}/api/studio/overview`,{withCredentials:!0});E.data.success?(i(E.data.data.verification),s!=null&&s.email&&c(M=>({...M,contactEmail:s.email}))):de("Failed to load verification data")}catch(E){console.error("Error fetching verification data:",E),de(((j=(S=E.response)==null?void 0:S.data)==null?void 0:j.message)||"Error loading verification data")}finally{t(!1)}})()},[s]);const y=L=>{const{name:S,value:j}=L.target;c({...l,[S]:j})},v=L=>{const S=L.target.files[0];if(S)if(u(S),S.type.startsWith("image/")){const j=new FileReader;j.onload=()=>{p(j.result)},j.readAsDataURL(S)}else p(null)},w=async L=>{var S,j;if(L.preventDefault(),!f){de("Please upload an identity document");return}try{x(!0);const E=new FormData;if(E.append("documentType",l.documentType),E.append("documentNumber",l.documentNumber),E.append("contactPhone",l.contactPhone),E.append("contactEmail",l.contactEmail),E.append("identityDocument",f),(await Q.post(`${fy}/api/studio/verification/apply`,E,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}})).data.success){Be("Verification application submitted successfully");const N=await Q.get(`${fy}/api/studio/overview`,{withCredentials:!0});N.data.success&&i(N.data.data.verification),a(!1)}else de("Failed to submit application")}catch(E){console.error("Error submitting application:",E),de(((j=(S=E.response)==null?void 0:S.data)==null?void 0:j.message)||"Error submitting application")}finally{x(!1)}};return e?o.jsx(Qo,{}):o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Channel Verification"}),o.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-8",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Verification Status"}),o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx("div",{className:`p-3 rounded-full mr-4 ${s!=null&&s.isVerified?"bg-green-600":(s==null?void 0:s.verificationStatus)==="under_review"?"bg-yellow-600":"bg-gray-600"}`,children:o.jsx(pF,{className:"text-white text-xl"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold",children:s!=null&&s.isVerified?"Channel Verified":(s==null?void 0:s.verificationStatus)==="under_review"?"Application Under Review":(s==null?void 0:s.verificationStatus)==="rejected"?"Application Rejected":"Not Verified"}),o.jsx("p",{className:"text-gray-400",children:s!=null&&s.isVerified?"Your channel has been verified":(s==null?void 0:s.verificationStatus)==="under_review"?"We are reviewing your verification application":(s==null?void 0:s.verificationStatus)==="rejected"?"Your verification application was rejected":"Apply for verification to get a verified badge on your channel"})]})]}),o.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg mb-6",children:[o.jsx("h3",{className:"font-semibold mb-3",children:"Benefits of Verification"}),o.jsxs("ul",{className:"space-y-2 text-gray-300",children:[o.jsxs("li",{className:"flex items-start",children:[o.jsx(Cn,{className:"text-green-500 mt-1 mr-2 flex-shrink-0"}),o.jsx("span",{children:"Verified badge next to your channel name"})]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx(Cn,{className:"text-green-500 mt-1 mr-2 flex-shrink-0"}),o.jsx("span",{children:"Higher visibility in search results"})]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx(Cn,{className:"text-green-500 mt-1 mr-2 flex-shrink-0"}),o.jsx("span",{children:"Access to additional creator features"})]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx(Cn,{className:"text-green-500 mt-1 mr-2 flex-shrink-0"}),o.jsx("span",{children:"Protection against impersonation"})]})]})]}),(s==null?void 0:s.verificationStatus)==="not_applied"&&o.jsx("button",{onClick:()=>a(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",children:"Apply for Verification"})]}),r&&o.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-8",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Verification Application"}),o.jsxs("form",{onSubmit:w,children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"ID Document Type"}),o.jsxs("select",{name:"documentType",value:l.documentType,onChange:y,className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[o.jsx("option",{value:"national_id",children:"National ID Card"}),o.jsx("option",{value:"passport",children:"Passport"}),o.jsx("option",{value:"driving_license",children:"Driving License"})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Document Number"}),o.jsx("input",{type:"text",name:"documentNumber",value:l.documentNumber,onChange:y,className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Contact Phone"}),o.jsx("input",{type:"tel",name:"contactPhone",value:l.contactPhone,onChange:y,className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Contact Email"}),o.jsx("input",{type:"email",name:"contactEmail",value:l.contactEmail,onChange:y,className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Upload ID Document"}),o.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-4 text-center",children:[o.jsx("input",{type:"file",id:"documentFile",onChange:v,className:"hidden",accept:"image/jpeg,image/png,image/jpg,application/pdf"}),h?o.jsx("div",{className:"mb-3",children:o.jsx("img",{src:h,alt:"Document Preview",className:"max-h-40 mx-auto"})}):o.jsxs("div",{className:"text-gray-400 mb-3",children:[o.jsx(Lv,{className:"text-3xl mx-auto mb-2"}),o.jsx("p",{children:"Upload your ID document (JPG, PNG, or PDF)"})]}),o.jsx("label",{htmlFor:"documentFile",className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded cursor-pointer inline-block",children:f?"Change File":"Select File"}),f&&o.jsxs("p",{className:"mt-2 text-gray-400",children:["Selected: ",f.name]})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("button",{type:"button",onClick:()=>a(!1),className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded",children:"Cancel"}),o.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded flex items-center",disabled:g||!f,children:g?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"mr-2",children:"Submitting..."}),o.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"})]}):"Submit Application"})]})]})]})]})},uy="http://localhost:5000",Sne=()=>{const[s,e]=Ho(),[t,n]=T.useState(!0),[i,r]=T.useState(!1),[a,l]=T.useState("payment"),[c,f]=T.useState({paymentMethod:"jazzCash",accountName:"",accountNumber:"",bankName:""});T.useEffect(()=>{s&&(async()=>{var g;try{n(!0);const x=await Q.get(`${uy}/api/auth/check`,{withCredentials:!0});if(x.data.user){const y=x.data.user;let v="jazzCash",w="",L="",S="";y.paymentMethods&&(y.paymentMethods.jazzCash?(v="jazzCash",L=y.paymentMethods.jazzCash):y.paymentMethods.easyPaisa?(v="easyPaisa",L=y.paymentMethods.easyPaisa):y.paymentMethods.payFast?(v="payFast",L=y.paymentMethods.payFast):(g=y.paymentMethods.bankDetails)!=null&&g.accountNumber&&(v="bankTransfer",w=y.paymentMethods.bankDetails.accountTitle||"",L=y.paymentMethods.bankDetails.accountNumber||"",S=y.paymentMethods.bankDetails.bankName||"")),f({paymentMethod:v,accountName:w,accountNumber:L,bankName:S})}}catch(x){console.error("Error fetching user data:",x),de("Error loading user data")}finally{n(!1)}})()},[s]);const u=p=>{const{name:g,value:x}=p.target;f({...c,[g]:x})},h=async p=>{var g,x;p.preventDefault();try{if(r(!0),(await Q.put(`${uy}/api/studio/payment-methods`,c,{withCredentials:!0})).data.success){Be("Payment settings updated successfully");const v=await Q.get(`${uy}/api/auth/check`,{withCredentials:!0});v.data.user&&e(v.data.user)}else de("Failed to update payment settings")}catch(y){console.error("Error updating payment settings:",y),de(((x=(g=y.response)==null?void 0:g.data)==null?void 0:x.message)||"Error updating payment settings")}finally{r(!1)}};return t?o.jsx(Qo,{}):o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Studio Settings"}),o.jsxs("div",{className:"flex border-b border-gray-700 mb-6",children:[o.jsxs("button",{onClick:()=>l("payment"),className:`px-4 py-2 font-medium ${a==="payment"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-white"}`,children:[o.jsx($s,{className:"inline mr-2"}),"Payment Methods"]}),o.jsxs("button",{onClick:()=>l("privacy"),className:`px-4 py-2 font-medium ${a==="privacy"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-white"}`,children:[o.jsx(PN,{className:"inline mr-2"}),"Privacy"]}),o.jsxs("button",{onClick:()=>l("notifications"),className:`px-4 py-2 font-medium ${a==="notifications"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-white"}`,children:[o.jsx(xp,{className:"inline mr-2"}),"Notifications"]})]}),a==="payment"&&o.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Payment Methods"}),o.jsx("p",{className:"text-gray-400 mb-6",children:"Set up your payment methods to receive earnings from your content."}),o.jsxs("form",{onSubmit:h,children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Payment Method"}),o.jsxs("select",{name:"paymentMethod",value:c.paymentMethod,onChange:u,className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[o.jsx("option",{value:"jazzCash",children:"JazzCash"}),o.jsx("option",{value:"easyPaisa",children:"EasyPaisa"}),o.jsx("option",{value:"payFast",children:"PayFast"}),o.jsx("option",{value:"bankTransfer",children:"Bank Transfer"})]})]}),c.paymentMethod==="bankTransfer"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Account Title"}),o.jsx("input",{type:"text",name:"accountName",value:c.accountName,onChange:u,className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Account Number"}),o.jsx("input",{type:"text",name:"accountNumber",value:c.accountNumber,onChange:u,className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Bank Name"}),o.jsx("input",{type:"text",name:"bankName",value:c.bankName,onChange:u,className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}):o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:c.paymentMethod==="jazzCash"?"JazzCash Number":c.paymentMethod==="easyPaisa"?"EasyPaisa Number":"PayFast Account Number"}),o.jsx("input",{type:"text",name:"accountNumber",value:c.accountNumber,onChange:u,className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),o.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded flex items-center",disabled:i,children:i?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"mr-2",children:"Saving..."}),o.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"})]}):o.jsxs(o.Fragment,{children:[o.jsx(W1,{className:"mr-2"}),"Save Payment Settings"]})})]})]}),a==="privacy"&&o.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Privacy Settings"}),o.jsx("p",{className:"text-gray-400 mb-6",children:"Manage your privacy settings and control who can see your content."}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:"Show subscriber count"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Display your subscriber count publicly on your channel"})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),o.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:"Show like counts"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Display like counts on your videos"})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),o.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:"Allow comments"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Allow viewers to comment on your videos"})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),o.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]}),o.jsxs("button",{className:"mt-6 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded flex items-center",children:[o.jsx(W1,{className:"mr-2"}),"Save Privacy Settings"]})]}),a==="notifications"&&o.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Notification Settings"}),o.jsx("p",{className:"text-gray-400 mb-6",children:"Manage your notification preferences."}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:"Email notifications"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Receive email notifications about your channel"})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),o.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:"Comment notifications"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Get notified when someone comments on your videos"})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),o.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:"Subscription notifications"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Get notified when someone subscribes to your channel"})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),o.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:"Earnings notifications"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Get notified about your earnings and payouts"})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),o.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]}),o.jsxs("button",{className:"mt-6 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded flex items-center",children:[o.jsx(W1,{className:"mr-2"}),"Save Notification Settings"]})]})]})},z6="http://localhost:5000",Lne=({editMode:s,editCourseId:e,initialData:t,onSuccess:n})=>{const[i,r]=T.useState(t||{title:"",description:"",price:"",instructor:"",duration:"",category:"",image:null,videos:[],paymentOptions:{jazzCash:!1,easyPaisa:!1,payFast:!1,bankTransfer:!1}}),[a,l]=T.useState("courseInfo"),[c,f]=T.useState(!1),[u,h]=T.useState(0),[p,g]=T.useState([]),[x,y]=T.useState([]),[v,w]=T.useState([]),[L,S]=T.useState([]),j=T.useRef(null),E=T.useRef(null),M=T.useRef(null),N=V=>{r({...i,[V.target.name]:V.target.value})},I=V=>{r({...i,paymentOptions:{...i.paymentOptions,[V.target.name]:V.target.checked}})},A=V=>{V.target.files[0]&&r({...i,image:V.target.files[0]})},D=V=>{if(V.target.files.length>0){const H=Array.from(V.target.files);g([...p,...H]);const F=[...v],B=[...L];H.forEach(()=>{F.push(""),B.push("")}),w(F),S(B)}},z=V=>{if(V.target.files.length>0){const H=Array.from(V.target.files);y([...x,...H])}},O=(V,H)=>{const F=[...v];F[V]=H,w(F)},Y=(V,H)=>{const F=[...L];F[V]=H,S(F)},q=V=>{const H=[...p],F=[...x],B=[...v],U=[...L];H.splice(V,1),F[V]&&F.splice(V,1),B.splice(V,1),U.splice(V,1),g(H),y(F),w(B),S(U)},Z=async V=>{var H,F,B;if(V.preventDefault(),!i.title||!i.description||!i.price||!i.instructor||!i.duration||!i.category){ae.error("Please fill in all required fields");return}if(p.length===0&&!s){ae.error("Please upload at least one video");return}if(!i.image&&!s){ae.error("Please upload a course thumbnail");return}if(p.length>0&&v.some(U=>!U)){ae.error("Please provide titles for all videos");return}f(!0);try{const U=new FormData;U.append("title",i.title),U.append("description",i.description),U.append("price",i.price),U.append("instructor",i.instructor),U.append("duration",i.duration),U.append("category",i.category),Object.keys(i.paymentOptions).forEach(K=>{U.append(`paymentOptions[${K}]`,i.paymentOptions[K])}),i.image instanceof File&&U.append("image",i.image),p.forEach((K,ce)=>{U.append("videos",K),U.append("videoTitles",v[ce]||""),U.append("videoDescriptions",L[ce]||"")}),x.forEach(K=>{U.append("thumbnails",K)});let $;s?($=await Q.put(`${z6}/api/creator/courses/${e}`,U,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0,onUploadProgress:K=>{const ce=Math.round(K.loaded*100/K.total);h(ce)}}),ae.success("Course Updated Successfully!")):($=await Q.post(`${z6}/api/creator/courses/create`,U,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0,onUploadProgress:K=>{const ce=Math.round(K.loaded*100/K.total);h(ce)}}),ae.success("Course Created Successfully!")),r({title:"",description:"",price:"",instructor:"",duration:"",category:"",image:null,videos:[],paymentOptions:{jazzCash:!1,easyPaisa:!1,payFast:!1,bankTransfer:!1}}),g([]),y([]),w([]),S([]),l("courseInfo"),h(0),n&&n($.data.course)}catch(U){console.error("Error:",((H=U.response)==null?void 0:H.data)||U),ae.error("Failed to save course: "+(((B=(F=U.response)==null?void 0:F.data)==null?void 0:B.message)||"Unknown error"))}finally{f(!1),h(0)}};return o.jsxs("div",{className:"bg-[#111111] p-6 rounded-lg shadow-lg",children:[c&&o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:o.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${u}%`}})}),o.jsxs("p",{className:"text-center mt-2 text-sm text-gray-400",children:["Uploading... ",u,"%"]})]}),o.jsxs("form",{onSubmit:Z,children:[a==="courseInfo"&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold mb-4 text-white",children:"Course Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Title"}),o.jsx("input",{type:"text",name:"title",value:i.title,onChange:N,className:"w-full bg-gray-800 text-white border border-gray-700 rounded-md px-4 py-2 focus:outline-none focus:border-blue-500",placeholder:"Course Title"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Price (PKR)"}),o.jsx("input",{type:"number",name:"price",value:i.price,onChange:N,className:"w-full bg-gray-800 text-white border border-gray-700 rounded-md px-4 py-2 focus:outline-none focus:border-blue-500",placeholder:"Course Price",min:"0"})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Description"}),o.jsx("textarea",{name:"description",value:i.description,onChange:N,className:"w-full bg-gray-800 text-white border border-gray-700 rounded-md px-4 py-2 focus:outline-none focus:border-blue-500",placeholder:"Course Description",rows:"4"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Instructor"}),o.jsx("input",{type:"text",name:"instructor",value:i.instructor,onChange:N,className:"w-full bg-gray-800 text-white border border-gray-700 rounded-md px-4 py-2 focus:outline-none focus:border-blue-500",placeholder:"Instructor Name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Duration"}),o.jsx("input",{type:"text",name:"duration",value:i.duration,onChange:N,className:"w-full bg-gray-800 text-white border border-gray-700 rounded-md px-4 py-2 focus:outline-none focus:border-blue-500",placeholder:"e.g., 10 hours"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Category"}),o.jsxs("select",{name:"category",value:i.category,onChange:N,className:"w-full bg-gray-800 text-white border border-gray-700 rounded-md px-4 py-2 focus:outline-none focus:border-blue-500",children:[o.jsx("option",{value:"",children:"Select Category"}),o.jsx("option",{value:"Web Development",children:"Web Development"}),o.jsx("option",{value:"Mobile Development",children:"Mobile Development"}),o.jsx("option",{value:"Data Science",children:"Data Science"}),o.jsx("option",{value:"Machine Learning",children:"Machine Learning"}),o.jsx("option",{value:"DevOps",children:"DevOps"}),o.jsx("option",{value:"Design",children:"Design"}),o.jsx("option",{value:"Business",children:"Business"}),o.jsx("option",{value:"Marketing",children:"Marketing"}),o.jsx("option",{value:"Other",children:"Other"})]})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-gray-300 mb-2",children:"Course Thumbnail"}),o.jsxs("div",{className:"flex items-center",children:[o.jsxs("button",{type:"button",onClick:()=>E.current.click(),className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-md flex items-center",children:[o.jsx(Hf,{className:"mr-2"}),i.image?"Change Image":"Upload Image"]}),o.jsx("input",{type:"file",ref:E,onChange:A,className:"hidden",accept:"image/*"}),i.image&&o.jsx("span",{className:"ml-3 text-green-500",children:i.image instanceof File?i.image.name:"Current image will be kept"})]})]})]}),a==="videos"&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold mb-4 text-white",children:"Course Videos"}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("button",{type:"button",onClick:()=>j.current.click(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md flex items-center",children:[o.jsx(kn,{className:"mr-2"}),"Add Videos"]}),o.jsx("input",{type:"file",ref:j,onChange:D,className:"hidden",accept:"video/*",multiple:!0})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("button",{type:"button",onClick:()=>M.current.click(),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md flex items-center",children:[o.jsx(Hf,{className:"mr-2"}),"Add Video Thumbnails"]}),o.jsx("input",{type:"file",ref:M,onChange:z,className:"hidden",accept:"image/*",multiple:!0}),o.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Upload thumbnails in the same order as videos. If you don't upload thumbnails, videos will use the first frame as thumbnail."})]}),p.length>0?o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-lg font-medium text-white",children:"Videos to Upload"}),p.map((V,H)=>o.jsxs("div",{className:"bg-gray-800 p-4 rounded-md",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsxs("span",{className:"text-white font-medium",children:["Video ",H+1,": ",V.name]}),o.jsx("button",{type:"button",onClick:()=>q(H),className:"text-red-500 hover:text-red-400",children:o.jsx(Gs,{})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-300 mb-1",children:"Video Title"}),o.jsx("input",{type:"text",value:v[H]||"",onChange:F=>O(H,F.target.value),className:"w-full bg-gray-700 text-white border border-gray-600 rounded-md px-3 py-2 focus:outline-none focus:border-blue-500",placeholder:"Video Title"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-300 mb-1",children:"Thumbnail"}),o.jsx("span",{className:"text-gray-400",children:x[H]?x[H].name:"No thumbnail selected"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-300 mb-1",children:"Video Description"}),o.jsx("textarea",{value:L[H]||"",onChange:F=>Y(H,F.target.value),className:"w-full bg-gray-700 text-white border border-gray-600 rounded-md px-3 py-2 focus:outline-none focus:border-blue-500",placeholder:"Video Description",rows:"2"})]})]},H))]}):o.jsxs("div",{className:"text-center py-8 bg-gray-800 rounded-md",children:[o.jsx(kn,{className:"mx-auto text-4xl text-gray-500 mb-2"}),o.jsx("p",{className:"text-gray-400",children:'No videos added yet. Click "Add Videos" to upload.'})]})]}),a==="payment"&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold mb-4 text-white",children:"Payment Options"}),o.jsx("p",{className:"text-gray-400 mb-4",children:"Select the payment methods you want to accept for this course:"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"jazzCash",name:"jazzCash",checked:i.paymentOptions.jazzCash,onChange:I,className:"mr-3 h-5 w-5"}),o.jsxs("label",{htmlFor:"jazzCash",className:"flex items-center text-white",children:[o.jsx(_a,{className:"text-pink-500 mr-2"}),"JazzCash"]})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"easyPaisa",name:"easyPaisa",checked:i.paymentOptions.easyPaisa,onChange:I,className:"mr-3 h-5 w-5"}),o.jsxs("label",{htmlFor:"easyPaisa",className:"flex items-center text-white",children:[o.jsx(_a,{className:"text-green-500 mr-2"}),"EasyPaisa"]})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"payFast",name:"payFast",checked:i.paymentOptions.payFast,onChange:I,className:"mr-3 h-5 w-5"}),o.jsxs("label",{htmlFor:"payFast",className:"flex items-center text-white",children:[o.jsx(yp,{className:"text-blue-500 mr-2"}),"PayFast"]})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"bankTransfer",name:"bankTransfer",checked:i.paymentOptions.bankTransfer,onChange:I,className:"mr-3 h-5 w-5"}),o.jsxs("label",{htmlFor:"bankTransfer",className:"flex items-center text-white",children:[o.jsx(Sp,{className:"text-yellow-500 mr-2"}),"Bank Transfer"]})]})]}),o.jsxs("div",{className:"mt-6 p-4 bg-gray-800 rounded-md",children:[o.jsxs("h4",{className:"text-white font-medium mb-2 flex items-center",children:[o.jsx($s,{className:"text-green-500 mr-2"}),"Earnings Information"]}),o.jsx("p",{className:"text-gray-400 text-sm",children:"As a creator, you'll earn 70% of the course price for each sale. The platform fee is 30%."}),i.price&&o.jsxs("div",{className:"mt-2",children:[o.jsxs("p",{className:"text-white",children:["Course Price: ",o.jsxs("span",{className:"font-semibold",children:["$",i.price]})]}),o.jsxs("p",{className:"text-white",children:["Your Earnings per Sale: ",o.jsxs("span",{className:"font-semibold",children:["$",(i.price*.7).toFixed(2)]})]}),o.jsxs("p",{className:"text-white",children:["Platform Fee: ",o.jsxs("span",{className:"font-semibold",children:["$",(i.price*.3).toFixed(2)]})]})]})]})]}),o.jsxs("div",{className:"flex justify-between mt-6",children:[o.jsx("div",{children:a==="courseInfo"?o.jsx("button",{type:"button",onClick:()=>l("videos"),className:"bg-gray-600 hover:bg-gray-700 text-white px-5 py-2 rounded-md transition",children:"Next: Videos"}):a==="videos"?o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{type:"button",onClick:()=>l("courseInfo"),className:"bg-gray-600 hover:bg-gray-700 text-white px-5 py-2 rounded-md transition",children:"Back: Info"}),o.jsx("button",{type:"button",onClick:()=>l("payment"),className:"bg-gray-600 hover:bg-gray-700 text-white px-5 py-2 rounded-md transition",children:"Next: Payment"})]}):o.jsx("button",{type:"button",onClick:()=>l("videos"),className:"bg-gray-600 hover:bg-gray-700 text-white px-5 py-2 rounded-md transition",children:"Back: Videos"})}),o.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-5 py-2 rounded-md transition",disabled:c,children:s?"Update Course":"Create Course"})]})]})]})},Vf="http://localhost:5000";console.log("Using API URL:",Vf);const Cne=()=>{const[s,e]=T.useState([]),[t,n]=T.useState(!0),[i,r]=T.useState(!1),[a,l]=T.useState(null),[c,f]=T.useState(null),[u,h]=T.useState(!1),p=He();T.useEffect(()=>{g()},[]);const g=async()=>{var j,E;try{n(!0),console.log("Fetching courses from:",`${Vf}/api/creator/courses/my-courses`);const M=await Q.get(`${Vf}/api/creator/courses/my-courses`,{withCredentials:!0});console.log("API Response:",M.data),M.data.success?(e(M.data.courses),console.log("Courses loaded:",M.data.courses.length)):(console.error("API returned error:",M.data),ae.error(M.data.message||"Failed to fetch courses"))}catch(M){console.error("Error fetching courses:",M),M.response?(console.error("Response data:",M.response.data),console.error("Response status:",M.response.status)):M.request?console.error("No response received:",M.request):console.error("Error setting up request:",M.message),ae.error(((E=(j=M.response)==null?void 0:j.data)==null?void 0:E.message)||"Failed to fetch courses")}finally{n(!1)}},x=j=>{r(!0),l(j._id),f(j),h(!0),window.scrollTo(0,0)},y=async j=>{var E,M;if(window.confirm("Are you sure you want to delete this course? This action cannot be undone."))try{const N=await Q.delete(`${Vf}/api/creator/courses/${j}`,{withCredentials:!0});N.data.success?(ae.success("Course deleted successfully"),g()):ae.error(N.data.message||"Failed to delete course")}catch(N){console.error("Error deleting course:",N),ae.error(((M=(E=N.response)==null?void 0:E.data)==null?void 0:M.message)||"Failed to delete course")}},v=async j=>{var E,M;try{const N=await Q.post(`${Vf}/api/creator/courses/${j}/submit`,{},{withCredentials:!0});N.data.success?(ae.success("Course submitted for review successfully"),g()):ae.error(N.data.message||"Failed to submit course for review")}catch(N){console.error("Error submitting course for review:",N),ae.error(((M=(E=N.response)==null?void 0:E.data)==null?void 0:M.message)||"Failed to submit course for review")}},w=()=>{r(!1),l(null),f(null),h(!1),g()},L=j=>{p(`/course/${j}`)},S=j=>{switch(j){case"draft":return o.jsx("span",{className:"bg-gray-600 text-white px-2 py-1 rounded text-xs",children:"Draft"});case"pending_review":return o.jsx("span",{className:"bg-yellow-600 text-white px-2 py-1 rounded text-xs",children:"Pending Review"});case"published":return o.jsx("span",{className:"bg-green-600 text-white px-2 py-1 rounded text-xs",children:"Published"});case"rejected":return o.jsx("span",{className:"bg-red-600 text-white px-2 py-1 rounded text-xs",children:"Rejected"});default:return o.jsx("span",{className:"bg-gray-600 text-white px-2 py-1 rounded text-xs",children:j})}};return o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Course Management"}),o.jsx("button",{onClick:()=>h(!u),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded flex items-center",children:u?o.jsx(o.Fragment,{children:"Hide Form"}):o.jsxs(o.Fragment,{children:[o.jsx(Lv,{className:"mr-2"}),"Create New Course"]})})]}),u&&o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-2xl font-semibold mb-4",children:i?"Edit Course":"Create New Course"}),o.jsx(Lne,{editMode:i,editCourseId:a,initialData:c,onSuccess:w})]}),o.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[o.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Your Courses"}),t?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):s.length===0?o.jsxs("div",{className:"text-center py-8 bg-gray-800 rounded-lg",children:[o.jsx("p",{className:"text-gray-400 mb-4",children:"You haven't created any courses yet."}),o.jsx("button",{onClick:()=>h(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",children:"Create Your First Course"})]}):o.jsx("div",{className:"space-y-4",children:s.map(j=>{var E;return o.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 flex flex-col md:flex-row items-start md:items-center gap-4",children:[o.jsx("div",{className:"w-full md:w-24 h-24 rounded-md overflow-hidden flex-shrink-0",children:j.image?o.jsx("img",{src:j.image,alt:j.title,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full bg-gray-700 flex items-center justify-center",children:o.jsx("span",{className:"text-gray-500",children:"No Image"})})}),o.jsxs("div",{className:"flex-grow",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[o.jsx("h3",{className:"text-xl font-semibold",children:j.title}),S(j.status)]}),o.jsx("p",{className:"text-gray-400 text-sm mb-2 line-clamp-2",children:j.description}),o.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-400",children:[o.jsxs("span",{children:["Price: $",j.price]}),o.jsxs("span",{children:["Duration: ",j.duration]}),o.jsxs("span",{children:["Category: ",j.category]}),o.jsxs("span",{children:["Videos: ",((E=j.videos)==null?void 0:E.length)||0]})]}),j.status==="rejected"&&j.rejectionReason&&o.jsx("div",{className:"mt-2 p-2 bg-red-900/30 border border-red-800 rounded-md",children:o.jsxs("p",{className:"text-red-400 text-sm flex items-center",children:[o.jsx(mm,{className:"mr-1"}),"Rejection reason: ",j.rejectionReason]})})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 mt-4 md:mt-0",children:[j.status==="published"&&o.jsxs("button",{onClick:()=>L(j._id),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded flex items-center",children:[o.jsx(qi,{className:"mr-1"}),"View"]}),(j.status==="draft"||j.status==="rejected")&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>x(j),className:"bg-yellow-600 hover:bg-yellow-700 text-white px-3 py-1 rounded flex items-center",children:[o.jsx(Ua,{className:"mr-1"}),"Edit"]}),o.jsxs("button",{onClick:()=>v(j._id),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded flex items-center",children:[o.jsx(Cn,{className:"mr-1"}),"Submit"]}),o.jsxs("button",{onClick:()=>y(j._id),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded flex items-center",children:[o.jsx(Gs,{className:"mr-1"}),"Delete"]})]}),j.status==="pending_review"&&o.jsxs("span",{className:"text-yellow-500 flex items-center",children:[o.jsx(kN,{className:"mr-1"}),"Under Review"]})]})]},j._id)})})]})]})},B6="http://localhost:5000",Tne=()=>{const[s]=Ho(),[e,t]=T.useState("courses"),[n,i]=T.useState(!0),[r,a]=T.useState({totalCourses:0,totalStudents:0,totalEarnings:0,pendingPayout:0});return He(),T.useEffect(()=>{(async()=>{if(!s){console.log("No user data available, skipping stats fetch"),i(!1);return}try{i(!0),console.log("Fetching creator stats for user:",s.name),console.log("Fetching courses from:",`${B6}/api/creator/courses/my-courses`);const c=await Q.get(`${B6}/api/creator/courses/my-courses`,{withCredentials:!0});if(console.log("API Response for courses:",c.data),c.data.success){const f=c.data.courses,u=f.filter(p=>p.status==="published"),h=Math.floor(Math.random()*100);a({totalCourses:f.length,publishedCourses:u.length,totalStudents:h,totalEarnings:s.totalEarnings||0,pendingPayout:s.pendingPayout||0}),console.log("Stats updated successfully")}else console.error("API returned error:",c.data),ae.error(c.data.message||"Failed to load creator stats")}catch(c){console.error("Error fetching creator stats:",c),c.response?(console.error("Response data:",c.response.data),console.error("Response status:",c.response.status)):c.request?console.error("No response received:",c.request):console.error("Error setting up request:",c.message),ae.error("Failed to load creator stats")}finally{i(!1)}})()},[s]),T.useEffect(()=>{console.log("User in CreatorCourseDashboard:",s)},[s]),n?o.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):s?o.jsxs("div",{children:[o.jsx("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-8",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Course Dashboard"}),o.jsx("p",{className:"text-gray-400",children:"Manage your courses and track your earnings"})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[o.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 flex items-center",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-900 flex items-center justify-center mr-4",children:o.jsx(gu,{className:"text-blue-400 text-xl"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-400 text-sm",children:"Total Courses"}),o.jsx("p",{className:"text-2xl font-bold",children:r.totalCourses})]})]}),o.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 flex items-center",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-green-900 flex items-center justify-center mr-4",children:o.jsx(kn,{className:"text-green-400 text-xl"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-400 text-sm",children:"Published Courses"}),o.jsx("p",{className:"text-2xl font-bold",children:r.publishedCourses||0})]})]}),o.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 flex items-center",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-900 flex items-center justify-center mr-4",children:o.jsx(Cv,{className:"text-purple-400 text-xl"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-400 text-sm",children:"Total Students"}),o.jsx("p",{className:"text-2xl font-bold",children:r.totalStudents})]})]}),o.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 flex items-center",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-yellow-900 flex items-center justify-center mr-4",children:o.jsx($s,{className:"text-yellow-400 text-xl"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-400 text-sm",children:"Total Earnings"}),o.jsxs("p",{className:"text-2xl font-bold",children:["",r.totalEarnings.toFixed(2)]}),o.jsxs("p",{className:"text-xs text-green-400",children:["",r.pendingPayout.toFixed(2)," pending"]})]})]})]}),o.jsx("div",{className:"border-b border-gray-700 mb-6",children:o.jsxs("nav",{className:"flex space-x-8",children:[o.jsx("button",{onClick:()=>t("courses"),className:`py-4 px-1 border-b-2 font-medium text-sm ${e==="courses"?"border-blue-500 text-blue-500":"border-transparent text-gray-400 hover:text-gray-300 hover:border-gray-300"}`,children:"Courses"}),o.jsx("button",{onClick:()=>t("earnings"),className:`py-4 px-1 border-b-2 font-medium text-sm ${e==="earnings"?"border-blue-500 text-blue-500":"border-transparent text-gray-400 hover:text-gray-300 hover:border-gray-300"}`,children:"Earnings"}),o.jsx("button",{onClick:()=>t("analytics"),className:`py-4 px-1 border-b-2 font-medium text-sm ${e==="analytics"?"border-blue-500 text-blue-500":"border-transparent text-gray-400 hover:text-gray-300 hover:border-gray-300"}`,children:"Analytics"})]})}),e==="courses"&&o.jsx(Cne,{}),e==="earnings"&&o.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[o.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Earnings"}),o.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 mb-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Available for withdrawal"}),o.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md",children:"Withdraw Funds"})]}),o.jsxs("div",{className:"flex items-baseline",children:[o.jsxs("span",{className:"text-3xl font-bold",children:["",r.pendingPayout.toFixed(2)]}),o.jsx("span",{className:"text-gray-400 ml-2",children:"available balance"})]})]}),o.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[o.jsx("h3",{className:"text-lg font-medium mb-4",children:"Earnings History"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Course"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Amount"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-700",children:r.totalEarnings>0?o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm font-medium",children:"Sample Course"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-400",children:new Date().toLocaleDateString()})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"text-sm",children:["",(r.totalEarnings*.7).toFixed(2)]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-900 text-green-300",children:"Paid"})})]}):o.jsx("tr",{children:o.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-gray-400",children:"No earnings history yet"})})})]})})]})]}),e==="analytics"&&o.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[o.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Analytics"}),o.jsxs("div",{className:"text-center py-12 bg-gray-800 rounded-lg",children:[o.jsx(lF,{className:"mx-auto text-gray-600 text-5xl mb-4"}),o.jsx("p",{className:"text-gray-400 text-lg",children:"Analytics coming soon"}),o.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"We're working on providing detailed analytics for your courses."})]})]})]}):o.jsxs("div",{className:"flex items-center justify-center h-[calc(100vh-200px)] flex-col",children:[o.jsx("div",{className:"text-red-500 text-xl mb-4",children:"Error: User information not available"}),o.jsx("p",{className:"text-gray-400",children:"Please try refreshing the page or logging in again."})]})},dy="http://localhost:5000",jne=()=>{var y,v,w,L,S,j;const[s,e]=T.useState([]),[t,n]=T.useState(!0),[i,r]=T.useState(null),[a,l]=T.useState(""),[c,f]=T.useState(!1);T.useEffect(()=>{u()},[]);const u=async()=>{var E,M;try{n(!0);const N=await Q.get(`${dy}/api/admin/creator-courses/pending`,{withCredentials:!0});N.data.success?e(N.data.courses):ae.error("Failed to fetch pending courses")}catch(N){console.error("Error fetching pending courses:",N),ae.error(((M=(E=N.response)==null?void 0:E.data)==null?void 0:M.message)||"Failed to fetch pending courses")}finally{n(!1)}},h=E=>{r(E),f(!1)},p=async E=>{var M,N;try{const I=await Q.post(`${dy}/api/admin/creator-courses/${E}/approve`,{},{withCredentials:!0});I.data.success?(ae.success("Course approved successfully"),u(),r(null)):ae.error(I.data.message||"Failed to approve course")}catch(I){console.error("Error approving course:",I),ae.error(((N=(M=I.response)==null?void 0:M.data)==null?void 0:N.message)||"Failed to approve course")}},g=async E=>{var M,N;if(!a.trim()){ae.error("Please provide a reason for rejection");return}try{const I=await Q.post(`${dy}/api/admin/creator-courses/${E}/reject`,{rejectionReason:a},{withCredentials:!0});I.data.success?(ae.success("Course rejected successfully"),u(),r(null),l(""),f(!1)):ae.error(I.data.message||"Failed to reject course")}catch(I){console.error("Error rejecting course:",I),ae.error(((N=(M=I.response)==null?void 0:M.data)==null?void 0:N.message)||"Failed to reject course")}},x=E=>new Date(E).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Course Review Dashboard"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1 bg-gray-900 rounded-lg p-4",children:[o.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[o.jsx("span",{className:"bg-yellow-600 text-white rounded-full w-6 h-6 inline-flex items-center justify-center mr-2",children:s.length}),"Pending Courses"]}),t?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})}):s.length===0?o.jsx("div",{className:"text-center py-8 bg-gray-800 rounded-lg",children:o.jsx("p",{className:"text-gray-400",children:"No courses pending review."})}):o.jsx("div",{className:"space-y-3 max-h-[calc(100vh-200px)] overflow-y-auto pr-2",children:s.map(E=>{var M;return o.jsx("div",{className:`bg-gray-800 rounded-lg p-3 cursor-pointer transition hover:bg-gray-700 ${(i==null?void 0:i._id)===E._id?"border-2 border-blue-500":""}`,onClick:()=>h(E),children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-16 h-16 rounded-md overflow-hidden flex-shrink-0",children:E.image?o.jsx("img",{src:E.image,alt:E.title,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full bg-gray-700 flex items-center justify-center",children:o.jsx("span",{className:"text-gray-500",children:"No Image"})})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium line-clamp-1",children:E.title}),o.jsxs("div",{className:"flex items-center text-sm text-gray-400",children:[o.jsx(No,{className:"mr-1"}),o.jsx("span",{className:"line-clamp-1",children:((M=E.creatorId)==null?void 0:M.name)||"Unknown Creator"})]}),o.jsxs("div",{className:"flex items-center text-sm text-gray-400",children:[o.jsx(dm,{className:"mr-1"}),o.jsx("span",{children:x(E.createdAt)})]})]})]})},E._id)})})]}),o.jsx("div",{className:"lg:col-span-2",children:i?o.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("h2",{className:"text-2xl font-semibold",children:i.title}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>p(i._id),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded flex items-center",children:[o.jsx(Fy,{className:"mr-2"}),"Approve"]}),o.jsxs("button",{onClick:()=>f(!0),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded flex items-center",children:[o.jsx(Na,{className:"mr-2"}),"Reject"]})]})]}),c?o.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg mb-6",children:[o.jsx("h3",{className:"text-lg font-medium mb-2",children:"Rejection Reason"}),o.jsx("p",{className:"text-gray-400 text-sm mb-3",children:"Please provide a reason for rejecting this course. This will be shown to the creator."}),o.jsx("textarea",{value:a,onChange:E=>l(E.target.value),className:"w-full bg-gray-700 text-white border border-gray-600 rounded-md px-4 py-2 focus:outline-none focus:border-blue-500 mb-3",placeholder:"Reason for rejection...",rows:"4"}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{onClick:()=>f(!1),className:"bg-gray-600 hover:bg-gray-700 text-white px-3 py-1 rounded",children:"Cancel"}),o.jsx("button",{onClick:()=>g(i._id),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded",children:"Confirm Rejection"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{children:[o.jsx("div",{className:"aspect-video rounded-lg overflow-hidden mb-4",children:i.image?o.jsx("img",{src:i.image,alt:i.title,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full bg-gray-800 flex items-center justify-center",children:o.jsx("span",{className:"text-gray-500",children:"No Image"})})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-gray-800 p-3 rounded-lg flex items-center",children:[o.jsx($s,{className:"text-green-500 mr-2 text-xl"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-400",children:"Price"}),o.jsxs("p",{className:"font-medium",children:["$",i.price]})]})]}),o.jsxs("div",{className:"bg-gray-800 p-3 rounded-lg flex items-center",children:[o.jsx(kn,{className:"text-blue-500 mr-2 text-xl"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-400",children:"Videos"}),o.jsx("p",{className:"font-medium",children:((y=i.videos)==null?void 0:y.length)||0})]})]}),o.jsxs("div",{className:"bg-gray-800 p-3 rounded-lg flex items-center",children:[o.jsx(dm,{className:"text-yellow-500 mr-2 text-xl"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-400",children:"Duration"}),o.jsx("p",{className:"font-medium",children:i.duration})]})]}),o.jsxs("div",{className:"bg-gray-800 p-3 rounded-lg flex items-center",children:[o.jsx(No,{className:"text-purple-500 mr-2 text-xl"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-400",children:"Instructor"}),o.jsx("p",{className:"font-medium",children:i.instructor})]})]})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg mb-4",children:[o.jsx("h3",{className:"text-lg font-medium mb-2",children:"Creator Information"}),o.jsxs("div",{className:"flex items-center mb-3",children:[(v=i.creatorId)!=null&&v.profileImageUrl?o.jsx("img",{src:i.creatorId.profileImageUrl,alt:i.creatorId.name,className:"w-10 h-10 rounded-full mr-3"}):o.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center mr-3",children:o.jsx("span",{className:"text-white font-bold",children:((L=(w=i.creatorId)==null?void 0:w.name)==null?void 0:L.charAt(0))||"?"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:((S=i.creatorId)==null?void 0:S.name)||"Unknown Creator"}),o.jsx("p",{className:"text-sm text-gray-400",children:((j=i.creatorId)==null?void 0:j.email)||"No email"})]})]})]}),o.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[o.jsx("h3",{className:"text-lg font-medium mb-2",children:"Description"}),o.jsx("p",{className:"text-gray-300 whitespace-pre-line",children:i.description})]})]})]}),o.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[o.jsx("h3",{className:"text-lg font-medium mb-4",children:"Course Videos"}),i.videos&&i.videos.length>0?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.videos.map((E,M)=>o.jsxs("div",{className:"bg-gray-700 rounded-lg overflow-hidden",children:[o.jsx("div",{className:"aspect-video bg-gray-900",children:E.thumbnail?o.jsx("img",{src:E.thumbnail,alt:E.title,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center",children:o.jsx(kn,{className:"text-gray-600 text-4xl"})})}),o.jsxs("div",{className:"p-3",children:[o.jsx("h4",{className:"font-medium mb-1 line-clamp-1",children:E.title}),o.jsx("p",{className:"text-sm text-gray-400 line-clamp-2",children:E.description})]})]},M))}):o.jsx("p",{className:"text-gray-400 text-center py-4",children:"No videos available"})]})]})]}):o.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 flex flex-col items-center justify-center h-full min-h-[400px]",children:[o.jsx(qi,{className:"text-gray-600 text-5xl mb-4"}),o.jsx("p",{className:"text-gray-400 text-lg",children:"Select a course to review"}),o.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Click on a course from the list to view details and approve or reject it."})]})})]})]})},Ene=({user:s})=>o.jsxs("div",{children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Course Review Dashboard"}),o.jsx("p",{className:"text-gray-400",children:"Review and approve creator courses"})]}),o.jsx(jne,{})]}),y0=43200,U6=1440,$6=Symbol.for("constructDateFrom");function pw(s,e){return typeof s=="function"?s(e):s&&typeof s=="object"&&$6 in s?s[$6](e):s instanceof Date?new s.constructor(e):new Date(e)}function za(s,e){return pw(s,s)}let Nne={};function Mne(){return Nne}function V6(s){const e=za(s),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+s-+t}function gw(s,...e){const t=pw.bind(null,s||e.find(n=>typeof n=="object"));return e.map(t)}function sm(s,e){const t=+za(s)-+za(e);return t<0?-1:t>0?1:t}function kne(s){return pw(s,Date.now())}function Ine(s,e,t){const[n,i]=gw(t==null?void 0:t.in,s,e),r=n.getFullYear()-i.getFullYear(),a=n.getMonth()-i.getMonth();return r*12+a}function _ne(s){return e=>{const n=(s?Math[s]:Math.trunc)(e);return n===0?0:n}}function Ane(s,e){return+za(s)-+za(e)}function Dne(s,e){const t=za(s);return t.setHours(23,59,59,999),t}function Pne(s,e){const t=za(s),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Rne(s,e){const t=za(s);return+Dne(t)==+Pne(t)}function One(s,e,t){const[n,i,r]=gw(t==null?void 0:t.in,s,s,e),a=sm(i,r),l=Math.abs(Ine(i,r));if(l<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-a*l);let c=sm(i,r)===-a;Rne(n)&&l===1&&sm(n,r)===1&&(c=!1);const f=a*(l-+c);return f===0?0:f}function Fne(s,e,t){const n=Ane(s,e)/1e3;return _ne(t==null?void 0:t.roundingMethod)(n)}const zne={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Bne=(s,e,t)=>{let n;const i=zne[s];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function hy(s){return(e={})=>{const t=e.width?String(e.width):s.defaultWidth;return s.formats[t]||s.formats[s.defaultWidth]}}const Une={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$ne={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Vne={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Gne={date:hy({formats:Une,defaultWidth:"full"}),time:hy({formats:$ne,defaultWidth:"full"}),dateTime:hy({formats:Vne,defaultWidth:"full"})},Hne={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Yne=(s,e,t,n)=>Hne[s];function kf(s){return(e,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let i;if(n==="formatting"&&s.formattingValues){const a=s.defaultFormattingWidth||s.defaultWidth,l=t!=null&&t.width?String(t.width):a;i=s.formattingValues[l]||s.formattingValues[a]}else{const a=s.defaultWidth,l=t!=null&&t.width?String(t.width):s.defaultWidth;i=s.values[l]||s.values[a]}const r=s.argumentCallback?s.argumentCallback(e):e;return i[r]}}const Wne={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Qne={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Kne={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Jne={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},qne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Zne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Xne=(s,e)=>{const t=Number(s),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},eie={ordinalNumber:Xne,era:kf({values:Wne,defaultWidth:"wide"}),quarter:kf({values:Qne,defaultWidth:"wide",argumentCallback:s=>s-1}),month:kf({values:Kne,defaultWidth:"wide"}),day:kf({values:Jne,defaultWidth:"wide"}),dayPeriod:kf({values:qne,defaultWidth:"wide",formattingValues:Zne,defaultFormattingWidth:"wide"})};function If(s){return(e,t={})=>{const n=t.width,i=n&&s.matchPatterns[n]||s.matchPatterns[s.defaultMatchWidth],r=e.match(i);if(!r)return null;const a=r[0],l=n&&s.parsePatterns[n]||s.parsePatterns[s.defaultParseWidth],c=Array.isArray(l)?sie(l,h=>h.test(a)):tie(l,h=>h.test(a));let f;f=s.valueCallback?s.valueCallback(c):c,f=t.valueCallback?t.valueCallback(f):f;const u=e.slice(a.length);return{value:f,rest:u}}}function tie(s,e){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t)&&e(s[t]))return t}function sie(s,e){for(let t=0;t<s.length;t++)if(e(s[t]))return t}function nie(s){return(e,t={})=>{const n=e.match(s.matchPattern);if(!n)return null;const i=n[0],r=e.match(s.parsePattern);if(!r)return null;let a=s.valueCallback?s.valueCallback(r[0]):r[0];a=t.valueCallback?t.valueCallback(a):a;const l=e.slice(i.length);return{value:a,rest:l}}}const iie=/^(\d+)(th|st|nd|rd)?/i,rie=/\d+/i,aie={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},oie={any:[/^b/i,/^(a|c)/i]},lie={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cie={any:[/1/i,/2/i,/3/i,/4/i]},fie={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uie={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},die={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hie={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mie={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pie={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gie={ordinalNumber:nie({matchPattern:iie,parsePattern:rie,valueCallback:s=>parseInt(s,10)}),era:If({matchPatterns:aie,defaultMatchWidth:"wide",parsePatterns:oie,defaultParseWidth:"any"}),quarter:If({matchPatterns:lie,defaultMatchWidth:"wide",parsePatterns:cie,defaultParseWidth:"any",valueCallback:s=>s+1}),month:If({matchPatterns:fie,defaultMatchWidth:"wide",parsePatterns:uie,defaultParseWidth:"any"}),day:If({matchPatterns:die,defaultMatchWidth:"wide",parsePatterns:hie,defaultParseWidth:"any"}),dayPeriod:If({matchPatterns:mie,defaultMatchWidth:"any",parsePatterns:pie,defaultParseWidth:"any"})},xie={code:"en-US",formatDistance:Bne,formatLong:Gne,formatRelative:Yne,localize:eie,match:gie,options:{weekStartsOn:0,firstWeekContainsDate:1}};function yie(s,e,t){const n=Mne(),i=(t==null?void 0:t.locale)??n.locale??xie,r=2520,a=sm(s,e);if(isNaN(a))throw new RangeError("Invalid time value");const l=Object.assign({},t,{addSuffix:t==null?void 0:t.addSuffix,comparison:a}),[c,f]=gw(t==null?void 0:t.in,...a>0?[e,s]:[s,e]),u=Fne(f,c),h=(V6(f)-V6(c))/1e3,p=Math.round((u-h)/60);let g;if(p<2)return t!=null&&t.includeSeconds?u<5?i.formatDistance("lessThanXSeconds",5,l):u<10?i.formatDistance("lessThanXSeconds",10,l):u<20?i.formatDistance("lessThanXSeconds",20,l):u<40?i.formatDistance("halfAMinute",0,l):u<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):p===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",p,l);if(p<45)return i.formatDistance("xMinutes",p,l);if(p<90)return i.formatDistance("aboutXHours",1,l);if(p<U6){const x=Math.round(p/60);return i.formatDistance("aboutXHours",x,l)}else{if(p<r)return i.formatDistance("xDays",1,l);if(p<y0){const x=Math.round(p/U6);return i.formatDistance("xDays",x,l)}else if(p<y0*2)return g=Math.round(p/y0),i.formatDistance("aboutXMonths",g,l)}if(g=One(f,c),g<12){const x=Math.round(p/y0);return i.formatDistance("xMonths",x,l)}else{const x=g%12,y=Math.trunc(g/12);return x<3?i.formatDistance("aboutXYears",y,l):x<9?i.formatDistance("overXYears",y,l):i.formatDistance("almostXYears",y+1,l)}}function JA(s,e){return yie(s,kne(s),e)}const bie="http://localhost:5000",vie=({conversations:s,selectedId:e,onSelect:t})=>s.length===0?o.jsx("div",{className:"p-4 text-center text-gray-500",children:"No conversations yet. Start a new chat!"}):o.jsx("div",{className:"divide-y divide-gray-800",children:s.map(n=>o.jsx("div",{onClick:()=>t(n),className:`p-4 cursor-pointer hover:bg-gray-900 transition-colors ${e===n._id?"bg-gray-800":""}`,children:o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-700 mr-3 overflow-hidden flex-shrink-0",children:n.image?o.jsx("img",{src:n.image.startsWith("http")?n.image:`${bie}${n.image}`,alt:n.title,className:"w-full h-full object-cover",onError:i=>{i.target.onerror=null,i.target.src="/default-avatar.png"}}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-lg",children:n.title.charAt(0).toUpperCase()})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex justify-between items-baseline",children:[o.jsx("h3",{className:"font-medium truncate",children:n.title}),o.jsx("span",{className:"text-xs text-gray-500 ml-1 flex-shrink-0",children:n.updatedAt?JA(new Date(n.updatedAt),{addSuffix:!0}):""})]}),o.jsx("p",{className:"text-sm text-gray-400 truncate mt-1",children:n.lastMessage?n.lastMessage.isDeleted?"This message was deleted":n.lastMessage.content:"No messages yet"}),n.unreadCount>0&&o.jsx("div",{className:"mt-1 flex justify-end",children:o.jsx("span",{className:"bg-blue-600 text-white text-xs rounded-full px-2 py-1 min-w-[20px] text-center",children:n.unreadCount})})]})]})},n._id))});function Xb(s){return[].concat(s)}function xw(s){return s.startsWith(":")}function qA(s){return Op(s)&&(s==="*"||s.length>1&&":>~.+*".includes(s.slice(0,1))||tD(s))}function ZA(s,e){return(Op(e)||typeof e=="number")&&!eD(s)&&!xw(s)&&!XA(s)}function XA(s){return s.startsWith("@media")}function wie(s){return s==="."}function eD(s){return s==="--"}function Op(s){return s+""===s}function tD(s){return Op(s)&&(s.startsWith("&")||xw(s))}function Xm(s,e=""){return s.filter(Boolean).join(e)}function sD(s,e){let t=0;if(e.length===0)return t.toString();for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);t=(t<<5)-t+i,t=t&t}return`${s??"cl"}_${t.toString(36)}`}function Sie(s,e){return s==="content"?`"${e}"`:e}function Lie(s){return s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function G6(s,e){return`${s}:${e}`}function Cie(s){return s?`.${s}`:""}function Tie(s,e){return s?`${s}
${e}`:e}var nD=class iD{constructor(e,t,n,i){this.sheet=e,this.property=t,this.value=n,this.selector=i,this.property=t,this.value=n,this.joined=G6(t,n);const r=this.selector.preconditions.concat(this.selector.postconditions);this.hash=this.selector.hasConditions?this.selector.scopeClassName:sD(this.sheet.name,this.joined),this.key=Xm([this.joined,r,this.hash])}toString(){let e=ev(this.selector.preconditions,{right:this.hash});return e=ev(this.selector.postconditions,{left:e}),`${e} {${iD.genRule(this.property,this.value)}}`}static genRule(e,t){const n=Lie(e);return G6(n,Sie(e,t))+";"}};function ev(s,{left:e="",right:t=""}={}){const n=s.reduce((i,r)=>xw(r)?i+r:tD(r)?i+r.slice(1):Xm([i,r]," "),e);return Xm([n,Cie(t)]," ")}var jie=class nm{constructor(e,t=null,{preconditions:n,postconditions:i}={}){this.sheet=e,this.preconditions=[],this.scopeClassName=null,this.scopeName=null,this.postconditions=[],this.preconditions=n?Xb(n):[],this.postconditions=i?Xb(i):[],this.setScope(t)}setScope(e){return e?(this.scopeClassName||(this.scopeName=e,this.scopeClassName=sD(this.sheet.name,e+this.sheet.count)),this):this}get hasConditions(){return this.preconditions.length>0||this.postconditions.length>0}addScope(e){return new nm(this.sheet,e,{preconditions:this.preconditions,postconditions:this.postconditions})}addPrecondition(e){return new nm(this.sheet,this.scopeClassName,{postconditions:this.postconditions,preconditions:this.preconditions.concat(e)})}addPostcondition(e){return new nm(this.sheet,this.scopeClassName,{preconditions:this.preconditions,postconditions:this.postconditions.concat(e)})}createRule(e,t){return new nD(this.sheet,e,t,this)}},Eie=class{constructor(s,e){this.name=s,this.rootNode=e,this.storedStyles={},this.storedClasses={},this.style="",this.count=0,this.id=`flairup-${s}`,this.styleTag=this.createStyleTag()}getStyle(){return this.style}append(s){this.style=Tie(this.style,s)}apply(){this.count++,this.styleTag&&(this.styleTag.innerHTML=this.style)}isApplied(){return!!this.styleTag}createStyleTag(){if(typeof document>"u"||this.isApplied()||this.rootNode===null)return this.styleTag;const s=document.createElement("style");return s.type="text/css",s.id=this.id,(this.rootNode??document.head).appendChild(s),s}addRule(s){const e=this.storedClasses[s.key];return Op(e)?e:(this.storedClasses[s.key]=s.hash,this.storedStyles[s.hash]=[s.property,s.value],this.append(s.toString()),s.hash)}};function yw(s,e){for(const t in s)e(t.trim(),s[t])}function et(...s){const e=s.reduce((t,n)=>(n instanceof Set?t.push(...n):typeof n=="string"?t.push(n):Array.isArray(n)?t.push(et(...n)):typeof n=="object"&&Object.entries(n).forEach(([i,r])=>{r&&t.push(i)}),t),[]);return Xm(e," ").trim()}function Nie(s,e){const t=new Eie(s,e);return{create:n,getStyle:t.getStyle.bind(t),isApplied:t.isApplied.bind(t)};function n(i){const r={};return rD(t,i,new jie(t)).forEach(([l,c,f])=>{Fp(t,c,f).forEach(u=>{a(l,u)})}),t.apply(),r;function a(l,c){r[l]=r[l]??new Set,r[l].add(c)}}}function rD(s,e,t){const n=[];return yw(e,(i,r)=>{if(qA(i))return rD(s,r,t.addPrecondition(i)).forEach(a=>n.push(a));n.push([i,e[i],t.addScope(i)])}),n}function Fp(s,e,t){const n=new Set;return yw(e,(i,r)=>{let a=[];if(qA(i))a=Fp(s,r,t.addPostcondition(i));else if(wie(i))a=Xb(r);else if(XA(i))a=kie(s,r,i,t);else if(eD(i))a=Mie(s,r,t);else if(ZA(i,r)){const l=t.createRule(i,r);s.addRule(l),n.add(l.hash)}return aD(a,n)}),n}function aD(s,e){return s.forEach(t=>e.add(t)),e}function Mie(s,e,t){const n=new Set,i=[];if(yw(e,(r,a)=>{if(ZA(r,a)){i.push(nD.genRule(r,a));return}const l=Fp(s,a??{},t);aD(l,n)}),!t.scopeClassName)return n;if(i.length){const r=i.join(" ");s.append(`${ev(t.preconditions,{right:t.scopeClassName})} {${r}}`)}return n.add(t.scopeClassName),n}function kie(s,e,t,n){s.append(t+" {");const i=Fp(s,e,n);return s.append("}"),i}function Dt(){return Dt=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},Dt.apply(this,arguments)}function Iie(s,e){s.prototype=Object.create(e.prototype),s.prototype.constructor=s,tv(s,e)}function tv(s,e){return tv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tv(s,e)}function oD(s,e){if(s==null)return{};var t={},n=Object.keys(s),i,r;for(r=0;r<n.length;r++)i=n[r],!(e.indexOf(i)>=0)&&(t[i]=s[i]);return t}function _ie(s,e){if(s){if(typeof s=="string")return H6(s,e);var t=Object.prototype.toString.call(s).slice(8,-1);if(t==="Object"&&s.constructor&&(t=s.constructor.name),t==="Map"||t==="Set")return Array.from(s);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return H6(s,e)}}function H6(s,e){(e==null||e>s.length)&&(e=s.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=s[t];return n}function Aie(s,e){var t=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(t)return(t=t.call(s)).next.bind(t);if(Array.isArray(s)||(t=_ie(s))||e){t&&(s=t);var n=0;return function(){return n>=s.length?{done:!0}:{done:!1,value:s[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Je;(function(s){s.hiddenOnSearch="epr-hidden-on-search",s.searchActive="epr-search-active",s.hidden="epr-hidden",s.visible="epr-visible",s.active="epr-active",s.emoji="epr-emoji",s.category="epr-emoji-category",s.label="epr-emoji-category-label",s.categoryContent="epr-emoji-category-content",s.emojiHasVariations="epr-emoji-has-variations",s.scrollBody="epr-body",s.emojiList="epr-emoji-list",s.external="__EmojiPicker__",s.emojiPicker="EmojiPickerReact",s.open="epr-open",s.vertical="epr-vertical",s.horizontal="epr-horizontal",s.variationPicker="epr-emoji-variation-picker",s.darkTheme="epr-dark-theme",s.autoTheme="epr-auto-theme"})(Je||(Je={}));function Ps(){for(var s=arguments.length,e=new Array(s),t=0;t<s;t++)e[t]=arguments[t];return e.map(function(n){return"."+n}).join("")}var Tt=Nie("epr",null),im={display:"none",opacity:"0",pointerEvents:"none",visibility:"hidden",overflow:"hidden"},bw=Tt.create({hidden:Dt({".":Je.hidden},im)}),Die=T.memo(function(){return T.createElement("style",{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:Tt.getStyle()}})}),Ko=Tt.create({".epr-main":{":has(input:not(:placeholder-shown))":{categoryBtn:{":hover":{opacity:"1",backgroundPositionY:"var(--epr-category-navigation-button-size)"}},hiddenOnSearch:Dt({".":Je.hiddenOnSearch},im)},":has(input(:placeholder-shown))":{visibleOnSearchOnly:im}},hiddenOnReactions:{transition:"all 0.5s ease-in-out"},".epr-reactions":{hiddenOnReactions:{height:"0px",width:"0px",opacity:"0",pointerEvents:"none",overflow:"hidden"}},".EmojiPickerReact:not(.epr-search-active)":{categoryBtn:{":hover":{opacity:"1",backgroundPositionY:"var(--epr-category-navigation-button-size)"},"&.epr-active":{opacity:"1",backgroundPositionY:"var(--epr-category-navigation-button-size)"}},visibleOnSearchOnly:Dt({".":"epr-visible-on-search-only"},im)}});function Ba(s,e){var t,n;return{".epr-dark-theme":(t={},t[s]=e,t),".epr-auto-theme":(n={},n[s]={"@media (prefers-color-scheme: dark)":e},n)}}function lD(s,e){var t,n,i=(t=s.customEmojis)!=null?t:[],r=(n=e.customEmojis)!=null?n:[];return s.open===e.open&&s.emojiVersion===e.emojiVersion&&s.reactionsDefaultOpen===e.reactionsDefaultOpen&&s.searchPlaceHolder===e.searchPlaceHolder&&s.searchPlaceholder===e.searchPlaceholder&&s.defaultSkinTone===e.defaultSkinTone&&s.skinTonesDisabled===e.skinTonesDisabled&&s.autoFocusSearch===e.autoFocusSearch&&s.emojiStyle===e.emojiStyle&&s.theme===e.theme&&s.suggestedEmojisMode===e.suggestedEmojisMode&&s.lazyLoadEmojis===e.lazyLoadEmojis&&s.className===e.className&&s.height===e.height&&s.width===e.width&&s.style===e.style&&s.searchDisabled===e.searchDisabled&&s.skinTonePickerLocation===e.skinTonePickerLocation&&i.length===r.length}var Pie=["1f44d","2764-fe0f","1f603","1f622","1f64f","1f44e","1f621"],Qu;(function(s){s.RECENT="recent",s.FREQUENT="frequent"})(Qu||(Qu={}));var jn;(function(s){s.NATIVE="native",s.APPLE="apple",s.TWITTER="twitter",s.GOOGLE="google",s.FACEBOOK="facebook"})(jn||(jn={}));var Ku;(function(s){s.DARK="dark",s.LIGHT="light",s.AUTO="auto"})(Ku||(Ku={}));var vi;(function(s){s.NEUTRAL="neutral",s.LIGHT="1f3fb",s.MEDIUM_LIGHT="1f3fc",s.MEDIUM="1f3fd",s.MEDIUM_DARK="1f3fe",s.DARK="1f3ff"})(vi||(vi={}));var Ke;(function(s){s.SUGGESTED="suggested",s.CUSTOM="custom",s.SMILEYS_PEOPLE="smileys_people",s.ANIMALS_NATURE="animals_nature",s.FOOD_DRINK="food_drink",s.TRAVEL_PLACES="travel_places",s.ACTIVITIES="activities",s.OBJECTS="objects",s.SYMBOLS="symbols",s.FLAGS="flags"})(Ke||(Ke={}));var mc;(function(s){s.SEARCH="SEARCH",s.PREVIEW="PREVIEW"})(mc||(mc={}));var Hn,Rie=[Ke.SUGGESTED,Ke.CUSTOM,Ke.SMILEYS_PEOPLE,Ke.ANIMALS_NATURE,Ke.FOOD_DRINK,Ke.TRAVEL_PLACES,Ke.ACTIVITIES,Ke.OBJECTS,Ke.SYMBOLS,Ke.FLAGS],Oie={name:"Recently Used",category:Ke.SUGGESTED},cD=(Hn={},Hn[Ke.SUGGESTED]={category:Ke.SUGGESTED,name:"Frequently Used"},Hn[Ke.CUSTOM]={category:Ke.CUSTOM,name:"Custom Emojis"},Hn[Ke.SMILEYS_PEOPLE]={category:Ke.SMILEYS_PEOPLE,name:"Smileys & People"},Hn[Ke.ANIMALS_NATURE]={category:Ke.ANIMALS_NATURE,name:"Animals & Nature"},Hn[Ke.FOOD_DRINK]={category:Ke.FOOD_DRINK,name:"Food & Drink"},Hn[Ke.TRAVEL_PLACES]={category:Ke.TRAVEL_PLACES,name:"Travel & Places"},Hn[Ke.ACTIVITIES]={category:Ke.ACTIVITIES,name:"Activities"},Hn[Ke.OBJECTS]={category:Ke.OBJECTS,name:"Objects"},Hn[Ke.SYMBOLS]={category:Ke.SYMBOLS,name:"Symbols"},Hn[Ke.FLAGS]={category:Ke.FLAGS,name:"Flags"},Hn);function fD(s){return Rie.map(function(e){return Dt({},cD[e],s&&s[e]&&s[e])})}function vw(s){return s.category}function uD(s){return s.name}function Fie(s,e){var t;s===void 0&&(s=[]),e===void 0&&(e={});var n={};e.suggestionMode===Qu.RECENT&&(n[Ke.SUGGESTED]=Oie);var i=fD(n);return(t=s)!=null&&t.length?s.map(function(r){return typeof r=="string"?Y6(r,n[r]):Dt({},Y6(r.category,n[r.category]),r)}):i}function Y6(s,e){return e===void 0&&(e={}),Object.assign(cD[s],e)}var zie="https://cdn.jsdelivr.net/npm/emoji-datasource-apple/img/apple/64/",Bie="https://cdn.jsdelivr.net/npm/emoji-datasource-facebook/img/facebook/64/",Uie="https://cdn.jsdelivr.net/npm/emoji-datasource-twitter/img/twitter/64/",$ie="https://cdn.jsdelivr.net/npm/emoji-datasource-google/img/google/64/";function Vie(s){switch(s){case jn.TWITTER:return Uie;case jn.GOOGLE:return $ie;case jn.FACEBOOK:return Bie;case jn.APPLE:default:return zie}}var Gie=[],Hie=[{n:["grinning","grinning face"],u:"1f600",a:"1.0"},{n:["smiley","smiling face with open mouth"],u:"1f603",a:"0.6"},{n:["smile","smiling face with open mouth and smiling eyes"],u:"1f604",a:"0.6"},{n:["grin","grinning face with smiling eyes"],u:"1f601",a:"0.6"},{n:["laughing","satisfied","smiling face with open mouth and tightly-closed eyes"],u:"1f606",a:"0.6"},{n:["sweat smile","smiling face with open mouth and cold sweat"],u:"1f605",a:"0.6"},{n:["rolling on the floor laughing"],u:"1f923",a:"3.0"},{n:["joy","face with tears of joy"],u:"1f602",a:"0.6"},{n:["slightly smiling face"],u:"1f642",a:"1.0"},{n:["upside-down face","upside down face"],u:"1f643",a:"1.0"},{n:["melting face"],u:"1fae0",a:"14.0"},{n:["wink","winking face"],u:"1f609",a:"0.6"},{n:["blush","smiling face with smiling eyes"],u:"1f60a",a:"0.6"},{n:["innocent","smiling face with halo"],u:"1f607",a:"1.0"},{n:["smiling face with 3 hearts","smiling face with smiling eyes and three hearts"],u:"1f970",a:"11.0"},{n:["heart eyes","smiling face with heart-shaped eyes"],u:"1f60d",a:"0.6"},{n:["star-struck","grinning face with star eyes"],u:"1f929",a:"5.0"},{n:["kissing heart","face throwing a kiss"],u:"1f618",a:"0.6"},{n:["kissing","kissing face"],u:"1f617",a:"1.0"},{n:["relaxed","white smiling face"],u:"263a-fe0f",a:"0.6"},{n:["kissing closed eyes","kissing face with closed eyes"],u:"1f61a",a:"0.6"},{n:["kissing smiling eyes","kissing face with smiling eyes"],u:"1f619",a:"1.0"},{n:["smiling face with tear"],u:"1f972",a:"13.0"},{n:["yum","face savouring delicious food"],u:"1f60b",a:"0.6"},{n:["stuck out tongue","face with stuck-out tongue"],u:"1f61b",a:"1.0"},{n:["stuck out tongue winking eye","face with stuck-out tongue and winking eye"],u:"1f61c",a:"0.6"},{n:["zany face","grinning face with one large and one small eye"],u:"1f92a",a:"5.0"},{n:["stuck out tongue closed eyes","face with stuck-out tongue and tightly-closed eyes"],u:"1f61d",a:"0.6"},{n:["money-mouth face","money mouth face"],u:"1f911",a:"1.0"},{n:["hugging face"],u:"1f917",a:"1.0"},{n:["face with hand over mouth","smiling face with smiling eyes and hand covering mouth"],u:"1f92d",a:"5.0"},{n:["face with open eyes and hand over mouth"],u:"1fae2",a:"14.0"},{n:["face with peeking eye"],u:"1fae3",a:"14.0"},{n:["shushing face","face with finger covering closed lips"],u:"1f92b",a:"5.0"},{n:["thinking face"],u:"1f914",a:"1.0"},{n:["saluting face"],u:"1fae1",a:"14.0"},{n:["zipper-mouth face","zipper mouth face"],u:"1f910",a:"1.0"},{n:["face with raised eyebrow","face with one eyebrow raised"],u:"1f928",a:"5.0"},{n:["neutral face"],u:"1f610",a:"0.7"},{n:["expressionless","expressionless face"],u:"1f611",a:"1.0"},{n:["no mouth","face without mouth"],u:"1f636",a:"1.0"},{n:["dotted line face"],u:"1fae5",a:"14.0"},{n:["face in clouds"],u:"1f636-200d-1f32b-fe0f",a:"13.1"},{n:["smirk","smirking face"],u:"1f60f",a:"0.6"},{n:["unamused","unamused face"],u:"1f612",a:"0.6"},{n:["face with rolling eyes"],u:"1f644",a:"1.0"},{n:["grimacing","grimacing face"],u:"1f62c",a:"1.0"},{n:["face exhaling"],u:"1f62e-200d-1f4a8",a:"13.1"},{n:["lying face"],u:"1f925",a:"3.0"},{n:["relieved","relieved face"],u:"1f60c",a:"0.6"},{n:["pensive","pensive face"],u:"1f614",a:"0.6"},{n:["sleepy","sleepy face"],u:"1f62a",a:"0.6"},{n:["drooling face"],u:"1f924",a:"3.0"},{n:["sleeping","sleeping face"],u:"1f634",a:"1.0"},{n:["mask","face with medical mask"],u:"1f637",a:"0.6"},{n:["face with thermometer"],u:"1f912",a:"1.0"},{n:["face with head-bandage","face with head bandage"],u:"1f915",a:"1.0"},{n:["nauseated face"],u:"1f922",a:"3.0"},{n:["face vomiting","face with open mouth vomiting"],u:"1f92e",a:"5.0"},{n:["sneezing face"],u:"1f927",a:"3.0"},{n:["hot face","overheated face"],u:"1f975",a:"11.0"},{n:["cold face","freezing face"],u:"1f976",a:"11.0"},{n:["woozy face","face with uneven eyes and wavy mouth"],u:"1f974",a:"11.0"},{n:["dizzy face"],u:"1f635",a:"0.6"},{n:["face with spiral eyes"],u:"1f635-200d-1f4ab",a:"13.1"},{n:["exploding head","shocked face with exploding head"],u:"1f92f",a:"5.0"},{n:["face with cowboy hat"],u:"1f920",a:"3.0"},{n:["partying face","face with party horn and party hat"],u:"1f973",a:"11.0"},{n:["disguised face"],u:"1f978",a:"13.0"},{n:["sunglasses","smiling face with sunglasses"],u:"1f60e",a:"1.0"},{n:["nerd face"],u:"1f913",a:"1.0"},{n:["face with monocle"],u:"1f9d0",a:"5.0"},{n:["confused","confused face"],u:"1f615",a:"1.0"},{n:["face with diagonal mouth"],u:"1fae4",a:"14.0"},{n:["worried","worried face"],u:"1f61f",a:"1.0"},{n:["slightly frowning face"],u:"1f641",a:"1.0"},{n:["frowning face","white frowning face"],u:"2639-fe0f",a:"0.7"},{n:["open mouth","face with open mouth"],u:"1f62e",a:"1.0"},{n:["hushed","hushed face"],u:"1f62f",a:"1.0"},{n:["astonished","astonished face"],u:"1f632",a:"0.6"},{n:["flushed","flushed face"],u:"1f633",a:"0.6"},{n:["pleading face","face with pleading eyes"],u:"1f97a",a:"11.0"},{n:["face holding back tears"],u:"1f979",a:"14.0"},{n:["frowning","frowning face with open mouth"],u:"1f626",a:"1.0"},{n:["anguished","anguished face"],u:"1f627",a:"1.0"},{n:["fearful","fearful face"],u:"1f628",a:"0.6"},{n:["cold sweat","face with open mouth and cold sweat"],u:"1f630",a:"0.6"},{n:["disappointed relieved","disappointed but relieved face"],u:"1f625",a:"0.6"},{n:["cry","crying face"],u:"1f622",a:"0.6"},{n:["sob","loudly crying face"],u:"1f62d",a:"0.6"},{n:["scream","face screaming in fear"],u:"1f631",a:"0.6"},{n:["confounded","confounded face"],u:"1f616",a:"0.6"},{n:["persevere","persevering face"],u:"1f623",a:"0.6"},{n:["disappointed","disappointed face"],u:"1f61e",a:"0.6"},{n:["sweat","face with cold sweat"],u:"1f613",a:"0.6"},{n:["weary","weary face"],u:"1f629",a:"0.6"},{n:["tired face"],u:"1f62b",a:"0.6"},{n:["yawning face"],u:"1f971",a:"12.0"},{n:["triumph","face with look of triumph"],u:"1f624",a:"0.6"},{n:["rage","pouting face"],u:"1f621",a:"0.6"},{n:["angry","angry face"],u:"1f620",a:"0.6"},{n:["face with symbols on mouth","serious face with symbols covering mouth"],u:"1f92c",a:"5.0"},{n:["smiling imp","smiling face with horns"],u:"1f608",a:"1.0"},{n:["imp"],u:"1f47f",a:"0.6"},{n:["skull"],u:"1f480",a:"0.6"},{n:["skull and crossbones"],u:"2620-fe0f",a:"1.0"},{n:["poop","shit","hankey","pile of poo"],u:"1f4a9",a:"0.6"},{n:["clown face"],u:"1f921",a:"3.0"},{n:["japanese ogre"],u:"1f479",a:"0.6"},{n:["japanese goblin"],u:"1f47a",a:"0.6"},{n:["ghost"],u:"1f47b",a:"0.6"},{n:["alien","extraterrestrial alien"],u:"1f47d",a:"0.6"},{n:["alien monster","space invader"],u:"1f47e",a:"0.6"},{n:["robot face"],u:"1f916",a:"1.0"},{n:["smiley cat","smiling cat face with open mouth"],u:"1f63a",a:"0.6"},{n:["smile cat","grinning cat face with smiling eyes"],u:"1f638",a:"0.6"},{n:["joy cat","cat face with tears of joy"],u:"1f639",a:"0.6"},{n:["heart eyes cat","smiling cat face with heart-shaped eyes"],u:"1f63b",a:"0.6"},{n:["smirk cat","cat face with wry smile"],u:"1f63c",a:"0.6"},{n:["kissing cat","kissing cat face with closed eyes"],u:"1f63d",a:"0.6"},{n:["scream cat","weary cat face"],u:"1f640",a:"0.6"},{n:["crying cat face"],u:"1f63f",a:"0.6"},{n:["pouting cat","pouting cat face"],u:"1f63e",a:"0.6"},{n:["see no evil","see-no-evil monkey"],u:"1f648",a:"0.6"},{n:["hear no evil","hear-no-evil monkey"],u:"1f649",a:"0.6"},{n:["speak no evil","speak-no-evil monkey"],u:"1f64a",a:"0.6"},{n:["kiss","kiss mark"],u:"1f48b",a:"0.6"},{n:["love letter"],u:"1f48c",a:"0.6"},{n:["cupid","heart with arrow"],u:"1f498",a:"0.6"},{n:["gift heart","heart with ribbon"],u:"1f49d",a:"0.6"},{n:["sparkling heart"],u:"1f496",a:"0.6"},{n:["heartpulse","growing heart"],u:"1f497",a:"0.6"},{n:["heartbeat","beating heart"],u:"1f493",a:"0.6"},{n:["revolving hearts"],u:"1f49e",a:"0.6"},{n:["two hearts"],u:"1f495",a:"0.6"},{n:["heart decoration"],u:"1f49f",a:"0.6"},{n:["heart exclamation","heavy heart exclamation mark ornament"],u:"2763-fe0f",a:"1.0"},{n:["broken heart"],u:"1f494",a:"0.6"},{n:["heart on fire"],u:"2764-fe0f-200d-1f525",a:"13.1"},{n:["mending heart"],u:"2764-fe0f-200d-1fa79",a:"13.1"},{n:["heart","heavy black heart"],u:"2764-fe0f",a:"0.6"},{n:["orange heart"],u:"1f9e1",a:"5.0"},{n:["yellow heart"],u:"1f49b",a:"0.6"},{n:["green heart"],u:"1f49a",a:"0.6"},{n:["blue heart"],u:"1f499",a:"0.6"},{n:["purple heart"],u:"1f49c",a:"0.6"},{n:["brown heart"],u:"1f90e",a:"12.0"},{n:["black heart"],u:"1f5a4",a:"3.0"},{n:["white heart"],u:"1f90d",a:"12.0"},{n:["100","hundred points symbol"],u:"1f4af",a:"0.6"},{n:["anger","anger symbol"],u:"1f4a2",a:"0.6"},{n:["boom","collision","collision symbol"],u:"1f4a5",a:"0.6"},{n:["dizzy","dizzy symbol"],u:"1f4ab",a:"0.6"},{n:["sweat drops","splashing sweat symbol"],u:"1f4a6",a:"0.6"},{n:["dash","dash symbol"],u:"1f4a8",a:"0.6"},{n:["hole"],u:"1f573-fe0f",a:"0.7"},{n:["bomb"],u:"1f4a3",a:"0.6"},{n:["speech balloon"],u:"1f4ac",a:"0.6"},{n:["eye in speech bubble","eye-in-speech-bubble"],u:"1f441-fe0f-200d-1f5e8-fe0f",a:"2.0"},{n:["left speech bubble"],u:"1f5e8-fe0f",a:"2.0"},{n:["right anger bubble"],u:"1f5ef-fe0f",a:"0.7"},{n:["thought balloon"],u:"1f4ad",a:"1.0"},{n:["zzz","sleeping symbol"],u:"1f4a4",a:"0.6"},{n:["wave","waving hand sign"],u:"1f44b",v:["1f44b-1f3fb","1f44b-1f3fc","1f44b-1f3fd","1f44b-1f3fe","1f44b-1f3ff"],a:"0.6"},{n:["raised back of hand"],u:"1f91a",v:["1f91a-1f3fb","1f91a-1f3fc","1f91a-1f3fd","1f91a-1f3fe","1f91a-1f3ff"],a:"3.0"},{n:["hand with fingers splayed","raised hand with fingers splayed"],u:"1f590-fe0f",v:["1f590-1f3fb","1f590-1f3fc","1f590-1f3fd","1f590-1f3fe","1f590-1f3ff"],a:"0.7"},{n:["hand","raised hand"],u:"270b",v:["270b-1f3fb","270b-1f3fc","270b-1f3fd","270b-1f3fe","270b-1f3ff"],a:"0.6"},{n:["spock-hand","raised hand with part between middle and ring fingers"],u:"1f596",v:["1f596-1f3fb","1f596-1f3fc","1f596-1f3fd","1f596-1f3fe","1f596-1f3ff"],a:"1.0"},{n:["rightwards hand"],u:"1faf1",v:["1faf1-1f3fb","1faf1-1f3fc","1faf1-1f3fd","1faf1-1f3fe","1faf1-1f3ff"],a:"14.0"},{n:["leftwards hand"],u:"1faf2",v:["1faf2-1f3fb","1faf2-1f3fc","1faf2-1f3fd","1faf2-1f3fe","1faf2-1f3ff"],a:"14.0"},{n:["palm down hand"],u:"1faf3",v:["1faf3-1f3fb","1faf3-1f3fc","1faf3-1f3fd","1faf3-1f3fe","1faf3-1f3ff"],a:"14.0"},{n:["palm up hand"],u:"1faf4",v:["1faf4-1f3fb","1faf4-1f3fc","1faf4-1f3fd","1faf4-1f3fe","1faf4-1f3ff"],a:"14.0"},{n:["ok hand","ok hand sign"],u:"1f44c",v:["1f44c-1f3fb","1f44c-1f3fc","1f44c-1f3fd","1f44c-1f3fe","1f44c-1f3ff"],a:"0.6"},{n:["pinched fingers"],u:"1f90c",v:["1f90c-1f3fb","1f90c-1f3fc","1f90c-1f3fd","1f90c-1f3fe","1f90c-1f3ff"],a:"13.0"},{n:["pinching hand"],u:"1f90f",v:["1f90f-1f3fb","1f90f-1f3fc","1f90f-1f3fd","1f90f-1f3fe","1f90f-1f3ff"],a:"12.0"},{n:["v","victory hand"],u:"270c-fe0f",v:["270c-1f3fb","270c-1f3fc","270c-1f3fd","270c-1f3fe","270c-1f3ff"],a:"0.6"},{n:["crossed fingers","hand with index and middle fingers crossed"],u:"1f91e",v:["1f91e-1f3fb","1f91e-1f3fc","1f91e-1f3fd","1f91e-1f3fe","1f91e-1f3ff"],a:"3.0"},{n:["hand with index finger and thumb crossed"],u:"1faf0",v:["1faf0-1f3fb","1faf0-1f3fc","1faf0-1f3fd","1faf0-1f3fe","1faf0-1f3ff"],a:"14.0"},{n:["i love you hand sign"],u:"1f91f",v:["1f91f-1f3fb","1f91f-1f3fc","1f91f-1f3fd","1f91f-1f3fe","1f91f-1f3ff"],a:"5.0"},{n:["the horns","sign of the horns"],u:"1f918",v:["1f918-1f3fb","1f918-1f3fc","1f918-1f3fd","1f918-1f3fe","1f918-1f3ff"],a:"1.0"},{n:["call me hand"],u:"1f919",v:["1f919-1f3fb","1f919-1f3fc","1f919-1f3fd","1f919-1f3fe","1f919-1f3ff"],a:"3.0"},{n:["point left","white left pointing backhand index"],u:"1f448",v:["1f448-1f3fb","1f448-1f3fc","1f448-1f3fd","1f448-1f3fe","1f448-1f3ff"],a:"0.6"},{n:["point right","white right pointing backhand index"],u:"1f449",v:["1f449-1f3fb","1f449-1f3fc","1f449-1f3fd","1f449-1f3fe","1f449-1f3ff"],a:"0.6"},{n:["point up 2","white up pointing backhand index"],u:"1f446",v:["1f446-1f3fb","1f446-1f3fc","1f446-1f3fd","1f446-1f3fe","1f446-1f3ff"],a:"0.6"},{n:["middle finger","reversed hand with middle finger extended"],u:"1f595",v:["1f595-1f3fb","1f595-1f3fc","1f595-1f3fd","1f595-1f3fe","1f595-1f3ff"],a:"1.0"},{n:["point down","white down pointing backhand index"],u:"1f447",v:["1f447-1f3fb","1f447-1f3fc","1f447-1f3fd","1f447-1f3fe","1f447-1f3ff"],a:"0.6"},{n:["point up","white up pointing index"],u:"261d-fe0f",v:["261d-1f3fb","261d-1f3fc","261d-1f3fd","261d-1f3fe","261d-1f3ff"],a:"0.6"},{n:["index pointing at the viewer"],u:"1faf5",v:["1faf5-1f3fb","1faf5-1f3fc","1faf5-1f3fd","1faf5-1f3fe","1faf5-1f3ff"],a:"14.0"},{n:["+1","thumbsup","thumbs up sign"],u:"1f44d",v:["1f44d-1f3fb","1f44d-1f3fc","1f44d-1f3fd","1f44d-1f3fe","1f44d-1f3ff"],a:"0.6"},{n:["-1","thumbsdown","thumbs down sign"],u:"1f44e",v:["1f44e-1f3fb","1f44e-1f3fc","1f44e-1f3fd","1f44e-1f3fe","1f44e-1f3ff"],a:"0.6"},{n:["fist","raised fist"],u:"270a",v:["270a-1f3fb","270a-1f3fc","270a-1f3fd","270a-1f3fe","270a-1f3ff"],a:"0.6"},{n:["punch","facepunch","fisted hand sign"],u:"1f44a",v:["1f44a-1f3fb","1f44a-1f3fc","1f44a-1f3fd","1f44a-1f3fe","1f44a-1f3ff"],a:"0.6"},{n:["left-facing fist"],u:"1f91b",v:["1f91b-1f3fb","1f91b-1f3fc","1f91b-1f3fd","1f91b-1f3fe","1f91b-1f3ff"],a:"3.0"},{n:["right-facing fist"],u:"1f91c",v:["1f91c-1f3fb","1f91c-1f3fc","1f91c-1f3fd","1f91c-1f3fe","1f91c-1f3ff"],a:"3.0"},{n:["clap","clapping hands sign"],u:"1f44f",v:["1f44f-1f3fb","1f44f-1f3fc","1f44f-1f3fd","1f44f-1f3fe","1f44f-1f3ff"],a:"0.6"},{n:["raised hands","person raising both hands in celebration"],u:"1f64c",v:["1f64c-1f3fb","1f64c-1f3fc","1f64c-1f3fd","1f64c-1f3fe","1f64c-1f3ff"],a:"0.6"},{n:["heart hands"],u:"1faf6",v:["1faf6-1f3fb","1faf6-1f3fc","1faf6-1f3fd","1faf6-1f3fe","1faf6-1f3ff"],a:"14.0"},{n:["open hands","open hands sign"],u:"1f450",v:["1f450-1f3fb","1f450-1f3fc","1f450-1f3fd","1f450-1f3fe","1f450-1f3ff"],a:"0.6"},{n:["palms up together"],u:"1f932",v:["1f932-1f3fb","1f932-1f3fc","1f932-1f3fd","1f932-1f3fe","1f932-1f3ff"],a:"5.0"},{n:["handshake"],u:"1f91d",v:["1f91d-1f3fb","1f91d-1f3fc","1f91d-1f3fd","1f91d-1f3fe","1f91d-1f3ff","1faf1-1f3fb-200d-1faf2-1f3fc","1faf1-1f3fb-200d-1faf2-1f3fd","1faf1-1f3fb-200d-1faf2-1f3fe","1faf1-1f3fb-200d-1faf2-1f3ff","1faf1-1f3fc-200d-1faf2-1f3fb","1faf1-1f3fc-200d-1faf2-1f3fd","1faf1-1f3fc-200d-1faf2-1f3fe","1faf1-1f3fc-200d-1faf2-1f3ff","1faf1-1f3fd-200d-1faf2-1f3fb","1faf1-1f3fd-200d-1faf2-1f3fc","1faf1-1f3fd-200d-1faf2-1f3fe","1faf1-1f3fd-200d-1faf2-1f3ff","1faf1-1f3fe-200d-1faf2-1f3fb","1faf1-1f3fe-200d-1faf2-1f3fc","1faf1-1f3fe-200d-1faf2-1f3fd","1faf1-1f3fe-200d-1faf2-1f3ff","1faf1-1f3ff-200d-1faf2-1f3fb","1faf1-1f3ff-200d-1faf2-1f3fc","1faf1-1f3ff-200d-1faf2-1f3fd","1faf1-1f3ff-200d-1faf2-1f3fe"],a:"3.0"},{n:["pray","person with folded hands"],u:"1f64f",v:["1f64f-1f3fb","1f64f-1f3fc","1f64f-1f3fd","1f64f-1f3fe","1f64f-1f3ff"],a:"0.6"},{n:["writing hand"],u:"270d-fe0f",v:["270d-1f3fb","270d-1f3fc","270d-1f3fd","270d-1f3fe","270d-1f3ff"],a:"0.7"},{n:["nail care","nail polish"],u:"1f485",v:["1f485-1f3fb","1f485-1f3fc","1f485-1f3fd","1f485-1f3fe","1f485-1f3ff"],a:"0.6"},{n:["selfie"],u:"1f933",v:["1f933-1f3fb","1f933-1f3fc","1f933-1f3fd","1f933-1f3fe","1f933-1f3ff"],a:"3.0"},{n:["muscle","flexed biceps"],u:"1f4aa",v:["1f4aa-1f3fb","1f4aa-1f3fc","1f4aa-1f3fd","1f4aa-1f3fe","1f4aa-1f3ff"],a:"0.6"},{n:["mechanical arm"],u:"1f9be",a:"12.0"},{n:["mechanical leg"],u:"1f9bf",a:"12.0"},{n:["leg"],u:"1f9b5",v:["1f9b5-1f3fb","1f9b5-1f3fc","1f9b5-1f3fd","1f9b5-1f3fe","1f9b5-1f3ff"],a:"11.0"},{n:["foot"],u:"1f9b6",v:["1f9b6-1f3fb","1f9b6-1f3fc","1f9b6-1f3fd","1f9b6-1f3fe","1f9b6-1f3ff"],a:"11.0"},{n:["ear"],u:"1f442",v:["1f442-1f3fb","1f442-1f3fc","1f442-1f3fd","1f442-1f3fe","1f442-1f3ff"],a:"0.6"},{n:["ear with hearing aid"],u:"1f9bb",v:["1f9bb-1f3fb","1f9bb-1f3fc","1f9bb-1f3fd","1f9bb-1f3fe","1f9bb-1f3ff"],a:"12.0"},{n:["nose"],u:"1f443",v:["1f443-1f3fb","1f443-1f3fc","1f443-1f3fd","1f443-1f3fe","1f443-1f3ff"],a:"0.6"},{n:["brain"],u:"1f9e0",a:"5.0"},{n:["anatomical heart"],u:"1fac0",a:"13.0"},{n:["lungs"],u:"1fac1",a:"13.0"},{n:["tooth"],u:"1f9b7",a:"11.0"},{n:["bone"],u:"1f9b4",a:"11.0"},{n:["eyes"],u:"1f440",a:"0.6"},{n:["eye"],u:"1f441-fe0f",a:"0.7"},{n:["tongue"],u:"1f445",a:"0.6"},{n:["lips","mouth"],u:"1f444",a:"0.6"},{n:["biting lip"],u:"1fae6",a:"14.0"},{n:["baby"],u:"1f476",v:["1f476-1f3fb","1f476-1f3fc","1f476-1f3fd","1f476-1f3fe","1f476-1f3ff"],a:"0.6"},{n:["child"],u:"1f9d2",v:["1f9d2-1f3fb","1f9d2-1f3fc","1f9d2-1f3fd","1f9d2-1f3fe","1f9d2-1f3ff"],a:"5.0"},{n:["boy"],u:"1f466",v:["1f466-1f3fb","1f466-1f3fc","1f466-1f3fd","1f466-1f3fe","1f466-1f3ff"],a:"0.6"},{n:["girl"],u:"1f467",v:["1f467-1f3fb","1f467-1f3fc","1f467-1f3fd","1f467-1f3fe","1f467-1f3ff"],a:"0.6"},{n:["adult"],u:"1f9d1",v:["1f9d1-1f3fb","1f9d1-1f3fc","1f9d1-1f3fd","1f9d1-1f3fe","1f9d1-1f3ff"],a:"5.0"},{n:["person with blond hair"],u:"1f471",v:["1f471-1f3fb","1f471-1f3fc","1f471-1f3fd","1f471-1f3fe","1f471-1f3ff"],a:"0.6"},{n:["man"],u:"1f468",v:["1f468-1f3fb","1f468-1f3fc","1f468-1f3fd","1f468-1f3fe","1f468-1f3ff"],a:"0.6"},{n:["bearded person"],u:"1f9d4",v:["1f9d4-1f3fb","1f9d4-1f3fc","1f9d4-1f3fd","1f9d4-1f3fe","1f9d4-1f3ff"],a:"5.0"},{n:["man: beard","man with beard"],u:"1f9d4-200d-2642-fe0f",v:["1f9d4-1f3fb-200d-2642-fe0f","1f9d4-1f3fc-200d-2642-fe0f","1f9d4-1f3fd-200d-2642-fe0f","1f9d4-1f3fe-200d-2642-fe0f","1f9d4-1f3ff-200d-2642-fe0f"],a:"13.1"},{n:["woman: beard","woman with beard"],u:"1f9d4-200d-2640-fe0f",v:["1f9d4-1f3fb-200d-2640-fe0f","1f9d4-1f3fc-200d-2640-fe0f","1f9d4-1f3fd-200d-2640-fe0f","1f9d4-1f3fe-200d-2640-fe0f","1f9d4-1f3ff-200d-2640-fe0f"],a:"13.1"},{n:["man: red hair","red haired man"],u:"1f468-200d-1f9b0",v:["1f468-1f3fb-200d-1f9b0","1f468-1f3fc-200d-1f9b0","1f468-1f3fd-200d-1f9b0","1f468-1f3fe-200d-1f9b0","1f468-1f3ff-200d-1f9b0"],a:"11.0"},{n:["man: curly hair","curly haired man"],u:"1f468-200d-1f9b1",v:["1f468-1f3fb-200d-1f9b1","1f468-1f3fc-200d-1f9b1","1f468-1f3fd-200d-1f9b1","1f468-1f3fe-200d-1f9b1","1f468-1f3ff-200d-1f9b1"],a:"11.0"},{n:["man: white hair","white haired man"],u:"1f468-200d-1f9b3",v:["1f468-1f3fb-200d-1f9b3","1f468-1f3fc-200d-1f9b3","1f468-1f3fd-200d-1f9b3","1f468-1f3fe-200d-1f9b3","1f468-1f3ff-200d-1f9b3"],a:"11.0"},{n:["bald man","man: bald"],u:"1f468-200d-1f9b2",v:["1f468-1f3fb-200d-1f9b2","1f468-1f3fc-200d-1f9b2","1f468-1f3fd-200d-1f9b2","1f468-1f3fe-200d-1f9b2","1f468-1f3ff-200d-1f9b2"],a:"11.0"},{n:["woman"],u:"1f469",v:["1f469-1f3fb","1f469-1f3fc","1f469-1f3fd","1f469-1f3fe","1f469-1f3ff"],a:"0.6"},{n:["woman: red hair","red haired woman"],u:"1f469-200d-1f9b0",v:["1f469-1f3fb-200d-1f9b0","1f469-1f3fc-200d-1f9b0","1f469-1f3fd-200d-1f9b0","1f469-1f3fe-200d-1f9b0","1f469-1f3ff-200d-1f9b0"],a:"11.0"},{n:["person: red hair","red haired person"],u:"1f9d1-200d-1f9b0",v:["1f9d1-1f3fb-200d-1f9b0","1f9d1-1f3fc-200d-1f9b0","1f9d1-1f3fd-200d-1f9b0","1f9d1-1f3fe-200d-1f9b0","1f9d1-1f3ff-200d-1f9b0"],a:"12.1"},{n:["woman: curly hair","curly haired woman"],u:"1f469-200d-1f9b1",v:["1f469-1f3fb-200d-1f9b1","1f469-1f3fc-200d-1f9b1","1f469-1f3fd-200d-1f9b1","1f469-1f3fe-200d-1f9b1","1f469-1f3ff-200d-1f9b1"],a:"11.0"},{n:["person: curly hair","curly haired person"],u:"1f9d1-200d-1f9b1",v:["1f9d1-1f3fb-200d-1f9b1","1f9d1-1f3fc-200d-1f9b1","1f9d1-1f3fd-200d-1f9b1","1f9d1-1f3fe-200d-1f9b1","1f9d1-1f3ff-200d-1f9b1"],a:"12.1"},{n:["woman: white hair","white haired woman"],u:"1f469-200d-1f9b3",v:["1f469-1f3fb-200d-1f9b3","1f469-1f3fc-200d-1f9b3","1f469-1f3fd-200d-1f9b3","1f469-1f3fe-200d-1f9b3","1f469-1f3ff-200d-1f9b3"],a:"11.0"},{n:["person: white hair","white haired person"],u:"1f9d1-200d-1f9b3",v:["1f9d1-1f3fb-200d-1f9b3","1f9d1-1f3fc-200d-1f9b3","1f9d1-1f3fd-200d-1f9b3","1f9d1-1f3fe-200d-1f9b3","1f9d1-1f3ff-200d-1f9b3"],a:"12.1"},{n:["bald woman","woman: bald"],u:"1f469-200d-1f9b2",v:["1f469-1f3fb-200d-1f9b2","1f469-1f3fc-200d-1f9b2","1f469-1f3fd-200d-1f9b2","1f469-1f3fe-200d-1f9b2","1f469-1f3ff-200d-1f9b2"],a:"11.0"},{n:["bald person","person: bald"],u:"1f9d1-200d-1f9b2",v:["1f9d1-1f3fb-200d-1f9b2","1f9d1-1f3fc-200d-1f9b2","1f9d1-1f3fd-200d-1f9b2","1f9d1-1f3fe-200d-1f9b2","1f9d1-1f3ff-200d-1f9b2"],a:"12.1"},{n:["woman: blond hair","blond-haired-woman"],u:"1f471-200d-2640-fe0f",v:["1f471-1f3fb-200d-2640-fe0f","1f471-1f3fc-200d-2640-fe0f","1f471-1f3fd-200d-2640-fe0f","1f471-1f3fe-200d-2640-fe0f","1f471-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["man: blond hair","blond-haired-man"],u:"1f471-200d-2642-fe0f",v:["1f471-1f3fb-200d-2642-fe0f","1f471-1f3fc-200d-2642-fe0f","1f471-1f3fd-200d-2642-fe0f","1f471-1f3fe-200d-2642-fe0f","1f471-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["older adult"],u:"1f9d3",v:["1f9d3-1f3fb","1f9d3-1f3fc","1f9d3-1f3fd","1f9d3-1f3fe","1f9d3-1f3ff"],a:"5.0"},{n:["older man"],u:"1f474",v:["1f474-1f3fb","1f474-1f3fc","1f474-1f3fd","1f474-1f3fe","1f474-1f3ff"],a:"0.6"},{n:["older woman"],u:"1f475",v:["1f475-1f3fb","1f475-1f3fc","1f475-1f3fd","1f475-1f3fe","1f475-1f3ff"],a:"0.6"},{n:["person frowning"],u:"1f64d",v:["1f64d-1f3fb","1f64d-1f3fc","1f64d-1f3fd","1f64d-1f3fe","1f64d-1f3ff"],a:"0.6"},{n:["man frowning","man-frowning"],u:"1f64d-200d-2642-fe0f",v:["1f64d-1f3fb-200d-2642-fe0f","1f64d-1f3fc-200d-2642-fe0f","1f64d-1f3fd-200d-2642-fe0f","1f64d-1f3fe-200d-2642-fe0f","1f64d-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman frowning","woman-frowning"],u:"1f64d-200d-2640-fe0f",v:["1f64d-1f3fb-200d-2640-fe0f","1f64d-1f3fc-200d-2640-fe0f","1f64d-1f3fd-200d-2640-fe0f","1f64d-1f3fe-200d-2640-fe0f","1f64d-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person with pouting face"],u:"1f64e",v:["1f64e-1f3fb","1f64e-1f3fc","1f64e-1f3fd","1f64e-1f3fe","1f64e-1f3ff"],a:"0.6"},{n:["man pouting","man-pouting"],u:"1f64e-200d-2642-fe0f",v:["1f64e-1f3fb-200d-2642-fe0f","1f64e-1f3fc-200d-2642-fe0f","1f64e-1f3fd-200d-2642-fe0f","1f64e-1f3fe-200d-2642-fe0f","1f64e-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman pouting","woman-pouting"],u:"1f64e-200d-2640-fe0f",v:["1f64e-1f3fb-200d-2640-fe0f","1f64e-1f3fc-200d-2640-fe0f","1f64e-1f3fd-200d-2640-fe0f","1f64e-1f3fe-200d-2640-fe0f","1f64e-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["no good","face with no good gesture"],u:"1f645",v:["1f645-1f3fb","1f645-1f3fc","1f645-1f3fd","1f645-1f3fe","1f645-1f3ff"],a:"0.6"},{n:["man gesturing no","man-gesturing-no"],u:"1f645-200d-2642-fe0f",v:["1f645-1f3fb-200d-2642-fe0f","1f645-1f3fc-200d-2642-fe0f","1f645-1f3fd-200d-2642-fe0f","1f645-1f3fe-200d-2642-fe0f","1f645-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman gesturing no","woman-gesturing-no"],u:"1f645-200d-2640-fe0f",v:["1f645-1f3fb-200d-2640-fe0f","1f645-1f3fc-200d-2640-fe0f","1f645-1f3fd-200d-2640-fe0f","1f645-1f3fe-200d-2640-fe0f","1f645-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["ok woman","face with ok gesture"],u:"1f646",v:["1f646-1f3fb","1f646-1f3fc","1f646-1f3fd","1f646-1f3fe","1f646-1f3ff"],a:"0.6"},{n:["man gesturing ok","man-gesturing-ok"],u:"1f646-200d-2642-fe0f",v:["1f646-1f3fb-200d-2642-fe0f","1f646-1f3fc-200d-2642-fe0f","1f646-1f3fd-200d-2642-fe0f","1f646-1f3fe-200d-2642-fe0f","1f646-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman gesturing ok","woman-gesturing-ok"],u:"1f646-200d-2640-fe0f",v:["1f646-1f3fb-200d-2640-fe0f","1f646-1f3fc-200d-2640-fe0f","1f646-1f3fd-200d-2640-fe0f","1f646-1f3fe-200d-2640-fe0f","1f646-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["information desk person"],u:"1f481",v:["1f481-1f3fb","1f481-1f3fc","1f481-1f3fd","1f481-1f3fe","1f481-1f3ff"],a:"0.6"},{n:["man tipping hand","man-tipping-hand"],u:"1f481-200d-2642-fe0f",v:["1f481-1f3fb-200d-2642-fe0f","1f481-1f3fc-200d-2642-fe0f","1f481-1f3fd-200d-2642-fe0f","1f481-1f3fe-200d-2642-fe0f","1f481-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman tipping hand","woman-tipping-hand"],u:"1f481-200d-2640-fe0f",v:["1f481-1f3fb-200d-2640-fe0f","1f481-1f3fc-200d-2640-fe0f","1f481-1f3fd-200d-2640-fe0f","1f481-1f3fe-200d-2640-fe0f","1f481-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["raising hand","happy person raising one hand"],u:"1f64b",v:["1f64b-1f3fb","1f64b-1f3fc","1f64b-1f3fd","1f64b-1f3fe","1f64b-1f3ff"],a:"0.6"},{n:["man raising hand","man-raising-hand"],u:"1f64b-200d-2642-fe0f",v:["1f64b-1f3fb-200d-2642-fe0f","1f64b-1f3fc-200d-2642-fe0f","1f64b-1f3fd-200d-2642-fe0f","1f64b-1f3fe-200d-2642-fe0f","1f64b-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman raising hand","woman-raising-hand"],u:"1f64b-200d-2640-fe0f",v:["1f64b-1f3fb-200d-2640-fe0f","1f64b-1f3fc-200d-2640-fe0f","1f64b-1f3fd-200d-2640-fe0f","1f64b-1f3fe-200d-2640-fe0f","1f64b-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["deaf person"],u:"1f9cf",v:["1f9cf-1f3fb","1f9cf-1f3fc","1f9cf-1f3fd","1f9cf-1f3fe","1f9cf-1f3ff"],a:"12.0"},{n:["deaf man"],u:"1f9cf-200d-2642-fe0f",v:["1f9cf-1f3fb-200d-2642-fe0f","1f9cf-1f3fc-200d-2642-fe0f","1f9cf-1f3fd-200d-2642-fe0f","1f9cf-1f3fe-200d-2642-fe0f","1f9cf-1f3ff-200d-2642-fe0f"],a:"12.0"},{n:["deaf woman"],u:"1f9cf-200d-2640-fe0f",v:["1f9cf-1f3fb-200d-2640-fe0f","1f9cf-1f3fc-200d-2640-fe0f","1f9cf-1f3fd-200d-2640-fe0f","1f9cf-1f3fe-200d-2640-fe0f","1f9cf-1f3ff-200d-2640-fe0f"],a:"12.0"},{n:["bow","person bowing deeply"],u:"1f647",v:["1f647-1f3fb","1f647-1f3fc","1f647-1f3fd","1f647-1f3fe","1f647-1f3ff"],a:"0.6"},{n:["man bowing","man-bowing"],u:"1f647-200d-2642-fe0f",v:["1f647-1f3fb-200d-2642-fe0f","1f647-1f3fc-200d-2642-fe0f","1f647-1f3fd-200d-2642-fe0f","1f647-1f3fe-200d-2642-fe0f","1f647-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman bowing","woman-bowing"],u:"1f647-200d-2640-fe0f",v:["1f647-1f3fb-200d-2640-fe0f","1f647-1f3fc-200d-2640-fe0f","1f647-1f3fd-200d-2640-fe0f","1f647-1f3fe-200d-2640-fe0f","1f647-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["face palm"],u:"1f926",v:["1f926-1f3fb","1f926-1f3fc","1f926-1f3fd","1f926-1f3fe","1f926-1f3ff"],a:"3.0"},{n:["man facepalming","man-facepalming"],u:"1f926-200d-2642-fe0f",v:["1f926-1f3fb-200d-2642-fe0f","1f926-1f3fc-200d-2642-fe0f","1f926-1f3fd-200d-2642-fe0f","1f926-1f3fe-200d-2642-fe0f","1f926-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman facepalming","woman-facepalming"],u:"1f926-200d-2640-fe0f",v:["1f926-1f3fb-200d-2640-fe0f","1f926-1f3fc-200d-2640-fe0f","1f926-1f3fd-200d-2640-fe0f","1f926-1f3fe-200d-2640-fe0f","1f926-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["shrug"],u:"1f937",v:["1f937-1f3fb","1f937-1f3fc","1f937-1f3fd","1f937-1f3fe","1f937-1f3ff"],a:"3.0"},{n:["man shrugging","man-shrugging"],u:"1f937-200d-2642-fe0f",v:["1f937-1f3fb-200d-2642-fe0f","1f937-1f3fc-200d-2642-fe0f","1f937-1f3fd-200d-2642-fe0f","1f937-1f3fe-200d-2642-fe0f","1f937-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman shrugging","woman-shrugging"],u:"1f937-200d-2640-fe0f",v:["1f937-1f3fb-200d-2640-fe0f","1f937-1f3fc-200d-2640-fe0f","1f937-1f3fd-200d-2640-fe0f","1f937-1f3fe-200d-2640-fe0f","1f937-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["health worker"],u:"1f9d1-200d-2695-fe0f",v:["1f9d1-1f3fb-200d-2695-fe0f","1f9d1-1f3fc-200d-2695-fe0f","1f9d1-1f3fd-200d-2695-fe0f","1f9d1-1f3fe-200d-2695-fe0f","1f9d1-1f3ff-200d-2695-fe0f"],a:"12.1"},{n:["male-doctor","man health worker"],u:"1f468-200d-2695-fe0f",v:["1f468-1f3fb-200d-2695-fe0f","1f468-1f3fc-200d-2695-fe0f","1f468-1f3fd-200d-2695-fe0f","1f468-1f3fe-200d-2695-fe0f","1f468-1f3ff-200d-2695-fe0f"],a:"4.0"},{n:["female-doctor","woman health worker"],u:"1f469-200d-2695-fe0f",v:["1f469-1f3fb-200d-2695-fe0f","1f469-1f3fc-200d-2695-fe0f","1f469-1f3fd-200d-2695-fe0f","1f469-1f3fe-200d-2695-fe0f","1f469-1f3ff-200d-2695-fe0f"],a:"4.0"},{n:["student"],u:"1f9d1-200d-1f393",v:["1f9d1-1f3fb-200d-1f393","1f9d1-1f3fc-200d-1f393","1f9d1-1f3fd-200d-1f393","1f9d1-1f3fe-200d-1f393","1f9d1-1f3ff-200d-1f393"],a:"12.1"},{n:["man student","male-student"],u:"1f468-200d-1f393",v:["1f468-1f3fb-200d-1f393","1f468-1f3fc-200d-1f393","1f468-1f3fd-200d-1f393","1f468-1f3fe-200d-1f393","1f468-1f3ff-200d-1f393"],a:"4.0"},{n:["woman student","female-student"],u:"1f469-200d-1f393",v:["1f469-1f3fb-200d-1f393","1f469-1f3fc-200d-1f393","1f469-1f3fd-200d-1f393","1f469-1f3fe-200d-1f393","1f469-1f3ff-200d-1f393"],a:"4.0"},{n:["teacher"],u:"1f9d1-200d-1f3eb",v:["1f9d1-1f3fb-200d-1f3eb","1f9d1-1f3fc-200d-1f3eb","1f9d1-1f3fd-200d-1f3eb","1f9d1-1f3fe-200d-1f3eb","1f9d1-1f3ff-200d-1f3eb"],a:"12.1"},{n:["man teacher","male-teacher"],u:"1f468-200d-1f3eb",v:["1f468-1f3fb-200d-1f3eb","1f468-1f3fc-200d-1f3eb","1f468-1f3fd-200d-1f3eb","1f468-1f3fe-200d-1f3eb","1f468-1f3ff-200d-1f3eb"],a:"4.0"},{n:["woman teacher","female-teacher"],u:"1f469-200d-1f3eb",v:["1f469-1f3fb-200d-1f3eb","1f469-1f3fc-200d-1f3eb","1f469-1f3fd-200d-1f3eb","1f469-1f3fe-200d-1f3eb","1f469-1f3ff-200d-1f3eb"],a:"4.0"},{n:["judge"],u:"1f9d1-200d-2696-fe0f",v:["1f9d1-1f3fb-200d-2696-fe0f","1f9d1-1f3fc-200d-2696-fe0f","1f9d1-1f3fd-200d-2696-fe0f","1f9d1-1f3fe-200d-2696-fe0f","1f9d1-1f3ff-200d-2696-fe0f"],a:"12.1"},{n:["man judge","male-judge"],u:"1f468-200d-2696-fe0f",v:["1f468-1f3fb-200d-2696-fe0f","1f468-1f3fc-200d-2696-fe0f","1f468-1f3fd-200d-2696-fe0f","1f468-1f3fe-200d-2696-fe0f","1f468-1f3ff-200d-2696-fe0f"],a:"4.0"},{n:["woman judge","female-judge"],u:"1f469-200d-2696-fe0f",v:["1f469-1f3fb-200d-2696-fe0f","1f469-1f3fc-200d-2696-fe0f","1f469-1f3fd-200d-2696-fe0f","1f469-1f3fe-200d-2696-fe0f","1f469-1f3ff-200d-2696-fe0f"],a:"4.0"},{n:["farmer"],u:"1f9d1-200d-1f33e",v:["1f9d1-1f3fb-200d-1f33e","1f9d1-1f3fc-200d-1f33e","1f9d1-1f3fd-200d-1f33e","1f9d1-1f3fe-200d-1f33e","1f9d1-1f3ff-200d-1f33e"],a:"12.1"},{n:["man farmer","male-farmer"],u:"1f468-200d-1f33e",v:["1f468-1f3fb-200d-1f33e","1f468-1f3fc-200d-1f33e","1f468-1f3fd-200d-1f33e","1f468-1f3fe-200d-1f33e","1f468-1f3ff-200d-1f33e"],a:"4.0"},{n:["woman farmer","female-farmer"],u:"1f469-200d-1f33e",v:["1f469-1f3fb-200d-1f33e","1f469-1f3fc-200d-1f33e","1f469-1f3fd-200d-1f33e","1f469-1f3fe-200d-1f33e","1f469-1f3ff-200d-1f33e"],a:"4.0"},{n:["cook"],u:"1f9d1-200d-1f373",v:["1f9d1-1f3fb-200d-1f373","1f9d1-1f3fc-200d-1f373","1f9d1-1f3fd-200d-1f373","1f9d1-1f3fe-200d-1f373","1f9d1-1f3ff-200d-1f373"],a:"12.1"},{n:["man cook","male-cook"],u:"1f468-200d-1f373",v:["1f468-1f3fb-200d-1f373","1f468-1f3fc-200d-1f373","1f468-1f3fd-200d-1f373","1f468-1f3fe-200d-1f373","1f468-1f3ff-200d-1f373"],a:"4.0"},{n:["woman cook","female-cook"],u:"1f469-200d-1f373",v:["1f469-1f3fb-200d-1f373","1f469-1f3fc-200d-1f373","1f469-1f3fd-200d-1f373","1f469-1f3fe-200d-1f373","1f469-1f3ff-200d-1f373"],a:"4.0"},{n:["mechanic"],u:"1f9d1-200d-1f527",v:["1f9d1-1f3fb-200d-1f527","1f9d1-1f3fc-200d-1f527","1f9d1-1f3fd-200d-1f527","1f9d1-1f3fe-200d-1f527","1f9d1-1f3ff-200d-1f527"],a:"12.1"},{n:["man mechanic","male-mechanic"],u:"1f468-200d-1f527",v:["1f468-1f3fb-200d-1f527","1f468-1f3fc-200d-1f527","1f468-1f3fd-200d-1f527","1f468-1f3fe-200d-1f527","1f468-1f3ff-200d-1f527"],a:"4.0"},{n:["woman mechanic","female-mechanic"],u:"1f469-200d-1f527",v:["1f469-1f3fb-200d-1f527","1f469-1f3fc-200d-1f527","1f469-1f3fd-200d-1f527","1f469-1f3fe-200d-1f527","1f469-1f3ff-200d-1f527"],a:"4.0"},{n:["factory worker"],u:"1f9d1-200d-1f3ed",v:["1f9d1-1f3fb-200d-1f3ed","1f9d1-1f3fc-200d-1f3ed","1f9d1-1f3fd-200d-1f3ed","1f9d1-1f3fe-200d-1f3ed","1f9d1-1f3ff-200d-1f3ed"],a:"12.1"},{n:["man factory worker","male-factory-worker"],u:"1f468-200d-1f3ed",v:["1f468-1f3fb-200d-1f3ed","1f468-1f3fc-200d-1f3ed","1f468-1f3fd-200d-1f3ed","1f468-1f3fe-200d-1f3ed","1f468-1f3ff-200d-1f3ed"],a:"4.0"},{n:["woman factory worker","female-factory-worker"],u:"1f469-200d-1f3ed",v:["1f469-1f3fb-200d-1f3ed","1f469-1f3fc-200d-1f3ed","1f469-1f3fd-200d-1f3ed","1f469-1f3fe-200d-1f3ed","1f469-1f3ff-200d-1f3ed"],a:"4.0"},{n:["office worker"],u:"1f9d1-200d-1f4bc",v:["1f9d1-1f3fb-200d-1f4bc","1f9d1-1f3fc-200d-1f4bc","1f9d1-1f3fd-200d-1f4bc","1f9d1-1f3fe-200d-1f4bc","1f9d1-1f3ff-200d-1f4bc"],a:"12.1"},{n:["man office worker","male-office-worker"],u:"1f468-200d-1f4bc",v:["1f468-1f3fb-200d-1f4bc","1f468-1f3fc-200d-1f4bc","1f468-1f3fd-200d-1f4bc","1f468-1f3fe-200d-1f4bc","1f468-1f3ff-200d-1f4bc"],a:"4.0"},{n:["woman office worker","female-office-worker"],u:"1f469-200d-1f4bc",v:["1f469-1f3fb-200d-1f4bc","1f469-1f3fc-200d-1f4bc","1f469-1f3fd-200d-1f4bc","1f469-1f3fe-200d-1f4bc","1f469-1f3ff-200d-1f4bc"],a:"4.0"},{n:["scientist"],u:"1f9d1-200d-1f52c",v:["1f9d1-1f3fb-200d-1f52c","1f9d1-1f3fc-200d-1f52c","1f9d1-1f3fd-200d-1f52c","1f9d1-1f3fe-200d-1f52c","1f9d1-1f3ff-200d-1f52c"],a:"12.1"},{n:["man scientist","male-scientist"],u:"1f468-200d-1f52c",v:["1f468-1f3fb-200d-1f52c","1f468-1f3fc-200d-1f52c","1f468-1f3fd-200d-1f52c","1f468-1f3fe-200d-1f52c","1f468-1f3ff-200d-1f52c"],a:"4.0"},{n:["woman scientist","female-scientist"],u:"1f469-200d-1f52c",v:["1f469-1f3fb-200d-1f52c","1f469-1f3fc-200d-1f52c","1f469-1f3fd-200d-1f52c","1f469-1f3fe-200d-1f52c","1f469-1f3ff-200d-1f52c"],a:"4.0"},{n:["technologist"],u:"1f9d1-200d-1f4bb",v:["1f9d1-1f3fb-200d-1f4bb","1f9d1-1f3fc-200d-1f4bb","1f9d1-1f3fd-200d-1f4bb","1f9d1-1f3fe-200d-1f4bb","1f9d1-1f3ff-200d-1f4bb"],a:"12.1"},{n:["man technologist","male-technologist"],u:"1f468-200d-1f4bb",v:["1f468-1f3fb-200d-1f4bb","1f468-1f3fc-200d-1f4bb","1f468-1f3fd-200d-1f4bb","1f468-1f3fe-200d-1f4bb","1f468-1f3ff-200d-1f4bb"],a:"4.0"},{n:["woman technologist","female-technologist"],u:"1f469-200d-1f4bb",v:["1f469-1f3fb-200d-1f4bb","1f469-1f3fc-200d-1f4bb","1f469-1f3fd-200d-1f4bb","1f469-1f3fe-200d-1f4bb","1f469-1f3ff-200d-1f4bb"],a:"4.0"},{n:["singer"],u:"1f9d1-200d-1f3a4",v:["1f9d1-1f3fb-200d-1f3a4","1f9d1-1f3fc-200d-1f3a4","1f9d1-1f3fd-200d-1f3a4","1f9d1-1f3fe-200d-1f3a4","1f9d1-1f3ff-200d-1f3a4"],a:"12.1"},{n:["man singer","male-singer"],u:"1f468-200d-1f3a4",v:["1f468-1f3fb-200d-1f3a4","1f468-1f3fc-200d-1f3a4","1f468-1f3fd-200d-1f3a4","1f468-1f3fe-200d-1f3a4","1f468-1f3ff-200d-1f3a4"],a:"4.0"},{n:["woman singer","female-singer"],u:"1f469-200d-1f3a4",v:["1f469-1f3fb-200d-1f3a4","1f469-1f3fc-200d-1f3a4","1f469-1f3fd-200d-1f3a4","1f469-1f3fe-200d-1f3a4","1f469-1f3ff-200d-1f3a4"],a:"4.0"},{n:["artist"],u:"1f9d1-200d-1f3a8",v:["1f9d1-1f3fb-200d-1f3a8","1f9d1-1f3fc-200d-1f3a8","1f9d1-1f3fd-200d-1f3a8","1f9d1-1f3fe-200d-1f3a8","1f9d1-1f3ff-200d-1f3a8"],a:"12.1"},{n:["man artist","male-artist"],u:"1f468-200d-1f3a8",v:["1f468-1f3fb-200d-1f3a8","1f468-1f3fc-200d-1f3a8","1f468-1f3fd-200d-1f3a8","1f468-1f3fe-200d-1f3a8","1f468-1f3ff-200d-1f3a8"],a:"4.0"},{n:["woman artist","female-artist"],u:"1f469-200d-1f3a8",v:["1f469-1f3fb-200d-1f3a8","1f469-1f3fc-200d-1f3a8","1f469-1f3fd-200d-1f3a8","1f469-1f3fe-200d-1f3a8","1f469-1f3ff-200d-1f3a8"],a:"4.0"},{n:["pilot"],u:"1f9d1-200d-2708-fe0f",v:["1f9d1-1f3fb-200d-2708-fe0f","1f9d1-1f3fc-200d-2708-fe0f","1f9d1-1f3fd-200d-2708-fe0f","1f9d1-1f3fe-200d-2708-fe0f","1f9d1-1f3ff-200d-2708-fe0f"],a:"12.1"},{n:["man pilot","male-pilot"],u:"1f468-200d-2708-fe0f",v:["1f468-1f3fb-200d-2708-fe0f","1f468-1f3fc-200d-2708-fe0f","1f468-1f3fd-200d-2708-fe0f","1f468-1f3fe-200d-2708-fe0f","1f468-1f3ff-200d-2708-fe0f"],a:"4.0"},{n:["woman pilot","female-pilot"],u:"1f469-200d-2708-fe0f",v:["1f469-1f3fb-200d-2708-fe0f","1f469-1f3fc-200d-2708-fe0f","1f469-1f3fd-200d-2708-fe0f","1f469-1f3fe-200d-2708-fe0f","1f469-1f3ff-200d-2708-fe0f"],a:"4.0"},{n:["astronaut"],u:"1f9d1-200d-1f680",v:["1f9d1-1f3fb-200d-1f680","1f9d1-1f3fc-200d-1f680","1f9d1-1f3fd-200d-1f680","1f9d1-1f3fe-200d-1f680","1f9d1-1f3ff-200d-1f680"],a:"12.1"},{n:["man astronaut","male-astronaut"],u:"1f468-200d-1f680",v:["1f468-1f3fb-200d-1f680","1f468-1f3fc-200d-1f680","1f468-1f3fd-200d-1f680","1f468-1f3fe-200d-1f680","1f468-1f3ff-200d-1f680"],a:"4.0"},{n:["woman astronaut","female-astronaut"],u:"1f469-200d-1f680",v:["1f469-1f3fb-200d-1f680","1f469-1f3fc-200d-1f680","1f469-1f3fd-200d-1f680","1f469-1f3fe-200d-1f680","1f469-1f3ff-200d-1f680"],a:"4.0"},{n:["firefighter"],u:"1f9d1-200d-1f692",v:["1f9d1-1f3fb-200d-1f692","1f9d1-1f3fc-200d-1f692","1f9d1-1f3fd-200d-1f692","1f9d1-1f3fe-200d-1f692","1f9d1-1f3ff-200d-1f692"],a:"12.1"},{n:["man firefighter","male-firefighter"],u:"1f468-200d-1f692",v:["1f468-1f3fb-200d-1f692","1f468-1f3fc-200d-1f692","1f468-1f3fd-200d-1f692","1f468-1f3fe-200d-1f692","1f468-1f3ff-200d-1f692"],a:"4.0"},{n:["woman firefighter","female-firefighter"],u:"1f469-200d-1f692",v:["1f469-1f3fb-200d-1f692","1f469-1f3fc-200d-1f692","1f469-1f3fd-200d-1f692","1f469-1f3fe-200d-1f692","1f469-1f3ff-200d-1f692"],a:"4.0"},{n:["cop","police officer"],u:"1f46e",v:["1f46e-1f3fb","1f46e-1f3fc","1f46e-1f3fd","1f46e-1f3fe","1f46e-1f3ff"],a:"0.6"},{n:["man police officer","male-police-officer"],u:"1f46e-200d-2642-fe0f",v:["1f46e-1f3fb-200d-2642-fe0f","1f46e-1f3fc-200d-2642-fe0f","1f46e-1f3fd-200d-2642-fe0f","1f46e-1f3fe-200d-2642-fe0f","1f46e-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman police officer","female-police-officer"],u:"1f46e-200d-2640-fe0f",v:["1f46e-1f3fb-200d-2640-fe0f","1f46e-1f3fc-200d-2640-fe0f","1f46e-1f3fd-200d-2640-fe0f","1f46e-1f3fe-200d-2640-fe0f","1f46e-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["detective","sleuth or spy"],u:"1f575-fe0f",v:["1f575-1f3fb","1f575-1f3fc","1f575-1f3fd","1f575-1f3fe","1f575-1f3ff"],a:"0.7"},{n:["man detective","male-detective"],u:"1f575-fe0f-200d-2642-fe0f",v:["1f575-1f3fb-200d-2642-fe0f","1f575-1f3fc-200d-2642-fe0f","1f575-1f3fd-200d-2642-fe0f","1f575-1f3fe-200d-2642-fe0f","1f575-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman detective","female-detective"],u:"1f575-fe0f-200d-2640-fe0f",v:["1f575-1f3fb-200d-2640-fe0f","1f575-1f3fc-200d-2640-fe0f","1f575-1f3fd-200d-2640-fe0f","1f575-1f3fe-200d-2640-fe0f","1f575-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["guardsman"],u:"1f482",v:["1f482-1f3fb","1f482-1f3fc","1f482-1f3fd","1f482-1f3fe","1f482-1f3ff"],a:"0.6"},{n:["man guard","male-guard"],u:"1f482-200d-2642-fe0f",v:["1f482-1f3fb-200d-2642-fe0f","1f482-1f3fc-200d-2642-fe0f","1f482-1f3fd-200d-2642-fe0f","1f482-1f3fe-200d-2642-fe0f","1f482-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman guard","female-guard"],u:"1f482-200d-2640-fe0f",v:["1f482-1f3fb-200d-2640-fe0f","1f482-1f3fc-200d-2640-fe0f","1f482-1f3fd-200d-2640-fe0f","1f482-1f3fe-200d-2640-fe0f","1f482-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["ninja"],u:"1f977",v:["1f977-1f3fb","1f977-1f3fc","1f977-1f3fd","1f977-1f3fe","1f977-1f3ff"],a:"13.0"},{n:["construction worker"],u:"1f477",v:["1f477-1f3fb","1f477-1f3fc","1f477-1f3fd","1f477-1f3fe","1f477-1f3ff"],a:"0.6"},{n:["man construction worker","male-construction-worker"],u:"1f477-200d-2642-fe0f",v:["1f477-1f3fb-200d-2642-fe0f","1f477-1f3fc-200d-2642-fe0f","1f477-1f3fd-200d-2642-fe0f","1f477-1f3fe-200d-2642-fe0f","1f477-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman construction worker","female-construction-worker"],u:"1f477-200d-2640-fe0f",v:["1f477-1f3fb-200d-2640-fe0f","1f477-1f3fc-200d-2640-fe0f","1f477-1f3fd-200d-2640-fe0f","1f477-1f3fe-200d-2640-fe0f","1f477-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person with crown"],u:"1fac5",v:["1fac5-1f3fb","1fac5-1f3fc","1fac5-1f3fd","1fac5-1f3fe","1fac5-1f3ff"],a:"14.0"},{n:["prince"],u:"1f934",v:["1f934-1f3fb","1f934-1f3fc","1f934-1f3fd","1f934-1f3fe","1f934-1f3ff"],a:"3.0"},{n:["princess"],u:"1f478",v:["1f478-1f3fb","1f478-1f3fc","1f478-1f3fd","1f478-1f3fe","1f478-1f3ff"],a:"0.6"},{n:["man with turban"],u:"1f473",v:["1f473-1f3fb","1f473-1f3fc","1f473-1f3fd","1f473-1f3fe","1f473-1f3ff"],a:"0.6"},{n:["man wearing turban","man-wearing-turban"],u:"1f473-200d-2642-fe0f",v:["1f473-1f3fb-200d-2642-fe0f","1f473-1f3fc-200d-2642-fe0f","1f473-1f3fd-200d-2642-fe0f","1f473-1f3fe-200d-2642-fe0f","1f473-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman wearing turban","woman-wearing-turban"],u:"1f473-200d-2640-fe0f",v:["1f473-1f3fb-200d-2640-fe0f","1f473-1f3fc-200d-2640-fe0f","1f473-1f3fd-200d-2640-fe0f","1f473-1f3fe-200d-2640-fe0f","1f473-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["man with gua pi mao"],u:"1f472",v:["1f472-1f3fb","1f472-1f3fc","1f472-1f3fd","1f472-1f3fe","1f472-1f3ff"],a:"0.6"},{n:["person with headscarf"],u:"1f9d5",v:["1f9d5-1f3fb","1f9d5-1f3fc","1f9d5-1f3fd","1f9d5-1f3fe","1f9d5-1f3ff"],a:"5.0"},{n:["man in tuxedo","person in tuxedo"],u:"1f935",v:["1f935-1f3fb","1f935-1f3fc","1f935-1f3fd","1f935-1f3fe","1f935-1f3ff"],a:"3.0"},{n:["man in tuxedo"],u:"1f935-200d-2642-fe0f",v:["1f935-1f3fb-200d-2642-fe0f","1f935-1f3fc-200d-2642-fe0f","1f935-1f3fd-200d-2642-fe0f","1f935-1f3fe-200d-2642-fe0f","1f935-1f3ff-200d-2642-fe0f"],a:"13.0"},{n:["woman in tuxedo"],u:"1f935-200d-2640-fe0f",v:["1f935-1f3fb-200d-2640-fe0f","1f935-1f3fc-200d-2640-fe0f","1f935-1f3fd-200d-2640-fe0f","1f935-1f3fe-200d-2640-fe0f","1f935-1f3ff-200d-2640-fe0f"],a:"13.0"},{n:["bride with veil"],u:"1f470",v:["1f470-1f3fb","1f470-1f3fc","1f470-1f3fd","1f470-1f3fe","1f470-1f3ff"],a:"0.6"},{n:["man with veil"],u:"1f470-200d-2642-fe0f",v:["1f470-1f3fb-200d-2642-fe0f","1f470-1f3fc-200d-2642-fe0f","1f470-1f3fd-200d-2642-fe0f","1f470-1f3fe-200d-2642-fe0f","1f470-1f3ff-200d-2642-fe0f"],a:"13.0"},{n:["woman with veil"],u:"1f470-200d-2640-fe0f",v:["1f470-1f3fb-200d-2640-fe0f","1f470-1f3fc-200d-2640-fe0f","1f470-1f3fd-200d-2640-fe0f","1f470-1f3fe-200d-2640-fe0f","1f470-1f3ff-200d-2640-fe0f"],a:"13.0"},{n:["pregnant woman"],u:"1f930",v:["1f930-1f3fb","1f930-1f3fc","1f930-1f3fd","1f930-1f3fe","1f930-1f3ff"],a:"3.0"},{n:["pregnant man"],u:"1fac3",v:["1fac3-1f3fb","1fac3-1f3fc","1fac3-1f3fd","1fac3-1f3fe","1fac3-1f3ff"],a:"14.0"},{n:["pregnant person"],u:"1fac4",v:["1fac4-1f3fb","1fac4-1f3fc","1fac4-1f3fd","1fac4-1f3fe","1fac4-1f3ff"],a:"14.0"},{n:["breast-feeding"],u:"1f931",v:["1f931-1f3fb","1f931-1f3fc","1f931-1f3fd","1f931-1f3fe","1f931-1f3ff"],a:"5.0"},{n:["woman feeding baby"],u:"1f469-200d-1f37c",v:["1f469-1f3fb-200d-1f37c","1f469-1f3fc-200d-1f37c","1f469-1f3fd-200d-1f37c","1f469-1f3fe-200d-1f37c","1f469-1f3ff-200d-1f37c"],a:"13.0"},{n:["man feeding baby"],u:"1f468-200d-1f37c",v:["1f468-1f3fb-200d-1f37c","1f468-1f3fc-200d-1f37c","1f468-1f3fd-200d-1f37c","1f468-1f3fe-200d-1f37c","1f468-1f3ff-200d-1f37c"],a:"13.0"},{n:["person feeding baby"],u:"1f9d1-200d-1f37c",v:["1f9d1-1f3fb-200d-1f37c","1f9d1-1f3fc-200d-1f37c","1f9d1-1f3fd-200d-1f37c","1f9d1-1f3fe-200d-1f37c","1f9d1-1f3ff-200d-1f37c"],a:"13.0"},{n:["angel","baby angel"],u:"1f47c",v:["1f47c-1f3fb","1f47c-1f3fc","1f47c-1f3fd","1f47c-1f3fe","1f47c-1f3ff"],a:"0.6"},{n:["santa","father christmas"],u:"1f385",v:["1f385-1f3fb","1f385-1f3fc","1f385-1f3fd","1f385-1f3fe","1f385-1f3ff"],a:"0.6"},{n:["mrs claus","mother christmas"],u:"1f936",v:["1f936-1f3fb","1f936-1f3fc","1f936-1f3fd","1f936-1f3fe","1f936-1f3ff"],a:"3.0"},{n:["mx claus"],u:"1f9d1-200d-1f384",v:["1f9d1-1f3fb-200d-1f384","1f9d1-1f3fc-200d-1f384","1f9d1-1f3fd-200d-1f384","1f9d1-1f3fe-200d-1f384","1f9d1-1f3ff-200d-1f384"],a:"13.0"},{n:["superhero"],u:"1f9b8",v:["1f9b8-1f3fb","1f9b8-1f3fc","1f9b8-1f3fd","1f9b8-1f3fe","1f9b8-1f3ff"],a:"11.0"},{n:["man superhero","male superhero"],u:"1f9b8-200d-2642-fe0f",v:["1f9b8-1f3fb-200d-2642-fe0f","1f9b8-1f3fc-200d-2642-fe0f","1f9b8-1f3fd-200d-2642-fe0f","1f9b8-1f3fe-200d-2642-fe0f","1f9b8-1f3ff-200d-2642-fe0f"],a:"11.0"},{n:["woman superhero","female superhero"],u:"1f9b8-200d-2640-fe0f",v:["1f9b8-1f3fb-200d-2640-fe0f","1f9b8-1f3fc-200d-2640-fe0f","1f9b8-1f3fd-200d-2640-fe0f","1f9b8-1f3fe-200d-2640-fe0f","1f9b8-1f3ff-200d-2640-fe0f"],a:"11.0"},{n:["supervillain"],u:"1f9b9",v:["1f9b9-1f3fb","1f9b9-1f3fc","1f9b9-1f3fd","1f9b9-1f3fe","1f9b9-1f3ff"],a:"11.0"},{n:["man supervillain","male supervillain"],u:"1f9b9-200d-2642-fe0f",v:["1f9b9-1f3fb-200d-2642-fe0f","1f9b9-1f3fc-200d-2642-fe0f","1f9b9-1f3fd-200d-2642-fe0f","1f9b9-1f3fe-200d-2642-fe0f","1f9b9-1f3ff-200d-2642-fe0f"],a:"11.0"},{n:["woman supervillain","female supervillain"],u:"1f9b9-200d-2640-fe0f",v:["1f9b9-1f3fb-200d-2640-fe0f","1f9b9-1f3fc-200d-2640-fe0f","1f9b9-1f3fd-200d-2640-fe0f","1f9b9-1f3fe-200d-2640-fe0f","1f9b9-1f3ff-200d-2640-fe0f"],a:"11.0"},{n:["mage"],u:"1f9d9",v:["1f9d9-1f3fb","1f9d9-1f3fc","1f9d9-1f3fd","1f9d9-1f3fe","1f9d9-1f3ff"],a:"5.0"},{n:["man mage","male mage"],u:"1f9d9-200d-2642-fe0f",v:["1f9d9-1f3fb-200d-2642-fe0f","1f9d9-1f3fc-200d-2642-fe0f","1f9d9-1f3fd-200d-2642-fe0f","1f9d9-1f3fe-200d-2642-fe0f","1f9d9-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman mage","female mage"],u:"1f9d9-200d-2640-fe0f",v:["1f9d9-1f3fb-200d-2640-fe0f","1f9d9-1f3fc-200d-2640-fe0f","1f9d9-1f3fd-200d-2640-fe0f","1f9d9-1f3fe-200d-2640-fe0f","1f9d9-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["fairy"],u:"1f9da",v:["1f9da-1f3fb","1f9da-1f3fc","1f9da-1f3fd","1f9da-1f3fe","1f9da-1f3ff"],a:"5.0"},{n:["man fairy","male fairy"],u:"1f9da-200d-2642-fe0f",v:["1f9da-1f3fb-200d-2642-fe0f","1f9da-1f3fc-200d-2642-fe0f","1f9da-1f3fd-200d-2642-fe0f","1f9da-1f3fe-200d-2642-fe0f","1f9da-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman fairy","female fairy"],u:"1f9da-200d-2640-fe0f",v:["1f9da-1f3fb-200d-2640-fe0f","1f9da-1f3fc-200d-2640-fe0f","1f9da-1f3fd-200d-2640-fe0f","1f9da-1f3fe-200d-2640-fe0f","1f9da-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["vampire"],u:"1f9db",v:["1f9db-1f3fb","1f9db-1f3fc","1f9db-1f3fd","1f9db-1f3fe","1f9db-1f3ff"],a:"5.0"},{n:["man vampire","male vampire"],u:"1f9db-200d-2642-fe0f",v:["1f9db-1f3fb-200d-2642-fe0f","1f9db-1f3fc-200d-2642-fe0f","1f9db-1f3fd-200d-2642-fe0f","1f9db-1f3fe-200d-2642-fe0f","1f9db-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman vampire","female vampire"],u:"1f9db-200d-2640-fe0f",v:["1f9db-1f3fb-200d-2640-fe0f","1f9db-1f3fc-200d-2640-fe0f","1f9db-1f3fd-200d-2640-fe0f","1f9db-1f3fe-200d-2640-fe0f","1f9db-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["merperson"],u:"1f9dc",v:["1f9dc-1f3fb","1f9dc-1f3fc","1f9dc-1f3fd","1f9dc-1f3fe","1f9dc-1f3ff"],a:"5.0"},{n:["merman"],u:"1f9dc-200d-2642-fe0f",v:["1f9dc-1f3fb-200d-2642-fe0f","1f9dc-1f3fc-200d-2642-fe0f","1f9dc-1f3fd-200d-2642-fe0f","1f9dc-1f3fe-200d-2642-fe0f","1f9dc-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["mermaid"],u:"1f9dc-200d-2640-fe0f",v:["1f9dc-1f3fb-200d-2640-fe0f","1f9dc-1f3fc-200d-2640-fe0f","1f9dc-1f3fd-200d-2640-fe0f","1f9dc-1f3fe-200d-2640-fe0f","1f9dc-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["elf"],u:"1f9dd",v:["1f9dd-1f3fb","1f9dd-1f3fc","1f9dd-1f3fd","1f9dd-1f3fe","1f9dd-1f3ff"],a:"5.0"},{n:["man elf","male elf"],u:"1f9dd-200d-2642-fe0f",v:["1f9dd-1f3fb-200d-2642-fe0f","1f9dd-1f3fc-200d-2642-fe0f","1f9dd-1f3fd-200d-2642-fe0f","1f9dd-1f3fe-200d-2642-fe0f","1f9dd-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman elf","female elf"],u:"1f9dd-200d-2640-fe0f",v:["1f9dd-1f3fb-200d-2640-fe0f","1f9dd-1f3fc-200d-2640-fe0f","1f9dd-1f3fd-200d-2640-fe0f","1f9dd-1f3fe-200d-2640-fe0f","1f9dd-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["genie"],u:"1f9de",a:"5.0"},{n:["man genie","male genie"],u:"1f9de-200d-2642-fe0f",a:"5.0"},{n:["woman genie","female genie"],u:"1f9de-200d-2640-fe0f",a:"5.0"},{n:["zombie"],u:"1f9df",a:"5.0"},{n:["man zombie","male zombie"],u:"1f9df-200d-2642-fe0f",a:"5.0"},{n:["woman zombie","female zombie"],u:"1f9df-200d-2640-fe0f",a:"5.0"},{n:["troll"],u:"1f9cc",a:"14.0"},{n:["massage","face massage"],u:"1f486",v:["1f486-1f3fb","1f486-1f3fc","1f486-1f3fd","1f486-1f3fe","1f486-1f3ff"],a:"0.6"},{n:["man getting massage","man-getting-massage"],u:"1f486-200d-2642-fe0f",v:["1f486-1f3fb-200d-2642-fe0f","1f486-1f3fc-200d-2642-fe0f","1f486-1f3fd-200d-2642-fe0f","1f486-1f3fe-200d-2642-fe0f","1f486-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman getting massage","woman-getting-massage"],u:"1f486-200d-2640-fe0f",v:["1f486-1f3fb-200d-2640-fe0f","1f486-1f3fc-200d-2640-fe0f","1f486-1f3fd-200d-2640-fe0f","1f486-1f3fe-200d-2640-fe0f","1f486-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["haircut"],u:"1f487",v:["1f487-1f3fb","1f487-1f3fc","1f487-1f3fd","1f487-1f3fe","1f487-1f3ff"],a:"0.6"},{n:["man getting haircut","man-getting-haircut"],u:"1f487-200d-2642-fe0f",v:["1f487-1f3fb-200d-2642-fe0f","1f487-1f3fc-200d-2642-fe0f","1f487-1f3fd-200d-2642-fe0f","1f487-1f3fe-200d-2642-fe0f","1f487-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman getting haircut","woman-getting-haircut"],u:"1f487-200d-2640-fe0f",v:["1f487-1f3fb-200d-2640-fe0f","1f487-1f3fc-200d-2640-fe0f","1f487-1f3fd-200d-2640-fe0f","1f487-1f3fe-200d-2640-fe0f","1f487-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["walking","pedestrian"],u:"1f6b6",v:["1f6b6-1f3fb","1f6b6-1f3fc","1f6b6-1f3fd","1f6b6-1f3fe","1f6b6-1f3ff"],a:"0.6"},{n:["man walking","man-walking"],u:"1f6b6-200d-2642-fe0f",v:["1f6b6-1f3fb-200d-2642-fe0f","1f6b6-1f3fc-200d-2642-fe0f","1f6b6-1f3fd-200d-2642-fe0f","1f6b6-1f3fe-200d-2642-fe0f","1f6b6-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman walking","woman-walking"],u:"1f6b6-200d-2640-fe0f",v:["1f6b6-1f3fb-200d-2640-fe0f","1f6b6-1f3fc-200d-2640-fe0f","1f6b6-1f3fd-200d-2640-fe0f","1f6b6-1f3fe-200d-2640-fe0f","1f6b6-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["standing person"],u:"1f9cd",v:["1f9cd-1f3fb","1f9cd-1f3fc","1f9cd-1f3fd","1f9cd-1f3fe","1f9cd-1f3ff"],a:"12.0"},{n:["man standing"],u:"1f9cd-200d-2642-fe0f",v:["1f9cd-1f3fb-200d-2642-fe0f","1f9cd-1f3fc-200d-2642-fe0f","1f9cd-1f3fd-200d-2642-fe0f","1f9cd-1f3fe-200d-2642-fe0f","1f9cd-1f3ff-200d-2642-fe0f"],a:"12.0"},{n:["woman standing"],u:"1f9cd-200d-2640-fe0f",v:["1f9cd-1f3fb-200d-2640-fe0f","1f9cd-1f3fc-200d-2640-fe0f","1f9cd-1f3fd-200d-2640-fe0f","1f9cd-1f3fe-200d-2640-fe0f","1f9cd-1f3ff-200d-2640-fe0f"],a:"12.0"},{n:["kneeling person"],u:"1f9ce",v:["1f9ce-1f3fb","1f9ce-1f3fc","1f9ce-1f3fd","1f9ce-1f3fe","1f9ce-1f3ff"],a:"12.0"},{n:["man kneeling"],u:"1f9ce-200d-2642-fe0f",v:["1f9ce-1f3fb-200d-2642-fe0f","1f9ce-1f3fc-200d-2642-fe0f","1f9ce-1f3fd-200d-2642-fe0f","1f9ce-1f3fe-200d-2642-fe0f","1f9ce-1f3ff-200d-2642-fe0f"],a:"12.0"},{n:["woman kneeling"],u:"1f9ce-200d-2640-fe0f",v:["1f9ce-1f3fb-200d-2640-fe0f","1f9ce-1f3fc-200d-2640-fe0f","1f9ce-1f3fd-200d-2640-fe0f","1f9ce-1f3fe-200d-2640-fe0f","1f9ce-1f3ff-200d-2640-fe0f"],a:"12.0"},{n:["person with white cane","person with probing cane"],u:"1f9d1-200d-1f9af",v:["1f9d1-1f3fb-200d-1f9af","1f9d1-1f3fc-200d-1f9af","1f9d1-1f3fd-200d-1f9af","1f9d1-1f3fe-200d-1f9af","1f9d1-1f3ff-200d-1f9af"],a:"12.1"},{n:["man with white cane","man with probing cane"],u:"1f468-200d-1f9af",v:["1f468-1f3fb-200d-1f9af","1f468-1f3fc-200d-1f9af","1f468-1f3fd-200d-1f9af","1f468-1f3fe-200d-1f9af","1f468-1f3ff-200d-1f9af"],a:"12.0"},{n:["woman with white cane","woman with probing cane"],u:"1f469-200d-1f9af",v:["1f469-1f3fb-200d-1f9af","1f469-1f3fc-200d-1f9af","1f469-1f3fd-200d-1f9af","1f469-1f3fe-200d-1f9af","1f469-1f3ff-200d-1f9af"],a:"12.0"},{n:["person in motorized wheelchair"],u:"1f9d1-200d-1f9bc",v:["1f9d1-1f3fb-200d-1f9bc","1f9d1-1f3fc-200d-1f9bc","1f9d1-1f3fd-200d-1f9bc","1f9d1-1f3fe-200d-1f9bc","1f9d1-1f3ff-200d-1f9bc"],a:"12.1"},{n:["man in motorized wheelchair"],u:"1f468-200d-1f9bc",v:["1f468-1f3fb-200d-1f9bc","1f468-1f3fc-200d-1f9bc","1f468-1f3fd-200d-1f9bc","1f468-1f3fe-200d-1f9bc","1f468-1f3ff-200d-1f9bc"],a:"12.0"},{n:["woman in motorized wheelchair"],u:"1f469-200d-1f9bc",v:["1f469-1f3fb-200d-1f9bc","1f469-1f3fc-200d-1f9bc","1f469-1f3fd-200d-1f9bc","1f469-1f3fe-200d-1f9bc","1f469-1f3ff-200d-1f9bc"],a:"12.0"},{n:["person in manual wheelchair"],u:"1f9d1-200d-1f9bd",v:["1f9d1-1f3fb-200d-1f9bd","1f9d1-1f3fc-200d-1f9bd","1f9d1-1f3fd-200d-1f9bd","1f9d1-1f3fe-200d-1f9bd","1f9d1-1f3ff-200d-1f9bd"],a:"12.1"},{n:["man in manual wheelchair"],u:"1f468-200d-1f9bd",v:["1f468-1f3fb-200d-1f9bd","1f468-1f3fc-200d-1f9bd","1f468-1f3fd-200d-1f9bd","1f468-1f3fe-200d-1f9bd","1f468-1f3ff-200d-1f9bd"],a:"12.0"},{n:["woman in manual wheelchair"],u:"1f469-200d-1f9bd",v:["1f469-1f3fb-200d-1f9bd","1f469-1f3fc-200d-1f9bd","1f469-1f3fd-200d-1f9bd","1f469-1f3fe-200d-1f9bd","1f469-1f3ff-200d-1f9bd"],a:"12.0"},{n:["runner","running"],u:"1f3c3",v:["1f3c3-1f3fb","1f3c3-1f3fc","1f3c3-1f3fd","1f3c3-1f3fe","1f3c3-1f3ff"],a:"0.6"},{n:["man running","man-running"],u:"1f3c3-200d-2642-fe0f",v:["1f3c3-1f3fb-200d-2642-fe0f","1f3c3-1f3fc-200d-2642-fe0f","1f3c3-1f3fd-200d-2642-fe0f","1f3c3-1f3fe-200d-2642-fe0f","1f3c3-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman running","woman-running"],u:"1f3c3-200d-2640-fe0f",v:["1f3c3-1f3fb-200d-2640-fe0f","1f3c3-1f3fc-200d-2640-fe0f","1f3c3-1f3fd-200d-2640-fe0f","1f3c3-1f3fe-200d-2640-fe0f","1f3c3-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["dancer"],u:"1f483",v:["1f483-1f3fb","1f483-1f3fc","1f483-1f3fd","1f483-1f3fe","1f483-1f3ff"],a:"0.6"},{n:["man dancing"],u:"1f57a",v:["1f57a-1f3fb","1f57a-1f3fc","1f57a-1f3fd","1f57a-1f3fe","1f57a-1f3ff"],a:"3.0"},{n:["person in suit levitating","man in business suit levitating"],u:"1f574-fe0f",v:["1f574-1f3fb","1f574-1f3fc","1f574-1f3fd","1f574-1f3fe","1f574-1f3ff"],a:"0.7"},{n:["dancers","woman with bunny ears"],u:"1f46f",a:"0.6"},{n:["men with bunny ears","men-with-bunny-ears-partying","man-with-bunny-ears-partying"],u:"1f46f-200d-2642-fe0f",a:"4.0"},{n:["women with bunny ears","women-with-bunny-ears-partying","woman-with-bunny-ears-partying"],u:"1f46f-200d-2640-fe0f",a:"4.0"},{n:["person in steamy room"],u:"1f9d6",v:["1f9d6-1f3fb","1f9d6-1f3fc","1f9d6-1f3fd","1f9d6-1f3fe","1f9d6-1f3ff"],a:"5.0"},{n:["man in steamy room"],u:"1f9d6-200d-2642-fe0f",v:["1f9d6-1f3fb-200d-2642-fe0f","1f9d6-1f3fc-200d-2642-fe0f","1f9d6-1f3fd-200d-2642-fe0f","1f9d6-1f3fe-200d-2642-fe0f","1f9d6-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman in steamy room"],u:"1f9d6-200d-2640-fe0f",v:["1f9d6-1f3fb-200d-2640-fe0f","1f9d6-1f3fc-200d-2640-fe0f","1f9d6-1f3fd-200d-2640-fe0f","1f9d6-1f3fe-200d-2640-fe0f","1f9d6-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["person climbing"],u:"1f9d7",v:["1f9d7-1f3fb","1f9d7-1f3fc","1f9d7-1f3fd","1f9d7-1f3fe","1f9d7-1f3ff"],a:"5.0"},{n:["man climbing"],u:"1f9d7-200d-2642-fe0f",v:["1f9d7-1f3fb-200d-2642-fe0f","1f9d7-1f3fc-200d-2642-fe0f","1f9d7-1f3fd-200d-2642-fe0f","1f9d7-1f3fe-200d-2642-fe0f","1f9d7-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman climbing"],u:"1f9d7-200d-2640-fe0f",v:["1f9d7-1f3fb-200d-2640-fe0f","1f9d7-1f3fc-200d-2640-fe0f","1f9d7-1f3fd-200d-2640-fe0f","1f9d7-1f3fe-200d-2640-fe0f","1f9d7-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["fencer"],u:"1f93a",a:"3.0"},{n:["horse racing"],u:"1f3c7",v:["1f3c7-1f3fb","1f3c7-1f3fc","1f3c7-1f3fd","1f3c7-1f3fe","1f3c7-1f3ff"],a:"1.0"},{n:["skier"],u:"26f7-fe0f",a:"0.7"},{n:["snowboarder"],u:"1f3c2",v:["1f3c2-1f3fb","1f3c2-1f3fc","1f3c2-1f3fd","1f3c2-1f3fe","1f3c2-1f3ff"],a:"0.6"},{n:["golfer","person golfing"],u:"1f3cc-fe0f",v:["1f3cc-1f3fb","1f3cc-1f3fc","1f3cc-1f3fd","1f3cc-1f3fe","1f3cc-1f3ff"],a:"0.7"},{n:["man golfing","man-golfing"],u:"1f3cc-fe0f-200d-2642-fe0f",v:["1f3cc-1f3fb-200d-2642-fe0f","1f3cc-1f3fc-200d-2642-fe0f","1f3cc-1f3fd-200d-2642-fe0f","1f3cc-1f3fe-200d-2642-fe0f","1f3cc-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman golfing","woman-golfing"],u:"1f3cc-fe0f-200d-2640-fe0f",v:["1f3cc-1f3fb-200d-2640-fe0f","1f3cc-1f3fc-200d-2640-fe0f","1f3cc-1f3fd-200d-2640-fe0f","1f3cc-1f3fe-200d-2640-fe0f","1f3cc-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["surfer"],u:"1f3c4",v:["1f3c4-1f3fb","1f3c4-1f3fc","1f3c4-1f3fd","1f3c4-1f3fe","1f3c4-1f3ff"],a:"0.6"},{n:["man surfing","man-surfing"],u:"1f3c4-200d-2642-fe0f",v:["1f3c4-1f3fb-200d-2642-fe0f","1f3c4-1f3fc-200d-2642-fe0f","1f3c4-1f3fd-200d-2642-fe0f","1f3c4-1f3fe-200d-2642-fe0f","1f3c4-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman surfing","woman-surfing"],u:"1f3c4-200d-2640-fe0f",v:["1f3c4-1f3fb-200d-2640-fe0f","1f3c4-1f3fc-200d-2640-fe0f","1f3c4-1f3fd-200d-2640-fe0f","1f3c4-1f3fe-200d-2640-fe0f","1f3c4-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["rowboat"],u:"1f6a3",v:["1f6a3-1f3fb","1f6a3-1f3fc","1f6a3-1f3fd","1f6a3-1f3fe","1f6a3-1f3ff"],a:"1.0"},{n:["man rowing boat","man-rowing-boat"],u:"1f6a3-200d-2642-fe0f",v:["1f6a3-1f3fb-200d-2642-fe0f","1f6a3-1f3fc-200d-2642-fe0f","1f6a3-1f3fd-200d-2642-fe0f","1f6a3-1f3fe-200d-2642-fe0f","1f6a3-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman rowing boat","woman-rowing-boat"],u:"1f6a3-200d-2640-fe0f",v:["1f6a3-1f3fb-200d-2640-fe0f","1f6a3-1f3fc-200d-2640-fe0f","1f6a3-1f3fd-200d-2640-fe0f","1f6a3-1f3fe-200d-2640-fe0f","1f6a3-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["swimmer"],u:"1f3ca",v:["1f3ca-1f3fb","1f3ca-1f3fc","1f3ca-1f3fd","1f3ca-1f3fe","1f3ca-1f3ff"],a:"0.6"},{n:["man swimming","man-swimming"],u:"1f3ca-200d-2642-fe0f",v:["1f3ca-1f3fb-200d-2642-fe0f","1f3ca-1f3fc-200d-2642-fe0f","1f3ca-1f3fd-200d-2642-fe0f","1f3ca-1f3fe-200d-2642-fe0f","1f3ca-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman swimming","woman-swimming"],u:"1f3ca-200d-2640-fe0f",v:["1f3ca-1f3fb-200d-2640-fe0f","1f3ca-1f3fc-200d-2640-fe0f","1f3ca-1f3fd-200d-2640-fe0f","1f3ca-1f3fe-200d-2640-fe0f","1f3ca-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person with ball","person bouncing ball"],u:"26f9-fe0f",v:["26f9-1f3fb","26f9-1f3fc","26f9-1f3fd","26f9-1f3fe","26f9-1f3ff"],a:"0.7"},{n:["man bouncing ball","man-bouncing-ball"],u:"26f9-fe0f-200d-2642-fe0f",v:["26f9-1f3fb-200d-2642-fe0f","26f9-1f3fc-200d-2642-fe0f","26f9-1f3fd-200d-2642-fe0f","26f9-1f3fe-200d-2642-fe0f","26f9-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman bouncing ball","woman-bouncing-ball"],u:"26f9-fe0f-200d-2640-fe0f",v:["26f9-1f3fb-200d-2640-fe0f","26f9-1f3fc-200d-2640-fe0f","26f9-1f3fd-200d-2640-fe0f","26f9-1f3fe-200d-2640-fe0f","26f9-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["weight lifter","person lifting weights"],u:"1f3cb-fe0f",v:["1f3cb-1f3fb","1f3cb-1f3fc","1f3cb-1f3fd","1f3cb-1f3fe","1f3cb-1f3ff"],a:"0.7"},{n:["man lifting weights","man-lifting-weights"],u:"1f3cb-fe0f-200d-2642-fe0f",v:["1f3cb-1f3fb-200d-2642-fe0f","1f3cb-1f3fc-200d-2642-fe0f","1f3cb-1f3fd-200d-2642-fe0f","1f3cb-1f3fe-200d-2642-fe0f","1f3cb-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman lifting weights","woman-lifting-weights"],u:"1f3cb-fe0f-200d-2640-fe0f",v:["1f3cb-1f3fb-200d-2640-fe0f","1f3cb-1f3fc-200d-2640-fe0f","1f3cb-1f3fd-200d-2640-fe0f","1f3cb-1f3fe-200d-2640-fe0f","1f3cb-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["bicyclist"],u:"1f6b4",v:["1f6b4-1f3fb","1f6b4-1f3fc","1f6b4-1f3fd","1f6b4-1f3fe","1f6b4-1f3ff"],a:"1.0"},{n:["man biking","man-biking"],u:"1f6b4-200d-2642-fe0f",v:["1f6b4-1f3fb-200d-2642-fe0f","1f6b4-1f3fc-200d-2642-fe0f","1f6b4-1f3fd-200d-2642-fe0f","1f6b4-1f3fe-200d-2642-fe0f","1f6b4-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman biking","woman-biking"],u:"1f6b4-200d-2640-fe0f",v:["1f6b4-1f3fb-200d-2640-fe0f","1f6b4-1f3fc-200d-2640-fe0f","1f6b4-1f3fd-200d-2640-fe0f","1f6b4-1f3fe-200d-2640-fe0f","1f6b4-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["mountain bicyclist"],u:"1f6b5",v:["1f6b5-1f3fb","1f6b5-1f3fc","1f6b5-1f3fd","1f6b5-1f3fe","1f6b5-1f3ff"],a:"1.0"},{n:["man mountain biking","man-mountain-biking"],u:"1f6b5-200d-2642-fe0f",v:["1f6b5-1f3fb-200d-2642-fe0f","1f6b5-1f3fc-200d-2642-fe0f","1f6b5-1f3fd-200d-2642-fe0f","1f6b5-1f3fe-200d-2642-fe0f","1f6b5-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman mountain biking","woman-mountain-biking"],u:"1f6b5-200d-2640-fe0f",v:["1f6b5-1f3fb-200d-2640-fe0f","1f6b5-1f3fc-200d-2640-fe0f","1f6b5-1f3fd-200d-2640-fe0f","1f6b5-1f3fe-200d-2640-fe0f","1f6b5-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person doing cartwheel"],u:"1f938",v:["1f938-1f3fb","1f938-1f3fc","1f938-1f3fd","1f938-1f3fe","1f938-1f3ff"],a:"3.0"},{n:["man cartwheeling","man-cartwheeling"],u:"1f938-200d-2642-fe0f",v:["1f938-1f3fb-200d-2642-fe0f","1f938-1f3fc-200d-2642-fe0f","1f938-1f3fd-200d-2642-fe0f","1f938-1f3fe-200d-2642-fe0f","1f938-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman cartwheeling","woman-cartwheeling"],u:"1f938-200d-2640-fe0f",v:["1f938-1f3fb-200d-2640-fe0f","1f938-1f3fc-200d-2640-fe0f","1f938-1f3fd-200d-2640-fe0f","1f938-1f3fe-200d-2640-fe0f","1f938-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["wrestlers"],u:"1f93c",a:"3.0"},{n:["men wrestling","man-wrestling"],u:"1f93c-200d-2642-fe0f",a:"4.0"},{n:["women wrestling","woman-wrestling"],u:"1f93c-200d-2640-fe0f",a:"4.0"},{n:["water polo"],u:"1f93d",v:["1f93d-1f3fb","1f93d-1f3fc","1f93d-1f3fd","1f93d-1f3fe","1f93d-1f3ff"],a:"3.0"},{n:["man playing water polo","man-playing-water-polo"],u:"1f93d-200d-2642-fe0f",v:["1f93d-1f3fb-200d-2642-fe0f","1f93d-1f3fc-200d-2642-fe0f","1f93d-1f3fd-200d-2642-fe0f","1f93d-1f3fe-200d-2642-fe0f","1f93d-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman playing water polo","woman-playing-water-polo"],u:"1f93d-200d-2640-fe0f",v:["1f93d-1f3fb-200d-2640-fe0f","1f93d-1f3fc-200d-2640-fe0f","1f93d-1f3fd-200d-2640-fe0f","1f93d-1f3fe-200d-2640-fe0f","1f93d-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["handball"],u:"1f93e",v:["1f93e-1f3fb","1f93e-1f3fc","1f93e-1f3fd","1f93e-1f3fe","1f93e-1f3ff"],a:"3.0"},{n:["man playing handball","man-playing-handball"],u:"1f93e-200d-2642-fe0f",v:["1f93e-1f3fb-200d-2642-fe0f","1f93e-1f3fc-200d-2642-fe0f","1f93e-1f3fd-200d-2642-fe0f","1f93e-1f3fe-200d-2642-fe0f","1f93e-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman playing handball","woman-playing-handball"],u:"1f93e-200d-2640-fe0f",v:["1f93e-1f3fb-200d-2640-fe0f","1f93e-1f3fc-200d-2640-fe0f","1f93e-1f3fd-200d-2640-fe0f","1f93e-1f3fe-200d-2640-fe0f","1f93e-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["juggling"],u:"1f939",v:["1f939-1f3fb","1f939-1f3fc","1f939-1f3fd","1f939-1f3fe","1f939-1f3ff"],a:"3.0"},{n:["man juggling","man-juggling"],u:"1f939-200d-2642-fe0f",v:["1f939-1f3fb-200d-2642-fe0f","1f939-1f3fc-200d-2642-fe0f","1f939-1f3fd-200d-2642-fe0f","1f939-1f3fe-200d-2642-fe0f","1f939-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman juggling","woman-juggling"],u:"1f939-200d-2640-fe0f",v:["1f939-1f3fb-200d-2640-fe0f","1f939-1f3fc-200d-2640-fe0f","1f939-1f3fd-200d-2640-fe0f","1f939-1f3fe-200d-2640-fe0f","1f939-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person in lotus position"],u:"1f9d8",v:["1f9d8-1f3fb","1f9d8-1f3fc","1f9d8-1f3fd","1f9d8-1f3fe","1f9d8-1f3ff"],a:"5.0"},{n:["man in lotus position"],u:"1f9d8-200d-2642-fe0f",v:["1f9d8-1f3fb-200d-2642-fe0f","1f9d8-1f3fc-200d-2642-fe0f","1f9d8-1f3fd-200d-2642-fe0f","1f9d8-1f3fe-200d-2642-fe0f","1f9d8-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman in lotus position"],u:"1f9d8-200d-2640-fe0f",v:["1f9d8-1f3fb-200d-2640-fe0f","1f9d8-1f3fc-200d-2640-fe0f","1f9d8-1f3fd-200d-2640-fe0f","1f9d8-1f3fe-200d-2640-fe0f","1f9d8-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["bath"],u:"1f6c0",v:["1f6c0-1f3fb","1f6c0-1f3fc","1f6c0-1f3fd","1f6c0-1f3fe","1f6c0-1f3ff"],a:"0.6"},{n:["sleeping accommodation"],u:"1f6cc",v:["1f6cc-1f3fb","1f6cc-1f3fc","1f6cc-1f3fd","1f6cc-1f3fe","1f6cc-1f3ff"],a:"1.0"},{n:["people holding hands"],u:"1f9d1-200d-1f91d-200d-1f9d1",v:["1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3ff"],a:"12.0"},{n:["women holding hands","two women holding hands"],u:"1f46d",v:["1f46d-1f3fb","1f46d-1f3fc","1f46d-1f3fd","1f46d-1f3fe","1f46d-1f3ff","1f469-1f3fb-200d-1f91d-200d-1f469-1f3fc","1f469-1f3fb-200d-1f91d-200d-1f469-1f3fd","1f469-1f3fb-200d-1f91d-200d-1f469-1f3fe","1f469-1f3fb-200d-1f91d-200d-1f469-1f3ff","1f469-1f3fc-200d-1f91d-200d-1f469-1f3fb","1f469-1f3fc-200d-1f91d-200d-1f469-1f3fd","1f469-1f3fc-200d-1f91d-200d-1f469-1f3fe","1f469-1f3fc-200d-1f91d-200d-1f469-1f3ff","1f469-1f3fd-200d-1f91d-200d-1f469-1f3fb","1f469-1f3fd-200d-1f91d-200d-1f469-1f3fc","1f469-1f3fd-200d-1f91d-200d-1f469-1f3fe","1f469-1f3fd-200d-1f91d-200d-1f469-1f3ff","1f469-1f3fe-200d-1f91d-200d-1f469-1f3fb","1f469-1f3fe-200d-1f91d-200d-1f469-1f3fc","1f469-1f3fe-200d-1f91d-200d-1f469-1f3fd","1f469-1f3fe-200d-1f91d-200d-1f469-1f3ff","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fb","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fc","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fd","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fe"],a:"1.0"},{n:["couple","man and woman holding hands","woman and man holding hands"],u:"1f46b",v:["1f46b-1f3fb","1f46b-1f3fc","1f46b-1f3fd","1f46b-1f3fe","1f46b-1f3ff","1f469-1f3fb-200d-1f91d-200d-1f468-1f3fc","1f469-1f3fb-200d-1f91d-200d-1f468-1f3fd","1f469-1f3fb-200d-1f91d-200d-1f468-1f3fe","1f469-1f3fb-200d-1f91d-200d-1f468-1f3ff","1f469-1f3fc-200d-1f91d-200d-1f468-1f3fb","1f469-1f3fc-200d-1f91d-200d-1f468-1f3fd","1f469-1f3fc-200d-1f91d-200d-1f468-1f3fe","1f469-1f3fc-200d-1f91d-200d-1f468-1f3ff","1f469-1f3fd-200d-1f91d-200d-1f468-1f3fb","1f469-1f3fd-200d-1f91d-200d-1f468-1f3fc","1f469-1f3fd-200d-1f91d-200d-1f468-1f3fe","1f469-1f3fd-200d-1f91d-200d-1f468-1f3ff","1f469-1f3fe-200d-1f91d-200d-1f468-1f3fb","1f469-1f3fe-200d-1f91d-200d-1f468-1f3fc","1f469-1f3fe-200d-1f91d-200d-1f468-1f3fd","1f469-1f3fe-200d-1f91d-200d-1f468-1f3ff","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fb","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fc","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fd","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fe"],a:"0.6"},{n:["men holding hands","two men holding hands"],u:"1f46c",v:["1f46c-1f3fb","1f46c-1f3fc","1f46c-1f3fd","1f46c-1f3fe","1f46c-1f3ff","1f468-1f3fb-200d-1f91d-200d-1f468-1f3fc","1f468-1f3fb-200d-1f91d-200d-1f468-1f3fd","1f468-1f3fb-200d-1f91d-200d-1f468-1f3fe","1f468-1f3fb-200d-1f91d-200d-1f468-1f3ff","1f468-1f3fc-200d-1f91d-200d-1f468-1f3fb","1f468-1f3fc-200d-1f91d-200d-1f468-1f3fd","1f468-1f3fc-200d-1f91d-200d-1f468-1f3fe","1f468-1f3fc-200d-1f91d-200d-1f468-1f3ff","1f468-1f3fd-200d-1f91d-200d-1f468-1f3fb","1f468-1f3fd-200d-1f91d-200d-1f468-1f3fc","1f468-1f3fd-200d-1f91d-200d-1f468-1f3fe","1f468-1f3fd-200d-1f91d-200d-1f468-1f3ff","1f468-1f3fe-200d-1f91d-200d-1f468-1f3fb","1f468-1f3fe-200d-1f91d-200d-1f468-1f3fc","1f468-1f3fe-200d-1f91d-200d-1f468-1f3fd","1f468-1f3fe-200d-1f91d-200d-1f468-1f3ff","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fb","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fc","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fd","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fe"],a:"1.0"},{n:["kiss","couplekiss"],u:"1f48f",v:["1f48f-1f3fb","1f48f-1f3fc","1f48f-1f3fd","1f48f-1f3fe","1f48f-1f3ff","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe"],a:"0.6"},{n:["woman-kiss-man","kiss: woman, man"],u:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f468",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff"],a:"2.0"},{n:["man-kiss-man","kiss: man, man"],u:"1f468-200d-2764-fe0f-200d-1f48b-200d-1f468",v:["1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff"],a:"2.0"},{n:["woman-kiss-woman","kiss: woman, woman"],u:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f469",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff"],a:"2.0"},{n:["couple with heart"],u:"1f491",v:["1f491-1f3fb","1f491-1f3fc","1f491-1f3fd","1f491-1f3fe","1f491-1f3ff","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3fe","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3fe","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3fe","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fe"],a:"0.6"},{n:["woman-heart-man","couple with heart: woman, man"],u:"1f469-200d-2764-fe0f-200d-1f468",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3ff"],a:"2.0"},{n:["man-heart-man","couple with heart: man, man"],u:"1f468-200d-2764-fe0f-200d-1f468",v:["1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3ff"],a:"2.0"},{n:["woman-heart-woman","couple with heart: woman, woman"],u:"1f469-200d-2764-fe0f-200d-1f469",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3ff"],a:"2.0"},{n:["family"],u:"1f46a",a:"0.6"},{n:["man-woman-boy","family: man, woman, boy"],u:"1f468-200d-1f469-200d-1f466",a:"2.0"},{n:["man-woman-girl","family: man, woman, girl"],u:"1f468-200d-1f469-200d-1f467",a:"2.0"},{n:["man-woman-girl-boy","family: man, woman, girl, boy"],u:"1f468-200d-1f469-200d-1f467-200d-1f466",a:"2.0"},{n:["man-woman-boy-boy","family: man, woman, boy, boy"],u:"1f468-200d-1f469-200d-1f466-200d-1f466",a:"2.0"},{n:["man-woman-girl-girl","family: man, woman, girl, girl"],u:"1f468-200d-1f469-200d-1f467-200d-1f467",a:"2.0"},{n:["man-man-boy","family: man, man, boy"],u:"1f468-200d-1f468-200d-1f466",a:"2.0"},{n:["man-man-girl","family: man, man, girl"],u:"1f468-200d-1f468-200d-1f467",a:"2.0"},{n:["man-man-girl-boy","family: man, man, girl, boy"],u:"1f468-200d-1f468-200d-1f467-200d-1f466",a:"2.0"},{n:["man-man-boy-boy","family: man, man, boy, boy"],u:"1f468-200d-1f468-200d-1f466-200d-1f466",a:"2.0"},{n:["man-man-girl-girl","family: man, man, girl, girl"],u:"1f468-200d-1f468-200d-1f467-200d-1f467",a:"2.0"},{n:["woman-woman-boy","family: woman, woman, boy"],u:"1f469-200d-1f469-200d-1f466",a:"2.0"},{n:["woman-woman-girl","family: woman, woman, girl"],u:"1f469-200d-1f469-200d-1f467",a:"2.0"},{n:["woman-woman-girl-boy","family: woman, woman, girl, boy"],u:"1f469-200d-1f469-200d-1f467-200d-1f466",a:"2.0"},{n:["woman-woman-boy-boy","family: woman, woman, boy, boy"],u:"1f469-200d-1f469-200d-1f466-200d-1f466",a:"2.0"},{n:["woman-woman-girl-girl","family: woman, woman, girl, girl"],u:"1f469-200d-1f469-200d-1f467-200d-1f467",a:"2.0"},{n:["man-boy","family: man, boy"],u:"1f468-200d-1f466",a:"4.0"},{n:["man-boy-boy","family: man, boy, boy"],u:"1f468-200d-1f466-200d-1f466",a:"4.0"},{n:["man-girl","family: man, girl"],u:"1f468-200d-1f467",a:"4.0"},{n:["man-girl-boy","family: man, girl, boy"],u:"1f468-200d-1f467-200d-1f466",a:"4.0"},{n:["man-girl-girl","family: man, girl, girl"],u:"1f468-200d-1f467-200d-1f467",a:"4.0"},{n:["woman-boy","family: woman, boy"],u:"1f469-200d-1f466",a:"4.0"},{n:["woman-boy-boy","family: woman, boy, boy"],u:"1f469-200d-1f466-200d-1f466",a:"4.0"},{n:["woman-girl","family: woman, girl"],u:"1f469-200d-1f467",a:"4.0"},{n:["woman-girl-boy","family: woman, girl, boy"],u:"1f469-200d-1f467-200d-1f466",a:"4.0"},{n:["woman-girl-girl","family: woman, girl, girl"],u:"1f469-200d-1f467-200d-1f467",a:"4.0"},{n:["speaking head","speaking head in silhouette"],u:"1f5e3-fe0f",a:"0.7"},{n:["bust in silhouette"],u:"1f464",a:"0.6"},{n:["busts in silhouette"],u:"1f465",a:"1.0"},{n:["people hugging"],u:"1fac2",a:"13.0"},{n:["footprints"],u:"1f463",a:"0.6"}],Yie=[{n:["monkey face"],u:"1f435",a:"0.6"},{n:["monkey"],u:"1f412",a:"0.6"},{n:["gorilla"],u:"1f98d",a:"3.0"},{n:["orangutan"],u:"1f9a7",a:"12.0"},{n:["dog","dog face"],u:"1f436",a:"0.6"},{n:["dog","dog2"],u:"1f415",a:"0.7"},{n:["guide dog"],u:"1f9ae",a:"12.0"},{n:["service dog"],u:"1f415-200d-1f9ba",a:"12.0"},{n:["poodle"],u:"1f429",a:"0.6"},{n:["wolf","wolf face"],u:"1f43a",a:"0.6"},{n:["fox face"],u:"1f98a",a:"3.0"},{n:["raccoon"],u:"1f99d",a:"11.0"},{n:["cat","cat face"],u:"1f431",a:"0.6"},{n:["cat","cat2"],u:"1f408",a:"0.7"},{n:["black cat"],u:"1f408-200d-2b1b",a:"13.0"},{n:["lion face"],u:"1f981",a:"1.0"},{n:["tiger","tiger face"],u:"1f42f",a:"0.6"},{n:["tiger","tiger2"],u:"1f405",a:"1.0"},{n:["leopard"],u:"1f406",a:"1.0"},{n:["horse","horse face"],u:"1f434",a:"0.6"},{n:["horse","racehorse"],u:"1f40e",a:"0.6"},{n:["unicorn face"],u:"1f984",a:"1.0"},{n:["zebra face"],u:"1f993",a:"5.0"},{n:["deer"],u:"1f98c",a:"3.0"},{n:["bison"],u:"1f9ac",a:"13.0"},{n:["cow","cow face"],u:"1f42e",a:"0.6"},{n:["ox"],u:"1f402",a:"1.0"},{n:["water buffalo"],u:"1f403",a:"1.0"},{n:["cow","cow2"],u:"1f404",a:"1.0"},{n:["pig","pig face"],u:"1f437",a:"0.6"},{n:["pig","pig2"],u:"1f416",a:"1.0"},{n:["boar"],u:"1f417",a:"0.6"},{n:["pig nose"],u:"1f43d",a:"0.6"},{n:["ram"],u:"1f40f",a:"1.0"},{n:["sheep"],u:"1f411",a:"0.6"},{n:["goat"],u:"1f410",a:"1.0"},{n:["dromedary camel"],u:"1f42a",a:"1.0"},{n:["camel","bactrian camel"],u:"1f42b",a:"0.6"},{n:["llama"],u:"1f999",a:"11.0"},{n:["giraffe face"],u:"1f992",a:"5.0"},{n:["elephant"],u:"1f418",a:"0.6"},{n:["mammoth"],u:"1f9a3",a:"13.0"},{n:["rhinoceros"],u:"1f98f",a:"3.0"},{n:["hippopotamus"],u:"1f99b",a:"11.0"},{n:["mouse","mouse face"],u:"1f42d",a:"0.6"},{n:["mouse","mouse2"],u:"1f401",a:"1.0"},{n:["rat"],u:"1f400",a:"1.0"},{n:["hamster","hamster face"],u:"1f439",a:"0.6"},{n:["rabbit","rabbit face"],u:"1f430",a:"0.6"},{n:["rabbit","rabbit2"],u:"1f407",a:"1.0"},{n:["chipmunk"],u:"1f43f-fe0f",a:"0.7"},{n:["beaver"],u:"1f9ab",a:"13.0"},{n:["hedgehog"],u:"1f994",a:"5.0"},{n:["bat"],u:"1f987",a:"3.0"},{n:["bear","bear face"],u:"1f43b",a:"0.6"},{n:["polar bear"],u:"1f43b-200d-2744-fe0f",a:"13.0"},{n:["koala"],u:"1f428",a:"0.6"},{n:["panda face"],u:"1f43c",a:"0.6"},{n:["sloth"],u:"1f9a5",a:"12.0"},{n:["otter"],u:"1f9a6",a:"12.0"},{n:["skunk"],u:"1f9a8",a:"12.0"},{n:["kangaroo"],u:"1f998",a:"11.0"},{n:["badger"],u:"1f9a1",a:"11.0"},{n:["feet","paw prints"],u:"1f43e",a:"0.6"},{n:["turkey"],u:"1f983",a:"1.0"},{n:["chicken"],u:"1f414",a:"0.6"},{n:["rooster"],u:"1f413",a:"1.0"},{n:["hatching chick"],u:"1f423",a:"0.6"},{n:["baby chick"],u:"1f424",a:"0.6"},{n:["hatched chick","front-facing baby chick"],u:"1f425",a:"0.6"},{n:["bird"],u:"1f426",a:"0.6"},{n:["penguin"],u:"1f427",a:"0.6"},{n:["dove","dove of peace"],u:"1f54a-fe0f",a:"0.7"},{n:["eagle"],u:"1f985",a:"3.0"},{n:["duck"],u:"1f986",a:"3.0"},{n:["swan"],u:"1f9a2",a:"11.0"},{n:["owl"],u:"1f989",a:"3.0"},{n:["dodo"],u:"1f9a4",a:"13.0"},{n:["feather"],u:"1fab6",a:"13.0"},{n:["flamingo"],u:"1f9a9",a:"12.0"},{n:["peacock"],u:"1f99a",a:"11.0"},{n:["parrot"],u:"1f99c",a:"11.0"},{n:["frog","frog face"],u:"1f438",a:"0.6"},{n:["crocodile"],u:"1f40a",a:"1.0"},{n:["turtle"],u:"1f422",a:"0.6"},{n:["lizard"],u:"1f98e",a:"3.0"},{n:["snake"],u:"1f40d",a:"0.6"},{n:["dragon face"],u:"1f432",a:"0.6"},{n:["dragon"],u:"1f409",a:"1.0"},{n:["sauropod"],u:"1f995",a:"5.0"},{n:["t-rex"],u:"1f996",a:"5.0"},{n:["whale","spouting whale"],u:"1f433",a:"0.6"},{n:["whale","whale2"],u:"1f40b",a:"1.0"},{n:["dolphin","flipper"],u:"1f42c",a:"0.6"},{n:["seal"],u:"1f9ad",a:"13.0"},{n:["fish"],u:"1f41f",a:"0.6"},{n:["tropical fish"],u:"1f420",a:"0.6"},{n:["blowfish"],u:"1f421",a:"0.6"},{n:["shark"],u:"1f988",a:"3.0"},{n:["octopus"],u:"1f419",a:"0.6"},{n:["shell","spiral shell"],u:"1f41a",a:"0.6"},{n:["coral"],u:"1fab8",a:"14.0"},{n:["snail"],u:"1f40c",a:"0.6"},{n:["butterfly"],u:"1f98b",a:"3.0"},{n:["bug"],u:"1f41b",a:"0.6"},{n:["ant"],u:"1f41c",a:"0.6"},{n:["bee","honeybee"],u:"1f41d",a:"0.6"},{n:["beetle"],u:"1fab2",a:"13.0"},{n:["ladybug","lady beetle"],u:"1f41e",a:"0.6"},{n:["cricket"],u:"1f997",a:"5.0"},{n:["cockroach"],u:"1fab3",a:"13.0"},{n:["spider"],u:"1f577-fe0f",a:"0.7"},{n:["spider web"],u:"1f578-fe0f",a:"0.7"},{n:["scorpion"],u:"1f982",a:"1.0"},{n:["mosquito"],u:"1f99f",a:"11.0"},{n:["fly"],u:"1fab0",a:"13.0"},{n:["worm"],u:"1fab1",a:"13.0"},{n:["microbe"],u:"1f9a0",a:"11.0"},{n:["bouquet"],u:"1f490",a:"0.6"},{n:["cherry blossom"],u:"1f338",a:"0.6"},{n:["white flower"],u:"1f4ae",a:"0.6"},{n:["lotus"],u:"1fab7",a:"14.0"},{n:["rosette"],u:"1f3f5-fe0f",a:"0.7"},{n:["rose"],u:"1f339",a:"0.6"},{n:["wilted flower"],u:"1f940",a:"3.0"},{n:["hibiscus"],u:"1f33a",a:"0.6"},{n:["sunflower"],u:"1f33b",a:"0.6"},{n:["blossom"],u:"1f33c",a:"0.6"},{n:["tulip"],u:"1f337",a:"0.6"},{n:["seedling"],u:"1f331",a:"0.6"},{n:["potted plant"],u:"1fab4",a:"13.0"},{n:["evergreen tree"],u:"1f332",a:"1.0"},{n:["deciduous tree"],u:"1f333",a:"1.0"},{n:["palm tree"],u:"1f334",a:"0.6"},{n:["cactus"],u:"1f335",a:"0.6"},{n:["ear of rice"],u:"1f33e",a:"0.6"},{n:["herb"],u:"1f33f",a:"0.6"},{n:["shamrock"],u:"2618-fe0f",a:"1.0"},{n:["four leaf clover"],u:"1f340",a:"0.6"},{n:["maple leaf"],u:"1f341",a:"0.6"},{n:["fallen leaf"],u:"1f342",a:"0.6"},{n:["leaves","leaf fluttering in wind"],u:"1f343",a:"0.6"},{n:["empty nest"],u:"1fab9",a:"14.0"},{n:["nest with eggs"],u:"1faba",a:"14.0"}],Wie=[{n:["grapes"],u:"1f347",a:"0.6"},{n:["melon"],u:"1f348",a:"0.6"},{n:["watermelon"],u:"1f349",a:"0.6"},{n:["tangerine"],u:"1f34a",a:"0.6"},{n:["lemon"],u:"1f34b",a:"1.0"},{n:["banana"],u:"1f34c",a:"0.6"},{n:["pineapple"],u:"1f34d",a:"0.6"},{n:["mango"],u:"1f96d",a:"11.0"},{n:["apple","red apple"],u:"1f34e",a:"0.6"},{n:["green apple"],u:"1f34f",a:"0.6"},{n:["pear"],u:"1f350",a:"1.0"},{n:["peach"],u:"1f351",a:"0.6"},{n:["cherries"],u:"1f352",a:"0.6"},{n:["strawberry"],u:"1f353",a:"0.6"},{n:["blueberries"],u:"1fad0",a:"13.0"},{n:["kiwifruit"],u:"1f95d",a:"3.0"},{n:["tomato"],u:"1f345",a:"0.6"},{n:["olive"],u:"1fad2",a:"13.0"},{n:["coconut"],u:"1f965",a:"5.0"},{n:["avocado"],u:"1f951",a:"3.0"},{n:["eggplant","aubergine"],u:"1f346",a:"0.6"},{n:["potato"],u:"1f954",a:"3.0"},{n:["carrot"],u:"1f955",a:"3.0"},{n:["corn","ear of maize"],u:"1f33d",a:"0.6"},{n:["hot pepper"],u:"1f336-fe0f",a:"0.7"},{n:["bell pepper"],u:"1fad1",a:"13.0"},{n:["cucumber"],u:"1f952",a:"3.0"},{n:["leafy green"],u:"1f96c",a:"11.0"},{n:["broccoli"],u:"1f966",a:"5.0"},{n:["garlic"],u:"1f9c4",a:"12.0"},{n:["onion"],u:"1f9c5",a:"12.0"},{n:["mushroom"],u:"1f344",a:"0.6"},{n:["peanuts"],u:"1f95c",a:"3.0"},{n:["beans"],u:"1fad8",a:"14.0"},{n:["chestnut"],u:"1f330",a:"0.6"},{n:["bread"],u:"1f35e",a:"0.6"},{n:["croissant"],u:"1f950",a:"3.0"},{n:["baguette bread"],u:"1f956",a:"3.0"},{n:["flatbread"],u:"1fad3",a:"13.0"},{n:["pretzel"],u:"1f968",a:"5.0"},{n:["bagel"],u:"1f96f",a:"11.0"},{n:["pancakes"],u:"1f95e",a:"3.0"},{n:["waffle"],u:"1f9c7",a:"12.0"},{n:["cheese wedge"],u:"1f9c0",a:"1.0"},{n:["meat on bone"],u:"1f356",a:"0.6"},{n:["poultry leg"],u:"1f357",a:"0.6"},{n:["cut of meat"],u:"1f969",a:"5.0"},{n:["bacon"],u:"1f953",a:"3.0"},{n:["hamburger"],u:"1f354",a:"0.6"},{n:["fries","french fries"],u:"1f35f",a:"0.6"},{n:["pizza","slice of pizza"],u:"1f355",a:"0.6"},{n:["hotdog","hot dog"],u:"1f32d",a:"1.0"},{n:["sandwich"],u:"1f96a",a:"5.0"},{n:["taco"],u:"1f32e",a:"1.0"},{n:["burrito"],u:"1f32f",a:"1.0"},{n:["tamale"],u:"1fad4",a:"13.0"},{n:["stuffed flatbread"],u:"1f959",a:"3.0"},{n:["falafel"],u:"1f9c6",a:"12.0"},{n:["egg"],u:"1f95a",a:"3.0"},{n:["cooking","fried egg"],u:"1f373",a:"0.6"},{n:["shallow pan of food"],u:"1f958",a:"3.0"},{n:["stew","pot of food"],u:"1f372",a:"0.6"},{n:["fondue"],u:"1fad5",a:"13.0"},{n:["bowl with spoon"],u:"1f963",a:"5.0"},{n:["green salad"],u:"1f957",a:"3.0"},{n:["popcorn"],u:"1f37f",a:"1.0"},{n:["butter"],u:"1f9c8",a:"12.0"},{n:["salt","salt shaker"],u:"1f9c2",a:"11.0"},{n:["canned food"],u:"1f96b",a:"5.0"},{n:["bento","bento box"],u:"1f371",a:"0.6"},{n:["rice cracker"],u:"1f358",a:"0.6"},{n:["rice ball"],u:"1f359",a:"0.6"},{n:["rice","cooked rice"],u:"1f35a",a:"0.6"},{n:["curry","curry and rice"],u:"1f35b",a:"0.6"},{n:["ramen","steaming bowl"],u:"1f35c",a:"0.6"},{n:["spaghetti"],u:"1f35d",a:"0.6"},{n:["sweet potato","roasted sweet potato"],u:"1f360",a:"0.6"},{n:["oden"],u:"1f362",a:"0.6"},{n:["sushi"],u:"1f363",a:"0.6"},{n:["fried shrimp"],u:"1f364",a:"0.6"},{n:["fish cake","fish cake with swirl design"],u:"1f365",a:"0.6"},{n:["moon cake"],u:"1f96e",a:"11.0"},{n:["dango"],u:"1f361",a:"0.6"},{n:["dumpling"],u:"1f95f",a:"5.0"},{n:["fortune cookie"],u:"1f960",a:"5.0"},{n:["takeout box"],u:"1f961",a:"5.0"},{n:["crab"],u:"1f980",a:"1.0"},{n:["lobster"],u:"1f99e",a:"11.0"},{n:["shrimp"],u:"1f990",a:"3.0"},{n:["squid"],u:"1f991",a:"3.0"},{n:["oyster"],u:"1f9aa",a:"12.0"},{n:["icecream","soft ice cream"],u:"1f366",a:"0.6"},{n:["shaved ice"],u:"1f367",a:"0.6"},{n:["ice cream"],u:"1f368",a:"0.6"},{n:["doughnut"],u:"1f369",a:"0.6"},{n:["cookie"],u:"1f36a",a:"0.6"},{n:["birthday","birthday cake"],u:"1f382",a:"0.6"},{n:["cake","shortcake"],u:"1f370",a:"0.6"},{n:["cupcake"],u:"1f9c1",a:"11.0"},{n:["pie"],u:"1f967",a:"5.0"},{n:["chocolate bar"],u:"1f36b",a:"0.6"},{n:["candy"],u:"1f36c",a:"0.6"},{n:["lollipop"],u:"1f36d",a:"0.6"},{n:["custard"],u:"1f36e",a:"0.6"},{n:["honey pot"],u:"1f36f",a:"0.6"},{n:["baby bottle"],u:"1f37c",a:"1.0"},{n:["glass of milk"],u:"1f95b",a:"3.0"},{n:["coffee","hot beverage"],u:"2615",a:"0.6"},{n:["teapot"],u:"1fad6",a:"13.0"},{n:["tea","teacup without handle"],u:"1f375",a:"0.6"},{n:["sake","sake bottle and cup"],u:"1f376",a:"0.6"},{n:["champagne","bottle with popping cork"],u:"1f37e",a:"1.0"},{n:["wine glass"],u:"1f377",a:"0.6"},{n:["cocktail","cocktail glass"],u:"1f378",a:"0.6"},{n:["tropical drink"],u:"1f379",a:"0.6"},{n:["beer","beer mug"],u:"1f37a",a:"0.6"},{n:["beers","clinking beer mugs"],u:"1f37b",a:"0.6"},{n:["clinking glasses"],u:"1f942",a:"3.0"},{n:["tumbler glass"],u:"1f943",a:"3.0"},{n:["pouring liquid"],u:"1fad7",a:"14.0"},{n:["cup with straw"],u:"1f964",a:"5.0"},{n:["bubble tea"],u:"1f9cb",a:"13.0"},{n:["beverage box"],u:"1f9c3",a:"12.0"},{n:["mate drink"],u:"1f9c9",a:"12.0"},{n:["ice cube"],u:"1f9ca",a:"12.0"},{n:["chopsticks"],u:"1f962",a:"5.0"},{n:["knife fork plate","fork and knife with plate"],u:"1f37d-fe0f",a:"0.7"},{n:["fork and knife"],u:"1f374",a:"0.6"},{n:["spoon"],u:"1f944",a:"3.0"},{n:["hocho","knife"],u:"1f52a",a:"0.6"},{n:["jar"],u:"1fad9",a:"14.0"},{n:["amphora"],u:"1f3fa",a:"1.0"}],Qie=[{n:["earth africa","earth globe europe-africa"],u:"1f30d",a:"0.7"},{n:["earth americas","earth globe americas"],u:"1f30e",a:"0.7"},{n:["earth asia","earth globe asia-australia"],u:"1f30f",a:"0.6"},{n:["globe with meridians"],u:"1f310",a:"1.0"},{n:["world map"],u:"1f5fa-fe0f",a:"0.7"},{n:["japan","silhouette of japan"],u:"1f5fe",a:"0.6"},{n:["compass"],u:"1f9ed",a:"11.0"},{n:["snow-capped mountain","snow capped mountain"],u:"1f3d4-fe0f",a:"0.7"},{n:["mountain"],u:"26f0-fe0f",a:"0.7"},{n:["volcano"],u:"1f30b",a:"0.6"},{n:["mount fuji"],u:"1f5fb",a:"0.6"},{n:["camping"],u:"1f3d5-fe0f",a:"0.7"},{n:["beach with umbrella"],u:"1f3d6-fe0f",a:"0.7"},{n:["desert"],u:"1f3dc-fe0f",a:"0.7"},{n:["desert island"],u:"1f3dd-fe0f",a:"0.7"},{n:["national park"],u:"1f3de-fe0f",a:"0.7"},{n:["stadium"],u:"1f3df-fe0f",a:"0.7"},{n:["classical building"],u:"1f3db-fe0f",a:"0.7"},{n:["building construction"],u:"1f3d7-fe0f",a:"0.7"},{n:["brick","bricks"],u:"1f9f1",a:"11.0"},{n:["rock"],u:"1faa8",a:"13.0"},{n:["wood"],u:"1fab5",a:"13.0"},{n:["hut"],u:"1f6d6",a:"13.0"},{n:["houses","house buildings"],u:"1f3d8-fe0f",a:"0.7"},{n:["derelict house","derelict house building"],u:"1f3da-fe0f",a:"0.7"},{n:["house","house building"],u:"1f3e0",a:"0.6"},{n:["house with garden"],u:"1f3e1",a:"0.6"},{n:["office","office building"],u:"1f3e2",a:"0.6"},{n:["post office","japanese post office"],u:"1f3e3",a:"0.6"},{n:["european post office"],u:"1f3e4",a:"1.0"},{n:["hospital"],u:"1f3e5",a:"0.6"},{n:["bank"],u:"1f3e6",a:"0.6"},{n:["hotel"],u:"1f3e8",a:"0.6"},{n:["love hotel"],u:"1f3e9",a:"0.6"},{n:["convenience store"],u:"1f3ea",a:"0.6"},{n:["school"],u:"1f3eb",a:"0.6"},{n:["department store"],u:"1f3ec",a:"0.6"},{n:["factory"],u:"1f3ed",a:"0.6"},{n:["japanese castle"],u:"1f3ef",a:"0.6"},{n:["european castle"],u:"1f3f0",a:"0.6"},{n:["wedding"],u:"1f492",a:"0.6"},{n:["tokyo tower"],u:"1f5fc",a:"0.6"},{n:["statue of liberty"],u:"1f5fd",a:"0.6"},{n:["church"],u:"26ea",a:"0.6"},{n:["mosque"],u:"1f54c",a:"1.0"},{n:["hindu temple"],u:"1f6d5",a:"12.0"},{n:["synagogue"],u:"1f54d",a:"1.0"},{n:["shinto shrine"],u:"26e9-fe0f",a:"0.7"},{n:["kaaba"],u:"1f54b",a:"1.0"},{n:["fountain"],u:"26f2",a:"0.6"},{n:["tent"],u:"26fa",a:"0.6"},{n:["foggy"],u:"1f301",a:"0.6"},{n:["night with stars"],u:"1f303",a:"0.6"},{n:["cityscape"],u:"1f3d9-fe0f",a:"0.7"},{n:["sunrise over mountains"],u:"1f304",a:"0.6"},{n:["sunrise"],u:"1f305",a:"0.6"},{n:["city sunset","cityscape at dusk"],u:"1f306",a:"0.6"},{n:["city sunrise","sunset over buildings"],u:"1f307",a:"0.6"},{n:["bridge at night"],u:"1f309",a:"0.6"},{n:["hotsprings","hot springs"],u:"2668-fe0f",a:"0.6"},{n:["carousel horse"],u:"1f3a0",a:"0.6"},{n:["playground slide"],u:"1f6dd",a:"14.0"},{n:["ferris wheel"],u:"1f3a1",a:"0.6"},{n:["roller coaster"],u:"1f3a2",a:"0.6"},{n:["barber","barber pole"],u:"1f488",a:"0.6"},{n:["circus tent"],u:"1f3aa",a:"0.6"},{n:["steam locomotive"],u:"1f682",a:"1.0"},{n:["railway car"],u:"1f683",a:"0.6"},{n:["high-speed train","bullettrain side"],u:"1f684",a:"0.6"},{n:["bullettrain front","high-speed train with bullet nose"],u:"1f685",a:"0.6"},{n:["train","train2"],u:"1f686",a:"1.0"},{n:["metro"],u:"1f687",a:"0.6"},{n:["light rail"],u:"1f688",a:"1.0"},{n:["station"],u:"1f689",a:"0.6"},{n:["tram"],u:"1f68a",a:"1.0"},{n:["monorail"],u:"1f69d",a:"1.0"},{n:["mountain railway"],u:"1f69e",a:"1.0"},{n:["train","tram car"],u:"1f68b",a:"1.0"},{n:["bus"],u:"1f68c",a:"0.6"},{n:["oncoming bus"],u:"1f68d",a:"0.7"},{n:["trolleybus"],u:"1f68e",a:"1.0"},{n:["minibus"],u:"1f690",a:"1.0"},{n:["ambulance"],u:"1f691",a:"0.6"},{n:["fire engine"],u:"1f692",a:"0.6"},{n:["police car"],u:"1f693",a:"0.6"},{n:["oncoming police car"],u:"1f694",a:"0.7"},{n:["taxi"],u:"1f695",a:"0.6"},{n:["oncoming taxi"],u:"1f696",a:"1.0"},{n:["car","red car","automobile"],u:"1f697",a:"0.6"},{n:["oncoming automobile"],u:"1f698",a:"0.7"},{n:["blue car","recreational vehicle"],u:"1f699",a:"0.6"},{n:["pickup truck"],u:"1f6fb",a:"13.0"},{n:["truck","delivery truck"],u:"1f69a",a:"0.6"},{n:["articulated lorry"],u:"1f69b",a:"1.0"},{n:["tractor"],u:"1f69c",a:"1.0"},{n:["racing car"],u:"1f3ce-fe0f",a:"0.7"},{n:["motorcycle","racing motorcycle"],u:"1f3cd-fe0f",a:"0.7"},{n:["motor scooter"],u:"1f6f5",a:"3.0"},{n:["manual wheelchair"],u:"1f9bd",a:"12.0"},{n:["motorized wheelchair"],u:"1f9bc",a:"12.0"},{n:["auto rickshaw"],u:"1f6fa",a:"12.0"},{n:["bike","bicycle"],u:"1f6b2",a:"0.6"},{n:["scooter"],u:"1f6f4",a:"3.0"},{n:["skateboard"],u:"1f6f9",a:"11.0"},{n:["roller skate"],u:"1f6fc",a:"13.0"},{n:["busstop","bus stop"],u:"1f68f",a:"0.6"},{n:["motorway"],u:"1f6e3-fe0f",a:"0.7"},{n:["railway track"],u:"1f6e4-fe0f",a:"0.7"},{n:["oil drum"],u:"1f6e2-fe0f",a:"0.7"},{n:["fuelpump","fuel pump"],u:"26fd",a:"0.6"},{n:["wheel"],u:"1f6de",a:"14.0"},{n:["rotating light","police cars revolving light"],u:"1f6a8",a:"0.6"},{n:["traffic light","horizontal traffic light"],u:"1f6a5",a:"0.6"},{n:["vertical traffic light"],u:"1f6a6",a:"1.0"},{n:["octagonal sign"],u:"1f6d1",a:"3.0"},{n:["construction","construction sign"],u:"1f6a7",a:"0.6"},{n:["anchor"],u:"2693",a:"0.6"},{n:["ring buoy"],u:"1f6df",a:"14.0"},{n:["boat","sailboat"],u:"26f5",a:"0.6"},{n:["canoe"],u:"1f6f6",a:"3.0"},{n:["speedboat"],u:"1f6a4",a:"0.6"},{n:["passenger ship"],u:"1f6f3-fe0f",a:"0.7"},{n:["ferry"],u:"26f4-fe0f",a:"0.7"},{n:["motor boat"],u:"1f6e5-fe0f",a:"0.7"},{n:["ship"],u:"1f6a2",a:"0.6"},{n:["airplane"],u:"2708-fe0f",a:"0.6"},{n:["small airplane"],u:"1f6e9-fe0f",a:"0.7"},{n:["airplane departure"],u:"1f6eb",a:"1.0"},{n:["airplane arriving"],u:"1f6ec",a:"1.0"},{n:["parachute"],u:"1fa82",a:"12.0"},{n:["seat"],u:"1f4ba",a:"0.6"},{n:["helicopter"],u:"1f681",a:"1.0"},{n:["suspension railway"],u:"1f69f",a:"1.0"},{n:["mountain cableway"],u:"1f6a0",a:"1.0"},{n:["aerial tramway"],u:"1f6a1",a:"1.0"},{n:["satellite"],u:"1f6f0-fe0f",a:"0.7"},{n:["rocket"],u:"1f680",a:"0.6"},{n:["flying saucer"],u:"1f6f8",a:"5.0"},{n:["bellhop bell"],u:"1f6ce-fe0f",a:"0.7"},{n:["luggage"],u:"1f9f3",a:"11.0"},{n:["hourglass"],u:"231b",a:"0.6"},{n:["hourglass flowing sand","hourglass with flowing sand"],u:"23f3",a:"0.6"},{n:["watch"],u:"231a",a:"0.6"},{n:["alarm clock"],u:"23f0",a:"0.6"},{n:["stopwatch"],u:"23f1-fe0f",a:"1.0"},{n:["timer clock"],u:"23f2-fe0f",a:"1.0"},{n:["mantelpiece clock"],u:"1f570-fe0f",a:"0.7"},{n:["clock12","clock face twelve oclock"],u:"1f55b",a:"0.6"},{n:["clock1230","clock face twelve-thirty"],u:"1f567",a:"0.7"},{n:["clock1","clock face one oclock"],u:"1f550",a:"0.6"},{n:["clock130","clock face one-thirty"],u:"1f55c",a:"0.7"},{n:["clock2","clock face two oclock"],u:"1f551",a:"0.6"},{n:["clock230","clock face two-thirty"],u:"1f55d",a:"0.7"},{n:["clock3","clock face three oclock"],u:"1f552",a:"0.6"},{n:["clock330","clock face three-thirty"],u:"1f55e",a:"0.7"},{n:["clock4","clock face four oclock"],u:"1f553",a:"0.6"},{n:["clock430","clock face four-thirty"],u:"1f55f",a:"0.7"},{n:["clock5","clock face five oclock"],u:"1f554",a:"0.6"},{n:["clock530","clock face five-thirty"],u:"1f560",a:"0.7"},{n:["clock6","clock face six oclock"],u:"1f555",a:"0.6"},{n:["clock630","clock face six-thirty"],u:"1f561",a:"0.7"},{n:["clock7","clock face seven oclock"],u:"1f556",a:"0.6"},{n:["clock730","clock face seven-thirty"],u:"1f562",a:"0.7"},{n:["clock8","clock face eight oclock"],u:"1f557",a:"0.6"},{n:["clock830","clock face eight-thirty"],u:"1f563",a:"0.7"},{n:["clock9","clock face nine oclock"],u:"1f558",a:"0.6"},{n:["clock930","clock face nine-thirty"],u:"1f564",a:"0.7"},{n:["clock10","clock face ten oclock"],u:"1f559",a:"0.6"},{n:["clock1030","clock face ten-thirty"],u:"1f565",a:"0.7"},{n:["clock11","clock face eleven oclock"],u:"1f55a",a:"0.6"},{n:["clock1130","clock face eleven-thirty"],u:"1f566",a:"0.7"},{n:["new moon","new moon symbol"],u:"1f311",a:"0.6"},{n:["waxing crescent moon","waxing crescent moon symbol"],u:"1f312",a:"1.0"},{n:["first quarter moon","first quarter moon symbol"],u:"1f313",a:"0.6"},{n:["moon","waxing gibbous moon","waxing gibbous moon symbol"],u:"1f314",a:"0.6"},{n:["full moon","full moon symbol"],u:"1f315",a:"0.6"},{n:["waning gibbous moon","waning gibbous moon symbol"],u:"1f316",a:"1.0"},{n:["last quarter moon","last quarter moon symbol"],u:"1f317",a:"1.0"},{n:["waning crescent moon","waning crescent moon symbol"],u:"1f318",a:"1.0"},{n:["crescent moon"],u:"1f319",a:"0.6"},{n:["new moon with face"],u:"1f31a",a:"1.0"},{n:["first quarter moon with face"],u:"1f31b",a:"0.6"},{n:["last quarter moon with face"],u:"1f31c",a:"0.7"},{n:["thermometer"],u:"1f321-fe0f",a:"0.7"},{n:["sunny","black sun with rays"],u:"2600-fe0f",a:"0.6"},{n:["full moon with face"],u:"1f31d",a:"1.0"},{n:["sun with face"],u:"1f31e",a:"1.0"},{n:["ringed planet"],u:"1fa90",a:"12.0"},{n:["star","white medium star"],u:"2b50",a:"0.6"},{n:["star2","glowing star"],u:"1f31f",a:"0.6"},{n:["stars","shooting star"],u:"1f320",a:"0.6"},{n:["milky way"],u:"1f30c",a:"0.6"},{n:["cloud"],u:"2601-fe0f",a:"0.6"},{n:["partly sunny","sun behind cloud"],u:"26c5",a:"0.6"},{n:["thunder cloud and rain","cloud with lightning and rain"],u:"26c8-fe0f",a:"0.7"},{n:["mostly sunny","sun small cloud","sun behind small cloud"],u:"1f324-fe0f",a:"0.7"},{n:["barely sunny","sun behind cloud","sun behind large cloud"],u:"1f325-fe0f",a:"0.7"},{n:["partly sunny rain","sun behind rain cloud"],u:"1f326-fe0f",a:"0.7"},{n:["rain cloud","cloud with rain"],u:"1f327-fe0f",a:"0.7"},{n:["snow cloud","cloud with snow"],u:"1f328-fe0f",a:"0.7"},{n:["lightning","lightning cloud","cloud with lightning"],u:"1f329-fe0f",a:"0.7"},{n:["tornado","tornado cloud"],u:"1f32a-fe0f",a:"0.7"},{n:["fog"],u:"1f32b-fe0f",a:"0.7"},{n:["wind face","wind blowing face"],u:"1f32c-fe0f",a:"0.7"},{n:["cyclone"],u:"1f300",a:"0.6"},{n:["rainbow"],u:"1f308",a:"0.6"},{n:["closed umbrella"],u:"1f302",a:"0.6"},{n:["umbrella"],u:"2602-fe0f",a:"0.7"},{n:["umbrella with rain drops"],u:"2614",a:"0.6"},{n:["umbrella on ground"],u:"26f1-fe0f",a:"0.7"},{n:["zap","high voltage sign"],u:"26a1",a:"0.6"},{n:["snowflake"],u:"2744-fe0f",a:"0.6"},{n:["snowman"],u:"2603-fe0f",a:"0.7"},{n:["snowman without snow"],u:"26c4",a:"0.6"},{n:["comet"],u:"2604-fe0f",a:"1.0"},{n:["fire"],u:"1f525",a:"0.6"},{n:["droplet"],u:"1f4a7",a:"0.6"},{n:["ocean","water wave"],u:"1f30a",a:"0.6"}],Kie=[{n:["jack-o-lantern","jack o lantern"],u:"1f383",a:"0.6"},{n:["christmas tree"],u:"1f384",a:"0.6"},{n:["fireworks"],u:"1f386",a:"0.6"},{n:["sparkler","firework sparkler"],u:"1f387",a:"0.6"},{n:["firecracker"],u:"1f9e8",a:"11.0"},{n:["sparkles"],u:"2728",a:"0.6"},{n:["balloon"],u:"1f388",a:"0.6"},{n:["tada","party popper"],u:"1f389",a:"0.6"},{n:["confetti ball"],u:"1f38a",a:"0.6"},{n:["tanabata tree"],u:"1f38b",a:"0.6"},{n:["bamboo","pine decoration"],u:"1f38d",a:"0.6"},{n:["dolls","japanese dolls"],u:"1f38e",a:"0.6"},{n:["flags","carp streamer"],u:"1f38f",a:"0.6"},{n:["wind chime"],u:"1f390",a:"0.6"},{n:["rice scene","moon viewing ceremony"],u:"1f391",a:"0.6"},{n:["red envelope","red gift envelope"],u:"1f9e7",a:"11.0"},{n:["ribbon"],u:"1f380",a:"0.6"},{n:["gift","wrapped present"],u:"1f381",a:"0.6"},{n:["reminder ribbon"],u:"1f397-fe0f",a:"0.7"},{n:["admission tickets"],u:"1f39f-fe0f",a:"0.7"},{n:["ticket"],u:"1f3ab",a:"0.6"},{n:["medal","military medal"],u:"1f396-fe0f",a:"0.7"},{n:["trophy"],u:"1f3c6",a:"0.6"},{n:["sports medal"],u:"1f3c5",a:"1.0"},{n:["first place medal"],u:"1f947",a:"3.0"},{n:["second place medal"],u:"1f948",a:"3.0"},{n:["third place medal"],u:"1f949",a:"3.0"},{n:["soccer","soccer ball"],u:"26bd",a:"0.6"},{n:["baseball"],u:"26be",a:"0.6"},{n:["softball"],u:"1f94e",a:"11.0"},{n:["basketball","basketball and hoop"],u:"1f3c0",a:"0.6"},{n:["volleyball"],u:"1f3d0",a:"1.0"},{n:["football","american football"],u:"1f3c8",a:"0.6"},{n:["rugby football"],u:"1f3c9",a:"1.0"},{n:["tennis","tennis racquet and ball"],u:"1f3be",a:"0.6"},{n:["flying disc"],u:"1f94f",a:"11.0"},{n:["bowling"],u:"1f3b3",a:"0.6"},{n:["cricket bat and ball"],u:"1f3cf",a:"1.0"},{n:["field hockey stick and ball"],u:"1f3d1",a:"1.0"},{n:["ice hockey stick and puck"],u:"1f3d2",a:"1.0"},{n:["lacrosse","lacrosse stick and ball"],u:"1f94d",a:"11.0"},{n:["table tennis paddle and ball"],u:"1f3d3",a:"1.0"},{n:["badminton racquet and shuttlecock"],u:"1f3f8",a:"1.0"},{n:["boxing glove"],u:"1f94a",a:"3.0"},{n:["martial arts uniform"],u:"1f94b",a:"3.0"},{n:["goal net"],u:"1f945",a:"3.0"},{n:["golf","flag in hole"],u:"26f3",a:"0.6"},{n:["ice skate"],u:"26f8-fe0f",a:"0.7"},{n:["fishing pole and fish"],u:"1f3a3",a:"0.6"},{n:["diving mask"],u:"1f93f",a:"12.0"},{n:["running shirt with sash"],u:"1f3bd",a:"0.6"},{n:["ski","ski and ski boot"],u:"1f3bf",a:"0.6"},{n:["sled"],u:"1f6f7",a:"5.0"},{n:["curling stone"],u:"1f94c",a:"5.0"},{n:["dart","direct hit"],u:"1f3af",a:"0.6"},{n:["yo-yo"],u:"1fa80",a:"12.0"},{n:["kite"],u:"1fa81",a:"12.0"},{n:["8ball","billiards"],u:"1f3b1",a:"0.6"},{n:["crystal ball"],u:"1f52e",a:"0.6"},{n:["magic wand"],u:"1fa84",a:"13.0"},{n:["nazar amulet"],u:"1f9ff",a:"11.0"},{n:["hamsa"],u:"1faac",a:"14.0"},{n:["video game"],u:"1f3ae",a:"0.6"},{n:["joystick"],u:"1f579-fe0f",a:"0.7"},{n:["slot machine"],u:"1f3b0",a:"0.6"},{n:["game die"],u:"1f3b2",a:"0.6"},{n:["jigsaw","jigsaw puzzle piece"],u:"1f9e9",a:"11.0"},{n:["teddy bear"],u:"1f9f8",a:"11.0"},{n:["pinata"],u:"1fa85",a:"13.0"},{n:["mirror ball"],u:"1faa9",a:"14.0"},{n:["nesting dolls"],u:"1fa86",a:"13.0"},{n:["spades","black spade suit"],u:"2660-fe0f",a:"0.6"},{n:["hearts","black heart suit"],u:"2665-fe0f",a:"0.6"},{n:["diamonds","black diamond suit"],u:"2666-fe0f",a:"0.6"},{n:["clubs","black club suit"],u:"2663-fe0f",a:"0.6"},{n:["chess pawn"],u:"265f-fe0f",a:"11.0"},{n:["black joker","playing card black joker"],u:"1f0cf",a:"0.6"},{n:["mahjong","mahjong tile red dragon"],u:"1f004",a:"0.6"},{n:["flower playing cards"],u:"1f3b4",a:"0.6"},{n:["performing arts"],u:"1f3ad",a:"0.6"},{n:["framed picture","frame with picture"],u:"1f5bc-fe0f",a:"0.7"},{n:["art","artist palette"],u:"1f3a8",a:"0.6"},{n:["thread","spool of thread"],u:"1f9f5",a:"11.0"},{n:["sewing needle"],u:"1faa1",a:"13.0"},{n:["yarn","ball of yarn"],u:"1f9f6",a:"11.0"},{n:["knot"],u:"1faa2",a:"13.0"}],Jie=[{n:["eyeglasses"],u:"1f453",a:"0.6"},{n:["sunglasses","dark sunglasses"],u:"1f576-fe0f",a:"0.7"},{n:["goggles"],u:"1f97d",a:"11.0"},{n:["lab coat"],u:"1f97c",a:"11.0"},{n:["safety vest"],u:"1f9ba",a:"12.0"},{n:["necktie"],u:"1f454",a:"0.6"},{n:["shirt","tshirt","t-shirt"],u:"1f455",a:"0.6"},{n:["jeans"],u:"1f456",a:"0.6"},{n:["scarf"],u:"1f9e3",a:"5.0"},{n:["gloves"],u:"1f9e4",a:"5.0"},{n:["coat"],u:"1f9e5",a:"5.0"},{n:["socks"],u:"1f9e6",a:"5.0"},{n:["dress"],u:"1f457",a:"0.6"},{n:["kimono"],u:"1f458",a:"0.6"},{n:["sari"],u:"1f97b",a:"12.0"},{n:["one-piece swimsuit"],u:"1fa71",a:"12.0"},{n:["briefs"],u:"1fa72",a:"12.0"},{n:["shorts"],u:"1fa73",a:"12.0"},{n:["bikini"],u:"1f459",a:"0.6"},{n:["womans clothes"],u:"1f45a",a:"0.6"},{n:["purse"],u:"1f45b",a:"0.6"},{n:["handbag"],u:"1f45c",a:"0.6"},{n:["pouch"],u:"1f45d",a:"0.6"},{n:["shopping bags"],u:"1f6cd-fe0f",a:"0.7"},{n:["school satchel"],u:"1f392",a:"0.6"},{n:["thong sandal"],u:"1fa74",a:"13.0"},{n:["shoe","mans shoe"],u:"1f45e",a:"0.6"},{n:["athletic shoe"],u:"1f45f",a:"0.6"},{n:["hiking boot"],u:"1f97e",a:"11.0"},{n:["flat shoe","womans flat shoe"],u:"1f97f",a:"11.0"},{n:["high heel","high-heeled shoe"],u:"1f460",a:"0.6"},{n:["sandal","womans sandal"],u:"1f461",a:"0.6"},{n:["ballet shoes"],u:"1fa70",a:"12.0"},{n:["boot","womans boots"],u:"1f462",a:"0.6"},{n:["crown"],u:"1f451",a:"0.6"},{n:["womans hat"],u:"1f452",a:"0.6"},{n:["tophat","top hat"],u:"1f3a9",a:"0.6"},{n:["mortar board","graduation cap"],u:"1f393",a:"0.6"},{n:["billed cap"],u:"1f9e2",a:"5.0"},{n:["military helmet"],u:"1fa96",a:"13.0"},{n:["rescue workers helmet","helmet with white cross"],u:"26d1-fe0f",a:"0.7"},{n:["prayer beads"],u:"1f4ff",a:"1.0"},{n:["lipstick"],u:"1f484",a:"0.6"},{n:["ring"],u:"1f48d",a:"0.6"},{n:["gem","gem stone"],u:"1f48e",a:"0.6"},{n:["mute","speaker with cancellation stroke"],u:"1f507",a:"1.0"},{n:["speaker"],u:"1f508",a:"0.7"},{n:["sound","speaker with one sound wave"],u:"1f509",a:"1.0"},{n:["loud sound","speaker with three sound waves"],u:"1f50a",a:"0.6"},{n:["loudspeaker","public address loudspeaker"],u:"1f4e2",a:"0.6"},{n:["mega","cheering megaphone"],u:"1f4e3",a:"0.6"},{n:["postal horn"],u:"1f4ef",a:"1.0"},{n:["bell"],u:"1f514",a:"0.6"},{n:["no bell","bell with cancellation stroke"],u:"1f515",a:"1.0"},{n:["musical score"],u:"1f3bc",a:"0.6"},{n:["musical note"],u:"1f3b5",a:"0.6"},{n:["notes","multiple musical notes"],u:"1f3b6",a:"0.6"},{n:["studio microphone"],u:"1f399-fe0f",a:"0.7"},{n:["level slider"],u:"1f39a-fe0f",a:"0.7"},{n:["control knobs"],u:"1f39b-fe0f",a:"0.7"},{n:["microphone"],u:"1f3a4",a:"0.6"},{n:["headphone","headphones"],u:"1f3a7",a:"0.6"},{n:["radio"],u:"1f4fb",a:"0.6"},{n:["saxophone"],u:"1f3b7",a:"0.6"},{n:["accordion"],u:"1fa97",a:"13.0"},{n:["guitar"],u:"1f3b8",a:"0.6"},{n:["musical keyboard"],u:"1f3b9",a:"0.6"},{n:["trumpet"],u:"1f3ba",a:"0.6"},{n:["violin"],u:"1f3bb",a:"0.6"},{n:["banjo"],u:"1fa95",a:"12.0"},{n:["drum with drumsticks"],u:"1f941",a:"3.0"},{n:["long drum"],u:"1fa98",a:"13.0"},{n:["iphone","mobile phone"],u:"1f4f1",a:"0.6"},{n:["calling","mobile phone with rightwards arrow at left"],u:"1f4f2",a:"0.6"},{n:["phone","telephone","black telephone"],u:"260e-fe0f",a:"0.6"},{n:["telephone receiver"],u:"1f4de",a:"0.6"},{n:["pager"],u:"1f4df",a:"0.6"},{n:["fax","fax machine"],u:"1f4e0",a:"0.6"},{n:["battery"],u:"1f50b",a:"0.6"},{n:["low battery"],u:"1faab",a:"14.0"},{n:["electric plug"],u:"1f50c",a:"0.6"},{n:["computer","personal computer"],u:"1f4bb",a:"0.6"},{n:["desktop computer"],u:"1f5a5-fe0f",a:"0.7"},{n:["printer"],u:"1f5a8-fe0f",a:"0.7"},{n:["keyboard"],u:"2328-fe0f",a:"1.0"},{n:["computer mouse","three button mouse"],u:"1f5b1-fe0f",a:"0.7"},{n:["trackball"],u:"1f5b2-fe0f",a:"0.7"},{n:["minidisc"],u:"1f4bd",a:"0.6"},{n:["floppy disk"],u:"1f4be",a:"0.6"},{n:["cd","optical disc"],u:"1f4bf",a:"0.6"},{n:["dvd"],u:"1f4c0",a:"0.6"},{n:["abacus"],u:"1f9ee",a:"11.0"},{n:["movie camera"],u:"1f3a5",a:"0.6"},{n:["film frames"],u:"1f39e-fe0f",a:"0.7"},{n:["film projector"],u:"1f4fd-fe0f",a:"0.7"},{n:["clapper","clapper board"],u:"1f3ac",a:"0.6"},{n:["tv","television"],u:"1f4fa",a:"0.6"},{n:["camera"],u:"1f4f7",a:"0.6"},{n:["camera with flash"],u:"1f4f8",a:"1.0"},{n:["video camera"],u:"1f4f9",a:"0.6"},{n:["vhs","videocassette"],u:"1f4fc",a:"0.6"},{n:["mag","left-pointing magnifying glass"],u:"1f50d",a:"0.6"},{n:["mag right","right-pointing magnifying glass"],u:"1f50e",a:"0.6"},{n:["candle"],u:"1f56f-fe0f",a:"0.7"},{n:["bulb","electric light bulb"],u:"1f4a1",a:"0.6"},{n:["flashlight","electric torch"],u:"1f526",a:"0.6"},{n:["lantern","izakaya lantern"],u:"1f3ee",a:"0.6"},{n:["diya lamp"],u:"1fa94",a:"12.0"},{n:["notebook with decorative cover"],u:"1f4d4",a:"0.6"},{n:["closed book"],u:"1f4d5",a:"0.6"},{n:["book","open book"],u:"1f4d6",a:"0.6"},{n:["green book"],u:"1f4d7",a:"0.6"},{n:["blue book"],u:"1f4d8",a:"0.6"},{n:["orange book"],u:"1f4d9",a:"0.6"},{n:["books"],u:"1f4da",a:"0.6"},{n:["notebook"],u:"1f4d3",a:"0.6"},{n:["ledger"],u:"1f4d2",a:"0.6"},{n:["page with curl"],u:"1f4c3",a:"0.6"},{n:["scroll"],u:"1f4dc",a:"0.6"},{n:["page facing up"],u:"1f4c4",a:"0.6"},{n:["newspaper"],u:"1f4f0",a:"0.6"},{n:["rolled-up newspaper","rolled up newspaper"],u:"1f5de-fe0f",a:"0.7"},{n:["bookmark tabs"],u:"1f4d1",a:"0.6"},{n:["bookmark"],u:"1f516",a:"0.6"},{n:["label"],u:"1f3f7-fe0f",a:"0.7"},{n:["moneybag","money bag"],u:"1f4b0",a:"0.6"},{n:["coin"],u:"1fa99",a:"13.0"},{n:["yen","banknote with yen sign"],u:"1f4b4",a:"0.6"},{n:["dollar","banknote with dollar sign"],u:"1f4b5",a:"0.6"},{n:["euro","banknote with euro sign"],u:"1f4b6",a:"1.0"},{n:["pound","banknote with pound sign"],u:"1f4b7",a:"1.0"},{n:["money with wings"],u:"1f4b8",a:"0.6"},{n:["credit card"],u:"1f4b3",a:"0.6"},{n:["receipt"],u:"1f9fe",a:"11.0"},{n:["chart","chart with upwards trend and yen sign"],u:"1f4b9",a:"0.6"},{n:["email","envelope"],u:"2709-fe0f",a:"0.6"},{n:["e-mail","e-mail symbol"],u:"1f4e7",a:"0.6"},{n:["incoming envelope"],u:"1f4e8",a:"0.6"},{n:["envelope with arrow","envelope with downwards arrow above"],u:"1f4e9",a:"0.6"},{n:["outbox tray"],u:"1f4e4",a:"0.6"},{n:["inbox tray"],u:"1f4e5",a:"0.6"},{n:["package"],u:"1f4e6",a:"0.6"},{n:["mailbox","closed mailbox with raised flag"],u:"1f4eb",a:"0.6"},{n:["mailbox closed","closed mailbox with lowered flag"],u:"1f4ea",a:"0.6"},{n:["mailbox with mail","open mailbox with raised flag"],u:"1f4ec",a:"0.7"},{n:["mailbox with no mail","open mailbox with lowered flag"],u:"1f4ed",a:"0.7"},{n:["postbox"],u:"1f4ee",a:"0.6"},{n:["ballot box with ballot"],u:"1f5f3-fe0f",a:"0.7"},{n:["pencil","pencil2"],u:"270f-fe0f",a:"0.6"},{n:["black nib"],u:"2712-fe0f",a:"0.6"},{n:["fountain pen","lower left fountain pen"],u:"1f58b-fe0f",a:"0.7"},{n:["pen","lower left ballpoint pen"],u:"1f58a-fe0f",a:"0.7"},{n:["paintbrush","lower left paintbrush"],u:"1f58c-fe0f",a:"0.7"},{n:["crayon","lower left crayon"],u:"1f58d-fe0f",a:"0.7"},{n:["memo","pencil"],u:"1f4dd",a:"0.6"},{n:["briefcase"],u:"1f4bc",a:"0.6"},{n:["file folder"],u:"1f4c1",a:"0.6"},{n:["open file folder"],u:"1f4c2",a:"0.6"},{n:["card index dividers"],u:"1f5c2-fe0f",a:"0.7"},{n:["date","calendar"],u:"1f4c5",a:"0.6"},{n:["calendar","tear-off calendar"],u:"1f4c6",a:"0.6"},{n:["spiral notepad","spiral note pad"],u:"1f5d2-fe0f",a:"0.7"},{n:["spiral calendar","spiral calendar pad"],u:"1f5d3-fe0f",a:"0.7"},{n:["card index"],u:"1f4c7",a:"0.6"},{n:["chart with upwards trend"],u:"1f4c8",a:"0.6"},{n:["chart with downwards trend"],u:"1f4c9",a:"0.6"},{n:["bar chart"],u:"1f4ca",a:"0.6"},{n:["clipboard"],u:"1f4cb",a:"0.6"},{n:["pushpin"],u:"1f4cc",a:"0.6"},{n:["round pushpin"],u:"1f4cd",a:"0.6"},{n:["paperclip"],u:"1f4ce",a:"0.6"},{n:["linked paperclips"],u:"1f587-fe0f",a:"0.7"},{n:["straight ruler"],u:"1f4cf",a:"0.6"},{n:["triangular ruler"],u:"1f4d0",a:"0.6"},{n:["scissors","black scissors"],u:"2702-fe0f",a:"0.6"},{n:["card file box"],u:"1f5c3-fe0f",a:"0.7"},{n:["file cabinet"],u:"1f5c4-fe0f",a:"0.7"},{n:["wastebasket"],u:"1f5d1-fe0f",a:"0.7"},{n:["lock"],u:"1f512",a:"0.6"},{n:["unlock","open lock"],u:"1f513",a:"0.6"},{n:["lock with ink pen"],u:"1f50f",a:"0.6"},{n:["closed lock with key"],u:"1f510",a:"0.6"},{n:["key"],u:"1f511",a:"0.6"},{n:["old key"],u:"1f5dd-fe0f",a:"0.7"},{n:["hammer"],u:"1f528",a:"0.6"},{n:["axe"],u:"1fa93",a:"12.0"},{n:["pick"],u:"26cf-fe0f",a:"0.7"},{n:["hammer and pick"],u:"2692-fe0f",a:"1.0"},{n:["hammer and wrench"],u:"1f6e0-fe0f",a:"0.7"},{n:["dagger","dagger knife"],u:"1f5e1-fe0f",a:"0.7"},{n:["crossed swords"],u:"2694-fe0f",a:"1.0"},{n:["gun","pistol"],u:"1f52b",a:"0.6"},{n:["boomerang"],u:"1fa83",a:"13.0"},{n:["bow and arrow"],u:"1f3f9",a:"1.0"},{n:["shield"],u:"1f6e1-fe0f",a:"0.7"},{n:["carpentry saw"],u:"1fa9a",a:"13.0"},{n:["wrench"],u:"1f527",a:"0.6"},{n:["screwdriver"],u:"1fa9b",a:"13.0"},{n:["nut and bolt"],u:"1f529",a:"0.6"},{n:["gear"],u:"2699-fe0f",a:"1.0"},{n:["clamp","compression"],u:"1f5dc-fe0f",a:"0.7"},{n:["scales","balance scale"],u:"2696-fe0f",a:"1.0"},{n:["probing cane"],u:"1f9af",a:"12.0"},{n:["link","link symbol"],u:"1f517",a:"0.6"},{n:["chains"],u:"26d3-fe0f",a:"0.7"},{n:["hook"],u:"1fa9d",a:"13.0"},{n:["toolbox"],u:"1f9f0",a:"11.0"},{n:["magnet"],u:"1f9f2",a:"11.0"},{n:["ladder"],u:"1fa9c",a:"13.0"},{n:["alembic"],u:"2697-fe0f",a:"1.0"},{n:["test tube"],u:"1f9ea",a:"11.0"},{n:["petri dish"],u:"1f9eb",a:"11.0"},{n:["dna","dna double helix"],u:"1f9ec",a:"11.0"},{n:["microscope"],u:"1f52c",a:"1.0"},{n:["telescope"],u:"1f52d",a:"1.0"},{n:["satellite antenna"],u:"1f4e1",a:"0.6"},{n:["syringe"],u:"1f489",a:"0.6"},{n:["drop of blood"],u:"1fa78",a:"12.0"},{n:["pill"],u:"1f48a",a:"0.6"},{n:["adhesive bandage"],u:"1fa79",a:"12.0"},{n:["crutch"],u:"1fa7c",a:"14.0"},{n:["stethoscope"],u:"1fa7a",a:"12.0"},{n:["x-ray"],u:"1fa7b",a:"14.0"},{n:["door"],u:"1f6aa",a:"0.6"},{n:["elevator"],u:"1f6d7",a:"13.0"},{n:["mirror"],u:"1fa9e",a:"13.0"},{n:["window"],u:"1fa9f",a:"13.0"},{n:["bed"],u:"1f6cf-fe0f",a:"0.7"},{n:["couch and lamp"],u:"1f6cb-fe0f",a:"0.7"},{n:["chair"],u:"1fa91",a:"12.0"},{n:["toilet"],u:"1f6bd",a:"0.6"},{n:["plunger"],u:"1faa0",a:"13.0"},{n:["shower"],u:"1f6bf",a:"1.0"},{n:["bathtub"],u:"1f6c1",a:"1.0"},{n:["mouse trap"],u:"1faa4",a:"13.0"},{n:["razor"],u:"1fa92",a:"12.0"},{n:["lotion bottle"],u:"1f9f4",a:"11.0"},{n:["safety pin"],u:"1f9f7",a:"11.0"},{n:["broom"],u:"1f9f9",a:"11.0"},{n:["basket"],u:"1f9fa",a:"11.0"},{n:["roll of paper"],u:"1f9fb",a:"11.0"},{n:["bucket"],u:"1faa3",a:"13.0"},{n:["soap","bar of soap"],u:"1f9fc",a:"11.0"},{n:["bubbles"],u:"1fae7",a:"14.0"},{n:["toothbrush"],u:"1faa5",a:"13.0"},{n:["sponge"],u:"1f9fd",a:"11.0"},{n:["fire extinguisher"],u:"1f9ef",a:"11.0"},{n:["shopping trolley"],u:"1f6d2",a:"3.0"},{n:["smoking","smoking symbol"],u:"1f6ac",a:"0.6"},{n:["coffin"],u:"26b0-fe0f",a:"1.0"},{n:["headstone"],u:"1faa6",a:"13.0"},{n:["funeral urn"],u:"26b1-fe0f",a:"1.0"},{n:["moyai"],u:"1f5ff",a:"0.6"},{n:["placard"],u:"1faa7",a:"13.0"},{n:["identification card"],u:"1faaa",a:"14.0"}],qie=[{n:["atm","automated teller machine"],u:"1f3e7",a:"0.6"},{n:["put litter in its place","put litter in its place symbol"],u:"1f6ae",a:"1.0"},{n:["potable water","potable water symbol"],u:"1f6b0",a:"1.0"},{n:["wheelchair","wheelchair symbol"],u:"267f",a:"0.6"},{n:["mens","mens symbol"],u:"1f6b9",a:"0.6"},{n:["womens","womens symbol"],u:"1f6ba",a:"0.6"},{n:["restroom"],u:"1f6bb",a:"0.6"},{n:["baby symbol"],u:"1f6bc",a:"0.6"},{n:["wc","water closet"],u:"1f6be",a:"0.6"},{n:["passport control"],u:"1f6c2",a:"1.0"},{n:["customs"],u:"1f6c3",a:"1.0"},{n:["baggage claim"],u:"1f6c4",a:"1.0"},{n:["left luggage"],u:"1f6c5",a:"1.0"},{n:["warning","warning sign"],u:"26a0-fe0f",a:"0.6"},{n:["children crossing"],u:"1f6b8",a:"1.0"},{n:["no entry"],u:"26d4",a:"0.6"},{n:["no entry sign"],u:"1f6ab",a:"0.6"},{n:["no bicycles"],u:"1f6b3",a:"1.0"},{n:["no smoking","no smoking symbol"],u:"1f6ad",a:"0.6"},{n:["do not litter","do not litter symbol"],u:"1f6af",a:"1.0"},{n:["non-potable water","non-potable water symbol"],u:"1f6b1",a:"1.0"},{n:["no pedestrians"],u:"1f6b7",a:"1.0"},{n:["no mobile phones"],u:"1f4f5",a:"1.0"},{n:["underage","no one under eighteen symbol"],u:"1f51e",a:"0.6"},{n:["radioactive","radioactive sign"],u:"2622-fe0f",a:"1.0"},{n:["biohazard","biohazard sign"],u:"2623-fe0f",a:"1.0"},{n:["arrow up","upwards black arrow"],u:"2b06-fe0f",a:"0.6"},{n:["north east arrow","arrow upper right"],u:"2197-fe0f",a:"0.6"},{n:["arrow right","black rightwards arrow"],u:"27a1-fe0f",a:"0.6"},{n:["south east arrow","arrow lower right"],u:"2198-fe0f",a:"0.6"},{n:["arrow down","downwards black arrow"],u:"2b07-fe0f",a:"0.6"},{n:["south west arrow","arrow lower left"],u:"2199-fe0f",a:"0.6"},{n:["arrow left","leftwards black arrow"],u:"2b05-fe0f",a:"0.6"},{n:["north west arrow","arrow upper left"],u:"2196-fe0f",a:"0.6"},{n:["up down arrow","arrow up down"],u:"2195-fe0f",a:"0.6"},{n:["left right arrow"],u:"2194-fe0f",a:"0.6"},{n:["leftwards arrow with hook"],u:"21a9-fe0f",a:"0.6"},{n:["arrow right hook","rightwards arrow with hook"],u:"21aa-fe0f",a:"0.6"},{n:["arrow heading up","arrow pointing rightwards then curving upwards"],u:"2934-fe0f",a:"0.6"},{n:["arrow heading down","arrow pointing rightwards then curving downwards"],u:"2935-fe0f",a:"0.6"},{n:["arrows clockwise","clockwise downwards and upwards open circle arrows"],u:"1f503",a:"0.6"},{n:["arrows counterclockwise","anticlockwise downwards and upwards open circle arrows"],u:"1f504",a:"1.0"},{n:["back","back with leftwards arrow above"],u:"1f519",a:"0.6"},{n:["end","end with leftwards arrow above"],u:"1f51a",a:"0.6"},{n:["on","on with exclamation mark with left right arrow above"],u:"1f51b",a:"0.6"},{n:["soon","soon with rightwards arrow above"],u:"1f51c",a:"0.6"},{n:["top","top with upwards arrow above"],u:"1f51d",a:"0.6"},{n:["place of worship"],u:"1f6d0",a:"1.0"},{n:["atom symbol"],u:"269b-fe0f",a:"1.0"},{n:["om","om symbol"],u:"1f549-fe0f",a:"0.7"},{n:["star of david"],u:"2721-fe0f",a:"0.7"},{n:["wheel of dharma"],u:"2638-fe0f",a:"0.7"},{n:["yin yang"],u:"262f-fe0f",a:"0.7"},{n:["latin cross"],u:"271d-fe0f",a:"0.7"},{n:["orthodox cross"],u:"2626-fe0f",a:"1.0"},{n:["star and crescent"],u:"262a-fe0f",a:"0.7"},{n:["peace symbol"],u:"262e-fe0f",a:"1.0"},{n:["menorah with nine branches"],u:"1f54e",a:"1.0"},{n:["six pointed star","six pointed star with middle dot"],u:"1f52f",a:"0.6"},{n:["aries"],u:"2648",a:"0.6"},{n:["taurus"],u:"2649",a:"0.6"},{n:["gemini"],u:"264a",a:"0.6"},{n:["cancer"],u:"264b",a:"0.6"},{n:["leo"],u:"264c",a:"0.6"},{n:["virgo"],u:"264d",a:"0.6"},{n:["libra"],u:"264e",a:"0.6"},{n:["scorpius"],u:"264f",a:"0.6"},{n:["sagittarius"],u:"2650",a:"0.6"},{n:["capricorn"],u:"2651",a:"0.6"},{n:["aquarius"],u:"2652",a:"0.6"},{n:["pisces"],u:"2653",a:"0.6"},{n:["ophiuchus"],u:"26ce",a:"0.6"},{n:["twisted rightwards arrows"],u:"1f500",a:"1.0"},{n:["repeat","clockwise rightwards and leftwards open circle arrows"],u:"1f501",a:"1.0"},{n:["repeat one","clockwise rightwards and leftwards open circle arrows with circled one overlay"],u:"1f502",a:"1.0"},{n:["arrow forward","black right-pointing triangle"],u:"25b6-fe0f",a:"0.6"},{n:["fast forward","black right-pointing double triangle"],u:"23e9",a:"0.6"},{n:["next track button","black right pointing double triangle with vertical bar"],u:"23ed-fe0f",a:"0.7"},{n:["play or pause button","black right pointing triangle with double vertical bar"],u:"23ef-fe0f",a:"1.0"},{n:["arrow backward","black left-pointing triangle"],u:"25c0-fe0f",a:"0.6"},{n:["rewind","black left-pointing double triangle"],u:"23ea",a:"0.6"},{n:["last track button","black left pointing double triangle with vertical bar"],u:"23ee-fe0f",a:"0.7"},{n:["arrow up small","up-pointing small red triangle"],u:"1f53c",a:"0.6"},{n:["arrow double up","black up-pointing double triangle"],u:"23eb",a:"0.6"},{n:["arrow down small","down-pointing small red triangle"],u:"1f53d",a:"0.6"},{n:["arrow double down","black down-pointing double triangle"],u:"23ec",a:"0.6"},{n:["pause button","double vertical bar"],u:"23f8-fe0f",a:"0.7"},{n:["stop button","black square for stop"],u:"23f9-fe0f",a:"0.7"},{n:["record button","black circle for record"],u:"23fa-fe0f",a:"0.7"},{n:["eject","eject button"],u:"23cf-fe0f",a:"1.0"},{n:["cinema"],u:"1f3a6",a:"0.6"},{n:["low brightness","low brightness symbol"],u:"1f505",a:"1.0"},{n:["high brightness","high brightness symbol"],u:"1f506",a:"1.0"},{n:["signal strength","antenna with bars"],u:"1f4f6",a:"0.6"},{n:["vibration mode"],u:"1f4f3",a:"0.6"},{n:["mobile phone off"],u:"1f4f4",a:"0.6"},{n:["female sign"],u:"2640-fe0f",a:"4.0"},{n:["male sign"],u:"2642-fe0f",a:"4.0"},{n:["transgender symbol"],u:"26a7-fe0f",a:"13.0"},{n:["heavy multiplication x"],u:"2716-fe0f",a:"0.6"},{n:["heavy plus sign"],u:"2795",a:"0.6"},{n:["heavy minus sign"],u:"2796",a:"0.6"},{n:["heavy division sign"],u:"2797",a:"0.6"},{n:["heavy equals sign"],u:"1f7f0",a:"14.0"},{n:["infinity"],u:"267e-fe0f",a:"11.0"},{n:["bangbang","double exclamation mark"],u:"203c-fe0f",a:"0.6"},{n:["interrobang","exclamation question mark"],u:"2049-fe0f",a:"0.6"},{n:["question","black question mark ornament"],u:"2753",a:"0.6"},{n:["grey question","white question mark ornament"],u:"2754",a:"0.6"},{n:["grey exclamation","white exclamation mark ornament"],u:"2755",a:"0.6"},{n:["exclamation","heavy exclamation mark","heavy exclamation mark symbol"],u:"2757",a:"0.6"},{n:["wavy dash"],u:"3030-fe0f",a:"0.6"},{n:["currency exchange"],u:"1f4b1",a:"0.6"},{n:["heavy dollar sign"],u:"1f4b2",a:"0.6"},{n:["medical symbol","staff of aesculapius"],u:"2695-fe0f",a:"4.0"},{n:["recycle","black universal recycling symbol"],u:"267b-fe0f",a:"0.6"},{n:["fleur-de-lis","fleur de lis"],u:"269c-fe0f",a:"1.0"},{n:["trident","trident emblem"],u:"1f531",a:"0.6"},{n:["name badge"],u:"1f4db",a:"0.6"},{n:["beginner","japanese symbol for beginner"],u:"1f530",a:"0.6"},{n:["o","heavy large circle"],u:"2b55",a:"0.6"},{n:["white check mark","white heavy check mark"],u:"2705",a:"0.6"},{n:["ballot box with check"],u:"2611-fe0f",a:"0.6"},{n:["heavy check mark"],u:"2714-fe0f",a:"0.6"},{n:["x","cross mark"],u:"274c",a:"0.6"},{n:["negative squared cross mark"],u:"274e",a:"0.6"},{n:["curly loop"],u:"27b0",a:"0.6"},{n:["loop","double curly loop"],u:"27bf",a:"1.0"},{n:["part alternation mark"],u:"303d-fe0f",a:"0.6"},{n:["eight spoked asterisk"],u:"2733-fe0f",a:"0.6"},{n:["eight pointed black star"],u:"2734-fe0f",a:"0.6"},{n:["sparkle"],u:"2747-fe0f",a:"0.6"},{n:["copyright","copyright sign"],u:"00a9-fe0f",a:"0.6"},{n:["registered","registered sign"],u:"00ae-fe0f",a:"0.6"},{n:["tm","trade mark sign"],u:"2122-fe0f",a:"0.6"},{n:["hash","hash key"],u:"0023-fe0f-20e3",a:"0.6"},{n:["keycap: *","keycap star"],u:"002a-fe0f-20e3",a:"2.0"},{n:["zero","keycap 0"],u:"0030-fe0f-20e3",a:"0.6"},{n:["one","keycap 1"],u:"0031-fe0f-20e3",a:"0.6"},{n:["two","keycap 2"],u:"0032-fe0f-20e3",a:"0.6"},{n:["three","keycap 3"],u:"0033-fe0f-20e3",a:"0.6"},{n:["four","keycap 4"],u:"0034-fe0f-20e3",a:"0.6"},{n:["five","keycap 5"],u:"0035-fe0f-20e3",a:"0.6"},{n:["six","keycap 6"],u:"0036-fe0f-20e3",a:"0.6"},{n:["seven","keycap 7"],u:"0037-fe0f-20e3",a:"0.6"},{n:["eight","keycap 8"],u:"0038-fe0f-20e3",a:"0.6"},{n:["nine","keycap 9"],u:"0039-fe0f-20e3",a:"0.6"},{n:["keycap ten"],u:"1f51f",a:"0.6"},{n:["capital abcd","input symbol for latin capital letters"],u:"1f520",a:"0.6"},{n:["abcd","input symbol for latin small letters"],u:"1f521",a:"0.6"},{n:["1234","input symbol for numbers"],u:"1f522",a:"0.6"},{n:["symbols","input symbol for symbols"],u:"1f523",a:"0.6"},{n:["abc","input symbol for latin letters"],u:"1f524",a:"0.6"},{n:["a","negative squared latin capital letter a"],u:"1f170-fe0f",a:"0.6"},{n:["ab","negative squared ab"],u:"1f18e",a:"0.6"},{n:["b","negative squared latin capital letter b"],u:"1f171-fe0f",a:"0.6"},{n:["cl","squared cl"],u:"1f191",a:"0.6"},{n:["cool","squared cool"],u:"1f192",a:"0.6"},{n:["free","squared free"],u:"1f193",a:"0.6"},{n:["information source"],u:"2139-fe0f",a:"0.6"},{n:["id","squared id"],u:"1f194",a:"0.6"},{n:["m","circled latin capital letter m"],u:"24c2-fe0f",a:"0.6"},{n:["new","squared new"],u:"1f195",a:"0.6"},{n:["ng","squared ng"],u:"1f196",a:"0.6"},{n:["o2","negative squared latin capital letter o"],u:"1f17e-fe0f",a:"0.6"},{n:["ok","squared ok"],u:"1f197",a:"0.6"},{n:["parking","negative squared latin capital letter p"],u:"1f17f-fe0f",a:"0.6"},{n:["sos","squared sos"],u:"1f198",a:"0.6"},{n:["up","squared up with exclamation mark"],u:"1f199",a:"0.6"},{n:["vs","squared vs"],u:"1f19a",a:"0.6"},{n:["koko","squared katakana koko"],u:"1f201",a:"0.6"},{n:["sa","squared katakana sa"],u:"1f202-fe0f",a:"0.6"},{n:["u6708","squared cjk unified ideograph-6708"],u:"1f237-fe0f",a:"0.6"},{n:["u6709","squared cjk unified ideograph-6709"],u:"1f236",a:"0.6"},{n:["u6307","squared cjk unified ideograph-6307"],u:"1f22f",a:"0.6"},{n:["ideograph advantage","circled ideograph advantage"],u:"1f250",a:"0.6"},{n:["u5272","squared cjk unified ideograph-5272"],u:"1f239",a:"0.6"},{n:["u7121","squared cjk unified ideograph-7121"],u:"1f21a",a:"0.6"},{n:["u7981","squared cjk unified ideograph-7981"],u:"1f232",a:"0.6"},{n:["accept","circled ideograph accept"],u:"1f251",a:"0.6"},{n:["u7533","squared cjk unified ideograph-7533"],u:"1f238",a:"0.6"},{n:["u5408","squared cjk unified ideograph-5408"],u:"1f234",a:"0.6"},{n:["u7a7a","squared cjk unified ideograph-7a7a"],u:"1f233",a:"0.6"},{n:["congratulations","circled ideograph congratulation"],u:"3297-fe0f",a:"0.6"},{n:["secret","circled ideograph secret"],u:"3299-fe0f",a:"0.6"},{n:["u55b6","squared cjk unified ideograph-55b6"],u:"1f23a",a:"0.6"},{n:["u6e80","squared cjk unified ideograph-6e80"],u:"1f235",a:"0.6"},{n:["red circle","large red circle"],u:"1f534",a:"0.6"},{n:["large orange circle"],u:"1f7e0",a:"12.0"},{n:["large yellow circle"],u:"1f7e1",a:"12.0"},{n:["large green circle"],u:"1f7e2",a:"12.0"},{n:["large blue circle"],u:"1f535",a:"0.6"},{n:["large purple circle"],u:"1f7e3",a:"12.0"},{n:["large brown circle"],u:"1f7e4",a:"12.0"},{n:["black circle","medium black circle"],u:"26ab",a:"0.6"},{n:["white circle","medium white circle"],u:"26aa",a:"0.6"},{n:["large red square"],u:"1f7e5",a:"12.0"},{n:["large orange square"],u:"1f7e7",a:"12.0"},{n:["large yellow square"],u:"1f7e8",a:"12.0"},{n:["large green square"],u:"1f7e9",a:"12.0"},{n:["large blue square"],u:"1f7e6",a:"12.0"},{n:["large purple square"],u:"1f7ea",a:"12.0"},{n:["large brown square"],u:"1f7eb",a:"12.0"},{n:["black large square"],u:"2b1b",a:"0.6"},{n:["white large square"],u:"2b1c",a:"0.6"},{n:["black medium square"],u:"25fc-fe0f",a:"0.6"},{n:["white medium square"],u:"25fb-fe0f",a:"0.6"},{n:["black medium small square"],u:"25fe",a:"0.6"},{n:["white medium small square"],u:"25fd",a:"0.6"},{n:["black small square"],u:"25aa-fe0f",a:"0.6"},{n:["white small square"],u:"25ab-fe0f",a:"0.6"},{n:["large orange diamond"],u:"1f536",a:"0.6"},{n:["large blue diamond"],u:"1f537",a:"0.6"},{n:["small orange diamond"],u:"1f538",a:"0.6"},{n:["small blue diamond"],u:"1f539",a:"0.6"},{n:["small red triangle","up-pointing red triangle"],u:"1f53a",a:"0.6"},{n:["small red triangle down","down-pointing red triangle"],u:"1f53b",a:"0.6"},{n:["diamond shape with a dot inside"],u:"1f4a0",a:"0.6"},{n:["radio button"],u:"1f518",a:"0.6"},{n:["white square button"],u:"1f533",a:"0.6"},{n:["black square button"],u:"1f532",a:"0.6"}],Zie=[{n:["chequered flag","checkered flag"],u:"1f3c1",a:"0.6"},{n:["triangular flag on post"],u:"1f6a9",a:"0.6"},{n:["crossed flags"],u:"1f38c",a:"0.6"},{n:["waving black flag"],u:"1f3f4",a:"1.0"},{n:["white flag","waving white flag"],u:"1f3f3-fe0f",a:"0.7"},{n:["rainbow flag","rainbow-flag"],u:"1f3f3-fe0f-200d-1f308",a:"4.0"},{n:["transgender flag"],u:"1f3f3-fe0f-200d-26a7-fe0f",a:"13.0"},{n:["pirate flag"],u:"1f3f4-200d-2620-fe0f",a:"11.0"},{n:["flag-ac","ascension island flag"],u:"1f1e6-1f1e8",a:"2.0"},{n:["flag-ad","andorra flag"],u:"1f1e6-1f1e9",a:"2.0"},{n:["flag-ae","united arab emirates flag"],u:"1f1e6-1f1ea",a:"2.0"},{n:["flag-af","afghanistan flag"],u:"1f1e6-1f1eb",a:"2.0"},{n:["flag-ag","antigua & barbuda flag"],u:"1f1e6-1f1ec",a:"2.0"},{n:["flag-ai","anguilla flag"],u:"1f1e6-1f1ee",a:"2.0"},{n:["flag-al","albania flag"],u:"1f1e6-1f1f1",a:"2.0"},{n:["flag-am","armenia flag"],u:"1f1e6-1f1f2",a:"2.0"},{n:["flag-ao","angola flag"],u:"1f1e6-1f1f4",a:"2.0"},{n:["flag-aq","antarctica flag"],u:"1f1e6-1f1f6",a:"2.0"},{n:["flag-ar","argentina flag"],u:"1f1e6-1f1f7",a:"2.0"},{n:["flag-as","american samoa flag"],u:"1f1e6-1f1f8",a:"2.0"},{n:["flag-at","austria flag"],u:"1f1e6-1f1f9",a:"2.0"},{n:["flag-au","australia flag"],u:"1f1e6-1f1fa",a:"2.0"},{n:["flag-aw","aruba flag"],u:"1f1e6-1f1fc",a:"2.0"},{n:["flag-ax","land islands flag"],u:"1f1e6-1f1fd",a:"2.0"},{n:["flag-az","azerbaijan flag"],u:"1f1e6-1f1ff",a:"2.0"},{n:["flag-ba","bosnia & herzegovina flag"],u:"1f1e7-1f1e6",a:"2.0"},{n:["flag-bb","barbados flag"],u:"1f1e7-1f1e7",a:"2.0"},{n:["flag-bd","bangladesh flag"],u:"1f1e7-1f1e9",a:"2.0"},{n:["flag-be","belgium flag"],u:"1f1e7-1f1ea",a:"2.0"},{n:["flag-bf","burkina faso flag"],u:"1f1e7-1f1eb",a:"2.0"},{n:["flag-bg","bulgaria flag"],u:"1f1e7-1f1ec",a:"2.0"},{n:["flag-bh","bahrain flag"],u:"1f1e7-1f1ed",a:"2.0"},{n:["flag-bi","burundi flag"],u:"1f1e7-1f1ee",a:"2.0"},{n:["flag-bj","benin flag"],u:"1f1e7-1f1ef",a:"2.0"},{n:["flag-bl","st. barthlemy flag"],u:"1f1e7-1f1f1",a:"2.0"},{n:["flag-bm","bermuda flag"],u:"1f1e7-1f1f2",a:"2.0"},{n:["flag-bn","brunei flag"],u:"1f1e7-1f1f3",a:"2.0"},{n:["flag-bo","bolivia flag"],u:"1f1e7-1f1f4",a:"2.0"},{n:["flag-bq","caribbean netherlands flag"],u:"1f1e7-1f1f6",a:"2.0"},{n:["flag-br","brazil flag"],u:"1f1e7-1f1f7",a:"2.0"},{n:["flag-bs","bahamas flag"],u:"1f1e7-1f1f8",a:"2.0"},{n:["flag-bt","bhutan flag"],u:"1f1e7-1f1f9",a:"2.0"},{n:["flag-bv","bouvet island flag"],u:"1f1e7-1f1fb",a:"2.0"},{n:["flag-bw","botswana flag"],u:"1f1e7-1f1fc",a:"2.0"},{n:["flag-by","belarus flag"],u:"1f1e7-1f1fe",a:"2.0"},{n:["flag-bz","belize flag"],u:"1f1e7-1f1ff",a:"2.0"},{n:["flag-ca","canada flag"],u:"1f1e8-1f1e6",a:"2.0"},{n:["flag-cc","cocos (keeling) islands flag"],u:"1f1e8-1f1e8",a:"2.0"},{n:["flag-cd","congo - kinshasa flag"],u:"1f1e8-1f1e9",a:"2.0"},{n:["flag-cf","central african republic flag"],u:"1f1e8-1f1eb",a:"2.0"},{n:["flag-cg","congo - brazzaville flag"],u:"1f1e8-1f1ec",a:"2.0"},{n:["flag-ch","switzerland flag"],u:"1f1e8-1f1ed",a:"2.0"},{n:["flag-ci","cte divoire flag"],u:"1f1e8-1f1ee",a:"2.0"},{n:["flag-ck","cook islands flag"],u:"1f1e8-1f1f0",a:"2.0"},{n:["flag-cl","chile flag"],u:"1f1e8-1f1f1",a:"2.0"},{n:["flag-cm","cameroon flag"],u:"1f1e8-1f1f2",a:"2.0"},{n:["cn","flag-cn","china flag"],u:"1f1e8-1f1f3",a:"0.6"},{n:["flag-co","colombia flag"],u:"1f1e8-1f1f4",a:"2.0"},{n:["flag-cp","clipperton island flag"],u:"1f1e8-1f1f5",a:"2.0"},{n:["flag-cr","costa rica flag"],u:"1f1e8-1f1f7",a:"2.0"},{n:["flag-cu","cuba flag"],u:"1f1e8-1f1fa",a:"2.0"},{n:["flag-cv","cape verde flag"],u:"1f1e8-1f1fb",a:"2.0"},{n:["flag-cw","curaao flag"],u:"1f1e8-1f1fc",a:"2.0"},{n:["flag-cx","christmas island flag"],u:"1f1e8-1f1fd",a:"2.0"},{n:["flag-cy","cyprus flag"],u:"1f1e8-1f1fe",a:"2.0"},{n:["flag-cz","czechia flag"],u:"1f1e8-1f1ff",a:"2.0"},{n:["de","flag-de","germany flag"],u:"1f1e9-1f1ea",a:"0.6"},{n:["flag-dg","diego garcia flag"],u:"1f1e9-1f1ec",a:"2.0"},{n:["flag-dj","djibouti flag"],u:"1f1e9-1f1ef",a:"2.0"},{n:["flag-dk","denmark flag"],u:"1f1e9-1f1f0",a:"2.0"},{n:["flag-dm","dominica flag"],u:"1f1e9-1f1f2",a:"2.0"},{n:["flag-do","dominican republic flag"],u:"1f1e9-1f1f4",a:"2.0"},{n:["flag-dz","algeria flag"],u:"1f1e9-1f1ff",a:"2.0"},{n:["flag-ea","ceuta & melilla flag"],u:"1f1ea-1f1e6",a:"2.0"},{n:["flag-ec","ecuador flag"],u:"1f1ea-1f1e8",a:"2.0"},{n:["flag-ee","estonia flag"],u:"1f1ea-1f1ea",a:"2.0"},{n:["flag-eg","egypt flag"],u:"1f1ea-1f1ec",a:"2.0"},{n:["flag-eh","western sahara flag"],u:"1f1ea-1f1ed",a:"2.0"},{n:["flag-er","eritrea flag"],u:"1f1ea-1f1f7",a:"2.0"},{n:["es","flag-es","spain flag"],u:"1f1ea-1f1f8",a:"0.6"},{n:["flag-et","ethiopia flag"],u:"1f1ea-1f1f9",a:"2.0"},{n:["flag-eu","european union flag"],u:"1f1ea-1f1fa",a:"2.0"},{n:["flag-fi","finland flag"],u:"1f1eb-1f1ee",a:"2.0"},{n:["flag-fj","fiji flag"],u:"1f1eb-1f1ef",a:"2.0"},{n:["flag-fk","falkland islands flag"],u:"1f1eb-1f1f0",a:"2.0"},{n:["flag-fm","micronesia flag"],u:"1f1eb-1f1f2",a:"2.0"},{n:["flag-fo","faroe islands flag"],u:"1f1eb-1f1f4",a:"2.0"},{n:["fr","flag-fr","france flag"],u:"1f1eb-1f1f7",a:"0.6"},{n:["flag-ga","gabon flag"],u:"1f1ec-1f1e6",a:"2.0"},{n:["gb","uk","flag-gb","united kingdom flag"],u:"1f1ec-1f1e7",a:"0.6"},{n:["flag-gd","grenada flag"],u:"1f1ec-1f1e9",a:"2.0"},{n:["flag-ge","georgia flag"],u:"1f1ec-1f1ea",a:"2.0"},{n:["flag-gf","french guiana flag"],u:"1f1ec-1f1eb",a:"2.0"},{n:["flag-gg","guernsey flag"],u:"1f1ec-1f1ec",a:"2.0"},{n:["flag-gh","ghana flag"],u:"1f1ec-1f1ed",a:"2.0"},{n:["flag-gi","gibraltar flag"],u:"1f1ec-1f1ee",a:"2.0"},{n:["flag-gl","greenland flag"],u:"1f1ec-1f1f1",a:"2.0"},{n:["flag-gm","gambia flag"],u:"1f1ec-1f1f2",a:"2.0"},{n:["flag-gn","guinea flag"],u:"1f1ec-1f1f3",a:"2.0"},{n:["flag-gp","guadeloupe flag"],u:"1f1ec-1f1f5",a:"2.0"},{n:["flag-gq","equatorial guinea flag"],u:"1f1ec-1f1f6",a:"2.0"},{n:["flag-gr","greece flag"],u:"1f1ec-1f1f7",a:"2.0"},{n:["flag-gs","south georgia & south sandwich islands flag"],u:"1f1ec-1f1f8",a:"2.0"},{n:["flag-gt","guatemala flag"],u:"1f1ec-1f1f9",a:"2.0"},{n:["flag-gu","guam flag"],u:"1f1ec-1f1fa",a:"2.0"},{n:["flag-gw","guinea-bissau flag"],u:"1f1ec-1f1fc",a:"2.0"},{n:["flag-gy","guyana flag"],u:"1f1ec-1f1fe",a:"2.0"},{n:["flag-hk","hong kong sar china flag"],u:"1f1ed-1f1f0",a:"2.0"},{n:["flag-hm","heard & mcdonald islands flag"],u:"1f1ed-1f1f2",a:"2.0"},{n:["flag-hn","honduras flag"],u:"1f1ed-1f1f3",a:"2.0"},{n:["flag-hr","croatia flag"],u:"1f1ed-1f1f7",a:"2.0"},{n:["flag-ht","haiti flag"],u:"1f1ed-1f1f9",a:"2.0"},{n:["flag-hu","hungary flag"],u:"1f1ed-1f1fa",a:"2.0"},{n:["flag-ic","canary islands flag"],u:"1f1ee-1f1e8",a:"2.0"},{n:["flag-id","indonesia flag"],u:"1f1ee-1f1e9",a:"2.0"},{n:["flag-ie","ireland flag"],u:"1f1ee-1f1ea",a:"2.0"},{n:["flag-il","israel flag"],u:"1f1ee-1f1f1",a:"2.0"},{n:["flag-im","isle of man flag"],u:"1f1ee-1f1f2",a:"2.0"},{n:["flag-in","india flag"],u:"1f1ee-1f1f3",a:"2.0"},{n:["flag-io","british indian ocean territory flag"],u:"1f1ee-1f1f4",a:"2.0"},{n:["flag-iq","iraq flag"],u:"1f1ee-1f1f6",a:"2.0"},{n:["flag-ir","iran flag"],u:"1f1ee-1f1f7",a:"2.0"},{n:["flag-is","iceland flag"],u:"1f1ee-1f1f8",a:"2.0"},{n:["it","flag-it","italy flag"],u:"1f1ee-1f1f9",a:"0.6"},{n:["flag-je","jersey flag"],u:"1f1ef-1f1ea",a:"2.0"},{n:["flag-jm","jamaica flag"],u:"1f1ef-1f1f2",a:"2.0"},{n:["flag-jo","jordan flag"],u:"1f1ef-1f1f4",a:"2.0"},{n:["jp","flag-jp","japan flag"],u:"1f1ef-1f1f5",a:"0.6"},{n:["flag-ke","kenya flag"],u:"1f1f0-1f1ea",a:"2.0"},{n:["flag-kg","kyrgyzstan flag"],u:"1f1f0-1f1ec",a:"2.0"},{n:["flag-kh","cambodia flag"],u:"1f1f0-1f1ed",a:"2.0"},{n:["flag-ki","kiribati flag"],u:"1f1f0-1f1ee",a:"2.0"},{n:["flag-km","comoros flag"],u:"1f1f0-1f1f2",a:"2.0"},{n:["flag-kn","st. kitts & nevis flag"],u:"1f1f0-1f1f3",a:"2.0"},{n:["flag-kp","north korea flag"],u:"1f1f0-1f1f5",a:"2.0"},{n:["kr","flag-kr","south korea flag"],u:"1f1f0-1f1f7",a:"0.6"},{n:["flag-kw","kuwait flag"],u:"1f1f0-1f1fc",a:"2.0"},{n:["flag-ky","cayman islands flag"],u:"1f1f0-1f1fe",a:"2.0"},{n:["flag-kz","kazakhstan flag"],u:"1f1f0-1f1ff",a:"2.0"},{n:["flag-la","laos flag"],u:"1f1f1-1f1e6",a:"2.0"},{n:["flag-lb","lebanon flag"],u:"1f1f1-1f1e7",a:"2.0"},{n:["flag-lc","st. lucia flag"],u:"1f1f1-1f1e8",a:"2.0"},{n:["flag-li","liechtenstein flag"],u:"1f1f1-1f1ee",a:"2.0"},{n:["flag-lk","sri lanka flag"],u:"1f1f1-1f1f0",a:"2.0"},{n:["flag-lr","liberia flag"],u:"1f1f1-1f1f7",a:"2.0"},{n:["flag-ls","lesotho flag"],u:"1f1f1-1f1f8",a:"2.0"},{n:["flag-lt","lithuania flag"],u:"1f1f1-1f1f9",a:"2.0"},{n:["flag-lu","luxembourg flag"],u:"1f1f1-1f1fa",a:"2.0"},{n:["flag-lv","latvia flag"],u:"1f1f1-1f1fb",a:"2.0"},{n:["flag-ly","libya flag"],u:"1f1f1-1f1fe",a:"2.0"},{n:["flag-ma","morocco flag"],u:"1f1f2-1f1e6",a:"2.0"},{n:["flag-mc","monaco flag"],u:"1f1f2-1f1e8",a:"2.0"},{n:["flag-md","moldova flag"],u:"1f1f2-1f1e9",a:"2.0"},{n:["flag-me","montenegro flag"],u:"1f1f2-1f1ea",a:"2.0"},{n:["flag-mf","st. martin flag"],u:"1f1f2-1f1eb",a:"2.0"},{n:["flag-mg","madagascar flag"],u:"1f1f2-1f1ec",a:"2.0"},{n:["flag-mh","marshall islands flag"],u:"1f1f2-1f1ed",a:"2.0"},{n:["flag-mk","north macedonia flag"],u:"1f1f2-1f1f0",a:"2.0"},{n:["flag-ml","mali flag"],u:"1f1f2-1f1f1",a:"2.0"},{n:["flag-mm","myanmar (burma) flag"],u:"1f1f2-1f1f2",a:"2.0"},{n:["flag-mn","mongolia flag"],u:"1f1f2-1f1f3",a:"2.0"},{n:["flag-mo","macao sar china flag"],u:"1f1f2-1f1f4",a:"2.0"},{n:["flag-mp","northern mariana islands flag"],u:"1f1f2-1f1f5",a:"2.0"},{n:["flag-mq","martinique flag"],u:"1f1f2-1f1f6",a:"2.0"},{n:["flag-mr","mauritania flag"],u:"1f1f2-1f1f7",a:"2.0"},{n:["flag-ms","montserrat flag"],u:"1f1f2-1f1f8",a:"2.0"},{n:["flag-mt","malta flag"],u:"1f1f2-1f1f9",a:"2.0"},{n:["flag-mu","mauritius flag"],u:"1f1f2-1f1fa",a:"2.0"},{n:["flag-mv","maldives flag"],u:"1f1f2-1f1fb",a:"2.0"},{n:["flag-mw","malawi flag"],u:"1f1f2-1f1fc",a:"2.0"},{n:["flag-mx","mexico flag"],u:"1f1f2-1f1fd",a:"2.0"},{n:["flag-my","malaysia flag"],u:"1f1f2-1f1fe",a:"2.0"},{n:["flag-mz","mozambique flag"],u:"1f1f2-1f1ff",a:"2.0"},{n:["flag-na","namibia flag"],u:"1f1f3-1f1e6",a:"2.0"},{n:["flag-nc","new caledonia flag"],u:"1f1f3-1f1e8",a:"2.0"},{n:["flag-ne","niger flag"],u:"1f1f3-1f1ea",a:"2.0"},{n:["flag-nf","norfolk island flag"],u:"1f1f3-1f1eb",a:"2.0"},{n:["flag-ng","nigeria flag"],u:"1f1f3-1f1ec",a:"2.0"},{n:["flag-ni","nicaragua flag"],u:"1f1f3-1f1ee",a:"2.0"},{n:["flag-nl","netherlands flag"],u:"1f1f3-1f1f1",a:"2.0"},{n:["flag-no","norway flag"],u:"1f1f3-1f1f4",a:"2.0"},{n:["flag-np","nepal flag"],u:"1f1f3-1f1f5",a:"2.0"},{n:["flag-nr","nauru flag"],u:"1f1f3-1f1f7",a:"2.0"},{n:["flag-nu","niue flag"],u:"1f1f3-1f1fa",a:"2.0"},{n:["flag-nz","new zealand flag"],u:"1f1f3-1f1ff",a:"2.0"},{n:["flag-om","oman flag"],u:"1f1f4-1f1f2",a:"2.0"},{n:["flag-pa","panama flag"],u:"1f1f5-1f1e6",a:"2.0"},{n:["flag-pe","peru flag"],u:"1f1f5-1f1ea",a:"2.0"},{n:["flag-pf","french polynesia flag"],u:"1f1f5-1f1eb",a:"2.0"},{n:["flag-pg","papua new guinea flag"],u:"1f1f5-1f1ec",a:"2.0"},{n:["flag-ph","philippines flag"],u:"1f1f5-1f1ed",a:"2.0"},{n:["flag-pk","pakistan flag"],u:"1f1f5-1f1f0",a:"2.0"},{n:["flag-pl","poland flag"],u:"1f1f5-1f1f1",a:"2.0"},{n:["flag-pm","st. pierre & miquelon flag"],u:"1f1f5-1f1f2",a:"2.0"},{n:["flag-pn","pitcairn islands flag"],u:"1f1f5-1f1f3",a:"2.0"},{n:["flag-pr","puerto rico flag"],u:"1f1f5-1f1f7",a:"2.0"},{n:["flag-ps","palestinian territories flag"],u:"1f1f5-1f1f8",a:"2.0"},{n:["flag-pt","portugal flag"],u:"1f1f5-1f1f9",a:"2.0"},{n:["flag-pw","palau flag"],u:"1f1f5-1f1fc",a:"2.0"},{n:["flag-py","paraguay flag"],u:"1f1f5-1f1fe",a:"2.0"},{n:["flag-qa","qatar flag"],u:"1f1f6-1f1e6",a:"2.0"},{n:["flag-re","runion flag"],u:"1f1f7-1f1ea",a:"2.0"},{n:["flag-ro","romania flag"],u:"1f1f7-1f1f4",a:"2.0"},{n:["flag-rs","serbia flag"],u:"1f1f7-1f1f8",a:"2.0"},{n:["ru","flag-ru","russia flag"],u:"1f1f7-1f1fa",a:"0.6"},{n:["flag-rw","rwanda flag"],u:"1f1f7-1f1fc",a:"2.0"},{n:["flag-sa","saudi arabia flag"],u:"1f1f8-1f1e6",a:"2.0"},{n:["flag-sb","solomon islands flag"],u:"1f1f8-1f1e7",a:"2.0"},{n:["flag-sc","seychelles flag"],u:"1f1f8-1f1e8",a:"2.0"},{n:["flag-sd","sudan flag"],u:"1f1f8-1f1e9",a:"2.0"},{n:["flag-se","sweden flag"],u:"1f1f8-1f1ea",a:"2.0"},{n:["flag-sg","singapore flag"],u:"1f1f8-1f1ec",a:"2.0"},{n:["flag-sh","st. helena flag"],u:"1f1f8-1f1ed",a:"2.0"},{n:["flag-si","slovenia flag"],u:"1f1f8-1f1ee",a:"2.0"},{n:["flag-sj","svalbard & jan mayen flag"],u:"1f1f8-1f1ef",a:"2.0"},{n:["flag-sk","slovakia flag"],u:"1f1f8-1f1f0",a:"2.0"},{n:["flag-sl","sierra leone flag"],u:"1f1f8-1f1f1",a:"2.0"},{n:["flag-sm","san marino flag"],u:"1f1f8-1f1f2",a:"2.0"},{n:["flag-sn","senegal flag"],u:"1f1f8-1f1f3",a:"2.0"},{n:["flag-so","somalia flag"],u:"1f1f8-1f1f4",a:"2.0"},{n:["flag-sr","suriname flag"],u:"1f1f8-1f1f7",a:"2.0"},{n:["flag-ss","south sudan flag"],u:"1f1f8-1f1f8",a:"2.0"},{n:["flag-st","so tom & prncipe flag"],u:"1f1f8-1f1f9",a:"2.0"},{n:["flag-sv","el salvador flag"],u:"1f1f8-1f1fb",a:"2.0"},{n:["flag-sx","sint maarten flag"],u:"1f1f8-1f1fd",a:"2.0"},{n:["flag-sy","syria flag"],u:"1f1f8-1f1fe",a:"2.0"},{n:["flag-sz","eswatini flag"],u:"1f1f8-1f1ff",a:"2.0"},{n:["flag-ta","tristan da cunha flag"],u:"1f1f9-1f1e6",a:"2.0"},{n:["flag-tc","turks & caicos islands flag"],u:"1f1f9-1f1e8",a:"2.0"},{n:["flag-td","chad flag"],u:"1f1f9-1f1e9",a:"2.0"},{n:["flag-tf","french southern territories flag"],u:"1f1f9-1f1eb",a:"2.0"},{n:["flag-tg","togo flag"],u:"1f1f9-1f1ec",a:"2.0"},{n:["flag-th","thailand flag"],u:"1f1f9-1f1ed",a:"2.0"},{n:["flag-tj","tajikistan flag"],u:"1f1f9-1f1ef",a:"2.0"},{n:["flag-tk","tokelau flag"],u:"1f1f9-1f1f0",a:"2.0"},{n:["flag-tl","timor-leste flag"],u:"1f1f9-1f1f1",a:"2.0"},{n:["flag-tm","turkmenistan flag"],u:"1f1f9-1f1f2",a:"2.0"},{n:["flag-tn","tunisia flag"],u:"1f1f9-1f1f3",a:"2.0"},{n:["flag-to","tonga flag"],u:"1f1f9-1f1f4",a:"2.0"},{n:["flag-tr","turkey flag"],u:"1f1f9-1f1f7",a:"2.0"},{n:["flag-tt","trinidad & tobago flag"],u:"1f1f9-1f1f9",a:"2.0"},{n:["flag-tv","tuvalu flag"],u:"1f1f9-1f1fb",a:"2.0"},{n:["flag-tw","taiwan flag"],u:"1f1f9-1f1fc",a:"2.0"},{n:["flag-tz","tanzania flag"],u:"1f1f9-1f1ff",a:"2.0"},{n:["flag-ua","ukraine flag"],u:"1f1fa-1f1e6",a:"2.0"},{n:["flag-ug","uganda flag"],u:"1f1fa-1f1ec",a:"2.0"},{n:["flag-um","u.s. outlying islands flag"],u:"1f1fa-1f1f2",a:"2.0"},{n:["flag-un","united nations flag"],u:"1f1fa-1f1f3",a:"4.0"},{n:["us","flag-us","united states flag"],u:"1f1fa-1f1f8",a:"0.6"},{n:["flag-uy","uruguay flag"],u:"1f1fa-1f1fe",a:"2.0"},{n:["flag-uz","uzbekistan flag"],u:"1f1fa-1f1ff",a:"2.0"},{n:["flag-va","vatican city flag"],u:"1f1fb-1f1e6",a:"2.0"},{n:["flag-vc","st. vincent & grenadines flag"],u:"1f1fb-1f1e8",a:"2.0"},{n:["flag-ve","venezuela flag"],u:"1f1fb-1f1ea",a:"2.0"},{n:["flag-vg","british virgin islands flag"],u:"1f1fb-1f1ec",a:"2.0"},{n:["flag-vi","u.s. virgin islands flag"],u:"1f1fb-1f1ee",a:"2.0"},{n:["flag-vn","vietnam flag"],u:"1f1fb-1f1f3",a:"2.0"},{n:["flag-vu","vanuatu flag"],u:"1f1fb-1f1fa",a:"2.0"},{n:["flag-wf","wallis & futuna flag"],u:"1f1fc-1f1eb",a:"2.0"},{n:["flag-ws","samoa flag"],u:"1f1fc-1f1f8",a:"2.0"},{n:["flag-xk","kosovo flag"],u:"1f1fd-1f1f0",a:"2.0"},{n:["flag-ye","yemen flag"],u:"1f1fe-1f1ea",a:"2.0"},{n:["flag-yt","mayotte flag"],u:"1f1fe-1f1f9",a:"2.0"},{n:["flag-za","south africa flag"],u:"1f1ff-1f1e6",a:"2.0"},{n:["flag-zm","zambia flag"],u:"1f1ff-1f1f2",a:"2.0"},{n:["flag-zw","zimbabwe flag"],u:"1f1ff-1f1fc",a:"2.0"},{n:["england flag","flag-england"],u:"1f3f4-e0067-e0062-e0065-e006e-e0067-e007f",a:"5.0"},{n:["scotland flag","flag-scotland"],u:"1f3f4-e0067-e0062-e0073-e0063-e0074-e007f",a:"5.0"},{n:["wales flag","flag-wales"],u:"1f3f4-e0067-e0062-e0077-e006c-e0073-e007f",a:"5.0"}],Ju={custom:Gie,smileys_people:Hie,animals_nature:Yie,food_drink:Wie,travel_places:Qie,activities:Kie,objects:Jie,symbols:qie,flags:Zie},ep=[vi.NEUTRAL,vi.LIGHT,vi.MEDIUM_LIGHT,vi.MEDIUM,vi.MEDIUM_DARK,vi.DARK],Xie=Object.entries(vi).reduce(function(s,e){var t=e[0],n=e[1];return s[n]=t,s},{}),ere=ep.reduce(function(s,e){var t;return Object.assign(s,(t={},t[e]=e,t))},{}),Xn;(function(s){s.name="n",s.unified="u",s.variations="v",s.added_in="a",s.imgUrl="imgUrl"})(Xn||(Xn={}));var du={};setTimeout(function(){zp.reduce(function(s,e){return dD(e),s},du)});function dD(s){var e=gd(s).flat().join("").toLowerCase().replace(/[^a-zA-Z\d]/g,"").split("");e.forEach(function(t){var n;du[t]=(n=du[t])!=null?n:{},du[t][Vs(s)]=s})}function gd(s){var e;return(e=s[Xn.name])!=null?e:[]}function tre(s){return parseFloat(s[Xn.added_in])}function sv(s){return s?gd(s)[0]:""}function ww(s){var e=s.split("-"),t=e.splice(1,1),n=t[0];return ere[n]?e.join("-"):s}function Vs(s,e){var t,n=s[Xn.unified];return!e||!jc(s)?n:(t=nre(s,e))!=null?t:n}function sre(s){var e;return(e=Ju==null?void 0:Ju[s])!=null?e:[]}function hD(s,e){return""+Vie(e)+s+".png"}function xd(s){var e;return(e=s[Xn.variations])!=null?e:[]}function jc(s){return xd(s).length>0}function nre(s,e){return e?xd(s).find(function(t){return t.includes(e)}):Vs(s)}function pc(s){if(s){if(Zl[s])return Zl[s];var e=ww(s);return Zl[e]}}var zp=Object.values(Ju).flat();function ire(s){Ju[Ke.CUSTOM].length=0,s.forEach(function(e){var t=rre(e);Ju[Ke.CUSTOM].push(t),!Zl[t[Xn.unified]]&&(zp.push(t),Zl[t[Xn.unified]]=t,dD(t))})}function rre(s){var e;return e={},e[Xn.name]=s.names.map(function(t){return t.toLowerCase()}),e[Xn.unified]=s.id.toLowerCase(),e[Xn.added_in]="0",e[Xn.imgUrl]=s.imgUrl,e}var Zl={};setTimeout(function(){zp.reduce(function(s,e){return s[Vs(e)]=e,jc(e)&&xd(e).forEach(function(t){s[t]=e}),s},Zl)});function are(s){var e=s.split("-"),t=e[1];return ep.includes(t)?t:null}var ore=["2640-fe0f","2642-fe0f","2695-fe0f"],tp="Search",lre="No results found",mD=" found. Use up and down arrow keys to navigate.",cre="1 result"+mD,fre="%n results"+mD;function W6(s){var e,t;s===void 0&&(s={});var n=pD(),i=Object.assign(n.previewConfig,(e=s.previewConfig)!=null?e:{}),r=Object.assign(n,s),a=Fie(s.categories,{suggestionMode:r.suggestedEmojisMode});r.hiddenEmojis.forEach(function(c){r.unicodeToHide.add(c)}),ire((t=r.customEmojis)!=null?t:[]);var l=r.searchDisabled?mc.PREVIEW:r.skinTonePickerLocation;return Dt({},r,{categories:a,previewConfig:i,skinTonePickerLocation:l})}function pD(){return{autoFocusSearch:!0,categories:fD(),className:"",customEmojis:[],defaultSkinTone:vi.NEUTRAL,emojiStyle:jn.APPLE,emojiVersion:null,getEmojiUrl:hD,height:450,lazyLoadEmojis:!1,previewConfig:Dt({},ure),searchDisabled:!1,searchPlaceHolder:tp,searchPlaceholder:tp,skinTonePickerLocation:mc.SEARCH,skinTonesDisabled:!1,style:{},suggestedEmojisMode:Qu.FREQUENT,theme:Ku.LIGHT,unicodeToHide:new Set(ore),width:350,reactionsDefaultOpen:!1,reactions:Pie,open:!0,allowExpandReactions:!0,hiddenEmojis:[]}}var ure={defaultEmoji:"1f60a",defaultCaption:"What's your mood?",showPreview:!0},dre=["children"],gD=T.createContext(pD());function hre(s){var e=s.children,t=oD(s,dre),n=mre(t);return T.createElement(gD.Provider,{value:n},e)}function mre(s){var e,t=T.useState(function(){return W6(s)}),n=t[0],i=t[1];return T.useEffect(function(){lD(n,s)||i(W6(s))},[(e=s.customEmojis)==null?void 0:e.length,s.open,s.emojiVersion,s.reactionsDefaultOpen,s.searchPlaceHolder,s.searchPlaceholder,s.defaultSkinTone,s.skinTonesDisabled,s.autoFocusSearch,s.emojiStyle,s.theme,s.suggestedEmojisMode,s.lazyLoadEmojis,s.className,s.height,s.width,s.searchDisabled,s.skinTonePickerLocation,s.allowExpandReactions]),n}function Ut(){return T.useContext(gD)}var xD=je.createContext({});function yD(){var s=je.useContext(xD);return s}function pre(s){var e=je.useRef({onEmojiClick:s.onEmojiClick||b0,onReactionClick:s.onReactionClick||s.onEmojiClick,onSkinToneChange:s.onSkinToneChange||b0});return je.useEffect(function(){e.current.onEmojiClick=s.onEmojiClick||b0,e.current.onReactionClick=s.onReactionClick||s.onEmojiClick},[s.onEmojiClick,s.onReactionClick]),je.useEffect(function(){e.current.onSkinToneChange=s.onSkinToneChange||b0},[s.onSkinToneChange]),e}function b0(){}var qu;(function(s){s.REACTIONS="reactions",s.PICKER="picker"})(qu||(qu={}));function gre(){var s,e=Ut(),t=e.searchPlaceHolder,n=e.searchPlaceholder;return(s=[t,n].find(function(i){return i!==tp}))!=null?s:tp}function xre(){var s=Ut(),e=s.defaultSkinTone;return e}function bD(){var s=Ut(),e=s.allowExpandReactions;return e}function vD(){var s=Ut(),e=s.skinTonesDisabled;return e}function Jo(){var s=Ut(),e=s.emojiStyle;return e}function yre(){var s=Ut(),e=s.autoFocusSearch;return e}function wD(){var s=Ut(),e=s.categories;return e}function bre(){var s=Ut(),e=s.customEmojis;return e}function vre(){var s=Ut(),e=s.open;return e}function wre(s){var e,t=yD(),n=t.current,i=(e=s===qu.REACTIONS?n.onReactionClick:n.onEmojiClick)!=null?e:n.onEmojiClick;return i||function(){}}function Sre(){var s=yD(),e=s.current;return e.onSkinToneChange||function(){}}function SD(){var s=Ut(),e=s.previewConfig;return e}function Lre(){var s=Ut(),e=s.theme;return e}function Cre(){var s=Ut(),e=s.suggestedEmojisMode;return e}function Tre(){var s=Ut(),e=s.lazyLoadEmojis;return e}function jre(){var s=Ut(),e=s.className;return e}function Ere(){var s=Ut(),e=s.height,t=s.width,n=s.style;return Dt({height:Q6(e),width:Q6(t)},n)}function Nre(){var s=Ut(),e=s.reactionsDefaultOpen;return e}function Mre(){var s=Ut(),e=s.emojiVersion;return e}function LD(){var s=Ut(),e=s.searchDisabled;return e}function CD(){var s=Ut(),e=s.skinTonePickerLocation;return e}function kre(){var s=Ut(),e=s.unicodeToHide;return e}function Ire(){var s=Ut(),e=s.reactions;return e}function qo(){var s=Ut(),e=s.getEmojiUrl;return e}function Q6(s){return typeof s=="number"?s+"px":s}function _re(s){var e=s>0,t=s>1;return e?t?fre.replace("%n",s.toString()):cre:lre}function K6(s,e){e===void 0&&(e=0);var t=T.useState(s),n=t[0],i=t[1],r=T.useRef(null);function a(l){return new Promise(function(c){var f;r.current&&clearTimeout(r.current),r.current=(f=window)==null?void 0:f.setTimeout(function(){i(l),c(l)},e)})}return[n,a]}function Are(){var s=kre();return function(e){return s.has(e)}}function TD(){var s=T.useRef({}),e=Mre();return T.useMemo(function(){var t=parseFloat(""+e);return!e||Number.isNaN(t)?s.current:zp.reduce(function(n,i){return Pre(i,t)&&(n[Vs(i)]=!0),n},s.current)},[e])}function Dre(){var s=TD(),e=Are();return function(n){var i=ww(Vs(n));return!!(s[i]||e(i))}}function Pre(s,e){return tre(s)>e}function Rre(s){T.useEffect(function(){s(!0)},[s])}function Ore(s){var e=s.children,t=TD(),n=xre(),i=Nre(),r=T.useRef(du),a=T.useRef(!1),l=T.useRef(!1),c=T.useRef(t),f=K6(Date.now(),200),u=K6("",100),h=T.useState(!1),p=T.useState(n),g=T.useState(null),x=T.useState(new Set),y=T.useState(null),v=T.useState(i),w=T.useState(!1),L=w[0],S=w[1];return Rre(S),T.createElement(ii.Provider,{value:{activeCategoryState:g,activeSkinTone:p,disallowClickRef:a,disallowMouseRef:l,disallowedEmojisRef:c,emojiVariationPickerState:y,emojisThatFailedToLoadState:x,filterRef:r,isPastInitialLoad:L,searchTerm:u,skinToneFanOpenState:h,suggestedUpdateState:f,reactionsModeState:v}},e)}var ii=T.createContext({activeCategoryState:[null,function(){}],activeSkinTone:[vi.NEUTRAL,function(){}],disallowClickRef:{current:!1},disallowMouseRef:{current:!1},disallowedEmojisRef:{current:{}},emojiVariationPickerState:[null,function(){}],emojisThatFailedToLoadState:[new Set,function(){}],filterRef:{current:{}},isPastInitialLoad:!0,searchTerm:["",function(){return new Promise(function(){})}],skinToneFanOpenState:[!1,function(){}],suggestedUpdateState:[Date.now(),function(){}],reactionsModeState:[!1,function(){}]});function Sw(){var s=T.useContext(ii),e=s.filterRef;return e}function Fre(){var s=T.useContext(ii),e=s.disallowClickRef;return e}function Lw(){var s=T.useContext(ii),e=s.disallowMouseRef;return e}function Bp(){var s=T.useContext(ii),e=s.reactionsModeState;return e}function Up(){var s=T.useContext(ii),e=s.searchTerm;return e}function Cw(){var s=T.useContext(ii),e=s.activeSkinTone;return e}function jD(){var s=T.useContext(ii),e=s.emojisThatFailedToLoadState;return e}function zre(){var s=T.useContext(ii),e=s.isPastInitialLoad;return e}function Ec(){var s=T.useContext(ii),e=s.emojiVariationPickerState;return e}function yd(){var s=T.useContext(ii),e=s.skinToneFanOpenState;return e}function ED(){var s=T.useContext(ii),e=s.suggestedUpdateState,t=e[0],n=e[1];return[t,function(){n(Date.now())}]}function $p(){var s=Up(),e=s[0];return!!e}function Dn(s){s&&requestAnimationFrame(function(){s.focus()})}function ND(s){if(s){var e=s.previousElementSibling;Dn(e)}}function MD(s){if(s){var e=s.nextElementSibling;Dn(e)}}function kD(s){if(s){var e=s.firstElementChild;Dn(e)}}function Zu(){return document.activeElement}function Bre(s){var e=s.children,t=T.useRef(null),n=T.useRef(null),i=T.useRef(null),r=T.useRef(null),a=T.useRef(null),l=T.useRef(null),c=T.useRef(null),f=T.useRef(null);return T.createElement(ID.Provider,{value:{AnchoredEmojiRef:n,BodyRef:i,CategoryNavigationRef:l,PickerMainRef:t,SearchInputRef:r,SkinTonePickerRef:a,VariationPickerRef:c,ReactionsRef:f}},e)}var ID=T.createContext({AnchoredEmojiRef:T.createRef(),BodyRef:T.createRef(),CategoryNavigationRef:T.createRef(),PickerMainRef:T.createRef(),SearchInputRef:T.createRef(),SkinTonePickerRef:T.createRef(),VariationPickerRef:T.createRef(),ReactionsRef:T.createRef()});function Ga(){return T.useContext(ID)}function bd(){return Ga().PickerMainRef}function Vp(){return Ga().AnchoredEmojiRef}function _D(){var s=Vp();return function(e){e===null&&s.current!==null&&Dn(s.current),s.current=e}}function ri(){return Ga().BodyRef}function Ure(){return Ga().ReactionsRef}function Ha(){return Ga().SearchInputRef}function Tw(){return Ga().SkinTonePickerRef}function jw(){return Ga().CategoryNavigationRef}function $re(){return Ga().VariationPickerRef}function AD(s,e){e===void 0&&(e=0);var t=QD(s);t&&requestAnimationFrame(function(){t.scrollTop=e})}function Vre(s,e){var t=QD(s);t&&requestAnimationFrame(function(){t.scrollTop=t.scrollTop+e})}function Gre(){var s=ri();return T.useCallback(function(e){requestAnimationFrame(function(){s.current&&(s.current.scrollTop=e)})},[s])}function Gp(s){if(!(!s||!Dae(s))&&!s.closest(Ps(Je.variationPicker))){var e=JD(s),t=KD(s);Vre(e,-(_w(Ya(s))-t))}}function Hp(s){var e=Rw(s);Dn(e),Gp(e)}function Hre(s){var e=Rw(s);Dn(e),e==null||e.click()}function Yre(s){Dn(eP(s))}function Wre(s){if(s){var e=tP(s);if(!e)return Hp(Wp(s));Dn(e),Gp(e)}}function Qre(s){if(s){var e=Pw(s);if(!e)return Yre(Yp(s));Dn(e),Gp(e)}}function Kre(s,e){if(s){var t=qre(s);if(!t)return e();Dn(t),Gp(t)}}function Jre(s){if(s){var e=Zre(s);return Dn(e)}}function qre(s){if(!s)return null;var e=sP(s),t=Ya(e),n=GD(e,s),i=HD(e,s),r=VD(e,s);if(i===0){var a=Yp(t);return a?YD(gc(a),-1,r,n):null}return Nae(gc(e),i,r,n)}function Zre(s){if(!s)return null;var e=sP(s),t=Ya(e),n=GD(e,s),i=HD(e,s),r=VD(e,s);if(!Tae(e,s)){var a=Wp(t);return a?YD(gc(a),0,r,n):null}var l=Eae(gc(e),i,r,n);return l}function Zo(){var s=Ec(),e=s[0],t=s[1],n=yd(),i=n[0],r=n[1],a=T.useCallback(function(){e&&t(null),i&&r(!1)},[e,i,t,r]);return a}function DD(){var s=Ec(),e=s[0],t=yd(),n=t[0];return function(){return!!e||n}}function Xre(){var s=Lw();return function(){s.current=!0}}function PD(){var s=Lw();return function(){s.current=!1}}function RD(){var s=Lw();return function(){return s.current}}function eae(){var s=ri(),e=PD(),t=RD();T.useEffect(function(){var n=s.current;n==null||n.addEventListener("mousemove",i,{passive:!0});function i(){t()&&e()}return function(){n==null||n.removeEventListener("mousemove",i)}},[s,e,t])}function Xo(){var s=Ha();return T.useCallback(function(){Dn(s.current)},[s])}function tae(){var s=Tw();return T.useCallback(function(){s.current&&kD(s.current)},[s])}function OD(){var s=jw();return T.useCallback(function(){s.current&&kD(s.current)},[s])}function sae(){var s=Sw();return function e(t){if(typeof t=="function")return e(t(s.current));s.current=t}}function FD(){var s=Ew(),e=Ha(),t=Xo();return function(){e.current&&(e.current.value=""),s(""),t()}}function nae(){var s=Ha(),e=Ew();return function(n){s.current?(s.current.value=""+s.current.value+n,e(nv(s.current.value))):e(nv(n))}}function iae(){var s=Ha(),e=Sw(),t=sae(),n=Ew(),i=Up(),r=i[0],a=fae(e.current,r);return{onChange:l,searchTerm:r,SearchInputRef:s,statusSearchResults:a};function l(c){var f=e.current,u=c.toLowerCase();if(f!=null&&f[u]||u.length<=1)return n(u);var h=cae(u,f);if(!h)return n(u);t(function(p){var g;return Object.assign(p,(g={},g[u]=rae(h,u),g))}),n(u)}}function Ew(){var s=Up(),e=s[1],t=bd();return function(i){requestAnimationFrame(function(){e(i&&(i==null?void 0:i.toLowerCase())).then(function(){AD(t.current,0)})})}}function rae(s,e){var t={};for(var n in s){var i=s[n];aae(i,e)&&(t[n]=i)}return t}function aae(s,e){return gd(s).some(function(t){return t.includes(e)})}function oae(){var s=Sw(),e=s.current,t=Up(),n=t[0];return function(i){return lae(i,e,n)}}function lae(s,e,t){var n;return!e||!t?!1:!((n=e[t])!=null&&n[s])}function cae(s,e){if(!e)return null;if(e[s])return e[s];var t=Object.keys(e).sort(function(n,i){return i.length-n.length}).find(function(n){return s.includes(n)});return t?e[t]:null}function nv(s){return!s||typeof s!="string"?"":s.trim().toLowerCase()}function fae(s,e){var t;if(!(s!=null&&s[e]))return"";var n=((t=Object.entries(s==null?void 0:s[e]))==null?void 0:t.length)||0;return _re(n)}function zD(){var s=_D(),e=Ec(),t=e[1];return function(i){var r=Iw(i),a=r[0];a&&(s(i),t(a))}}function Nw(){var s=CD();return s===mc.SEARCH}function BD(){var s=CD();return s===mc.PREVIEW}var Zt;(function(s){s.ArrowDown="ArrowDown",s.ArrowUp="ArrowUp",s.ArrowLeft="ArrowLeft",s.ArrowRight="ArrowRight",s.Escape="Escape",s.Enter="Enter",s.Space=" "})(Zt||(Zt={}));function uae(){dae(),hae(),mae(),pae(),gae()}function dae(){var s=bd(),e=FD(),t=Gre(),n=Ha(),i=Xo(),r=DD(),a=Xre(),l=Zo(),c=T.useMemo(function(){return function(u){var h=u.key;switch(a(),h){case Zt.Escape:if(u.preventDefault(),r()){l();return}e(),t(0),i();break}}},[t,e,l,i,r,a]);T.useEffect(function(){var f=s.current;if(f)return f.addEventListener("keydown",c),function(){f.removeEventListener("keydown",c)}},[s,n,t,c])}function hae(){var s=tae(),e=bd(),t=ri(),n=Ha(),i=yd(),r=i[1],a=UD(),l=Nw(),c=T.useMemo(function(){return function(u){var h=u.key;switch(h){case Zt.ArrowRight:if(!l)return;u.preventDefault(),r(!0),s();break;case Zt.ArrowDown:u.preventDefault(),a();break;case Zt.Enter:u.preventDefault(),Hre(t.current);break}}},[s,a,r,t,l]);T.useEffect(function(){var f=n.current;if(f)return f.addEventListener("keydown",c),function(){f.removeEventListener("keydown",c)}},[e,n,c])}function mae(){var s=Tw(),e=Xo(),t=Ha(),n=UD(),i=yd(),r=i[0],a=i[1],l=BD(),c=Nw(),f=Mw(),u=T.useMemo(function(){return function(p){var g=p.key;if(c)switch(g){case Zt.ArrowLeft:if(p.preventDefault(),!r)return e();J6(e);break;case Zt.ArrowRight:if(p.preventDefault(),!r)return e();q6();break;case Zt.ArrowDown:p.preventDefault(),r&&a(!1),n();break;default:f(p);break}if(l)switch(g){case Zt.ArrowUp:if(p.preventDefault(),!r)return e();J6(e);break;case Zt.ArrowDown:if(p.preventDefault(),!r)return e();q6();break;default:f(p);break}}},[r,e,a,n,f,l,c]);T.useEffect(function(){var h=s.current;if(h)return h.addEventListener("keydown",u),function(){h.removeEventListener("keydown",u)}},[s,t,r,u])}function pae(){var s=Xo(),e=jw(),t=ri(),n=Mw(),i=T.useMemo(function(){return function(a){var l=a.key;switch(l){case Zt.ArrowUp:a.preventDefault(),s();break;case Zt.ArrowRight:a.preventDefault(),MD(Zu());break;case Zt.ArrowLeft:a.preventDefault(),ND(Zu());break;case Zt.ArrowDown:a.preventDefault(),Hp(t.current);break;default:n(a);break}}},[t,s,n]);T.useEffect(function(){var r=e.current;if(r)return r.addEventListener("keydown",i),function(){r.removeEventListener("keydown",i)}},[e,t,i])}function gae(){var s=ri(),e=xae(),t=zD(),n=DD(),i=Zo(),r=Mw(),a=T.useMemo(function(){return function(c){var f=c.key,u=Si(Zu());switch(f){case Zt.ArrowRight:c.preventDefault(),Wre(u);break;case Zt.ArrowLeft:c.preventDefault(),Qre(u);break;case Zt.ArrowDown:if(c.preventDefault(),n()){i();break}Jre(u);break;case Zt.ArrowUp:if(c.preventDefault(),n()){i();break}Kre(u,e);break;case Zt.Space:c.preventDefault(),t(c.target);break;default:r(c);break}}},[e,r,t,n,i]);T.useEffect(function(){var l=s.current;if(l)return l.addEventListener("keydown",a),function(){l.removeEventListener("keydown",a)}},[s,a])}function UD(){var s=OD(),e=$p(),t=ri();return T.useCallback(function(){return e?Hp(t.current):s()},[t,s,e])}function xae(){var s=Xo(),e=OD(),t=$p();return T.useCallback(function(){return t?s():e()},[s,t,e])}function J6(s){var e=Zu();e&&(kae(e)||s(),MD(e))}function q6(){var s=Zu();s&&ND(s)}function Mw(){var s=nae(),e=Xo(),t=LD(),n=Zo();return function(r){var a=r.key;yae(r)||t||a.match(/(^[a-zA-Z0-9]$){1}/)&&(r.preventDefault(),n(),e(),s(a))}}function yae(s){var e=s.metaKey,t=s.ctrlKey,n=s.altKey;return e||t||n}function bae(s,e,t){if(e&&t!==jn.NATIVE){var n=Vs(e);Z6.has(n)||(xd(e).forEach(function(i){var r=s(i,t);vae(r)}),Z6.add(n))}}var Z6=new Set;function vae(s){var e=new Image;e.src=s}function wae(){var s=ri(),e=Jo(),t=qo();T.useEffect(function(){if(e===jn.NATIVE)return;var n=s.current;return n==null||n.addEventListener("focusin",i),function(){n==null||n.removeEventListener("focusin",i)};function i(r){var a=Si(r.target);if(a){var l=Iw(a),c=l[0];c&&jc(c)&&bae(t,c,e)}}},[s,e,t])}var Sae=["width","height"],$D=40;function Lae(s){var e=s.children;return T.createElement(Ore,null,T.createElement(Cae,null,e))}function Cae(s){var e,t=s.children,n=Bp(),i=n[0],r=Lre(),a=$p(),l=bd(),c=jre(),f=Ere();uae(),wae();var u=f||{},h=u.width,p=u.height,g=oD(u,Sae);return T.createElement("aside",{className:et(_f.main,_f.baseVariables,r===Ku.DARK&&_f.darkTheme,r===Ku.AUTO&&_f.autoThemeDark,(e={},e[Je.searchActive]=a,e),i&&_f.reactionsMenu,c),ref:l,style:Dt({},g,!i&&{height:p,width:h})},t)}var X6={"--epr-emoji-variation-picker-bg-color":"var(--epr-dark-emoji-variation-picker-bg-color)","--epr-hover-bg-color-reduced-opacity":"var(--epr-dark-hover-bg-color-reduced-opacity)","--epr-highlight-color":"var(--epr-dark-highlight-color)","--epr-text-color":"var(--epr-dark-text-color)","--epr-hover-bg-color":"var(--epr-dark-hover-bg-color)","--epr-focus-bg-color":"var(--epr-dark-focus-bg-color)","--epr-search-input-bg-color":"var(--epr-dark-search-input-bg-color)","--epr-category-label-bg-color":"var(--epr-dark-category-label-bg-color)","--epr-picker-border-color":"var(--epr-dark-picker-border-color)","--epr-bg-color":"var(--epr-dark-bg-color)","--epr-reactions-bg-color":"var(--epr-dark-reactions-bg-color)","--epr-search-input-bg-color-active":"var(--epr-dark-search-input-bg-color-active)","--epr-emoji-variation-indicator-color":"var(--epr-dark-emoji-variation-indicator-color)","--epr-category-icon-active-color":"var(--epr-dark-category-icon-active-color)","--epr-skin-tone-picker-menu-color":"var(--epr-dark-skin-tone-picker-menu-color)","--epr-skin-tone-outer-border-color":"var(--epr-dark-skin-tone-outer-border-color)","--epr-skin-tone-inner-border-color":"var(--epr-dark-skin-tone-inner-border-color)"},_f=Tt.create({main:{".":["epr-main",Je.emojiPicker],position:"relative",display:"flex",flexDirection:"column",borderWidth:"1px",borderStyle:"solid",borderRadius:"var(--epr-picker-border-radius)",borderColor:"var(--epr-picker-border-color)",backgroundColor:"var(--epr-bg-color)",overflow:"hidden",transition:"all 0.3s ease-in-out, background-color 0.1s ease-in-out","*":{boxSizing:"border-box",fontFamily:"sans-serif"}},baseVariables:{"--":{"--epr-highlight-color":"#007aeb","--epr-hover-bg-color":"#e5f0fa","--epr-hover-bg-color-reduced-opacity":"#e5f0fa80","--epr-focus-bg-color":"#e0f0ff","--epr-text-color":"#858585","--epr-search-input-bg-color":"#f6f6f6","--epr-picker-border-color":"#e7e7e7","--epr-bg-color":"#fff","--epr-reactions-bg-color":"#ffffff90","--epr-category-icon-active-color":"#6aa8de","--epr-skin-tone-picker-menu-color":"#ffffff95","--epr-skin-tone-outer-border-color":"#555555","--epr-skin-tone-inner-border-color":"var(--epr-bg-color)","--epr-horizontal-padding":"10px","--epr-picker-border-radius":"8px","--epr-search-border-color":"var(--epr-highlight-color)","--epr-header-padding":"15px var(--epr-horizontal-padding)","--epr-active-skin-tone-indicator-border-color":"var(--epr-highlight-color)","--epr-active-skin-hover-color":"var(--epr-hover-bg-color)","--epr-search-input-bg-color-active":"var(--epr-search-input-bg-color)","--epr-search-input-padding":"0 30px","--epr-search-input-border-radius":"8px","--epr-search-input-height":"40px","--epr-search-input-text-color":"var(--epr-text-color)","--epr-search-input-placeholder-color":"var(--epr-text-color)","--epr-search-bar-inner-padding":"var(--epr-horizontal-padding)","--epr-category-navigation-button-size":"30px","--epr-emoji-variation-picker-height":"45px","--epr-emoji-variation-picker-bg-color":"var(--epr-bg-color)","--epr-preview-height":"70px","--epr-preview-text-size":"14px","--epr-preview-text-padding":"0 var(--epr-horizontal-padding)","--epr-preview-border-color":"var(--epr-picker-border-color)","--epr-preview-text-color":"var(--epr-text-color)","--epr-category-padding":"0 var(--epr-horizontal-padding)","--epr-category-label-bg-color":"#ffffffe6","--epr-category-label-text-color":"var(--epr-text-color)","--epr-category-label-padding":"0 var(--epr-horizontal-padding)","--epr-category-label-height":$D+"px","--epr-emoji-size":"30px","--epr-emoji-padding":"5px","--epr-emoji-fullsize":"calc(var(--epr-emoji-size) + var(--epr-emoji-padding) * 2)","--epr-emoji-hover-color":"var(--epr-hover-bg-color)","--epr-emoji-variation-indicator-color":"var(--epr-picker-border-color)","--epr-emoji-variation-indicator-color-hover":"var(--epr-text-color)","--epr-header-overlay-z-index":"3","--epr-emoji-variations-indictator-z-index":"1","--epr-category-label-z-index":"2","--epr-skin-variation-picker-z-index":"5","--epr-preview-z-index":"6","--epr-dark":"#000","--epr-dark-emoji-variation-picker-bg-color":"var(--epr-dark)","--epr-dark-highlight-color":"#c0c0c0","--epr-dark-text-color":"var(--epr-highlight-color)","--epr-dark-hover-bg-color":"#363636f6","--epr-dark-hover-bg-color-reduced-opacity":"#36363680","--epr-dark-focus-bg-color":"#474747","--epr-dark-search-input-bg-color":"#333333","--epr-dark-category-label-bg-color":"#222222e6","--epr-dark-picker-border-color":"#151617","--epr-dark-bg-color":"#222222","--epr-dark-reactions-bg-color":"#22222290","--epr-dark-search-input-bg-color-active":"var(--epr-dark)","--epr-dark-emoji-variation-indicator-color":"#444","--epr-dark-category-icon-active-color":"#3271b7","--epr-dark-skin-tone-picker-menu-color":"#22222295","--epr-dark-skin-tone-outer-border-color":"var(--epr-dark-picker-border-color)","--epr-dark-skin-tone-inner-border-color":"#FFFFFF"}},autoThemeDark:{".":Je.autoTheme,"@media (prefers-color-scheme: dark)":{"--":X6}},darkTheme:{".":Je.darkTheme,"--":X6},reactionsMenu:{".":"epr-reactions",height:"50px",display:"inline-flex",backgroundColor:"var(--epr-reactions-bg-color)",backdropFilter:"blur(8px)","--":{"--epr-picker-border-radius":"50px"}}});function VD(s,e){if(!s||!e)return 0;var t=s.getBoundingClientRect().width,n=e.getBoundingClientRect().width;return Math.floor(t/n)}function GD(s,e){if(!s||!e)return 0;var t=e.getBoundingClientRect().width,n=e.getBoundingClientRect().left,i=s.getBoundingClientRect().left;return Math.floor((n-i)/t)}function HD(s,e){if(!s||!e)return 0;var t=e.getBoundingClientRect().height,n=e.getBoundingClientRect().top,i=s.getBoundingClientRect().top;return Math.round((n-i)/t)}function Tae(s,e){if(!s||!e)return!1;var t=e.getBoundingClientRect().height,n=e.getBoundingClientRect().top,i=s.getBoundingClientRect().top,r=s.getBoundingClientRect().height;return Math.round(n-i+t)<r}function kw(s,e,t){if(e===-1){var n=Math.floor((s.length-1)/t),i=n*t,r=s.length-1;return s.slice(i,r+1)}return s.slice(e*t,(e+1)*t)}function jae(s,e,t){var n=e+1;return n*t>s.length?[]:kw(s,n,t)}function YD(s,e,t,n){var i=kw(s,e,t);return i[n]||i[i.length-1]||null}function Eae(s,e,t,n){var i=jae(s,e,t);return i[n]||i[i.length-1]||null}function Nae(s,e,t,n){var i=kw(s,e-1,t);return i[n]||i[i.length-1]||null}function Mae(s,e,t){if(!s||!e.length)return null;var n=s.getBoundingClientRect().top,i=s.getBoundingClientRect().bottom,r=n+Iae(s),a=e.find(function(l){var c=l.getBoundingClientRect().top,f=l.getBoundingClientRect().bottom,u=l.clientHeight*t,h=c+u,p=f-u;return h<r?!1:h>=n&&h<=i||p>=n&&p<=i});return a||null}function kae(s){return!!s.nextElementSibling}function Iae(s){for(var e=Array.from(s.querySelectorAll(Ps(Je.label))),t=0,n=e;t<n.length;t++){var i=n[t],r=i.getBoundingClientRect().height;if(r>0)return r}return $D}var sp="button"+Ps(Je.emoji),_ae=[sp,Ps(Je.visible),":not("+Ps(Je.hidden)+")"].join("");function Si(s){var e;return(e=s==null?void 0:s.closest(sp))!=null?e:null}function Iw(s){var e=qD(s),t=Aw(s);if(!e)return[];var n=pc(t??e);return n?[n,t]:[]}function Aae(s){var e;return!!(s!=null&&s.matches(sp)||!(s==null||(e=s.parentElement)==null)&&e.matches(sp))}function eE(s){var e;return(e=s==null?void 0:s.clientHeight)!=null?e:0}function WD(s){if(!s)return 0;var e=Si(s),t=Ya(e),n=_w(t);return tE(e)+tE(t)+n}function _w(s){var e,t;if(!s)return 0;var n=s.querySelector(Ps(Je.categoryContent));return((e=s==null?void 0:s.clientHeight)!=null?e:0)-((t=n==null?void 0:n.clientHeight)!=null?t:0)}function Dae(s){return s?KD(s)<_w(Ya(s)):!1}function QD(s){return s?s.matches(Ps(Je.scrollBody))?s:s.querySelector(Ps(Je.scrollBody)):null}function KD(s){var e,t;return s?WD(s)-((e=(t=JD(s))==null?void 0:t.scrollTop)!=null?e:0):0}function JD(s){var e;return s&&(e=s.closest(Ps(Je.scrollBody)))!=null?e:null}function Pae(s){var e=Si(s),t=Ya(e);return sE(e)+sE(t)}function tE(s){var e;return(e=s==null?void 0:s.offsetTop)!=null?e:0}function sE(s){var e;return(e=s==null?void 0:s.offsetLeft)!=null?e:0}function Aw(s){var e;return(e=Rae(Si(s),"unified"))!=null?e:null}function qD(s){var e=Aw(s);return e?ww(e):null}function ZD(s){return s?{unified:Aw(s),originalUnified:qD(s)}:{unified:null,originalUnified:null}}function Rae(s,e){var t;return(t=Oae(s)[e])!=null?t:null}function Oae(s){var e;return(e=s==null?void 0:s.dataset)!=null?e:{}}function Dw(s){return s.classList.contains(Je.visible)}function XD(s){return s?s.classList.contains(Je.hidden):!0}function gc(s){return s?Array.from(s.querySelectorAll(_ae)):[]}function eP(s){if(!s)return null;var e=gc(s),t=e.slice(-1),n=t[0];return n?Dw(n)?n:Pw(n):null}function tP(s){var e=s.nextElementSibling;return e?Dw(e)?e:tP(e):Rw(Wp(s))}function Pw(s){var e=s.previousElementSibling;return e?Dw(e)?e:Pw(e):eP(Yp(s))}function Rw(s){if(!s)return null;var e=gc(s);return Mae(s,e,.1)}function Yp(s){var e=Ya(s);if(!e)return null;var t=e.previousElementSibling;return t?XD(t)?Yp(t):t:null}function Wp(s){var e=Ya(s);if(!e)return null;var t=e.nextElementSibling;return t?XD(t)?Wp(t):t:null}function Ya(s){return s?s.closest(Ps(Je.category)):null}function sP(s){return s?s.closest(Ps(Je.categoryContent)):null}function nP(s){return s.split("-").map(function(e){return String.fromCodePoint(parseInt(e,16))}).join("")}var iP="epr_suggested";function rP(s){try{var e,t,n;if(!((e=window)!=null&&e.localStorage))return[];var i=JSON.parse((t=(n=window)==null?void 0:n.localStorage.getItem(iP))!=null?t:"[]");return s===Qu.FREQUENT?i.sort(function(r,a){return a.count-r.count}):i}catch{return[]}}function Fae(s,e){var t=rP(),n=Vs(s,e),i=Vs(s),r=t.find(function(c){var f=c.unified;return f===n}),a;r?a=[r].concat(t.filter(function(c){return c!==r})):(r={unified:n,original:i,count:0},a=[r].concat(t)),r.count++,a.length=Math.min(a.length,14);try{var l;(l=window)==null||l.localStorage.setItem(iP,JSON.stringify(a))}catch{}}function zae(s){return s.category===Ke.CUSTOM}function aP(s){return s.imgUrl!==void 0}function oP(s,e){var t=T.useRef(),n=zD(),i=Fre(),r=Ec(),a=r[1],l=Zo(),c=Cw(),f=c[0],u=wre(e),h=ED(),p=h[1],g=qo(),x=Jo(),y=T.useCallback(function(S){if(!i.current){l();var j=nE(S),E=j[0],M=j[1];if(!(!E||!M)){var N=are(M)||f;p(),Fae(E,N),u(Bae(E,N,x,g),S)}}},[f,l,i,u,p,g,x]),v=T.useCallback(function(S){var j;t.current&&clearTimeout(t.current);var E=nE(S),M=E[0];!M||!jc(M)||(t.current=(j=window)==null?void 0:j.setTimeout(function(){i.current=!0,t.current=void 0,l(),n(S.target),a(M)},500))},[i,l,n,a]),w=T.useCallback(function(){t.current?(clearTimeout(t.current),t.current=void 0):i.current&&requestAnimationFrame(function(){i.current=!1})},[i]);T.useEffect(function(){if(s.current){var L=s.current;return L.addEventListener("click",y,{passive:!0}),L.addEventListener("mousedown",v,{passive:!0}),L.addEventListener("mouseup",w,{passive:!0}),function(){L==null||L.removeEventListener("click",y),L==null||L.removeEventListener("mousedown",v),L==null||L.removeEventListener("mouseup",w)}}},[s,y,v,w])}function nE(s){var e=s==null?void 0:s.target;return Aae(e)?Iw(e):[]}function Bae(s,e,t,n){var i=gd(s);if(aP(s)){var r=Vs(s);return{activeSkinTone:e,emoji:r,getImageUrl:function(){return s.imgUrl},imageUrl:s.imgUrl,isCustom:!0,names:i,unified:r,unifiedWithoutSkinTone:r}}var a=Vs(s,e);return{activeSkinTone:e,emoji:nP(a),getImageUrl:function(c){return c===void 0&&(c=t??jn.APPLE),n(a,c)},imageUrl:n(a,t??jn.APPLE),isCustom:!1,names:i,unified:a,unifiedWithoutSkinTone:Vs(s)}}function vd(s){return T.createElement("button",Object.assign({type:"button"},s,{className:et(Uae.button,s.className)}),s.children)}var Uae=Tt.create({button:{".":"epr-btn",cursor:"pointer",border:"0",background:"none",outline:"none"}});function $ae(s){var e,t=s.emojiNames,n=s.unified,i=s.hidden,r=s.hiddenOnSearch,a=s.showVariations,l=a===void 0?!0:a,c=s.hasVariations,f=s.children,u=s.className,h=s.noBackground,p=h===void 0?!1:h;return T.createElement(vd,{className:et(my.emoji,i&&bw.hidden,r&&Ko.hiddenOnSearch,(e={},e[Je.visible]=!i&&!r,e),!!(c&&l)&&my.hasVariations,p&&my.noBackground,u),"data-unified":n,"aria-label":Vae(t),"data-full-name":t},f)}function Vae(s){var e;return s[0].match("flag-")&&(e=s[1])!=null?e:s[0]}var my=Tt.create({emoji:{".":Je.emoji,position:"relative",width:"var(--epr-emoji-fullsize)",height:"var(--epr-emoji-fullsize)",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center",maxWidth:"var(--epr-emoji-fullsize)",maxHeight:"var(--epr-emoji-fullsize)",borderRadius:"8px",overflow:"hidden",transition:"background-color 0.2s",":hover":{backgroundColor:"var(--epr-emoji-hover-color)"},":focus":{backgroundColor:"var(--epr-focus-bg-color)"}},noBackground:{background:"none",":hover":{backgroundColor:"transparent",background:"none"},":focus":{backgroundColor:"transparent",background:"none"}},hasVariations:{".":Je.emojiHasVariations,":after":{content:"",display:"block",width:"0",height:"0",right:"0px",bottom:"1px",position:"absolute",borderLeft:"4px solid transparent",borderRight:"4px solid transparent",transform:"rotate(135deg)",borderBottom:"4px solid var(--epr-emoji-variation-indicator-color)",zIndex:"var(--epr-emoji-variations-indictator-z-index)"},":hover:after":{borderBottom:"4px solid var(--epr-emoji-variation-indicator-color-hover)"}}}),np=Tt.create({external:{".":Je.external,fontSize:"0"},common:{alignSelf:"center",justifySelf:"center",display:"block"}});function iE(s){var e=s.emojiName,t=s.style,n=s.lazyLoad,i=n===void 0?!1:n,r=s.imgUrl,a=s.onError,l=s.className;return T.createElement("img",{src:r,alt:e,className:et(Gae.emojiImag,np.external,np.common,l),loading:i?"lazy":"eager",onError:a,style:t})}var Gae=Tt.create({emojiImag:{".":"epr-emoji-img",maxWidth:"var(--epr-emoji-fullsize)",maxHeight:"var(--epr-emoji-fullsize)",minWidth:"var(--epr-emoji-fullsize)",minHeight:"var(--epr-emoji-fullsize)",padding:"var(--epr-emoji-padding)"}});function Hae(s){var e=s.unified,t=s.style,n=s.className;return T.createElement("span",{className:et(Yae.nativeEmoji,np.common,np.external,n),"data-unified":e,style:t},nP(e))}var Yae=Tt.create({nativeEmoji:{".":"epr-emoji-native",fontFamily:'"Segoe UI Emoji", "Segoe UI Symbol", "Segoe UI", "Apple Color Emoji", "Twemoji Mozilla", "Noto Color Emoji", "EmojiOne Color", "Android Emoji"!important',position:"relative",lineHeight:"100%",fontSize:"var(--epr-emoji-size)",textAlign:"center",alignSelf:"center",justifySelf:"center",letterSpacing:"0",padding:"var(--epr-emoji-padding)"}});function iv(s){var e=s.emoji,t=s.unified,n=s.emojiStyle,i=s.size,r=s.lazyLoad,a=s.getEmojiUrl,l=a===void 0?hD:a,c=s.className,f=jD(),u=f[1],h={};i&&(h.width=h.height=h.fontSize=i+"px");var p=e||pc(t);if(!p)return null;if(aP(p))return T.createElement(iE,{style:h,emojiName:t,emojiStyle:jn.NATIVE,lazyLoad:r,imgUrl:p.imgUrl,onError:g,className:c});return T.createElement(T.Fragment,null,n===jn.NATIVE?T.createElement(Hae,{unified:t,style:h,className:c}):T.createElement(iE,{style:h,emojiName:sv(p),emojiStyle:n,lazyLoad:r,imgUrl:l(t,n),onError:g,className:c}));function g(){u(function(x){return new Set(x).add(t)})}}function Qp(s){var e=s.emoji,t=s.unified,n=s.hidden,i=s.hiddenOnSearch,r=s.emojiStyle,a=s.showVariations,l=a===void 0?!0:a,c=s.size,f=s.lazyLoad,u=s.getEmojiUrl,h=s.className,p=s.noBackground,g=p===void 0?!1:p,x=jc(e);return T.createElement($ae,{hasVariations:x,showVariations:l,hidden:n,hiddenOnSearch:i,emojiNames:gd(e),unified:t,noBackground:g},T.createElement(iv,{unified:t,emoji:e,size:c,emojiStyle:r,lazyLoad:f,getEmojiUrl:u,className:h}))}var Wae="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI4LjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjgwcHgiIHZpZXdCb3g9IjAgMCAyMCA4MCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgODAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBmaWxsPSIjODY4Njg2IiBkPSJNNS43LDEwLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40QzYsMTAuOSw2LjEsMTEsNi4zLDExaDMuNHYzLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40CgljMC4xLDAuMSwwLjIsMC4yLDAuNCwwLjJjMC4zLDAsMC41LTAuMiwwLjUtMC41di0zLjRoMy40YzAuMywwLDAuNS0wLjIsMC41LTAuNXMtMC4yLTAuNS0wLjUtMC41aC0zLjRWNi43YzAtMC4zLTAuMi0wLjUtMC41LTAuNQoJQzkuOCw2LDkuNiw2LjIsOS42LDYuNXYzLjRINi4yQzUuOSw5LjksNS43LDEwLjEsNS43LDEwLjRMNS43LDEwLjR6Ii8+CjxwYXRoIGZpbGw9IiMzMzcxQjciIGQ9Ik01LjcsMzAuNGMwLDAuMSwwLjEsMC4zLDAuMiwwLjRTNi4xLDMxLDYuMywzMWgzLjR2My40YzAsMC4xLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMiwwLjIsMC40LDAuMgoJYzAuMywwLDAuNS0wLjIsMC41LTAuNXYtMy40aDMuNGMwLjMsMCwwLjUtMC4yLDAuNS0wLjVzLTAuMi0wLjUtMC41LTAuNWgtMy40di0zLjRjMC0wLjMtMC4yLTAuNS0wLjUtMC41cy0wLjUsMC4yLTAuNSwwLjV2My40SDYuMgoJQzUuOSwyOS45LDUuNywzMC4xLDUuNywzMC40TDUuNywzMC40eiIvPgo8cGF0aCBmaWxsPSIjQzBDMEJGIiBkPSJNNS43LDUwLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40QzYsNTAuOSw2LjEsNTEsNi4zLDUxaDMuNHYzLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40CgljMC4xLDAuMSwwLjIsMC4yLDAuNCwwLjJjMC4zLDAsMC41LTAuMiwwLjUtMC41di0zLjRoMy40YzAuMywwLDAuNS0wLjIsMC41LTAuNXMtMC4yLTAuNS0wLjUtMC41aC0zLjR2LTMuNGMwLTAuMy0wLjItMC41LTAuNS0wLjUKCXMtMC41LDAuMi0wLjUsMC41djMuNEg2LjJDNS45LDQ5LjksNS43LDUwLjEsNS43LDUwLjRMNS43LDUwLjR6Ii8+CjxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik01LjcsNzAuNGMwLDAuMSwwLjEsMC4zLDAuMiwwLjRTNi4xLDcxLDYuMyw3MWgzLjR2My40YzAsMC4xLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMiwwLjIsMC40LDAuMgoJYzAuMywwLDAuNS0wLjIsMC41LTAuNXYtMy40aDMuNGMwLjMsMCwwLjUtMC4yLDAuNS0wLjVzLTAuMi0wLjUtMC41LTAuNWgtMy40di0zLjRjMC0wLjMtMC4yLTAuNS0wLjUtMC41cy0wLjUsMC4yLTAuNSwwLjV2My40SDYuNAoJQzUuOSw2OS45LDUuNyw3MC4xLDUuNyw3MC40TDUuNyw3MC40eiIvPgo8L3N2Zz4=";function Qae(){var s=Bp(),e=s[1];return T.createElement(vd,{"aria-label":"Show all Emojis",title:"Show all Emojis",tabIndex:0,className:et(Kae.plusSign),onClick:function(){return e(!1)}})}var Kae=Tt.create(Dt({plusSign:{fontSize:"20px",padding:"17px",color:"var(--epr-text-color)",borderRadius:"50%",textAlign:"center",lineHeight:"100%",width:"20px",height:"20px",display:"flex",justifyContent:"center",alignItems:"center",transition:"background-color 0.2s ease-in-out",":after":{content:"",minWidth:"20px",minHeight:"20px",backgroundImage:"url("+Wae+")",backgroundColor:"transparent",backgroundRepeat:"no-repeat",backgroundSize:"20px",backgroundPositionY:"0"},":hover":{color:"var(--epr-highlight-color)",backgroundColor:"var(--epr-hover-bg-color-reduced-opacity)",":after":{backgroundPositionY:"-20px"}},":focus":{color:"var(--epr-highlight-color)",backgroundColor:"var(--epr-hover-bg-color-reduced-opacity)",":after":{backgroundPositionY:"-40px"}}}},Ba("plusSign",{":after":{backgroundPositionY:"-40px"},":hover:after":{backgroundPositionY:"-60px"}})));function Jae(){var s=Bp(),e=s[0],t=Ure(),n=Ire();oP(t,qu.REACTIONS);var i=Jo(),r=bD(),a=qo();return e?T.createElement("ul",{className:et(rE.list,!e&&bw.hidden),ref:t},n.map(function(l){return T.createElement("li",{key:l},T.createElement(Qp,{emoji:pc(l),emojiStyle:i,unified:l,showVariations:!1,className:et(rE.emojiButton),noBackground:!0,getEmojiUrl:a}))}),r?T.createElement("li",null,T.createElement(Qae,null)):null):null}var rE=Tt.create({list:{listStyle:"none",margin:"0",padding:"0 5px",display:"flex",justifyContent:"space-between",alignItems:"center",height:"100%"},emojiButton:{":hover":{transform:"scale(1.2)"},":focus":{transform:"scale(1.2)"},":active":{transform:"scale(1.1)"},transition:"transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.5)"}});function qae(s){var e=Zo();T.useEffect(function(){var t=s.current;if(!t)return;t.addEventListener("scroll",n,{passive:!0});function n(){e()}return function(){t==null||t.removeEventListener("scroll",n)}},[s,e])}function Zae(){var s=jD(),e=s[0],t=oae();return function(n){var i=Vs(n),r=e.has(i),a=t(i);return{failedToLoad:r,filteredOut:a,hidden:r||a}}}function lP(s){var e=s.categoryConfig,t=s.children,n=s.hidden,i=s.hiddenOnSearch,r=vw(e),a=uD(e);return T.createElement("li",{className:et(py.category,n&&bw.hidden,i&&Ko.hiddenOnSearch),"data-name":r,"aria-label":a},T.createElement("h2",{className:et(py.label)},a),T.createElement("div",{className:et(py.categoryContent)},t))}var py=Tt.create({category:{".":Je.category,":not(:has(.epr-visible))":{display:"none"}},categoryContent:{".":Je.categoryContent,display:"grid",gridGap:"0",gridTemplateColumns:"repeat(auto-fill, var(--epr-emoji-fullsize))",justifyContent:"space-between",margin:"var(--epr-category-padding)",position:"relative"},label:{".":Je.label,alignItems:"center",backdropFilter:"blur(3px)",backgroundColor:"var(--epr-category-label-bg-color)",color:"var(--epr-category-label-text-color)",display:"flex",fontSize:"16px",fontWeight:"bold",height:"var(--epr-category-label-height)",margin:"0",padding:"var(--epr-category-label-padding)",position:"sticky",textTransform:"capitalize",top:"0",width:"100%",zIndex:"var(--epr-category-label-z-index)"}}),gy=!1;function Xae(){var s=T.useState(gy),e=s[0],t=s[1];return T.useEffect(function(){t(!0),gy=!0},[]),e||gy}function eoe(s){var e=s.categoryConfig,t=ED(),n=t[0],i=Xae(),r=Cre(),a=qo(),l=T.useMemo(function(){var f;return(f=rP(r))!=null?f:[]},[n,r]),c=Jo();return i?T.createElement(lP,{categoryConfig:e,hiddenOnSearch:!0,hidden:l.length===0},l.map(function(f){var u=pc(f.original);return u?T.createElement(Qp,{showVariations:!1,unified:f.unified,emojiStyle:c,emoji:u,key:f.unified,getEmojiUrl:a}):null})):null}function toe(){var s=wD(),e=T.useRef(0);return T.createElement("ul",{className:et(noe.emojiList)},s.map(function(t){var n=vw(t);return n===Ke.SUGGESTED?T.createElement(eoe,{key:n,categoryConfig:t}):T.createElement(T.Suspense,{key:n},T.createElement(soe,{category:n,categoryConfig:t,renderdCategoriesCountRef:e}))}))}function soe(s){var e=s.category,t=s.categoryConfig,n=s.renderdCategoriesCountRef,i=Zae(),r=Tre(),a=Jo(),l=zre(),c=Cw(),f=c[0],u=Dre(),h=qo(),p=!vD(),g=!l&&n.current>0?[]:sre(e);g.length>0&&n.current++;var x=0,y=g.map(function(v){var w=Vs(v,f),L=i(v),S=L.failedToLoad,j=L.filteredOut,E=L.hidden,M=u(v);return(E||M)&&x++,M?null:T.createElement(Qp,{showVariations:p,key:w,emoji:v,unified:w,hidden:S,hiddenOnSearch:j,emojiStyle:a,lazyLoad:r,getEmojiUrl:h})});return T.createElement(lP,{categoryConfig:t,hidden:x===y.length},y)}var noe=Tt.create({emojiList:{".":Je.emojiList,listStyle:"none",margin:"0",padding:"0"}}),ioe="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSI1MHB4IgoJIGhlaWdodD0iMTVweCIgdmlld0JveD0iMCAwIDUwIDE1IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MCAxNSIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJMYXllcl8xIj4KPC9nPgo8ZyBpZD0iTGF5ZXJfMiI+Cgk8cGF0aCBmaWxsPSIjRkZGRkZGIiBzdHJva2U9IiNFOEU3RTciIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEuODYtMC40M2w5LjgzLDExLjUzYzAuNTksMC42OSwxLjU2LDAuNjksMi4xNCwwbDkuODMtMTEuNTMiLz4KCTxwYXRoIGZpbGw9IiMwMTAyMDIiIHN0cm9rZT0iIzE1MTYxNyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMjYuODYtMC40M2w5LjgzLDExLjUzYzAuNTksMC42OSwxLjU2LDAuNjksMi4xNCwwbDkuODMtMTEuNTMiLz4KPC9nPgo8L3N2Zz4=",Xl;(function(s){s[s.Up=0]="Up",s[s.Down=1]="Down"})(Xl||(Xl={}));function roe(){var s=Vp(),e=$re(),t=Ec(),n=t[0],i=Jo(),r=ooe(e),a=r.getTop,l=r.getMenuDirection,c=_D(),f=aoe(e),u=qo(),h=Si(s.current),p=!!(n&&h&&jc(n)&&h.classList.contains(Je.emojiHasVariations));T.useEffect(function(){p&&Hp(e.current)},[e,p,s]);var g,x;return!p&&s.current?c(null):(g=a(),x=f()),T.createElement("div",{ref:e,className:et(v0.variationPicker,l()===Xl.Down&&v0.pointingUp,p&&v0.visible),style:{top:g}},p&&n?[Vs(n)].concat(xd(n)).slice(0,6).map(function(y){return T.createElement(Qp,{key:y,emoji:n,unified:y,emojiStyle:i,showVariations:!1,getEmojiUrl:u})}):null,T.createElement("div",{className:et(v0.pointer),style:x}))}function aoe(s){var e=Vp();return function(){var n={};if(!s.current)return n;if(e.current){var i=Si(e.current),r=Pae(i);if(!i)return n;n.left=r+(i==null?void 0:i.clientWidth)/2}return n}}function ooe(s){var e=Vp(),t=ri(),n=Xl.Up;return{getMenuDirection:i,getTop:r};function i(){return n}function r(){n=Xl.Up;var a=0;if(!s.current)return 0;var l=eE(s.current);if(e.current){var c,f=t.current,u=Si(e.current),h=eE(u);a=WD(u);var p=(c=f==null?void 0:f.scrollTop)!=null?c:0;p>a-l&&(n=Xl.Down,a+=h+l)}return a-l}}var v0=Tt.create(Dt({variationPicker:{".":Je.variationPicker,position:"absolute",right:"15px",left:"15px",padding:"5px",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.2)",borderRadius:"3px",display:"flex",alignItems:"center",justifyContent:"space-around",opacity:"0",visibility:"hidden",pointerEvents:"none",top:"-100%",border:"1px solid var(--epr-picker-border-color)",height:"var(--epr-emoji-variation-picker-height)",zIndex:"var(--epr-skin-variation-picker-z-index)",background:"var(--epr-emoji-variation-picker-bg-color)",transform:"scale(0.9)",transition:"transform 0.1s ease-out, opacity 0.2s ease-out"},visible:{opacity:"1",visibility:"visible",pointerEvents:"all",transform:"scale(1)"},pointingUp:{".":"pointing-up",transformOrigin:"center 0%",transform:"scale(0.9)"},".pointing-up":{pointer:{top:"0",transform:"rotate(180deg) translateY(100%) translateX(18px)"}},pointer:{".":"epr-emoji-pointer",content:"",position:"absolute",width:"25px",height:"15px",backgroundRepeat:"no-repeat",backgroundPosition:"0 0",backgroundSize:"50px 15px",top:"100%",transform:"translateX(-18px)",backgroundImage:"url("+ioe+")"}},Ba("pointer",{backgroundPosition:"-25px 0"})));function loe(){var s=ri();return qae(s),oP(s,qu.PICKER),eae(),T.createElement("div",{className:et(coe.body,Ko.hiddenOnReactions),ref:s},T.createElement(roe,null),T.createElement(toe,null))}var coe=Tt.create({body:{".":Je.scrollBody,flex:"1",overflowY:"scroll",overflowX:"hidden",position:"relative"}});function foe(s,e){if(!s||!e)return 0;var t=s.getBoundingClientRect(),n=e.getBoundingClientRect();return n.height-(t.y-n.y)}function uoe(s,e){var t=ri(),n=RD(),i=PD();T.useEffect(function(){if(!s)return;var r=t.current;r==null||r.addEventListener("keydown",c,{passive:!0}),r==null||r.addEventListener("mouseover",f,!0),r==null||r.addEventListener("focus",a,!0),r==null||r.addEventListener("mouseout",l,{passive:!0}),r==null||r.addEventListener("blur",l,!0);function a(u){var h=Si(u.target);if(!h)return l();var p=ZD(h),g=p.unified,x=p.originalUnified;if(!g||!x)return l();e({unified:g,originalUnified:x})}function l(u){if(u){var h=u.relatedTarget;if(!Si(h))return e(null)}e(null)}function c(u){u.key==="Escape"&&e(null)}function f(u){if(!n()){var h=Si(u.target);if(h){var p=foe(h,r),g=h.getBoundingClientRect().height;if(p<g)return doe(h,e);Dn(h)}}}return function(){r==null||r.removeEventListener("mouseover",f),r==null||r.removeEventListener("mouseout",l),r==null||r.removeEventListener("focus",a,!0),r==null||r.removeEventListener("blur",l,!0),r==null||r.removeEventListener("keydown",c)}},[t,s,e,n,i])}function doe(s,e){var t,n=ZD(s),i=n.unified,r=n.originalUnified;!i||!r||((t=document.activeElement)==null||t.blur==null||t.blur(),e({unified:i,originalUnified:r}))}var w0,Xu;(function(s){s.ROW="FlexRow",s.COLUMN="FlexColumn"})(Xu||(Xu={}));function cP(s){var e=s.children,t=s.className,n=s.style,i=n===void 0?{}:n,r=s.direction,a=r===void 0?Xu.ROW:r;return T.createElement("div",{style:Dt({},i),className:et(aE.flex,t,aE[a])},e)}var aE=Tt.create((w0={flex:{display:"flex"}},w0[Xu.ROW]={flexDirection:"row"},w0[Xu.COLUMN]={flexDirection:"column"},w0));function hoe(s){var e=s.className,t=s.style,n=t===void 0?{}:t;return T.createElement("div",{style:Dt({flex:1},n),className:et(e)})}function moe(s){var e=s.children,t=s.className,n=s.style;return T.createElement("div",{style:Dt({},n,{position:"absolute"}),className:t},e)}function Kp(s){var e=s.children,t=s.className,n=s.style;return T.createElement("div",{style:Dt({},n,{position:"relative"}),className:t},e)}function poe(s){var e=s.isOpen,t=s.onClick,n=s.isActive,i=s.skinToneVariation,r=s.style;return T.createElement(vd,{style:r,onClick:t,className:et("epr-tone-"+i,xy.tone,!e&&xy.closedTone,n&&xy.active),"aria-pressed":n,"aria-label":"Skin tone "+Xie[i]})}var xy=Tt.create({closedTone:{opacity:"0",zIndex:"0"},active:{".":"epr-active",zIndex:"1",opacity:"1"},tone:{".":"epr-tone",width:"var(--epr-skin-tone-size)",display:"block",cursor:"pointer",borderRadius:"4px",height:"var(--epr-skin-tone-size)",position:"absolute",right:"0",transition:"transform 0.3s ease-in-out, opacity 0.35s ease-in-out",zIndex:"0",border:"1px solid var(--epr-skin-tone-outer-border-color)",boxShadow:"inset 0px 0px 0 1px var(--epr-skin-tone-inner-border-color)",":hover":{boxShadow:"0 0 0 3px var(--epr-active-skin-hover-color), inset 0px 0px 0 1px var(--epr-skin-tone-inner-border-color)"},":focus":{boxShadow:"0 0 0 3px var(--epr-focus-bg-color)"},"&.epr-tone-neutral":{backgroundColor:"#ffd225"},"&.epr-tone-1f3fb":{backgroundColor:"#ffdfbd"},"&.epr-tone-1f3fc":{backgroundColor:"#e9c197"},"&.epr-tone-1f3fd":{backgroundColor:"#c88e62"},"&.epr-tone-1f3fe":{backgroundColor:"#a86637"},"&.epr-tone-1f3ff":{backgroundColor:"#60463a"}}}),Gf=28;function goe(){return T.createElement(Kp,{style:{height:Gf}},T.createElement(moe,{style:{bottom:0,right:0}},T.createElement(fP,{direction:ed.VERTICAL})))}function fP(s){var e=s.direction,t=e===void 0?ed.HORIZONTAL:e,n=Tw(),i=vD(),r=yd(),a=r[0],l=r[1],c=Cw(),f=c[0],u=c[1],h=Sre(),p=Zo(),g=Xo();if(i)return null;var x=Gf*ep.length+"px",y=a?x:Gf+"px",v=t===ed.VERTICAL;return T.createElement(Kp,{className:et(Af.skinTones,v&&Af.vertical,a&&Af.open,v&&a&&Af.verticalShadow),style:v?{flexBasis:y,height:y}:{flexBasis:y}},T.createElement("div",{className:et(Af.select),ref:n},ep.map(function(w,L){var S=w===f;return T.createElement(poe,{key:w,skinToneVariation:w,isOpen:a,style:{transform:et(v?"translateY(-"+L*(a?Gf:0)+"px)":"translateX(-"+L*(a?Gf:0)+"px)",a&&S&&"scale(1.3)")},isActive:S,onClick:function(){a?(u(w),h(w),g()):l(!0),p()}})})))}var ed;(function(s){s.VERTICAL="epr-vertical",s.HORIZONTAL="epr-horizontal"})(ed||(ed={}));var Af=Tt.create({skinTones:{".":"epr-skin-tones","--":{"--epr-skin-tone-size":"15px"},display:"flex",alignItems:"center",justifyContent:"flex-end",transition:"all 0.3s ease-in-out",padding:"10px 0"},vertical:{padding:"9px",alignItems:"flex-end",flexDirection:"column",borderRadius:"6px",border:"1px solid var(--epr-bg-color)"},verticalShadow:{boxShadow:"0px 0 7px var(--epr-picker-border-color)"},open:{backdropFilter:"blur(5px)",background:"var(--epr-skin-tone-picker-menu-color)",".epr-active":{border:"1px solid var(--epr-active-skin-tone-indicator-border-color)"}},select:{".":"epr-skin-tone-select",position:"relative",width:"var(--epr-skin-tone-size)",height:"var(--epr-skin-tone-size)"}});function xoe(){var s=SD(),e=BD();return s.showPreview?T.createElement(cP,{className:et(rm.preview,Ko.hiddenOnReactions)},T.createElement(yoe,null),T.createElement(hoe,null),e?T.createElement(goe,null):null):null}function yoe(){var s,e=SD(),t=T.useState(null),n=t[0],i=t[1],r=Jo(),a=Ec(),l=a[0],c=qo();uoe(e.showPreview,i);var f=pc((s=n==null?void 0:n.unified)!=null?s:n==null?void 0:n.originalUnified),u=f!=null&&n!=null;return T.createElement(h,null);function h(){var p=l??pc(e.defaultEmoji);if(!p)return null;var g=l?sv(l):e.defaultCaption;return T.createElement(T.Fragment,null,T.createElement("div",null,u?T.createElement(iv,{unified:n==null?void 0:n.unified,emoji:f,emojiStyle:r,size:45,getEmojiUrl:c,className:et(rm.emoji)}):p?T.createElement(iv,{unified:Vs(p),emoji:p,emojiStyle:r,size:45,getEmojiUrl:c,className:et(rm.emoji)}):null),T.createElement("div",{className:et(rm.label)},u?sv(f):g))}}var rm=Tt.create({preview:{alignItems:"center",borderTop:"1px solid var(--epr-preview-border-color)",height:"var(--epr-preview-height)",padding:"0 var(--epr-horizontal-padding)",position:"relative",zIndex:"var(--epr-preview-z-index)"},label:{color:"var(--epr-preview-text-color)",fontSize:"var(--epr-preview-text-size)",padding:"var(--epr-preview-text-padding)",textTransform:"capitalize"},emoji:{padding:"0"}});function boe(s){var e;return(e=s==null?void 0:s.getAttribute("data-name"))!=null?e:null}function voe(s){var e=ri();T.useEffect(function(){var t=new Map,n=e.current,i=new IntersectionObserver(function(r){if(n){for(var a=Aie(r),l;!(l=a()).done;){var c=l.value,f=boe(c.target);t.set(f,c.intersectionRatio)}var u=Array.from(t),h=u[u.length-1];if(h[1]==1)return s(h[0]);for(var p=0,g=u;p<g.length;p++){var x=g[p],y=x[0],v=x[1];if(v){s(y);break}}}},{threshold:[0,1]});n==null||n.querySelectorAll(Ps(Je.category)).forEach(function(r){i.observe(r)})},[e,s])}function woe(){var s=ri(),e=bd();return function(n){var i;if(s.current){var r=(i=s.current)==null?void 0:i.querySelector('[data-name="'+n+'"]');if(r){var a=r.offsetTop||0;AD(e.current,a)}}}}function Soe(){var s=bre();return s?s.length===0:!1}var Loe="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMDBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgMjAwIDgwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyMDAgODAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8ZyBpZD0iTGF5ZXJfMTEiPgoJPGc+CgkJPHBhdGggZmlsbD0iIzMzNzFCNyIgc3Ryb2tlPSIjMzM3MUI3IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTIuOCwyOS41YzAuNiwwLDEuMS0wLjUsMS4xLTEuMQoJCQljMC0wLjYtMC41LTEuMi0xLjEtMS4yYy0wLjYsMC0xLjIsMC41LTEuMiwxLjJDMTEuNiwyOSwxMi4yLDI5LjUsMTIuOCwyOS41eiBNMTIuOCwyOGMwLjIsMCwwLjQsMC4yLDAuNCwwLjQKCQkJYzAsMC4yLTAuMiwwLjQtMC40LDAuNGMtMC4yLDAtMC40LTAuMi0wLjQtMC40QzEyLjQsMjguMSwxMi42LDI4LDEyLjgsMjh6Ii8+CgkJPHBhdGggZmlsbD0iIzMzNzFCNyIgc3Ryb2tlPSIjMzM3MUI3IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTAsMjNjLTMuOCwwLTcsMy4xLTcsN2MwLDMuOCwzLjEsNyw3LDcKCQkJczctMy4xLDctN0MxNywyNi4yLDEzLjgsMjMsMTAsMjN6IE0xMCwzNi4yYy0zLjQsMC02LjItMi44LTYuMi02LjJjMC0zLjQsMi44LTYuMiw2LjItNi4yczYuMiwyLjgsNi4yLDYuMgoJCQlDMTYuMiwzMy40LDEzLjQsMzYuMiwxMCwzNi4yeiIvPgoJCTxwYXRoIGZpbGw9IiMzMzcxQjciIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE0LjYsMzEuMmMtMC4xLTAuMS0wLjItMC4yLTAuMy0wLjJINS43CgkJCWMtMC4xLDAtMC4yLDAuMS0wLjMsMC4yYy0wLjEsMC4xLTAuMSwwLjIsMCwwLjRjMC43LDIsMi41LDMuMyw0LjYsMy4zczMuOS0xLjMsNC42LTMuM0MxNC43LDMxLjUsMTQuNywzMS4zLDE0LjYsMzEuMnogTTEwLDM0LjEKCQkJYy0xLjYsMC0zLTAuOS0zLjctMi4yaDcuM0MxMywzMy4yLDExLjYsMzQuMSwxMCwzNC4xeiIvPgoJCTxwYXRoIGZpbGw9IiMzMzcxQjciIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTcuMiwyOS41YzAuNiwwLDEuMi0wLjUsMS4yLTEuMQoJCQljMC0wLjYtMC41LTEuMi0xLjItMS4yYy0wLjYsMC0xLjEsMC41LTEuMSwxLjJDNi4xLDI5LDYuNiwyOS41LDcuMiwyOS41eiBNNy4yLDI4YzAuMiwwLDAuNCwwLjIsMC40LDAuNGMwLDAuMi0wLjIsMC40LTAuNCwwLjQKCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRDNi44LDI4LjEsNywyOCw3LjIsMjh6Ii8+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNNjQuMSwzMy40bDIuMywwYzAuMiwwLDAuNCwwLjIsMC40LDAuNHYyLjFjMCwwLjItMC4yLDAuNC0wLjQsMC40aC0yLjMKCQkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40di0yLjFDNjMuNywzMy42LDYzLjgsMzMuNCw2NC4xLDMzLjR6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTczLjUsMzMuNWgyLjRjMC4yLDAsMC40LDAuMiwwLjQsMC40djJjMCwwLjItMC4yLDAuNC0wLjQsMC40aC0yLjQKCQkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40bDAtMkM3My4xLDMzLjYsNzMuMywzMy41LDczLjUsMzMuNXoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNNjMuNywyOC40aDEyLjZ2NUg2My43VjI4LjR6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTY1LjUsMjMuNmg4LjljMSwwLDEuOSwwLjgsMS45LDEuOXYzLjFINjMuN3YtMy4xQzYzLjcsMjQuNSw2NC41LDIzLjYsNjUuNSwyMy42eiIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjMzM3MUI3IiBjeD0iNjYuMiIgY3k9IjMwLjkiIHJ4PSIwLjkiIHJ5PSIxIi8+CgkJCTxlbGxpcHNlIGZpbGw9IiMzMzcxQjciIGN4PSI3My44IiBjeT0iMzAuOSIgcng9IjAuOSIgcnk9IjEiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNOTYuNCwzMGMwLDMuNi0yLjksNi41LTYuNCw2LjVzLTYuNC0yLjktNi40LTYuNXMyLjktNi41LDYuNC02LjVTOTYuNCwyNi40LDk2LjQsMzB6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTk2LjMsMjguNmMwLDAsMCwwLjEsMCwwLjFjLTAuOSwwLjEtMi45LDAuMS00LjYtMS4xYy0xLjEtMC44LTItMS43LTIuNi0yLjUKCQkJCWMtMC4zLTAuNC0wLjYtMC44LTAuNy0xYy0wLjEtMC4xLTAuMS0wLjEtMC4xLTAuMmMwLjUtMC4xLDEuMi0wLjIsMi0wLjFjMS4yLDAsMi41LDAuMywzLjUsMS4xYzEsMC44LDEuNywxLjgsMi4xLDIuOAoJCQkJQzk2LjEsMjcuOSw5Ni4yLDI4LjMsOTYuMywyOC42eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik04NCwzMi4yYzAsMCwwLTAuMSwwLTAuMWMwLjktMC4yLDIuOS0wLjQsNC43LDAuNmMxLjEsMC43LDEuOSwxLjUsMi40LDIuMwoJCQkJYzAuNCwwLjUsMC42LDEsMC43LDEuM2MtMC40LDAuMS0xLDAuMi0xLjcsMC4zYy0xLDAtMi4xLTAuMS0zLjItMC44cy0xLjktMS42LTIuNC0yLjVDODQuMiwzMi44LDg0LjEsMzIuNSw4NCwzMi4yeiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTExNi4zLDI2LjhsLTEuNCwybC0wLjgtMC44bC0wLjYtMC42bDAsMC45bC0wLjEsOC4yaC02LjgKCQkJCWwtMC4xLTguMmwwLTAuOWwtMC42LDAuNmwtMC44LDAuOGwtMS40LTJsMi42LTIuOWMwLjEtMC4xLDAuMi0wLjEsMC4zLTAuMWgxLjNsMC40LDAuN2MwLjcsMS4zLDIuNiwxLjMsMy4zLTAuMWwwLjMtMC42aDEuMgoJCQkJYzAuMSwwLDAuMiwwLDAuMywwLjFsMC4zLTAuM2wtMC4zLDAuM0wxMTYuMywyNi44eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMTAuMSwyNy43aDJ2MC45YzAsMC40LTAuNCwwLjctMSwwLjdjLTAuNiwwLTEtMC4zLTEtMC43TDExMC4xLDI3LjdMMTEwLjEsMjcuN3oiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNMTI2LjgsMzQuM2MwLDEuMi0xLDIuMi0yLjIsMi4ycy0yLjItMS0yLjItMi4yczEtMi4yLDIuMi0yLjJTMTI2LjgsMzMuMSwxMjYuOCwzNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMzcuNiwzNC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJjLTEuMiwwLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMgoJCQkJQzEzNi42LDMyLjEsMTM3LjYsMzMuMSwxMzcuNiwzNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMjYuOCwyNC40djkuOSIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMzcuNywyNC40djkuOSIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMjYuOCwyMy41aDEwLjh2Mi43aC0xMC44QzEyNi44LDI2LjIsMTI2LjgsMjMuNSwxMjYuOCwyMy41eiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSIjMzM3MUI3IiBkPSJNMTcwLjgsMjMuMUwxNzAuOCwyMy4xYy0wLjMsMC0wLjUsMC0wLjgsMGMtMi4xLDAtNCwxLTUuMywyLjVsLTAuMSwwbC0wLjEtMC4xbC0xLTEuMmwtMC4zLDMuNGwzLjQsMC4zCgkJCQlsLTEuMS0xLjNsLTAuMS0wLjFsMC4xLTAuMWMxLjEtMS41LDMtMi4zLDUtMi4xbDAsMGMzLjIsMC4zLDUuNSwzLjEsNS4yLDYuM2MtMC4zLDMtMy4xLDUuMy02LjEsNS4xYy0zLjEtMC4yLTUuNC0yLjktNS4zLTYKCQkJCWwtMS4zLTAuMWMtMC4yLDMuOCwyLjYsNy4xLDYuMyw3LjRjMy45LDAuMyw3LjMtMi42LDcuNi02LjVDMTc3LjIsMjYuOCwxNzQuNCwyMy41LDE3MC44LDIzLjF6Ii8+CgkJCTxwYXRoIGZpbGw9IiMzMzcxQjciIGQ9Ik0xNzAuMywyNy40YzAtMC4zLTAuMy0wLjYtMC42LTAuNnMtMC42LDAuMy0wLjYsMC42djMuMmMwLDAuMiwwLjEsMC4zLDAuMiwwLjRjMC4xLDAuMSwwLjMsMC4yLDAuNCwwLjIKCQkJCWgyLjRjMC40LDAsMC42LTAuMywwLjYtMC42YzAtMC40LTAuMy0wLjYtMC42LTAuNmgtMS42aC0wLjJ2LTAuMkwxNzAuMywyNy40TDE3MC4zLDI3LjR6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTE4Ni4yLDIzLjRoNy43YzEuNSwwLDIuNywxLjIsMi43LDIuN3Y3LjdjMCwxLjUtMS4yLDIuNy0yLjcsMi43aC03LjcKCQkJCWMtMS41LDAtMi43LTEuMi0yLjctMi43di03LjdDMTgzLjQsMjQuNiwxODQuNywyMy40LDE4Ni4yLDIzLjR6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiMzMzcxQjciIGN4PSIxODYiIGN5PSIyOC45IiByeD0iMC43IiByeT0iMC43Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiMzMzcxQjciIGN4PSIxOTQiIGN5PSIyNi43IiByeD0iMC43IiByeT0iMC43Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTg2LDMzLjNsMC40LTAuM2MwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMSwwLjQKCQkJCWMwLjUsMC4yLDEsMC4yLDEuNS0wLjFsMC44LTAuNWMwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMS44LDAuOCIvPgoJCTwvZz4KCTwvZz4KCTxwYXRoIGZpbGw9IiMzMzcxQjciIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLXdpZHRoPSIwLjI1IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xNTYsMjQuM2MtMC4yLTAuMS0wLjQtMC4xLTAuNSwwCgkJYzAsMC0wLjIsMC4xLTAuOSwwLjJjLTAuNywwLTIuNC0wLjEtMy44LTAuNmMtMC44LTAuMy0xLjctMC41LTIuNS0wLjVjLTAuMiwwLTAuNCwwLTAuNSwwYy0xLjMsMC0yLjUsMC4zLTMuNiwxCgkJYy0wLjIsMC4xLTAuMiwwLjItMC4yLDAuNHYxMS42YzAsMC4zLDAuMSwwLjUsMC4zLDAuNWMwLjYsMCwwLjUtMC40LDAuNS0wLjZ2LTUuN2MwLjctMC4zLDMuMi0xLjEsNS44LTAuMQoJCWMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjgsMCwxLjMtMC4zLDEuMy0wLjNjMC4yLTAuMSwwLjMtMC4yLDAuMy0wLjR2LTUuN0MxNTYuMiwyNC42LDE1Ni4xLDI0LjQsMTU2LDI0LjN6IE0xNTUuNiwzMC4yCgkJYy0wLjEsMC0wLjcsMC4xLTEsMC4xYy0wLjcsMC0yLjQtMC4xLTMuOC0wLjZjLTIuNS0xLTUtMC41LTYuMi0wLjF2LTQuOWMwLjktMC41LDIuMi0wLjcsMy4yLTAuN2MwLjEsMCwwLjMsMCwwLjQsMAoJCWMwLjcsMCwxLjUsMC4yLDIuMiwwLjRjMS42LDAuNiwzLjUsMC43LDQuMywwLjdjMC4yLDAsMC44LDAsMS0wLjFWMzAuMnoiLz4KCTxnPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTQ4LjEsMjMuNWgzLjdjMi41LDAsNC41LDIsNC41LDQuNWMwLDAuNS0wLjQsMC45LTAuOSwwLjlINDQuNWMtMC41LDAtMC45LTAuNC0wLjktMC45CgkJCUM0My42LDI1LjUsNDUuNiwyMy41LDQ4LjEsMjMuNXoiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTQzLjUsMjguOGMtMC4yLDAuMS0wLjUsMS4yLDAsMS41YzEuNCwxLDguNSwwLjgsMTEuMywwLjYKCQkJYzAuOC0wLjEsMS42LTAuNCwxLjctMS4yYzAtMC4zLTAuMS0wLjYtMC42LTAuOSIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwzMC42TDQzLjMsMzFjLTAuMiwwLjUsMC4yLDEsMC43LDAuOWMwLjMtMC4xLDAuNSwwLDAuNywwLjMKCQkJbDAuMSwwLjJjMC4zLDAuNSwxLDAuNiwxLjUsMC4ybDAsMGMwLjMtMC4yLDAuNy0wLjMsMS0wLjJsMC44LDAuM2MwLjQsMC4yLDAuOCwwLjEsMS4yLDBsMC41LTAuMmMwLjQtMC4yLDAuOS0wLjIsMS4zLDBsMC41LDAuMgoJCQljMC40LDAuMiwwLjgsMC4yLDEuMiwwbDAuMi0wLjFjMC4zLTAuMiwwLjgtMC4yLDEuMSwwLjFsMC4yLDAuMmMwLjMsMC4zLDAuOCwwLjIsMS0wLjJsMC4xLTAuMmMwLjEtMC4yLDAtMC4zLDAuMi0wLjMKCQkJYzAuNSwwLDEuMi0wLjMsMS4xLTAuN2wtMC40LTEuMSIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwzMi4yYy0wLjEsMC4yLTAuMywwLjgsMCwxLjFjMC4zLDAuNCwzLDEuMSw2LjQsMS4xCgkJCWMyLjIsMCw0LjYtMC4zLDYtMC42YzAuNS0wLjEsMC45LTAuNSwwLjgtMC45YzAtMC4yLTAuMi0wLjUtMC40LTAuNyIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwzMy4zYzAsMC41LDAuNiwyLjMsMS4zLDIuN2MxLjgsMC44LDUuNywwLjcsOC4xLDAuNQoJCQljMS4zLTAuMSwyLjUtMC43LDMuMi0xLjhjMC4zLTAuNSwwLjUtMSwwLjUtMS40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjUxLjYiIGN5PSIyNi41IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjUzIiBjeT0iMjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjMzM3MUI3IiBjeD0iNTMiIGN5PSIyNy4yIiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjU0LjMiIGN5PSIyNi41IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjUwLjkiIGN5PSIyNSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJPC9nPgoJPGc+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNMjQuMiwzMXYtNy42YzAuMSwwLjEsMC44LDAuOSwyLjgsMy4xYzIuNS0xLjYsNS42LTAuNyw2LjksMGwyLjQtMy4xdjcuMQoJCQljMCwxLjItMC4xLDIuNS0wLjksMy40Yy0xLDEuMi0yLjcsMi41LTUuMywyLjVjLTIuOSwwLTQuNS0xLjUtNS4zLTIuOUMyNC4yLDMyLjksMjQuMiwzMiwyNC4yLDMxeiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMjEuMiwzMGw1LjQsMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDM0LjFsNS40LTEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzguOCwzMGwtNS40LDEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzguOCwzNC4xbC01LjQtMS4yIi8+CgkJPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiMzMzcxQjciIGQ9Ik0yOS41LDMyLjRMMjksMzEuN2MtMC4yLTAuMywwLTAuNiwwLjMtMC42aDEuNAoJCQljMC4zLDAsMC41LDAuNCwwLjMsMC42bC0wLjcsMWwwLDBjLTAuNywxLjItMi42LDEuMS0zLjEtMC4zbC0wLjEtMC4yYy0wLjEtMC4yLDAtMC40LDAuMi0wLjVzMC40LDAsMC41LDAuMmwwLjEsMC4yCgkJCUMyOC4zLDMyLjgsMjkuMSwzMi45LDI5LjUsMzIuNHoiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTMyLjQsMzIuMWwtMC4xLDAuMmMtMC40LDEtMS44LDEuMS0yLjMsMC4yIi8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjI3LjYiIGN5PSIyOS43IiByeD0iMC43IiByeT0iMC43Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjMyLjQiIGN5PSIyOS43IiByeD0iMC43IiByeT0iMC43Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBmaWxsPSIjQzBDMEJGIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS13aWR0aD0iMC4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xMi44LDQ5LjVjMC42LDAsMS4xLTAuNSwxLjEtMS4xCgkJCWMwLTAuNi0wLjUtMS4yLTEuMS0xLjJjLTAuNiwwLTEuMiwwLjUtMS4yLDEuMkMxMS42LDQ5LDEyLjIsNDkuNSwxMi44LDQ5LjV6IE0xMi44LDQ4YzAuMiwwLDAuNCwwLjIsMC40LDAuNAoJCQljMCwwLjItMC4yLDAuNC0wLjQsMC40Yy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRDMTIuNCw0OC4xLDEyLjYsNDgsMTIuOCw0OHoiLz4KCQk8cGF0aCBmaWxsPSIjQzBDMEJGIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS13aWR0aD0iMC4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xNC42LDUxLjJjLTAuMS0wLjEtMC4yLTAuMi0wLjMtMC4ySDUuNwoJCQljLTAuMSwwLTAuMiwwLjEtMC4zLDAuMmMtMC4xLDAuMS0wLjEsMC4yLDAsMC40YzAuNywyLDIuNSwzLjMsNC42LDMuM3MzLjktMS4zLDQuNi0zLjNDMTQuNyw1MS41LDE0LjcsNTEuMywxNC42LDUxLjJ6IE0xMCw1NC4xCgkJCWMtMS42LDAtMy0wLjktMy43LTIuMmg3LjNDMTMsNTMuMiwxMS42LDU0LjEsMTAsNTQuMXoiLz4KCQk8cGF0aCBmaWxsPSIjQzBDMEJGIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS13aWR0aD0iMC4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik03LjIsNDkuNWMwLjYsMCwxLjItMC41LDEuMi0xLjEKCQkJYzAtMC42LTAuNS0xLjItMS4yLTEuMmMtMC42LDAtMS4xLDAuNS0xLjEsMS4yQzYuMSw0OSw2LjYsNDkuNSw3LjIsNDkuNXogTTcuMiw0OGMwLjIsMCwwLjQsMC4yLDAuNCwwLjRjMCwwLjItMC4yLDAuNC0wLjQsMC40CgkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40QzYuOCw0OC4xLDcsNDgsNy4yLDQ4eiIvPgoJCTxwYXRoIGZpbGw9IiNDMEMwQkYiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEwLDQzYy0zLjgsMC03LDMuMS03LDdjMCwzLjgsMy4xLDcsNyw3CgkJCXM3LTMuMSw3LTdDMTcsNDYuMiwxMy44LDQzLDEwLDQzeiBNMTAsNTYuMmMtMy40LDAtNi4yLTIuOC02LjItNi4yYzAtMy40LDIuOC02LjIsNi4yLTYuMnM2LjIsMi44LDYuMiw2LjIKCQkJQzE2LjIsNTMuNCwxMy40LDU2LjIsMTAsNTYuMnoiLz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik02NC4xLDUzLjRsMi4zLDBjMC4yLDAsMC40LDAuMiwwLjQsMC40djIuMWMwLDAuMi0wLjIsMC40LTAuNCwwLjRoLTIuMwoJCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjR2LTIuMUM2My43LDUzLjYsNjMuOCw1My40LDY0LjEsNTMuNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNNzMuNSw1My41aDIuNGMwLjIsMCwwLjQsMC4yLDAuNCwwLjR2MmMwLDAuMi0wLjIsMC40LTAuNCwwLjRoLTIuNAoJCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRsMC0yQzczLjEsNTMuNiw3My4zLDUzLjUsNzMuNSw1My41eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik02My43LDQ4LjRoMTIuNnY1SDYzLjdWNDguNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNNjUuNSw0My42aDguOWMxLDAsMS45LDAuOCwxLjksMS45djMuMUg2My43di0zLjFDNjMuNyw0NC41LDY0LjUsNDMuNiw2NS41LDQzLjZ6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiNDMEMwQkYiIGN4PSI2Ni4yIiBjeT0iNTAuOSIgcng9IjAuOSIgcnk9IjEiLz4KCQkJPGVsbGlwc2UgZmlsbD0iI0MwQzBCRiIgY3g9IjczLjgiIGN5PSI1MC45IiByeD0iMC45IiByeT0iMSIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik05Ni40LDUwYzAsMy42LTIuOSw2LjUtNi40LDYuNXMtNi40LTIuOS02LjQtNi41czIuOS02LjUsNi40LTYuNVM5Ni40LDQ2LjQsOTYuNCw1MHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNOTYuMyw0OC42YzAsMCwwLDAuMSwwLDAuMWMtMC45LDAuMS0yLjksMC4xLTQuNi0xLjJjLTEuMS0wLjgtMi0xLjctMi42LTIuNQoJCQkJYy0wLjMtMC40LTAuNi0wLjgtMC43LTFjLTAuMS0wLjEtMC4xLTAuMi0wLjEtMC4yYzAuNS0wLjEsMS4yLTAuMiwyLTAuMmMxLjIsMCwyLjUsMC4zLDMuNSwxLjFjMSwwLjgsMS43LDEuOCwyLjEsMi44CgkJCQlDOTYuMSw0Ny45LDk2LjIsNDguMyw5Ni4zLDQ4LjZ6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTg0LDUyLjJjMCwwLDAtMC4xLDAtMC4xYzAuOS0wLjIsMi45LTAuNCw0LjcsMC42YzEuMSwwLjcsMS45LDEuNSwyLjQsMi4zCgkJCQljMC40LDAuNSwwLjYsMSwwLjcsMS4zYy0wLjQsMC4xLTEsMC4yLTEuNywwLjNjLTEsMC0yLjEtMC4xLTMuMi0wLjhzLTEuOS0xLjYtMi40LTIuNUM4NC4yLDUyLjgsODQuMSw1Mi41LDg0LDUyLjJ6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTE2LjMsNDYuOGwtMS40LDJsLTAuOC0wLjhsLTAuNi0wLjdsMCwwLjlsLTAuMSw4LjJoLTYuOAoJCQkJbC0wLjEtOC4ybDAtMC45bC0wLjYsMC43bC0wLjgsMC44bC0xLjQtMmwyLjYtMi45YzAuMS0wLjEsMC4yLTAuMSwwLjMtMC4xaDEuM2wwLjQsMC43YzAuNywxLjMsMi42LDEuMywzLjMtMC4xbDAuMy0wLjZoMS4yCgkJCQljMC4xLDAsMC4yLDAsMC4zLDAuMWwwLjMtMC4zbC0wLjMsMC4zTDExNi4zLDQ2Ljh6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTExMC4xLDQ3LjdoMnYwLjljMCwwLjQtMC40LDAuNy0xLDAuN2MtMC42LDAtMS0wLjMtMS0wLjdMMTEwLjEsNDcuN0wxMTAuMSw0Ny43eiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik0xMjYuOCw1NC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJzLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMlMxMjYuOCw1My4xLDEyNi44LDU0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEzNy42LDU0LjNjMCwxLjItMSwyLjItMi4yLDIuMmMtMS4yLDAtMi4yLTEtMi4yLTIuMnMxLTIuMiwyLjItMi4yCgkJCQlDMTM2LjYsNTIuMSwxMzcuNiw1My4xLDEzNy42LDU0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEyNi44LDQ0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEzNy43LDQ0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEyNi44LDQzLjVoMTAuOHYyLjdoLTEwLjhDMTI2LjgsNDYuMiwxMjYuOCw0My41LDEyNi44LDQzLjV6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9IiNDMEMwQkYiIGQ9Ik0xNzAuOCw0My4xTDE3MC44LDQzLjFjLTAuMywwLTAuNSwwLTAuOCwwYy0yLjEsMC00LDEtNS4zLDIuNWwtMC4xLDBsLTAuMS0wLjFsLTEtMS4ybC0wLjMsMy40bDMuNCwwLjMKCQkJCWwtMS4xLTEuM2wtMC4xLTAuMWwwLjEtMC4xYzEuMS0xLjUsMy0yLjMsNS0yLjFsMCwwYzMuMiwwLjMsNS41LDMuMSw1LjIsNi4zYy0wLjMsMy0zLjEsNS4zLTYuMSw1LjFjLTMuMS0wLjItNS40LTIuOS01LjMtNgoJCQkJbC0xLjMtMC4xYy0wLjIsMy44LDIuNiw3LjEsNi4zLDcuNGMzLjksMC4zLDcuMy0yLjYsNy42LTYuNUMxNzcuMiw0Ni44LDE3NC40LDQzLjUsMTcwLjgsNDMuMXoiLz4KCQkJPHBhdGggZmlsbD0iI0MwQzBCRiIgZD0iTTE3MC4zLDQ3LjRjMC0wLjMtMC4zLTAuNi0wLjYtMC42cy0wLjYsMC4zLTAuNiwwLjZ2My4yYzAsMC4yLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMywwLjIsMC40LDAuMgoJCQkJaDIuNGMwLjQsMCwwLjYtMC4zLDAuNi0wLjZjMC0wLjMtMC4zLTAuNi0wLjYtMC42aC0xLjZoLTAuMnYtMC4yTDE3MC4zLDQ3LjRMMTcwLjMsNDcuNHoiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNMTg2LjIsNDMuNGg3LjdjMS41LDAsMi43LDEuMiwyLjcsMi43djcuN2MwLDEuNS0xLjIsMi43LTIuNywyLjdoLTcuNwoJCQkJYy0xLjUsMC0yLjctMS4yLTIuNy0yLjd2LTcuN0MxODMuNCw0NC43LDE4NC43LDQzLjQsMTg2LjIsNDMuNHoiLz4KCQkJPGVsbGlwc2UgZmlsbD0iI0MwQzBCRiIgY3g9IjE4NiIgY3k9IjQ4LjkiIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPGVsbGlwc2UgZmlsbD0iI0MwQzBCRiIgY3g9IjE5NCIgY3k9IjQ2LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0xODYsNTMuM2wwLjQtMC4zYzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLDAuNAoJCQkJYzAuNSwwLjIsMSwwLjIsMS41LTAuMWwwLjgtMC41YzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLjgsMC44Ii8+CgkJPC9nPgoJPC9nPgoJPHBhdGggZmlsbD0iI0MwQzBCRiIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2Utd2lkdGg9IjAuMjUiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE1Niw0NC4zYy0wLjItMC4xLTAuNC0wLjEtMC41LDAKCQljMCwwLTAuMiwwLjEtMC45LDAuMmMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0wLjgtMC4zLTEuNy0wLjUtMi41LTAuNWMtMC4yLDAtMC40LDAtMC41LDBjLTEuMywwLTIuNSwwLjMtMy42LDEKCQljLTAuMiwwLjEtMC4yLDAuMi0wLjIsMC40djExLjZjMCwwLjMsMC4xLDAuNSwwLjMsMC41YzAuNiwwLDAuNS0wLjQsMC41LTAuNnYtNS43YzAuNy0wLjMsMy4yLTEuMSw1LjgtMC4xCgkJYzEuNiwwLjYsMy41LDAuNyw0LjMsMC43YzAuOCwwLDEuMy0wLjMsMS4zLTAuM2MwLjItMC4xLDAuMy0wLjIsMC4zLTAuNHYtNS43QzE1Ni4yLDQ0LjYsMTU2LjEsNDQuNCwxNTYsNDQuM3ogTTE1NS42LDUwLjIKCQljLTAuMSwwLTAuNywwLjEtMSwwLjFjLTAuNywwLTIuNC0wLjEtMy44LTAuNmMtMi41LTEtNS0wLjUtNi4yLTAuMXYtNC45YzAuOS0wLjUsMi4yLTAuNywzLjItMC43YzAuMSwwLDAuMywwLDAuNCwwCgkJYzAuNywwLDEuNSwwLjIsMi4yLDAuNGMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjIsMCwwLjgsMCwxLTAuMVY1MC4yeiIvPgoJPGc+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNNDguMSw0My41aDMuN2MyLjUsMCw0LjUsMiw0LjUsNC41YzAsMC41LTAuNCwwLjktMC45LDAuOUg0NC41Yy0wLjUsMC0wLjktMC40LTAuOS0wLjkKCQkJQzQzLjYsNDUuNSw0NS42LDQzLjUsNDguMSw0My41eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSw0OC44Yy0wLjIsMC4xLTAuNSwxLjIsMCwxLjVjMS40LDEsOC41LDAuOCwxMS4zLDAuNgoJCQljMC44LTAuMSwxLjYtMC40LDEuNy0xLjJjMC0wLjMtMC4xLTAuNi0wLjYtMC45Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDUwLjZMNDMuMyw1MWMtMC4yLDAuNSwwLjIsMSwwLjcsMC45YzAuMy0wLjEsMC41LDAsMC43LDAuMwoJCQlsMC4xLDAuMmMwLjMsMC41LDEsMC42LDEuNSwwLjJsMCwwYzAuMy0wLjIsMC43LTAuMywxLTAuMmwwLjgsMC4zYzAuNCwwLjIsMC44LDAuMSwxLjIsMGwwLjUtMC4yYzAuNC0wLjIsMC45LTAuMiwxLjMsMGwwLjUsMC4yCgkJCWMwLjQsMC4yLDAuOCwwLjIsMS4yLDBsMC4yLTAuMWMwLjMtMC4yLDAuOC0wLjIsMS4xLDAuMWwwLjIsMC4yYzAuMywwLjMsMC44LDAuMiwxLTAuMmwwLjEtMC4yYzAuMS0wLjIsMC0wLjMsMC4yLTAuMwoJCQljMC41LDAsMS4yLTAuMywxLjEtMC43bC0wLjQtMS4xIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDUyLjJjLTAuMSwwLjItMC4zLDAuOCwwLDEuMWMwLjMsMC40LDMsMS4xLDYuNCwxLjEKCQkJYzIuMiwwLDQuNi0wLjMsNi0wLjZjMC41LTAuMSwwLjktMC41LDAuOC0wLjljMC0wLjItMC4yLTAuNS0wLjQtMC43Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDUzLjNjMCwwLjUsMC42LDIuMywxLjMsMi43YzEuOCwwLjgsNS43LDAuNyw4LjEsMC41CgkJCWMxLjMtMC4xLDIuNS0wLjcsMy4yLTEuOGMwLjMtMC41LDAuNS0xLDAuNS0xLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTEuNiIgY3k9IjQ2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTMiIGN5PSI0NSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJCTxlbGxpcHNlIGZpbGw9IiNDMEMwQkYiIGN4PSI1MyIgY3k9IjQ3LjIiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTQuMyIgY3k9IjQ2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTAuOSIgY3k9IjQ1IiByeD0iMC4zIiByeT0iMC40Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik0yNC4yLDUxdi03LjZjMC4xLDAuMSwwLjgsMC45LDIuOCwzLjFjMi41LTEuNyw1LjYtMC43LDYuOSwwbDIuNC0zLjF2Ny4xCgkJCWMwLDEuMi0wLjEsMi41LTAuOSwzLjRjLTEsMS4yLTIuNywyLjUtNS4zLDIuNWMtMi45LDAtNC41LTEuNS01LjMtMi45QzI0LjIsNTIuOSwyNC4yLDUyLDI0LjIsNTF6Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDUwbDUuNCwxLjIiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTIxLjIsNTQuMWw1LjQtMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDUwbC01LjQsMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDU0LjFsLTUuNC0xLjIiLz4KCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0MwQzBCRiIgZD0iTTI5LjUsNTIuNEwyOSw1MS43Yy0wLjItMC4zLDAtMC42LDAuMy0wLjZoMS40CgkJCWMwLjMsMCwwLjUsMC40LDAuMywwLjZsLTAuNywxbDAsMGMtMC43LDEuMi0yLjYsMS4xLTMuMS0wLjNsLTAuMS0wLjJjLTAuMS0wLjIsMC0wLjQsMC4yLTAuNXMwLjQsMCwwLjUsMC4ybDAuMSwwLjIKCQkJQzI4LjMsNTIuOCwyOS4xLDUyLjksMjkuNSw1Mi40eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzIuNCw1Mi4xbC0wLjEsMC4yYy0wLjQsMS0xLjgsMS4xLTIuMywwLjIiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iMjcuNiIgY3k9IjQ5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iMzIuNCIgY3k9IjQ5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGZpbGw9IiM2QUE5REQiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE0LjYsNzEuMmMtMC4xLTAuMS0wLjItMC4yLTAuMy0wLjJINS43CgkJCWMtMC4xLDAtMC4yLDAuMS0wLjMsMC4yYy0wLjEsMC4xLTAuMSwwLjIsMCwwLjRjMC43LDIsMi41LDMuMyw0LjYsMy4zczMuOS0xLjMsNC42LTMuM0MxNC43LDcxLjUsMTQuNyw3MS4zLDE0LjYsNzEuMnogTTEwLDc0LjEKCQkJYy0xLjYsMC0zLTAuOS0zLjctMi4yaDcuM0MxMyw3My4yLDExLjYsNzQuMSwxMCw3NC4xeiIvPgoJCTxwYXRoIGZpbGw9IiM2QUE5REQiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEyLjgsNjkuNWMwLjYsMCwxLjEtMC41LDEuMS0xLjEKCQkJYzAtMC42LTAuNS0xLjItMS4xLTEuMmMtMC42LDAtMS4yLDAuNS0xLjIsMS4yQzExLjYsNjksMTIuMiw2OS41LDEyLjgsNjkuNXogTTEyLjgsNjhjMC4yLDAsMC40LDAuMiwwLjQsMC40CgkJCWMwLDAuMi0wLjIsMC40LTAuNCwwLjRjLTAuMiwwLTAuNC0wLjItMC40LTAuNEMxMi40LDY4LjEsMTIuNiw2OCwxMi44LDY4eiIvPgoJCTxwYXRoIGZpbGw9IiM2QUE5REQiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTcuMiw2OS41YzAuNiwwLDEuMi0wLjUsMS4yLTEuMQoJCQljMC0wLjYtMC41LTEuMi0xLjItMS4yYy0wLjYsMC0xLjEsMC41LTEuMSwxLjJDNi4xLDY5LDYuNiw2OS41LDcuMiw2OS41eiBNNy4yLDY4YzAuMiwwLDAuNCwwLjIsMC40LDAuNGMwLDAuMi0wLjIsMC40LTAuNCwwLjQKCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRDNi44LDY4LjEsNyw2OCw3LjIsNjh6Ii8+CgkJPHBhdGggZmlsbD0iIzZBQTlERCIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTAsNjNjLTMuOCwwLTcsMy4xLTcsN2MwLDMuOCwzLjEsNyw3LDcKCQkJczctMy4xLDctN0MxNyw2Ni4yLDEzLjgsNjMsMTAsNjN6IE0xMCw3Ni4yYy0zLjQsMC02LjItMi44LTYuMi02LjJjMC0zLjQsMi44LTYuMiw2LjItNi4yczYuMiwyLjgsNi4yLDYuMgoJCQlDMTYuMiw3My40LDEzLjQsNzYuMiwxMCw3Ni4yeiIvPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTY0LjEsNzMuNGwyLjMsMGMwLjIsMCwwLjQsMC4yLDAuNCwwLjR2Mi4xYzAsMC4yLTAuMiwwLjQtMC40LDAuNGgtMi4zCgkJCQljLTAuMiwwLTAuNC0wLjItMC40LTAuNHYtMi4xQzYzLjcsNzMuNiw2My44LDczLjQsNjQuMSw3My40eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik03My41LDczLjVoMi40YzAuMiwwLDAuNCwwLjIsMC40LDAuNHYyLjFjMCwwLjItMC4yLDAuNC0wLjQsMC40aC0yLjQKCQkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40bDAtMi4xQzczLjEsNzMuNiw3My4zLDczLjUsNzMuNSw3My41eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik02My43LDY4LjRoMTIuNnY1SDYzLjdWNjguNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNNjUuNSw2My42aDguOWMxLDAsMS45LDAuOCwxLjksMS45djMuMUg2My43di0zLjFDNjMuNyw2NC41LDY0LjUsNjMuNiw2NS41LDYzLjZ6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM2QUE5REQiIGN4PSI2Ni4yIiBjeT0iNzAuOSIgcng9IjAuOSIgcnk9IjAuOSIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNzMuOCIgY3k9IjcwLjkiIHJ4PSIwLjkiIHJ5PSIwLjkiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNOTYuNCw3MGMwLDMuNi0yLjksNi41LTYuNCw2LjVzLTYuNC0yLjktNi40LTYuNXMyLjktNi41LDYuNC02LjVTOTYuNCw2Ni40LDk2LjQsNzB6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTk2LjMsNjguNmMwLDAsMCwwLjEsMCwwLjFjLTAuOSwwLjEtMi45LDAuMS00LjYtMS4yYy0xLjEtMC44LTItMS43LTIuNi0yLjUKCQkJCWMtMC4zLTAuNC0wLjYtMC44LTAuNy0xLjFjLTAuMS0wLjEtMC4xLTAuMi0wLjEtMC4yYzAuNS0wLjEsMS4yLTAuMiwyLTAuMmMxLjIsMCwyLjUsMC4zLDMuNSwxLjFjMSwwLjgsMS43LDEuOCwyLjEsMi44CgkJCQlDOTYuMSw2Ny45LDk2LjIsNjguMyw5Ni4zLDY4LjZ6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTg0LDcyLjJjMCwwLDAtMC4xLDAtMC4xYzAuOS0wLjIsMi45LTAuNCw0LjcsMC42YzEuMSwwLjcsMS45LDEuNSwyLjQsMi4zCgkJCQljMC40LDAuNSwwLjYsMSwwLjcsMS4zYy0wLjQsMC4xLTEsMC4yLTEuNywwLjNjLTEsMC0yLjEtMC4xLTMuMi0wLjhzLTEuOS0xLjYtMi40LTIuNUM4NC4yLDcyLjgsODQuMSw3Mi40LDg0LDcyLjJ6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTE2LjMsNjYuOGwtMS40LDJsLTAuOC0wLjhsLTAuNi0wLjdsMCwwLjlsLTAuMSw4LjJoLTYuOAoJCQkJbC0wLjEtOC4ybDAtMC45bC0wLjYsMC43bC0wLjgsMC44bC0xLjQtMmwyLjYtMi45YzAuMS0wLjEsMC4yLTAuMSwwLjMtMC4xaDEuM2wwLjQsMC43YzAuNywxLjMsMi42LDEuMywzLjMtMC4xbDAuMy0wLjZoMS4yCgkJCQljMC4xLDAsMC4yLDAsMC4zLDAuMWwwLjMtMC4zbC0wLjMsMC4zTDExNi4zLDY2Ljh6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTExMC4xLDY3LjdoMnYwLjljMCwwLjQtMC40LDAuNy0xLDAuN2MtMC42LDAtMS0wLjMtMS0wLjdMMTEwLjEsNjcuN0wxMTAuMSw2Ny43eiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik0xMjYuOCw3NC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJzLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMlMxMjYuOCw3My4xLDEyNi44LDc0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEzNy42LDc0LjNjMCwxLjItMSwyLjItMi4yLDIuMmMtMS4yLDAtMi4yLTEtMi4yLTIuMnMxLTIuMiwyLjItMi4yCgkJCQlDMTM2LjYsNzIuMSwxMzcuNiw3My4xLDEzNy42LDc0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEyNi44LDY0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEzNy43LDY0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEyNi44LDYzLjVoMTAuOHYyLjdoLTEwLjhDMTI2LjgsNjYuMiwxMjYuOCw2My41LDEyNi44LDYzLjV6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik0xNzAuOCw2My4xTDE3MC44LDYzLjFjLTAuMywwLTAuNSwwLTAuOCwwYy0yLjEsMC00LDEtNS4zLDIuNWwtMC4xLDBsLTAuMS0wLjFsLTEtMS4ybC0wLjMsMy40bDMuNCwwLjMKCQkJCWwtMS4xLTEuM2wtMC4xLTAuMWwwLjEtMC4xYzEuMS0xLjQsMy0yLjMsNS0yLjFsMCwwYzMuMiwwLjMsNS41LDMuMSw1LjIsNi4zYy0wLjMsMy0zLjEsNS4zLTYuMSw1LjFjLTMuMS0wLjItNS40LTIuOS01LjMtNgoJCQkJbC0xLjMtMC4xYy0wLjIsMy44LDIuNiw3LjEsNi4zLDcuNGMzLjksMC4zLDcuMy0yLjYsNy42LTYuNUMxNzcuMiw2Ni44LDE3NC40LDYzLjUsMTcwLjgsNjMuMXoiLz4KCQkJPHBhdGggZmlsbD0iIzZBQTlERCIgZD0iTTE3MC4zLDY3LjRjMC0wLjMtMC4zLTAuNi0wLjYtMC42cy0wLjYsMC4zLTAuNiwwLjZ2My4yYzAsMC4yLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMywwLjIsMC40LDAuMgoJCQkJaDIuNGMwLjQsMCwwLjYtMC4zLDAuNi0wLjZTMTcyLjQsNzAsMTcyLDcwaC0xLjZoLTAuMnYtMC4yTDE3MC4zLDY3LjRMMTcwLjMsNjcuNHoiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNMTg2LjIsNjMuNGg3LjdjMS41LDAsMi43LDEuMiwyLjcsMi43djcuN2MwLDEuNS0xLjIsMi43LTIuNywyLjdoLTcuNwoJCQkJYy0xLjUsMC0yLjctMS4yLTIuNy0yLjd2LTcuN0MxODMuNCw2NC43LDE4NC43LDYzLjQsMTg2LjIsNjMuNHoiLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzZBQTlERCIgY3g9IjE4NiIgY3k9IjY4LjkiIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzZBQTlERCIgY3g9IjE5NCIgY3k9IjY2LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0xODYsNzMuM2wwLjQtMC4zYzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLDAuNAoJCQkJYzAuNSwwLjIsMSwwLjIsMS41LTAuMWwwLjgtMC41YzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLjgsMC44Ii8+CgkJPC9nPgoJPC9nPgoJPHBhdGggZmlsbD0iIzZBQTlERCIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2Utd2lkdGg9IjAuMjUiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE1Niw2NC4zYy0wLjItMC4xLTAuNC0wLjEtMC41LDAKCQljMCwwLTAuMiwwLjEtMC45LDAuMmMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0wLjgtMC4zLTEuNy0wLjUtMi41LTAuNWMtMC4yLDAtMC40LDAtMC41LDBjLTEuMywwLTIuNSwwLjMtMy42LDEKCQljLTAuMiwwLjEtMC4yLDAuMi0wLjIsMC40djExLjZjMCwwLjMsMC4xLDAuNSwwLjMsMC41YzAuNiwwLDAuNS0wLjQsMC41LTAuNnYtNS43YzAuNy0wLjMsMy4yLTEuMSw1LjgtMC4xCgkJYzEuNiwwLjYsMy41LDAuNyw0LjMsMC43YzAuOCwwLDEuMy0wLjMsMS4zLTAuM2MwLjItMC4xLDAuMy0wLjIsMC4zLTAuNHYtNS43QzE1Ni4yLDY0LjYsMTU2LjEsNjQuNCwxNTYsNjQuM3ogTTE1NS42LDcwLjIKCQljLTAuMSwwLTAuNywwLjEtMSwwLjFjLTAuNywwLTIuNC0wLjEtMy44LTAuNmMtMi41LTEtNS0wLjUtNi4yLTAuMXYtNC45YzAuOS0wLjUsMi4yLTAuNywzLjItMC43YzAuMSwwLDAuMywwLDAuNCwwCgkJYzAuNywwLDEuNSwwLjIsMi4yLDAuNGMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjIsMCwwLjgsMCwxLTAuMVY3MC4yeiIvPgoJPGc+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNNDguMSw2My41aDMuN2MyLjUsMCw0LjUsMiw0LjUsNC41YzAsMC41LTAuNCwwLjktMC45LDAuOUg0NC41Yy0wLjUsMC0wLjktMC40LTAuOS0wLjkKCQkJQzQzLjYsNjUuNSw0NS42LDYzLjUsNDguMSw2My41eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSw2OC44Yy0wLjIsMC4xLTAuNSwxLjIsMCwxLjVjMS40LDAuOSw4LjUsMC44LDExLjMsMC42CgkJCWMwLjgtMC4xLDEuNi0wLjQsMS43LTEuMmMwLTAuMy0wLjEtMC42LTAuNi0wLjkiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTQzLjUsNzAuNkw0My4zLDcxYy0wLjIsMC41LDAuMiwxLDAuNywwLjljMC4zLTAuMSwwLjUsMC4xLDAuNywwLjMKCQkJbDAuMSwwLjJjMC4zLDAuNSwxLDAuNiwxLjUsMC4ybDAsMGMwLjMtMC4yLDAuNy0wLjMsMS0wLjJsMC44LDAuM2MwLjQsMC4yLDAuOCwwLjEsMS4yLDBsMC41LTAuMmMwLjQtMC4yLDAuOS0wLjIsMS4zLDBsMC41LDAuMgoJCQljMC40LDAuMiwwLjgsMC4yLDEuMi0wLjFsMC4yLTAuMWMwLjMtMC4yLDAuOC0wLjIsMS4xLDAuMWwwLjIsMC4yYzAuMywwLjMsMC44LDAuMiwxLTAuMmwwLjEtMC4yYzAuMS0wLjIsMC0wLjMsMC4yLTAuMwoJCQljMC41LDAsMS4yLTAuMywxLjEtMC43bC0wLjQtMS4xIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDcyLjJjLTAuMSwwLjItMC4zLDAuOCwwLDEuMWMwLjMsMC40LDMsMS4xLDYuNCwxLjEKCQkJYzIuMiwwLDQuNi0wLjMsNi0wLjZjMC41LTAuMSwwLjktMC40LDAuOC0wLjljMC0wLjItMC4yLTAuNS0wLjQtMC43Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDczLjNjMCwwLjUsMC42LDIuMywxLjMsMi43YzEuOCwwLjgsNS43LDAuNyw4LjEsMC41CgkJCWMxLjMtMC4xLDIuNS0wLjcsMy4yLTEuOGMwLjMtMC41LDAuNS0xLDAuNS0xLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTEuNiIgY3k9IjY2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTMiIGN5PSI2NSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJCTxlbGxpcHNlIGZpbGw9IiM2QUE5REQiIGN4PSI1MyIgY3k9IjY3LjIiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTQuMyIgY3k9IjY2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTAuOSIgY3k9IjY1IiByeD0iMC4zIiByeT0iMC40Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik0yNC4yLDcxdi03LjZjMC4xLDAuMSwwLjgsMC45LDIuOCwzLjFjMi41LTEuNyw1LjYtMC43LDYuOSwwbDIuNC0zLjF2Ny4xCgkJCWMwLDEuMi0wLjEsMi41LTAuOSwzLjRjLTEsMS4yLTIuNywyLjUtNS4zLDIuNWMtMi45LDAtNC41LTEuNS01LjMtMi45QzI0LjIsNzIuOSwyNC4yLDcyLDI0LjIsNzF6Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDcwLjFsNS40LDEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMjEuMiw3NC4xbDUuNC0xLjIiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTM4LjgsNzAuMWwtNS40LDEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzguOCw3NC4xbC01LjQtMS4yIi8+CgkJPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiM2QUE5REQiIGQ9Ik0yOS41LDcyLjRMMjksNzEuN2MtMC4yLTAuMywwLTAuNiwwLjMtMC42aDEuNAoJCQljMC4zLDAsMC41LDAuNCwwLjMsMC42bC0wLjcsMWwwLDBjLTAuNywxLjItMi42LDEuMS0zLjEtMC4zbC0wLjEtMC4yYy0wLjEtMC4yLDAtMC40LDAuMi0wLjVjMC4yLTAuMSwwLjQsMCwwLjUsMC4ybDAuMSwwLjIKCQkJQzI4LjMsNzIuOCwyOS4xLDcyLjksMjkuNSw3Mi40eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzIuNCw3Mi4xbC0wLjEsMC4yYy0wLjQsMS0xLjgsMS4xLTIuMywwLjIiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iMjcuNiIgY3k9IjY5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iMzIuNCIgY3k9IjY5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCTwvZz4KPC9nPgo8Zz4KCTxwYXRoIGZpbGw9IiM4Njg2ODYiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEyLjgsOS41YzAuNiwwLDEuMS0wLjUsMS4xLTEuMgoJCWMwLTAuNi0wLjUtMS4xLTEuMS0xLjFjLTAuNiwwLTEuMiwwLjUtMS4yLDEuMVMxMi4yLDkuNSwxMi44LDkuNXogTTEyLjgsNy45YzAuMiwwLDAuNCwwLjIsMC40LDAuNGMwLDAuMi0wLjIsMC40LTAuNCwwLjQKCQljLTAuMiwwLTAuNC0wLjItMC40LTAuNEMxMi40LDguMSwxMi42LDcuOSwxMi44LDcuOXoiLz4KCTxwYXRoIGZpbGw9IiM4Njg2ODYiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTcuMiw5LjVjMC42LDAsMS4yLTAuNSwxLjItMS4yCgkJYzAtMC42LTAuNS0xLjEtMS4yLTEuMWMtMC42LDAtMS4xLDAuNS0xLjEsMS4xUzYuNiw5LjUsNy4yLDkuNXogTTcuMiw3LjljMC4yLDAsMC40LDAuMiwwLjQsMC40YzAsMC4yLTAuMiwwLjQtMC40LDAuNAoJCUM3LDguNyw2LjgsOC41LDYuOCw4LjNDNi44LDguMSw3LDcuOSw3LjIsNy45eiIvPgoJPHBhdGggZmlsbD0iIzg2ODY4NiIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTQuNiwxMS4yYy0wLjEtMC4xLTAuMi0wLjItMC4zLTAuMkg1LjcKCQljLTAuMSwwLTAuMiwwLjEtMC4zLDAuMmMtMC4xLDAuMS0wLjEsMC4yLDAsMC40YzAuNywyLDIuNSwzLjMsNC42LDMuM3MzLjktMS4zLDQuNi0zLjNDMTQuNywxMS40LDE0LjcsMTEuMywxNC42LDExLjJ6IE0xMCwxNC4xCgkJYy0xLjYsMC0zLTAuOS0zLjctMi4yaDcuM0MxMywxMy4yLDExLjYsMTQuMSwxMCwxNC4xeiIvPgoJPHBhdGggZmlsbD0iIzg2ODY4NiIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTAsM2MtMy44LDAtNywzLjEtNyw3czMuMSw3LDcsN3M3LTMuMSw3LTcKCQlTMTMuOCwzLDEwLDN6IE0xMCwxNi4yYy0zLjQsMC02LjItMi44LTYuMi02LjJTNi42LDMuOCwxMCwzLjhzNi4yLDIuOCw2LjIsNi4yUzEzLjQsMTYuMiwxMCwxNi4yeiIvPgo8L2c+CjxnIGlkPSJDYXJfMDAwMDAwMTg5MzUzOTUwODU0MTM0MTM3NTAwMDAwMDA4MjUyNzM4Nzc4NDI3NzU3MTVfIj4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik02NC4xLDEzLjRsMi4zLDBjMC4yLDAsMC40LDAuMiwwLjQsMC40djIuMWMwLDAuMi0wLjIsMC40LTAuNCwwLjRoLTIuMwoJCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjR2LTIuMUM2My43LDEzLjYsNjMuOCwxMy40LDY0LjEsMTMuNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNNzMuNSwxMy40aDIuNGMwLjIsMCwwLjQsMC4yLDAuNCwwLjR2Mi4xYzAsMC4yLTAuMiwwLjQtMC40LDAuNGgtMi40CgkJCQljLTAuMiwwLTAuNC0wLjItMC40LTAuNGwwLTIuMUM3My4xLDEzLjYsNzMuMywxMy40LDczLjUsMTMuNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNNjMuNyw4LjRoMTIuNnY1SDYzLjdWOC40eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik02NS41LDMuNmg4LjljMSwwLDEuOSwwLjgsMS45LDEuOXYzLjFINjMuN1Y1LjVDNjMuNyw0LjQsNjQuNSwzLjYsNjUuNSwzLjZ6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSI2Ni4yIiBjeT0iMTAuOSIgcng9IjAuOSIgcnk9IjAuOSIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iNzMuOCIgY3k9IjEwLjkiIHJ4PSIwLjkiIHJ5PSIwLjkiLz4KCQk8L2c+Cgk8L2c+CjwvZz4KPGcgaWQ9IkFjdGl2aXRpZXMiPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTk2LjQsMTBjMCwzLjYtMi45LDYuNS02LjQsNi41cy02LjQtMi45LTYuNC02LjVzMi45LTYuNSw2LjQtNi41Uzk2LjQsNi40LDk2LjQsMTB6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTk2LjMsOC42YzAsMCwwLDAuMSwwLDAuMWMtMC45LDAuMS0yLjksMC4xLTQuNi0xLjJjLTEuMS0wLjgtMi0xLjctMi42LTIuNQoJCQkJYy0wLjMtMC40LTAuNi0wLjgtMC43LTEuMWMtMC4xLTAuMS0wLjEtMC4yLTAuMS0wLjJjMC41LTAuMSwxLjItMC4yLDItMC4yYzEuMiwwLDIuNSwwLjMsMy41LDEuMWMxLDAuOCwxLjcsMS44LDIuMSwyLjgKCQkJCUM5Ni4xLDcuOSw5Ni4yLDguMyw5Ni4zLDguNnoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNODQsMTIuMWMwLDAsMC0wLjEsMC0wLjFjMC45LTAuMiwyLjktMC40LDQuNywwLjZjMS4xLDAuNiwxLjksMS41LDIuNCwyLjMKCQkJCWMwLjQsMC41LDAuNiwxLDAuNywxLjNjLTAuNCwwLjEtMSwwLjItMS43LDAuM2MtMSwwLTIuMS0wLjEtMy4yLTAuOGMtMS4xLTAuNi0xLjktMS42LTIuNC0yLjVDODQuMiwxMi44LDg0LjEsMTIuNCw4NCwxMi4xeiIvPgoJCTwvZz4KCTwvZz4KPC9nPgo8ZyBpZD0iT2JqZWN0c18wMDAwMDA2NDMxMjM3MTczOTEzMDMxNTI1MDAwMDAxMDIyNTg4OTAzMjIyODYzMjk3NV8iPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTE2LjMsNi44bC0xLjQsMkwxMTQuMSw4bC0wLjYtMC43bDAsMC45bC0wLjEsOC4yaC02LjhsLTAuMS04LjIKCQkJCWwwLTAuOUwxMDUuOSw4bC0wLjgsMC44bC0xLjQtMmwyLjYtMi45YzAuMS0wLjEsMC4yLTAuMSwwLjMtMC4xaDEuM2wwLjQsMC43YzAuNywxLjMsMi42LDEuMywzLjMtMC4xbDAuMy0wLjZoMS4yCgkJCQljMC4xLDAsMC4yLDAsMC4zLDAuMWwwLjMtMC4zbC0wLjMsMC4zTDExNi4zLDYuOHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNMTEwLjEsNy43aDJ2MC45YzAsMC40LTAuNCwwLjctMSwwLjdjLTAuNiwwLTEtMC4zLTEtMC43TDExMC4xLDcuN0wxMTAuMSw3Ljd6Ii8+CgkJPC9nPgoJPC9nPgo8L2c+CjxnIGlkPSJTeW1ib2xzXzAwMDAwMDk2NzQ2OTA3ODY5OTI5OTIxMTgwMDAwMDA2NDg0ODEyODMwMjgyNTgyNDE2XyI+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNMTI2LjgsMTQuM2MwLDEuMi0xLDIuMi0yLjIsMi4ycy0yLjItMS0yLjItMi4yczEtMi4yLDIuMi0yLjJTMTI2LjgsMTMuMSwxMjYuOCwxNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik0xMzcuNiwxNC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJjLTEuMiwwLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMgoJCQkJQzEzNi42LDEyLjEsMTM3LjYsMTMuMSwxMzcuNiwxNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik0xMjYuOCw0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTEzNy43LDQuNHY5LjkiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNMTI2LjgsMy41aDEwLjh2Mi43aC0xMC44QzEyNi44LDYuMiwxMjYuOCwzLjUsMTI2LjgsMy41eiIvPgoJCTwvZz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmVjZW50cyI+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0iIzg2ODY4NiIgZD0iTTE3MC44LDMuMUwxNzAuOCwzLjFjLTAuMywwLTAuNSwwLTAuOCwwYy0yLjEsMC00LDEtNS4zLDIuNWwtMC4xLDBsLTAuMS0wLjFsLTEtMS4ybC0wLjMsMy40bDMuNCwwLjMKCQkJCWwtMS4xLTEuM2wtMC4xLTAuMWwwLjEtMC4xYzEuMS0xLjQsMy0yLjMsNS0yLjFsMCwwYzMuMiwwLjMsNS41LDMuMSw1LjIsNi4zYy0wLjMsMy0zLjEsNS4zLTYuMSw1LjFjLTMuMS0wLjItNS40LTIuOS01LjMtNgoJCQkJTDE2Myw5LjVjLTAuMiwzLjgsMi42LDcuMSw2LjMsNy40YzMuOSwwLjQsNy4zLTIuNiw3LjYtNi41QzE3Ny4yLDYuOCwxNzQuNCwzLjUsMTcwLjgsMy4xeiIvPgoJCQk8cGF0aCBmaWxsPSIjODY4Njg2IiBkPSJNMTcwLjMsNy40YzAtMC4zLTAuMy0wLjYtMC42LTAuNlMxNjksNy4xLDE2OSw3LjR2My4yYzAsMC4yLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMywwLjIsMC40LDAuMgoJCQkJaDIuNGMwLjQsMCwwLjYtMC4zLDAuNi0wLjZzLTAuMy0wLjYtMC42LTAuNmgtMS42aC0wLjJWOS44TDE3MC4zLDcuNEwxNzAuMyw3LjR6Ii8+CgkJPC9nPgoJPC9nPgo8L2c+CjxnIGlkPSJDdXN0b21fMDAwMDAxODEwODcyMjk0MzQzMDIzMzY3ODAwMDAwMDUxNTIyNzc5NDU5NDA2NzQ0ODhfIj4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik0xODYuMiwzLjRoNy43YzEuNSwwLDIuNywxLjIsMi43LDIuN3Y3LjdjMCwxLjUtMS4yLDIuNy0yLjcsMi43aC03LjcKCQkJCWMtMS41LDAtMi43LTEuMi0yLjctMi43VjYuMUMxODMuNCw0LjYsMTg0LjcsMy40LDE4Ni4yLDMuNHoiLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzg2ODY4NiIgY3g9IjE4NiIgY3k9IjguOSIgcng9IjAuNyIgcnk9IjAuNyIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iMTk0IiBjeT0iNi43IiByeD0iMC43IiByeT0iMC43Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTg2LDEzLjNsMC40LTAuM2MwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMSwwLjQKCQkJCWMwLjUsMC4yLDEsMC4yLDEuNS0wLjFsMC44LTAuNWMwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMS44LDAuOCIvPgoJCTwvZz4KCTwvZz4KPC9nPgo8cGF0aCBmaWxsPSIjODY4Njg2IiBzdHJva2U9IiM4Njg2ODYiIHN0cm9rZS13aWR0aD0iMC4yNSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTU2LDQuM2MtMC4yLTAuMS0wLjQtMC4xLTAuNSwwCgljMCwwLTAuMiwwLjEtMC45LDAuMWMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0wLjgtMC4zLTEuNy0wLjUtMi41LTAuNWMtMC4yLDAtMC40LDAtMC41LDBjLTEuMywwLTIuNSwwLjMtMy42LDEKCWMtMC4yLDAuMS0wLjIsMC4yLTAuMiwwLjR2MTEuNmMwLDAuMywwLjEsMC41LDAuMywwLjVjMC42LDAsMC41LTAuNCwwLjUtMC42di01LjdjMC43LTAuMywzLjItMS4xLDUuOC0wLjFjMS42LDAuNiwzLjUsMC43LDQuMywwLjcKCWMwLjgsMCwxLjMtMC4zLDEuMy0wLjNjMC4yLTAuMSwwLjMtMC4yLDAuMy0wLjRWNC43QzE1Ni4yLDQuNSwxNTYuMSw0LjQsMTU2LDQuM3ogTTE1NS42LDEwLjJjLTAuMSwwLTAuNywwLjEtMSwwLjEKCWMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0yLjUtMS01LTAuNS02LjItMC4xVjQuN2MwLjktMC41LDIuMi0wLjcsMy4yLTAuN2MwLjEsMCwwLjMsMCwwLjQsMGMwLjcsMCwxLjUsMC4yLDIuMiwwLjQKCWMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjIsMCwwLjgsMCwxLTAuMVYxMC4yeiIvPgo8ZyBpZD0iRm9vZCI+Cgk8ZyBpZD0iTGF5ZXJfMTIiPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik00OC4xLDMuNWgzLjdjMi41LDAsNC41LDIsNC41LDQuNWMwLDAuNS0wLjQsMC45LTAuOSwwLjlINDQuNWMtMC41LDAtMC45LTAuNC0wLjktMC45CgkJCQlDNDMuNiw1LjUsNDUuNiwzLjUsNDguMSwzLjV6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSw4LjdjLTAuMiwwLjEtMC41LDEuMiwwLDEuNWMxLjQsMC45LDguNSwwLjgsMTEuMywwLjYKCQkJCWMwLjgtMC4xLDEuNi0wLjQsMS43LTEuMmMwLTAuMy0wLjEtMC42LTAuNi0wLjkiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDEwLjZMNDMuMywxMWMtMC4yLDAuNSwwLjIsMSwwLjcsMC45CgkJCQljMC4zLTAuMSwwLjUsMC4xLDAuNywwLjNsMC4xLDAuMmMwLjMsMC41LDEsMC42LDEuNSwwLjJsMCwwYzAuMy0wLjIsMC43LTAuMywxLTAuMmwwLjgsMC4zYzAuNCwwLjEsMC44LDAuMSwxLjIsMGwwLjUtMC4yCgkJCQljMC40LTAuMiwwLjktMC4yLDEuMywwbDAuNSwwLjJjMC40LDAuMiwwLjgsMC4xLDEuMi0wLjFsMC4yLTAuMWMwLjMtMC4yLDAuOC0wLjEsMS4xLDAuMWwwLjIsMC4yYzAuMywwLjMsMC44LDAuMiwxLTAuMmwwLjEtMC4yCgkJCQljMC4xLTAuMiwwLTAuMywwLjItMC40YzAuNSwwLDEuMi0wLjMsMS4xLTAuN2wtMC40LTEuMSIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTQzLjUsMTIuMWMtMC4xLDAuMi0wLjMsMC44LDAsMS4xYzAuMywwLjQsMywxLjEsNi40LDEuMQoJCQkJYzIuMiwwLDQuNi0wLjMsNi0wLjZjMC41LTAuMSwwLjktMC40LDAuOC0wLjljMC0wLjItMC4yLTAuNS0wLjQtMC43Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwxMy4zYzAsMC41LDAuNiwyLjQsMS4zLDIuNmMxLjgsMC44LDUuNywwLjcsOC4xLDAuNQoJCQkJYzEuMy0wLjEsMi41LTAuNywzLjItMS44YzAuMy0wLjUsMC41LTEsMC41LTEuNCIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iNTEuNiIgY3k9IjYuNSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iNTMiIGN5PSI0LjkiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzg2ODY4NiIgY3g9IjUzIiBjeT0iNy4yIiByeD0iMC4zIiByeT0iMC40Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSI1NC4zIiBjeT0iNi41IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSI1MC45IiBjeT0iNC45IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPC9nPgoJPC9nPgo8L2c+CjxnIGlkPSJBbmltYWxzIj4KCTxnPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTI0LjIsMTFWMy41YzAuMSwwLjEsMC44LDAuOSwyLjgsMy4xYzIuNS0xLjcsNS42LTAuNyw2LjksMGwyLjQtMy4xdjcuMQoJCQljMCwxLjItMC4xLDIuNS0wLjksMy40Yy0xLDEuMi0yLjcsMi41LTUuMywyLjVjLTIuOSwwLTQuNS0xLjUtNS4zLTIuOUMyNC4yLDEyLjksMjQuMiwxMS45LDI0LjIsMTF6Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDEwbDUuNCwxLjIiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTIxLjIsMTQuMWw1LjQtMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDEwbC01LjQsMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDE0LjFsLTUuNC0xLjIiLz4KCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iIzg2ODY4NiIgZD0iTTI5LjUsMTIuNEwyOSwxMS43Yy0wLjItMC4zLDAtMC42LDAuMy0wLjZoMS40CgkJCWMwLjMsMCwwLjUsMC40LDAuMywwLjZsLTAuNywxbDAsMGMtMC43LDEuMi0yLjYsMS4xLTMuMS0wLjNsLTAuMS0wLjJjLTAuMS0wLjIsMC0wLjQsMC4yLTAuNXMwLjQsMCwwLjUsMC4ybDAuMSwwLjIKCQkJQzI4LjMsMTIuNywyOS4xLDEyLjksMjkuNSwxMi40eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzIuNCwxMi4xbC0wLjEsMC4yYy0wLjQsMS0xLjgsMS4xLTIuMywwLjIiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iMjcuNiIgY3k9IjkuNyIgcng9IjAuNyIgcnk9IjAuNyIvPgoJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSIzMi40IiBjeT0iOS43IiByeD0iMC43IiByeT0iMC43Ii8+Cgk8L2c+CjwvZz4KPC9zdmc+";function Coe(s){var e,t=s.isActiveCategory,n=s.category,i=s.allowNavigation,r=s.categoryConfig,a=s.onClick;return T.createElement(vd,{tabIndex:i?0:-1,className:et(joe.catBtn,Ko.categoryBtn,"epr-icn-"+n,(e={},e[Je.active]=t,e)),onClick:a,"aria-label":uD(r),"aria-selected":t,role:"tab","aria-controls":"epr-category-nav-id"})}var oE={backgroundPositionY:"calc(var(--epr-category-navigation-button-size) * 3)"},Toe={backgroundPositionY:"calc(var(--epr-category-navigation-button-size) * 2)"},lE={":not(.epr-search-active)":{catBtn:{":hover":oE,"&.epr-active":oE}}},joe=Tt.create(Dt({catBtn:{".":"epr-cat-btn",display:"inline-block",transition:"opacity 0.2s ease-in-out",position:"relative",height:"var(--epr-category-navigation-button-size)",width:"var(--epr-category-navigation-button-size)",backgroundSize:"calc(var(--epr-category-navigation-button-size) * 10)",outline:"none",backgroundPosition:"0 0",backgroundImage:"url("+Loe+")",":focus:before":{content:"",position:"absolute",top:"-2px",left:"-2px",right:"-2px",bottom:"-2px",border:"2px solid var(--epr-category-icon-active-color)",borderRadius:"50%"},"&.epr-icn-suggested":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -8)"},"&.epr-icn-custom":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -9)"},"&.epr-icn-activities":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -4)"},"&.epr-icn-animals_nature":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -1)"},"&.epr-icn-flags":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -7)"},"&.epr-icn-food_drink":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -2)"},"&.epr-icn-objects":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -5)"},"&.epr-icn-smileys_people":{backgroundPositionX:"0px"},"&.epr-icn-symbols":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -6)"},"&.epr-icn-travel_places":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -3)"}}},Ba("catBtn",Toe),{".epr-dark-theme":Dt({},lE),".epr-auto-theme":Dt({},lE)}));function Eoe(){var s=T.useState(null),e=s[0],t=s[1],n=woe();voe(t);var i=$p(),r=wD(),a=jw(),l=Soe();return T.createElement("div",{className:et(Noe.nav),role:"tablist","aria-label":"Category navigation",id:"epr-category-nav-id",ref:a},r.map(function(c){var f=vw(c),u=f===e;if(zae(c)&&l)return null;var h=!i&&!u;return T.createElement(Coe,{key:f,category:f,isActiveCategory:u,allowNavigation:h,categoryConfig:c,onClick:function(){t(f),n(f)}})}))}var Noe=Tt.create({nav:{".":"epr-category-nav",display:"flex",flexDirection:"row",justifyContent:"space-around",padding:"var(--epr-header-padding)"},".epr-search-active":{nav:{opacity:"0.3",cursor:"default",pointerEvents:"none"}},".epr-main:has(input:not(:placeholder-shown))":{nav:{opacity:"0.3",cursor:"default",pointerEvents:"none"}}}),uP="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjgwcHgiIHZpZXdCb3g9IjAgMCAyMCA4MCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgODAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBmaWxsPSIjODY4Njg2IiBkPSJNNi45OCwxMy41OWMwLjEsMC4xLDAuMjQsMC4xNSwwLjM3LDAuMTVzMC4yNy0wLjA1LDAuMzctMC4xNWwyLjQyLTIuNDJsMi40MywyLjQzCgljMC4xLDAuMSwwLjI0LDAuMTUsMC4zNywwLjE1YzAuMTQsMCwwLjI3LTAuMDUsMC4zNy0wLjE1YzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1bC0yLjQzLTIuNDNMMTMuMzIsOAoJYzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1Yy0wLjIxLTAuMjEtMC41NC0wLjIxLTAuNzUsMGwtMi40MiwyLjQyTDcuNzQsNy4yN2MtMC4yMS0wLjIxLTAuNTQtMC4yMS0wLjc1LDAKCWMtMC4yMSwwLjIxLTAuMjEsMC41NCwwLDAuNzVsMi40MSwyLjQxbC0yLjQyLDIuNDJDNi43NywxMy4wNSw2Ljc3LDEzLjM5LDYuOTgsMTMuNTlMNi45OCwxMy41OXoiLz4KPHBhdGggZmlsbD0iIzg2ODY4NiIgZD0iTTEwLjE1LDE4LjQzYzQuNDEsMCw4LTMuNTksOC04YzAtNC40MS0zLjU5LTgtOC04Yy00LjQxLDAtOCwzLjU5LTgsOEMyLjE1LDE0Ljg0LDUuNzQsMTguNDMsMTAuMTUsMTguNDN6CgkgTTEwLjE1LDMuNDljMy44MywwLDYuOTQsMy4xMSw2Ljk0LDYuOTRjMCwzLjgzLTMuMTEsNi45NC02Ljk0LDYuOTRjLTMuODMsMC02Ljk0LTMuMTEtNi45NC02Ljk0QzMuMjEsNi42LDYuMzMsMy40OSwxMC4xNSwzLjQ5CglMMTAuMTUsMy40OXoiLz4KPHBhdGggZmlsbD0iIzMzNzFCNyIgZD0iTTYuOTgsMzMuNTljMC4xLDAuMSwwLjI0LDAuMTUsMC4zNywwLjE1czAuMjctMC4wNSwwLjM3LTAuMTVsMi40Mi0yLjQybDIuNDMsMi40MwoJYzAuMSwwLjEsMC4yNCwwLjE1LDAuMzcsMC4xNWMwLjE0LDAsMC4yNy0wLjA1LDAuMzctMC4xNWMwLjIxLTAuMjEsMC4yMS0wLjU0LDAtMC43NWwtMi40My0yLjQzTDEzLjMyLDI4CgljMC4yMS0wLjIxLDAuMjEtMC41NCwwLTAuNzVjLTAuMjEtMC4yMS0wLjU0LTAuMjEtMC43NSwwbC0yLjQyLDIuNDJsLTIuNDEtMi40MWMtMC4yMS0wLjIxLTAuNTQtMC4yMS0wLjc1LDAKCWMtMC4yMSwwLjIxLTAuMjEsMC41NCwwLDAuNzVsMi40MSwyLjQxbC0yLjQyLDIuNDJDNi43NywzMy4wNSw2Ljc3LDMzLjM5LDYuOTgsMzMuNTlMNi45OCwzMy41OXoiLz4KPHBhdGggZmlsbD0iIzMzNzFCNyIgZD0iTTEwLjE1LDM4LjQzYzQuNDEsMCw4LTMuNTksOC04YzAtNC40MS0zLjU5LTgtOC04Yy00LjQxLDAtOCwzLjU5LTgsOEMyLjE1LDM0Ljg0LDUuNzQsMzguNDMsMTAuMTUsMzguNDN6CgkgTTEwLjE1LDIzLjQ5YzMuODMsMCw2Ljk0LDMuMTEsNi45NCw2Ljk0YzAsMy44My0zLjExLDYuOTQtNi45NCw2Ljk0Yy0zLjgzLDAtNi45NC0zLjExLTYuOTQtNi45NAoJQzMuMjEsMjYuNiw2LjMzLDIzLjQ5LDEwLjE1LDIzLjQ5TDEwLjE1LDIzLjQ5eiIvPgo8cGF0aCBmaWxsPSIjQzBDMEJGIiBkPSJNNi45OCw1My41OWMwLjEsMC4xLDAuMjQsMC4xNSwwLjM3LDAuMTVzMC4yNy0wLjA1LDAuMzctMC4xNWwyLjQyLTIuNDJsMi40MywyLjQzCgljMC4xLDAuMSwwLjI0LDAuMTUsMC4zNywwLjE1YzAuMTQsMCwwLjI3LTAuMDUsMC4zNy0wLjE1YzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1bC0yLjQzLTIuNDNMMTMuMzIsNDgKCWMwLjIxLTAuMjEsMC4yMS0wLjU0LDAtMC43NWMtMC4yMS0wLjIxLTAuNTQtMC4yMS0wLjc1LDBsLTIuNDIsMi40MmwtMi40MS0yLjQxYy0wLjIxLTAuMjEtMC41NC0wLjIxLTAuNzUsMAoJYy0wLjIxLDAuMjEtMC4yMSwwLjU0LDAsMC43NWwyLjQxLDIuNDFsLTIuNDIsMi40MkM2Ljc3LDUzLjA1LDYuNzcsNTMuMzksNi45OCw1My41OUw2Ljk4LDUzLjU5eiIvPgo8cGF0aCBmaWxsPSIjQzBDMEJGIiBkPSJNMTAuMTUsNTguNDNjNC40MSwwLDgtMy41OSw4LThjMC00LjQxLTMuNTktOC04LThjLTQuNDEsMC04LDMuNTktOCw4QzIuMTUsNTQuODQsNS43NCw1OC40MywxMC4xNSw1OC40M3oKCSBNMTAuMTUsNDMuNDljMy44MywwLDYuOTQsMy4xMSw2Ljk0LDYuOTRjMCwzLjgzLTMuMTEsNi45NC02Ljk0LDYuOTRjLTMuODMsMC02Ljk0LTMuMTEtNi45NC02Ljk0CglDMy4yMSw0Ni42LDYuMzMsNDMuNDksMTAuMTUsNDMuNDlMMTAuMTUsNDMuNDl6Ii8+CjxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik02Ljk4LDczLjU5YzAuMSwwLjEsMC4yNCwwLjE1LDAuMzcsMC4xNXMwLjI3LTAuMDUsMC4zNy0wLjE1bDIuNDItMi40MmwyLjQzLDIuNDMKCWMwLjEsMC4xLDAuMjQsMC4xNSwwLjM3LDAuMTVjMC4xNCwwLDAuMjctMC4wNSwwLjM3LTAuMTVjMC4yMS0wLjIxLDAuMjEtMC41NCwwLTAuNzVsLTIuNDMtMi40M0wxMy4zMiw2OAoJYzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1Yy0wLjIxLTAuMjEtMC41NC0wLjIxLTAuNzUsMGwtMi40MiwyLjQybC0yLjQxLTIuNDFjLTAuMjEtMC4yMS0wLjU0LTAuMjEtMC43NSwwCgljLTAuMjEsMC4yMS0wLjIxLDAuNTQsMCwwLjc1bDIuNDEsMi40MWwtMi40MiwyLjQyQzYuNzcsNzMuMDUsNi43Nyw3My4zOSw2Ljk4LDczLjU5TDYuOTgsNzMuNTl6Ii8+CjxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik0xMC4xNSw3OC40M2M0LjQxLDAsOC0zLjU5LDgtOGMwLTQuNDEtMy41OS04LTgtOGMtNC40MSwwLTgsMy41OS04LDhDMi4xNSw3NC44NCw1Ljc0LDc4LjQzLDEwLjE1LDc4LjQzegoJIE0xMC4xNSw2My40OWMzLjgzLDAsNi45NCwzLjExLDYuOTQsNi45NGMwLDMuODMtMy4xMSw2Ljk0LTYuOTQsNi45NGMtMy44MywwLTYuOTQtMy4xMS02Ljk0LTYuOTQKCUMzLjIxLDY2LjYsNi4zMyw2My40OSwxMC4xNSw2My40OUwxMC4xNSw2My40OXoiLz4KPC9zdmc+";function Moe(){var s=FD();return T.createElement(vd,{className:et(cE.btnClearSearch,Ko.visibleOnSearchOnly),onClick:s,"aria-label":"Clear",title:"Clear"},T.createElement("div",{className:et(cE.icnClearnSearch)}))}var koe={":hover":{"> .epr-icn-clear-search":{backgroundPositionY:"-60px"}}},cE=Tt.create(Dt({btnClearSearch:{".":"epr-btn-clear-search",position:"absolute",right:"var(--epr-search-bar-inner-padding)",height:"30px",width:"30px",display:"flex",alignItems:"center",justifyContent:"center",top:"50%",transform:"translateY(-50%)",padding:"0",borderRadius:"50%",":hover":{background:"var(--epr-hover-bg-color)"},":focus":{background:"var(--epr-hover-bg-color)"}},icnClearnSearch:{".":"epr-icn-clear-search",backgroundColor:"transparent",backgroundRepeat:"no-repeat",backgroundSize:"20px",height:"20px",width:"20px",backgroundImage:"url("+uP+")",":hover":{backgroundPositionY:"-20px"},":focus":{backgroundPositionY:"-20px"}}},Ba("icnClearnSearch",{backgroundPositionY:"-40px"}),Ba("btnClearSearch",koe))),yy=Ps(Je.emojiPicker)+" "+Ps(Je.emojiList),dP=["button",Ps(Je.emoji)].join(""),Ioe=Ps(Je.category);function _oe(s){var e=s.value;if(!e)return null;var t=Aoe(e);return T.createElement("style",null,`
    `+yy+" "+dP+` {
      display: none;
    }


    `+yy+" "+t+` {
      display: flex;
    }

    `+yy+" "+Ioe+":not(:has("+t+`)) {
      display: none;
    }
  `)}function Aoe(s){return[dP,'[data-full-name*="',nv(s),'"]'].join("")}var Doe="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjQwcHgiIHZpZXdCb3g9IjAgMCAyMCA0MCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgNDAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iIzg2ODY4NiIgZD0iTTEyLDguODFjMCwyLjA4LTEuNjgsMy43Ni0zLjc2LDMuNzZjLTIuMDgsMC0zLjc2LTEuNjgtMy43Ni0zLjc2CgljMC0yLjA4LDEuNjgtMy43NiwzLjc2LTMuNzZDMTAuMzIsNS4wNSwxMiw2LjczLDEyLDguODF6IE0xMS4yMywxMi43MmMtMC44MywwLjY0LTEuODcsMS4wMS0yLjk5LDEuMDFjLTIuNzIsMC00LjkyLTIuMi00LjkyLTQuOTIKCWMwLTIuNzIsMi4yLTQuOTIsNC45Mi00LjkyYzIuNzIsMCw0LjkyLDIuMiw0LjkyLDQuOTJjMCwxLjEzLTAuMzgsMi4xNi0xLjAxLDIuOTlsMy45NCwzLjkzYzAuMjUsMC4yNSwwLjI1LDAuNjYsMCwwLjkyCgljLTAuMjUsMC4yNS0wLjY2LDAuMjUtMC45MiwwTDExLjIzLDEyLjcyeiIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0MwQzBCRiIgZD0iTTEyLDI4LjgxYzAsMi4wOC0xLjY4LDMuNzYtMy43NiwzLjc2Yy0yLjA4LDAtMy43Ni0xLjY4LTMuNzYtMy43NgoJYzAtMi4wOCwxLjY4LTMuNzYsMy43Ni0zLjc2QzEwLjMyLDI1LjA1LDEyLDI2LjczLDEyLDI4LjgxeiBNMTEuMjMsMzIuNzJjLTAuODMsMC42NC0xLjg3LDEuMDEtMi45OSwxLjAxCgljLTIuNzIsMC00LjkyLTIuMi00LjkyLTQuOTJjMC0yLjcyLDIuMi00LjkyLDQuOTItNC45MmMyLjcyLDAsNC45MiwyLjIsNC45Miw0LjkyYzAsMS4xMy0wLjM4LDIuMTYtMS4wMSwyLjk5bDMuOTQsMy45MwoJYzAuMjUsMC4yNSwwLjI1LDAuNjYsMCwwLjkyYy0wLjI1LDAuMjUtMC42NiwwLjI1LTAuOTIsMEwxMS4yMywzMi43MnoiLz4KPC9zdmc+";function Poe(){return T.createElement("div",{className:et(Roe.icnSearch)})}var Roe=Tt.create(Dt({icnSearch:{".":"epr-icn-search",content:"",position:"absolute",top:"50%",left:"var(--epr-search-bar-inner-padding)",transform:"translateY(-50%)",width:"20px",height:"20px",backgroundRepeat:"no-repeat",backgroundPosition:"0 0",backgroundSize:"20px",backgroundImage:"url("+Doe+")"}},Ba("icnSearch",{backgroundPositionY:"-20px"})));function Ooe(){var s=LD(),e=Nw();return s?null:T.createElement(cP,{className:et(am.overlay)},T.createElement(Foe,null),e?T.createElement(fP,null):null)}function Foe(){var s=T.useState(0),e=s[0],t=s[1],n=Zo(),i=Ha(),r=gre(),a=yre(),l=iae(),c=l.statusSearchResults,f=l.searchTerm,u=l.onChange,h=i==null?void 0:i.current,p=h==null?void 0:h.value;return T.createElement(Kp,{className:et(am.searchContainer)},T.createElement(_oe,{value:p}),T.createElement("input",{autoFocus:a,"aria-label":"Type to search for an emoji",onFocus:n,className:et(am.search),type:"text","aria-controls":"epr-search-id",placeholder:r,onChange:function(x){t(e+1),setTimeout(function(){var y,v;u((y=x==null||(v=x.target)==null?void 0:v.value)!=null?y:p)})},ref:i}),f?T.createElement("div",{role:"status",className:et("epr-status-search-results",am.visuallyHidden),"aria-live":"polite",id:"epr-search-id","aria-atomic":"true"},c):null,T.createElement(Poe,null),T.createElement(Moe,null))}var am=Tt.create(Dt({overlay:{padding:"var(--epr-header-padding)",zIndex:"var(--epr-header-overlay-z-index)"},searchContainer:{".":"epr-search-container",flex:"1",display:"block",minWidth:"0"},visuallyHidden:{clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",width:"1px"},search:{outline:"none",transition:"all 0.2s ease-in-out",color:"var(--epr-search-input-text-color)",borderRadius:"var(--epr-search-input-border-radius)",padding:"var(--epr-search-input-padding)",height:"var(--epr-search-input-height)",backgroundColor:"var(--epr-search-input-bg-color)",border:"1px solid var(--epr-search-input-bg-color)",width:"100%",":focus":{backgroundColor:"var(--epr-search-input-bg-color-active)",border:"1px solid var(--epr-search-border-color)"},"::placeholder":{color:"var(--epr-search-input-placeholder-color)"}},btnClearSearch:{".":"epr-btn-clear-search",position:"absolute",right:"var(--epr-search-bar-inner-padding)",height:"30px",width:"30px",display:"flex",alignItems:"center",justifyContent:"center",top:"50%",transform:"translateY(-50%)",padding:"0",borderRadius:"50%",":hover":{background:"var(--epr-hover-bg-color)"},":focus":{background:"var(--epr-hover-bg-color)"}},icnClearnSearch:{".":"epr-icn-clear-search",backgroundColor:"transparent",backgroundRepeat:"no-repeat",backgroundSize:"20px",height:"20px",width:"20px",backgroundImage:"url("+uP+")",":hover":{backgroundPositionY:"-20px"},":focus":{backgroundPositionY:"-20px"}}},Ba("icnClearnSearch",{backgroundPositionY:"-40px"}),Ba("btnClearSearch",{":hover > .epr-icn-clear-search":{backgroundPositionY:"-60px"}})));function zoe(){return T.createElement(Kp,{className:et("epr-header",Ko.hiddenOnReactions)},T.createElement(Ooe,null),T.createElement(Eoe,null))}function Boe(s){return T.createElement(Bre,null,T.createElement(Die,null),T.createElement(hre,Object.assign({},s),T.createElement(Uoe,null)))}function Uoe(){var s=Bp(),e=s[0],t=bD(),n=T.useState(!e),i=n[0],r=n[1],a=vre();return T.useEffect(function(){e&&!t||i||r(!0)},[i,t,e]),a?T.createElement(Lae,null,T.createElement(Jae,null),T.createElement($oe,{renderAll:i})):null}function $oe(s){var e=s.renderAll;return e?T.createElement(T.Fragment,null,T.createElement(zoe,null),T.createElement(loe,null),T.createElement(xoe,null)):null}var Voe=T.memo(Boe,lD),Goe=function(s){Iie(e,s);function e(n){var i;return i=s.call(this,n)||this,i.state={hasError:!1},i}e.getDerivedStateFromError=function(){return{hasError:!0}};var t=e.prototype;return t.componentDidCatch=function(i,r){console.error("Emoji Picker React failed to render:",i,r)},t.render=function(){return this.state.hasError?null:this.props.children},e}(T.Component);function Hoe(s){var e=pre({onEmojiClick:s.onEmojiClick,onReactionClick:s.onReactionClick,onSkinToneChange:s.onSkinToneChange});return T.createElement(Goe,null,T.createElement(xD.Provider,{value:e},T.createElement(Voe,Object.assign({},s))))}const Yoe=({onSendMessage:s,onTyping:e,replyTo:t,onCancelReply:n,editingMessage:i,onSaveEdit:r,onCancelEdit:a})=>{const[l,c]=T.useState(""),[f,u]=T.useState(!1),[h,p]=T.useState(null),[g,x]=T.useState(!1),[y,v]=T.useState(null),[w,L]=T.useState(!1),S=T.useRef(null),j=T.useRef(null),E=T.useRef(null);T.useEffect(()=>{var O;i&&(c(i.content),(O=S.current)==null||O.focus())},[i]),T.useEffect(()=>{var O;t&&((O=S.current)==null||O.focus())},[t]);const M=()=>{f||(u(!0),e(!0)),h&&clearTimeout(h);const O=setTimeout(()=>{u(!1),e(!1)},2e3);p(O)},N=O=>{c(O.target.value),M()};T.useEffect(()=>{const O=Y=>{E.current&&!E.current.contains(Y.target)&&x(!1)};return document.addEventListener("mousedown",O),()=>{document.removeEventListener("mousedown",O)}},[]);const I=O=>{var Y;c(q=>q+O.emoji),(Y=S.current)==null||Y.focus()},A=O=>{const Y=O.target.files[0];if(Y){if(Y.size>5*1024*1024){ae.error("File size should not exceed 5MB");return}v(Y)}},D=async()=>{if(!y)return null;L(!0);const O=new FormData;O.append("file",y);try{const Y=await Q.post("http://localhost:5000/api/messages/upload",O,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0});return L(!1),Y.data.fileUrl}catch(Y){return console.error("Error uploading file:",Y),ae.error("Failed to upload file"),L(!1),null}},z=async O=>{if(O.preventDefault(),!(!l.trim()&&!y||w)){if(i)r(i._id,l);else{if(y){const Y=await D();if(Y){const q=y.type.startsWith("image/")?"image":"file";s(y.name,q,Y,t==null?void 0:t._id),v(null),j.current&&(j.current.value="")}}else s(l,"text",null,t==null?void 0:t._id);t&&n()}c(""),u(!1),e(!1),x(!1),h&&(clearTimeout(h),p(null))}};return o.jsxs("div",{className:"border-t border-gray-800 p-4",children:[t&&o.jsxs("div",{className:"mb-2 p-2 bg-gray-800 rounded-lg flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"text-sm text-blue-400 font-medium",children:["Replying to ",t.sender.name]}),o.jsx("div",{className:"text-sm text-gray-400 truncate",children:t.content})]}),o.jsx("button",{onClick:n,className:"text-gray-500 hover:text-white",children:o.jsx(Na,{})})]}),i&&o.jsxs("div",{className:"mb-2 p-2 bg-gray-800 rounded-lg flex justify-between items-start",children:[o.jsx("div",{children:o.jsx("div",{className:"text-sm text-yellow-400 font-medium",children:"Editing message"})}),o.jsx("button",{onClick:a,className:"text-gray-500 hover:text-white",children:o.jsx(Na,{})})]}),y&&o.jsxs("div",{className:"mb-2 p-2 bg-gray-800 rounded-lg flex justify-between items-start",children:[o.jsx("div",{className:"flex items-center",children:o.jsxs("div",{className:"text-sm text-green-400 font-medium flex items-center",children:[o.jsx(oL,{className:"mr-2"}),y.name," (",(y.size/1024).toFixed(1)," KB)"]})}),o.jsx("button",{onClick:()=>v(null),className:"text-gray-500 hover:text-white",children:o.jsx(Na,{})})]}),o.jsxs("form",{onSubmit:z,className:"flex items-center",children:[o.jsx("input",{type:"file",ref:j,onChange:A,className:"hidden",accept:"image/*,.pdf,.doc,.docx,.txt"}),o.jsx("button",{type:"button",className:"p-2 rounded-full text-gray-400 hover:text-white hover:bg-gray-800",onClick:()=>{var O;return(O=j.current)==null?void 0:O.click()},children:o.jsx(oL,{})}),o.jsx("input",{ref:S,type:"text",value:l,onChange:N,placeholder:i?"Edit your message...":t?`Reply to ${t.sender.name}...`:y?"Add a caption...":"Type a message...",className:"flex-1 bg-gray-800 rounded-full px-4 py-2 mx-2 text-white focus:outline-none focus:ring-1 focus:ring-blue-500"}),o.jsxs("div",{className:"relative",children:[o.jsx("button",{type:"button",className:"p-2 rounded-full text-gray-400 hover:text-white hover:bg-gray-800",onClick:()=>x(!g),children:o.jsx(DN,{})}),g&&o.jsx("div",{ref:E,className:"absolute bottom-12 right-0 z-10",children:o.jsx(Hoe,{onEmojiClick:I,width:300,height:400,theme:"dark"})})]}),o.jsx("button",{type:"submit",disabled:!l.trim()&&!y||w,className:`p-2 rounded-full ${(l.trim()||y)&&!w?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,children:w?o.jsx("div",{className:"w-5 h-5 border-2 border-t-transparent border-white rounded-full animate-spin"}):o.jsx(MN,{})})]})]})},S0="http://localhost:5000",Woe=({conversation:s,messages:e,loading:t,onSendMessage:n,socket:i})=>{const[r,a]=T.useState([]),[l,c]=T.useState(null),[f,u]=T.useState(null),[h,p]=T.useState(null),g=T.useRef(null),x=T.useRef(null);T.useEffect(()=>{g.current&&g.current.scrollIntoView({behavior:"smooth"})},[e]),T.useEffect(()=>{if(i)return i.on("user-typing",({userId:N,userName:I,isTyping:A})=>{a(A?D=>D.some(z=>z.userId===N)?D:[...D,{userId:N,userName:I}]:D=>D.filter(z=>z.userId!==N))}),()=>{i.off("user-typing")}},[i]),T.useEffect(()=>{const N=I=>{x.current&&!x.current.contains(I.target)&&c(null)};return document.addEventListener("mousedown",N),()=>{document.removeEventListener("mousedown",N)}},[]);const y=N=>{i&&s&&i.emit("typing",{conversationId:s._id,isTyping:N})},v=async N=>{try{await Q.delete(`http://localhost:5000/api/messages/messages/${N}`,{withCredentials:!0});const I=e.map(A=>A._id===N?{...A,isDeleted:!0,content:"This message was deleted"}:A);window.location.reload(),c(null),ae.success("Message deleted")}catch(I){console.error("Error deleting message:",I),ae.error("Failed to delete message")}},w=N=>{p(N),c(null)},L=async(N,I)=>{try{const A=await Q.put(`http://localhost:5000/api/messages/messages/${N}`,{content:I},{withCredentials:!0}),D=e.map(z=>z._id===N?A.data:z);window.location.reload(),p(null),ae.success("Message updated")}catch(A){console.error("Error updating message:",A),ae.error("Failed to update message")}},S=()=>{p(null)},j=N=>{u(N),c(null)},E=()=>{u(null)},M=N=>{if(N.isDeleted)return o.jsx("span",{className:"italic text-gray-500",children:"This message was deleted"});if(N.type==="text")return N.content;if(N.type==="image"){const I=N.mediaUrl.startsWith("http")?N.mediaUrl:`${S0}${N.mediaUrl}`;return o.jsxs("div",{children:[o.jsx("img",{src:I,alt:"Shared image",className:"max-w-xs rounded-lg cursor-pointer",onClick:()=>window.open(I,"_blank"),onError:A=>{A.target.onerror=null,A.target.src="/image-not-found.png"}}),N.content&&o.jsx("p",{className:"mt-1",children:N.content})]})}else if(N.type==="file"){const I=N.mediaUrl.startsWith("http")?N.mediaUrl:`${S0}${N.mediaUrl}`;return o.jsx("div",{children:o.jsxs("a",{href:I,target:"_blank",rel:"noopener noreferrer",className:"flex items-center p-2 bg-gray-800 rounded-lg",children:[o.jsx("span",{className:"mr-2",children:""}),o.jsx("span",{className:"underline",children:N.content})]})})}return N.content};return t?o.jsx("div",{className:"flex-1 flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"p-4 border-b border-gray-800 flex items-center",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-700 mr-3 overflow-hidden",children:s.image?o.jsx("img",{src:s.image.startsWith("http")?s.image:`${S0}${s.image}`,alt:s.title,className:"w-full h-full object-cover",onError:N=>{N.target.onerror=null,N.target.src="/default-avatar.png"}}):o.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.title.charAt(0).toUpperCase()})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium",children:s.title}),r.length>0&&o.jsxs("div",{className:"text-xs text-gray-400",children:[r.map(N=>N.userName).join(", ")," typing..."]})]})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.length===0?o.jsx("div",{className:"text-center text-gray-500 py-8",children:"No messages yet. Start the conversation!"}):e.map(N=>{var I,A,D,z,O,Y;return o.jsxs("div",{className:"relative",children:[N.replyTo&&o.jsxs("div",{className:"ml-12 mb-1 p-2 bg-gray-800 rounded-lg text-sm border-l-2 border-blue-500",children:[o.jsx("div",{className:"font-medium text-blue-400",children:N.replyTo.sender.name}),o.jsx("div",{className:"text-gray-400 truncate",children:N.replyTo.content})]}),o.jsxs("div",{className:`flex ${N.sender._id===((I=i==null?void 0:i.user)==null?void 0:I._id)?"justify-end":"justify-start"}`,children:[N.sender._id!==((A=i==null?void 0:i.user)==null?void 0:A._id)&&o.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-700 mr-2 overflow-hidden flex-shrink-0",children:N.sender.profileImageUrl?o.jsx("img",{src:N.sender.profileImageUrl.startsWith("http")?N.sender.profileImageUrl:`${S0}${N.sender.profileImageUrl}`,alt:N.sender.name,className:"w-full h-full object-cover",onError:q=>{q.target.onerror=null,q.target.src="/default-avatar.png"}}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs",children:N.sender.name.charAt(0).toUpperCase()})}),o.jsxs("div",{className:`relative max-w-md px-4 py-2 rounded-lg ${N.sender._id===((D=i==null?void 0:i.user)==null?void 0:D._id)?"bg-blue-600 text-white":"bg-gray-800 text-white"}`,children:[N.sender._id!==((z=i==null?void 0:i.user)==null?void 0:z._id)&&o.jsx("div",{className:"font-medium text-sm text-blue-400 mb-1",children:N.sender.name}),o.jsx("div",{className:"break-words",children:M(N)}),o.jsxs("div",{className:"flex items-center justify-end mt-1 space-x-2",children:[N.isEdited&&o.jsx("span",{className:"text-xs opacity-70",children:"(edited)"}),o.jsx("span",{className:"text-xs opacity-70",children:JA(new Date(N.createdAt),{addSuffix:!0})}),N.sender._id===((O=i==null?void 0:i.user)==null?void 0:O._id)&&o.jsx("span",{className:"text-xs opacity-70",children:N.readBy.length>1?"":""})]}),o.jsx("button",{className:"absolute top-2 right-2 p-1 text-gray-400 hover:text-white rounded-full hover:bg-gray-700 opacity-0 group-hover:opacity-100 transition-opacity",onClick:q=>{q.stopPropagation(),c(N._id)},children:o.jsx(bv,{size:12})}),l===N._id&&o.jsxs("div",{ref:x,className:"absolute top-8 right-0 bg-gray-900 rounded-md shadow-lg z-10 py-1 min-w-32",children:[o.jsxs("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-800 flex items-center",onClick:()=>j(N),children:[o.jsx(Sv,{className:"mr-2"})," Reply"]}),N.sender._id===((Y=i==null?void 0:i.user)==null?void 0:Y._id)&&!N.isDeleted&&o.jsxs(o.Fragment,{children:[N.type==="text"&&o.jsxs("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-800 flex items-center",onClick:()=>w(N),children:[o.jsx(kN,{className:"mr-2"})," Edit"]}),o.jsxs("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-800 text-red-500 flex items-center",onClick:()=>v(N._id),children:[o.jsx(Gs,{className:"mr-2"})," Delete"]})]})]})]})]})]},N._id)}),o.jsx("div",{ref:g})]}),o.jsx(Yoe,{onSendMessage:n,onTyping:y,replyTo:f,onCancelReply:E,editingMessage:h,onSaveEdit:L,onCancelEdit:S})]})},Qoe="http://localhost:5000",Koe=()=>{const{socket:s,connected:e}=xO(),[t,n]=T.useState([]),[i,r]=T.useState(null),[a,l]=T.useState([]),[c,f]=T.useState(!0),[u,h]=T.useState(""),[p,g]=T.useState([]),[x,y]=T.useState(!1);T.useEffect(()=>{(async()=>{try{const j=await Q.get("http://localhost:5000/api/messages/conversations",{withCredentials:!0});n(j.data),f(!1)}catch(j){console.error("Error fetching conversations:",j),ae.error("Failed to load conversations"),f(!1)}})()},[]),T.useEffect(()=>{if(!(!s||!e))return s.on("new-message",S=>{i&&S.conversation===i._id&&(l(j=>[...j,S]),s.emit("mark-read",{conversationId:i._id}))}),s.on("conversation-updated",({conversationId:S,lastMessage:j})=>{n(E=>E.map(M=>M._id===S?{...M,lastMessage:j,unreadCount:M.unreadCount+1,updatedAt:new Date}:M).sort((M,N)=>new Date(N.updatedAt)-new Date(M.updatedAt)))}),s.on("messages-read",({conversationId:S,userId:j})=>{i&&i._id===S&&l(E=>E.map(M=>M.readBy.includes(j)?M:{...M,readBy:[...M.readBy,j]}))}),()=>{s.off("new-message"),s.off("conversation-updated"),s.off("messages-read")}},[s,e,i]),T.useEffect(()=>{if(!i)return;(async()=>{try{f(!0);const j=await Q.get(`http://localhost:5000/api/messages/conversations/${i._id}/messages`,{withCredentials:!0});l(j.data),s&&e&&s.emit("mark-read",{conversationId:i._id}),n(E=>E.map(M=>M._id===i._id?{...M,unreadCount:0}:M)),f(!1)}catch(j){console.error("Error fetching messages:",j),ae.error("Failed to load messages"),f(!1)}})()},[i,s,e]);const v=async()=>{if(!u.trim()){g([]);return}try{const S=await Q.get(`http://localhost:5000/api/messages/users/search?query=${u}`,{withCredentials:!0});g(S.data)}catch(S){console.error("Error searching users:",S),ae.error("Failed to search users")}},w=async S=>{try{const j=await Q.post("http://localhost:5000/api/messages/conversations",{participantIds:[S],type:"individual"},{withCredentials:!0});if(!t.some(M=>M._id===j.data._id)){const M=j.data.participants.find(I=>I._id!==j.data.participants[0]._id),N={_id:j.data._id,title:M.name,image:M.profileImageUrl,type:"individual",lastMessage:null,unreadCount:0,updatedAt:j.data.updatedAt};n(I=>[N,...I])}r({_id:j.data._id,title:j.data.participants.find(M=>M._id!==j.data.participants[0]._id).name,image:j.data.participants.find(M=>M._id!==j.data.participants[0]._id).profileImageUrl,type:"individual"}),h(""),g([]),y(!1),s&&e&&s.emit("join-conversations")}catch(j){console.error("Error creating conversation:",j),ae.error("Failed to start conversation")}},L=async(S,j="text",E=null,M=null)=>{if(!(!i||!S.trim()))if(s&&e)s.emit("send-message",{conversationId:i._id,content:S,type:j,mediaUrl:E,replyTo:M});else try{const N=await Q.post("http://localhost:5000/api/messages/messages",{conversationId:i._id,content:S,type:j,mediaUrl:E,replyTo:M},{withCredentials:!0});l(I=>[...I,N.data]),n(I=>I.map(A=>A._id===i._id?{...A,lastMessage:N.data,updatedAt:new Date}:A).sort((A,D)=>new Date(D.updatedAt)-new Date(A.updatedAt)))}catch(N){console.error("Error sending message:",N),ae.error("Failed to send message")}};return o.jsxs("div",{className:"flex h-screen bg-black text-white",children:[o.jsxs("div",{className:"w-1/4 border-r border-gray-800 flex flex-col",children:[o.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Messages"}),o.jsx("button",{onClick:()=>y(!x),className:"p-2 rounded-full bg-blue-600 hover:bg-blue-700 text-white",children:o.jsx(IN,{})})]}),x&&o.jsxs("div",{className:"p-4 border-b border-gray-800",children:[o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx("input",{type:"text",placeholder:"Search for users...",value:u,onChange:S=>h(S.target.value),onKeyPress:S=>S.key==="Enter"&&v(),className:"w-full p-2 rounded bg-gray-900 text-white"}),o.jsx("button",{onClick:v,className:"ml-2 p-2 rounded bg-blue-600 hover:bg-blue-700",children:o.jsx(Ei,{})})]}),o.jsxs("div",{className:"mt-2 max-h-40 overflow-y-auto",children:[p.map(S=>o.jsxs("div",{onClick:()=>w(S._id),className:"p-2 hover:bg-gray-800 rounded cursor-pointer flex items-center",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-700 mr-2 overflow-hidden",children:S.profileImageUrl?o.jsx("img",{src:S.profileImageUrl.startsWith("http")?S.profileImageUrl:`${Qoe}${S.profileImageUrl}`,alt:S.name,className:"w-full h-full object-cover",onError:j=>{j.target.onerror=null,j.target.src="/default-avatar.png"}}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-sm",children:S.name.charAt(0).toUpperCase()})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:S.name}),o.jsx("div",{className:"text-xs text-gray-400",children:S.email})]})]},S._id)),u&&p.length===0&&o.jsx("div",{className:"text-center text-gray-500 py-2",children:"No users found"})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:o.jsx(vie,{conversations:t,selectedId:i==null?void 0:i._id,onSelect:r})})]}),o.jsx("div",{className:"flex-1 flex flex-col",children:i?o.jsx(Woe,{conversation:i,messages:a,loading:c,onSendMessage:L,socket:s}):o.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-xl mb-4",children:"Select a conversation or start a new one"}),o.jsx("button",{onClick:()=>y(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded text-white",children:"Start New Chat"})]})})})]})},Joe=()=>{const s=He(),e=Ti();return T.useEffect(()=>{console.log("AuthSuccess component mounted");const n=new URLSearchParams(e.search).get("token");if(console.log("Token from URL:",n?"Token exists":"No token"),!n){console.error("No token found in URL"),de("Authentication failed. Please try again."),s("/login");return}fetch("http://localhost:5000/api/auth/check",{headers:{Authorization:`Bearer ${n}`},credentials:"include"}).then(i=>(console.log("API response status:",i.status),i.json())).then(i=>{console.log("API response data:",i),i.user?(localStorage.setItem("user",JSON.stringify({...i.user,token:n})),Be(`Welcome, ${i.user.name}!`),console.log("User authenticated successfully, redirecting"),i.user.role==="admin"?s("/admindashboard"):s("/feed")):(console.error("No user data in API response"),s("/login"))}).catch(i=>{console.error("Error fetching user data:",i),s("/login")})},[e.search,s]),o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-black text-white",children:[o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Authenticating..."}),o.jsx(Qo,{})]})};function qoe(){return o.jsxs(A8,{children:[o.jsx(S9,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark"}),o.jsx(yO,{children:o.jsxs(f8,{children:[o.jsx(_e,{path:"/",element:o.jsx(VY,{})}),o.jsx(_e,{path:"/home",element:o.jsx(_F,{})}),o.jsx(_e,{path:"/register",element:o.jsx(kF,{})}),o.jsx(_e,{path:"/login",element:o.jsx(IF,{})}),o.jsx(_e,{path:"/dashboard",element:o.jsx(GY,{})}),o.jsx(_e,{path:"/studentdashboard",element:o.jsx(HY,{})}),o.jsx(_e,{path:"/admindashboard",element:o.jsx(YY,{})}),o.jsx(_e,{path:"/courses",element:o.jsx(WY,{})}),o.jsx(_e,{path:"/course/:id",element:o.jsx(KY,{})}),o.jsx(_e,{path:"/course-videos/:courseId",element:o.jsx(bW,{})}),o.jsx(_e,{path:"/requestcallback",element:o.jsx(JY,{})}),o.jsx(_e,{path:"/payment-success",element:o.jsx(tT,{})}),o.jsx(_e,{path:"/lms",element:o.jsx(ZY,{})}),o.jsx(_e,{path:"/feed",element:o.jsx(eW,{})}),o.jsx(_e,{path:"/watch/:id",element:o.jsx(tW,{})}),o.jsx(_e,{path:"/upload-video",element:o.jsx(sW,{})}),o.jsx(_e,{path:"/upload-short",element:o.jsx(nW,{})}),o.jsx(_e,{path:"/profile-setup",element:o.jsx(dW,{})}),o.jsx(_e,{path:"/admindashboard/user-admin-dashboard",element:o.jsx(hW,{})}),o.jsx(_e,{path:"/admindashboard/video-admin-dashboard",element:o.jsx(mW,{})}),o.jsx(_e,{path:"/admindashboard/course-dashboard",element:o.jsx(xW,{})}),o.jsx(_e,{path:"/admindashboard/earnings-dashboard",element:o.jsx(Vq,{})}),o.jsx(_e,{path:"/admindashboard/withdrawals-dashboard",element:o.jsx(Hq,{})}),o.jsx(_e,{path:"/live-course",element:o.jsx(Kse,{})}),o.jsx(_e,{path:"/watch-livestream/:id",element:o.jsx(Jse,{})}),o.jsx(_e,{path:"/channel/:channelId",element:o.jsx(one,{})}),o.jsx(_e,{path:"/history",element:o.jsx(iW,{})}),o.jsx(_e,{path:"/watch-later",element:o.jsx(rW,{})}),o.jsx(_e,{path:"/liked-videos",element:o.jsx(aW,{})}),o.jsx(_e,{path:"/trending",element:o.jsx(oW,{})}),o.jsx(_e,{path:"/shorts",element:o.jsx(cW,{})}),o.jsx(_e,{path:"/subscriptions",element:o.jsx(fW,{})}),o.jsx(_e,{path:"/your-videos",element:o.jsx(uW,{})}),o.jsx(_e,{path:"/playlists",element:o.jsx(Yq,{})}),o.jsx(_e,{path:"/downloads",element:o.jsx(Wq,{})}),o.jsx(_e,{path:"/your-clips",element:o.jsx(Qq,{})}),o.jsx(_e,{path:"/settings",element:o.jsx(Kq,{})}),o.jsx(_e,{path:"/report-history",element:o.jsx(Jq,{})}),o.jsx(_e,{path:"/help",element:o.jsx(qq,{})}),o.jsx(_e,{path:"/feedback",element:o.jsx(Xq,{})}),o.jsx(_e,{path:"/payment/success",element:o.jsx(tT,{})}),o.jsx(_e,{path:"/payment/error",element:o.jsx(eZ,{})}),o.jsx(_e,{path:"/payment/history",element:o.jsx(tZ,{})}),o.jsx(_e,{path:"/page-tester",element:o.jsx(sZ,{})}),o.jsxs(_e,{path:"/studio",element:o.jsx(fne,{}),children:[o.jsx(_e,{index:!0,element:o.jsx(dne,{})}),o.jsx(_e,{path:"content",element:o.jsx(mne,{})}),o.jsx(_e,{path:"courses",element:o.jsx(Tne,{})}),o.jsx(_e,{path:"analytics",element:o.jsx(gne,{})}),o.jsx(_e,{path:"monetization",element:o.jsx(vne,{})}),o.jsx(_e,{path:"verification",element:o.jsx(wne,{})}),o.jsx(_e,{path:"settings",element:o.jsx(Sne,{})})]}),o.jsx(_e,{path:"/admindashboard/course-review",element:o.jsx(Ene,{})}),o.jsx(_e,{path:"/messages",element:o.jsx(Koe,{})}),o.jsx(_e,{path:"/auth-success",element:o.jsx(Joe,{})})]})})]})}y5.createRoot(document.getElementById("root")).render(o.jsx(T.StrictMode,{children:o.jsx(qoe,{})}));
